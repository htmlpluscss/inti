/*!
 * dist/inputmask.min
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2021 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.6-beta.29
 */
!function webpackUniversalModuleDefinition(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return modules=[function(module){module.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"CONTROL":17,"KEY_229":229}')},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.caret=caret,exports.determineLastRequiredPosition=determineLastRequiredPosition,exports.determineNewCaretPosition=determineNewCaretPosition,exports.getBuffer=getBuffer,exports.getBufferTemplate=getBufferTemplate,exports.getLastValidPosition=getLastValidPosition,exports.isMask=isMask,exports.resetMaskSet=resetMaskSet,exports.seekNext=seekNext,exports.seekPrevious=seekPrevious,exports.translatePosition=translatePosition;var _validationTests=__webpack_require__(3),_validation=__webpack_require__(4);function caret(input,begin,end,notranslate,isDelete){var inputmask=this,opts=this.opts,range;if(void 0===begin)return"selectionStart"in input&&"selectionEnd"in input?(begin=input.selectionStart,end=input.selectionEnd):window.getSelection?(range=window.getSelection().getRangeAt(0),range.commonAncestorContainer.parentNode!==input&&range.commonAncestorContainer!==input||(begin=range.startOffset,end=range.endOffset)):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-input.inputmask._valueGet().length),end=begin+range.text.length),{begin:notranslate?begin:translatePosition.call(this,begin),end:notranslate?end:translatePosition.call(this,end)};if(Array.isArray(begin)&&(end=this.isRTL?begin[0]:begin[1],begin=this.isRTL?begin[1]:begin[0]),void 0!==begin.begin&&(end=this.isRTL?begin.begin:begin.end,begin=this.isRTL?begin.end:begin.begin),"number"==typeof begin){begin=notranslate?begin:translatePosition.call(this,begin),end=notranslate?end:translatePosition.call(this,end),end="number"==typeof end?end:begin;var scrollCalc=parseInt(((input.ownerDocument.defaultView||window).getComputedStyle?(input.ownerDocument.defaultView||window).getComputedStyle(input,null):input.currentStyle).fontSize)*end;if(input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0,input.inputmask.caretPos={begin:begin,end:end},opts.insertModeVisual&&!1===opts.insertMode&&begin===end&&(isDelete||end++),input===(input.inputmask.shadowRoot||document).activeElement)if("setSelectionRange"in input)input.setSelectionRange(begin,end);else if(window.getSelection){if(range=document.createRange(),void 0===input.firstChild||null===input.firstChild){var textNode=document.createTextNode("");input.appendChild(textNode)}range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length),range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length),range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else input.createTextRange&&(range=input.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select())}}function determineLastRequiredPosition(returnDefinition){var inputmask=this,maskset=this.maskset,$=this.dependencyLib,buffer=_validationTests.getMaskTemplate.call(this,!0,getLastValidPosition.call(this),!0,!0),bl=buffer.length,pos,lvp=getLastValidPosition.call(this),positions={},lvTest=maskset.validPositions[lvp],ndxIntlzr=void 0!==lvTest?lvTest.locator.slice():void 0,testPos;for(pos=lvp+1;pos<buffer.length;pos++)testPos=_validationTests.getTestTemplate.call(this,pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);var lvTestAlt=lvTest&&void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation]:void 0;for(pos=bl-1;lvp<pos&&(testPos=positions[pos],(testPos.match.optionality||testPos.match.optionalQuantifier&&testPos.match.newBlockMarker||lvTestAlt&&(lvTestAlt!==positions[pos].locator[lvTest.alternation]&&1!=testPos.match.static||!0===testPos.match.static&&testPos.locator[lvTest.alternation]&&_validation.checkAlternationMatch.call(this,testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&""!==_validationTests.getTests.call(this,pos)[0].def))&&buffer[pos]===_validationTests.getPlaceholder.call(this,pos,testPos.match));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function determineNewCaretPosition(selectedCaret,tabbed){var inputmask=this,maskset=this.maskset,opts=this.opts;function doRadixFocus(clickPos){if(""!==opts.radixPoint&&0!==opts.digits){var vps=maskset.validPositions;if(void 0===vps[clickPos]||vps[clickPos].input===_validationTests.getPlaceholder.call(inputmask,clickPos)){if(clickPos<seekNext.call(inputmask,-1))return!0;var radixPos=getBuffer.call(inputmask).indexOf(opts.radixPoint);if(-1!==radixPos){for(var vp in vps)if(vps[vp]&&radixPos<vp&&vps[vp].input!==_validationTests.getPlaceholder.call(inputmask,vp))return!1;return!0}}}return!1}if(tabbed&&(inputmask.isRTL?selectedCaret.end=selectedCaret.begin:selectedCaret.begin=selectedCaret.end),selectedCaret.begin===selectedCaret.end){switch(opts.positionCaretOnClick){case"none":break;case"select":selectedCaret={begin:0,end:getBuffer.call(inputmask).length};break;case"ignore":selectedCaret.end=selectedCaret.begin=seekNext.call(inputmask,getLastValidPosition.call(inputmask));break;case"radixFocus":if(doRadixFocus(selectedCaret.begin)){var radixPos=getBuffer.call(inputmask).join("").indexOf(opts.radixPoint);selectedCaret.end=selectedCaret.begin=opts.numericInput?seekNext.call(inputmask,radixPos):radixPos;break}default:var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition.call(inputmask,clickPosition,!0),lastPosition=seekNext.call(inputmask,-1!==lvclickPosition||isMask.call(inputmask,0)?lvclickPosition:-1);if(clickPosition<=lastPosition)selectedCaret.end=selectedCaret.begin=isMask.call(inputmask,clickPosition,!1,!0)?clickPosition:seekNext.call(inputmask,clickPosition);else{var lvp=maskset.validPositions[lvclickPosition],tt=_validationTests.getTestTemplate.call(inputmask,lastPosition,lvp?lvp.match.locator:void 0,lvp),placeholder=_validationTests.getPlaceholder.call(inputmask,lastPosition,tt.match);if(""!==placeholder&&getBuffer.call(inputmask)[lastPosition]!==placeholder&&!0!==tt.match.optionalQuantifier&&!0!==tt.match.newBlockMarker||!isMask.call(inputmask,lastPosition,opts.keepStatic,!0)&&tt.match.def===placeholder){var newPos=seekNext.call(inputmask,lastPosition);(newPos<=clickPosition||clickPosition===lastPosition)&&(lastPosition=newPos)}selectedCaret.end=selectedCaret.begin=lastPosition}}return selectedCaret}}function getBuffer(noCache){var inputmask=this,maskset=this.maskset;return void 0!==maskset.buffer&&!0!==noCache||(maskset.buffer=_validationTests.getMaskTemplate.call(this,!0,getLastValidPosition.call(this),!0),void 0===maskset._buffer&&(maskset._buffer=maskset.buffer.slice())),maskset.buffer}function getBufferTemplate(){var inputmask=this,maskset=this.maskset;return void 0===maskset._buffer&&(maskset._buffer=_validationTests.getMaskTemplate.call(this,!1,1),void 0===maskset.buffer&&(maskset.buffer=maskset._buffer.slice())),maskset._buffer}function getLastValidPosition(closestTo,strict,validPositions){var maskset=this.maskset,before=-1,after=-1,valids=validPositions||maskset.validPositions;for(var posNdx in void 0===closestTo&&(closestTo=-1),valids){var psNdx=parseInt(posNdx);valids[psNdx]&&(strict||!0!==valids[psNdx].generatedInput)&&(psNdx<=closestTo&&(before=psNdx),closestTo<=psNdx&&(after=psNdx))}return-1===before||before==closestTo?after:-1==after?before:closestTo-before<after-closestTo?before:after}function isMask(pos,strict,fuzzy){var inputmask=this,maskset=this.maskset,test=_validationTests.getTestTemplate.call(this,pos).match;if(""===test.def&&(test=_validationTests.getTest.call(this,pos).match),!0!==test.static)return test.fn;if(!0===fuzzy&&void 0!==maskset.validPositions[pos]&&!0!==maskset.validPositions[pos].generatedInput)return!0;if(!0!==strict&&-1<pos){if(fuzzy){var tests=_validationTests.getTests.call(this,pos);return tests.length>1+(""===tests[tests.length-1].match.def?1:0)}var testTemplate=_validationTests.determineTestTemplate.call(this,pos,_validationTests.getTests.call(this,pos)),testPlaceHolder=_validationTests.getPlaceholder.call(this,pos,testTemplate.match);return testTemplate.match.def!==testPlaceHolder}return!1}function resetMaskSet(soft){var maskset=this.maskset;maskset.buffer=void 0,!0!==soft&&(maskset.validPositions={},maskset.p=0)}function seekNext(pos,newBlock,fuzzy){var inputmask=this;void 0===fuzzy&&(fuzzy=!0);for(var position=pos+1;""!==_validationTests.getTest.call(this,position).match.def&&(!0===newBlock&&(!0!==_validationTests.getTest.call(this,position).match.newBlockMarker||!isMask.call(this,position,void 0,!0))||!0!==newBlock&&!isMask.call(this,position,void 0,fuzzy));)position++;return position}function seekPrevious(pos,newBlock){var inputmask=this,position=pos-1;if(pos<=0)return 0;for(;0<position&&(!0===newBlock&&(!0!==_validationTests.getTest.call(this,position).match.newBlockMarker||!isMask.call(this,position,void 0,!0))||!0!==newBlock&&!isMask.call(this,position,void 0,!0));)position--;return position}function translatePosition(pos){var inputmask=this,opts=this.opts,el=this.el;return!this.isRTL||"number"!=typeof pos||opts.greedy&&""===opts.placeholder||!el||(pos=Math.abs(this._valueGet().length-pos)),pos}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(16),__webpack_require__(17);var _mask=__webpack_require__(18),_inputmask=_interopRequireDefault(__webpack_require__(10)),_window=_interopRequireDefault(__webpack_require__(5)),_maskLexer=__webpack_require__(21),_validationTests=__webpack_require__(3),_positioning=__webpack_require__(1),_validation=__webpack_require__(4),_inputHandling=__webpack_require__(7),_eventruler=__webpack_require__(11),_definitions=_interopRequireDefault(__webpack_require__(22)),_defaults=_interopRequireDefault(__webpack_require__(23)),_canUseDOM=_interopRequireDefault(__webpack_require__(6));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document,dataKey="_inputmask_opts";function Inputmask(alias,options,internal){if(_canUseDOM.default){if(!(this instanceof Inputmask))return new Inputmask(alias,options,internal);this.dependencyLib=_inputmask.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==internal&&("[object Object]"===Object.prototype.toString.call(alias)?options=alias:(options=options||{},alias&&(options.alias=alias)),this.opts=_inputmask.default.extend(!0,{},this.defaults,options),this.noMasksCache=options&&void 0!==options.definitions,this.userOptions=options||{},resolveAlias(this.opts.alias,options,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.originalPlaceholder=void 0,this.isComposing=!1}}function resolveAlias(aliasStr,options,opts){var aliasDefinition=Inputmask.prototype.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),_inputmask.default.extend(!0,opts,aliasDefinition),_inputmask.default.extend(!0,opts,options),!0):(null===opts.mask&&(opts.mask=aliasStr),!1)}function importAttributeOptions(npt,opts,userOptions,dataAttribute){function importOption(option,optionData){var attrOption=""===dataAttribute?option:dataAttribute+"-"+option;optionData=void 0!==optionData?optionData:npt.getAttribute(attrOption),null!==optionData&&("string"==typeof optionData&&(0===option.indexOf("on")?optionData=_window.default[optionData]:"false"===optionData?optionData=!1:"true"===optionData&&(optionData=!0)),userOptions[option]=optionData)}if(!0===opts.importDataAttributes){var attrOptions=npt.getAttribute(dataAttribute),option,dataoptions,optionData,p;if(attrOptions&&""!==attrOptions&&(attrOptions=attrOptions.replace(/'/g,'"'),dataoptions=JSON.parse("{"+attrOptions+"}")),dataoptions)for(p in optionData=void 0,dataoptions)if("alias"===p.toLowerCase()){optionData=dataoptions[p];break}for(option in importOption("alias",optionData),userOptions.alias&&resolveAlias(userOptions.alias,userOptions,opts),opts){if(dataoptions)for(p in optionData=void 0,dataoptions)if(p.toLowerCase()===option.toLowerCase()){optionData=dataoptions[p];break}importOption(option,optionData)}}return _inputmask.default.extend(!0,opts,userOptions),"rtl"!==npt.dir&&!opts.rightAlign||(npt.style.textAlign="right"),"rtl"!==npt.dir&&!opts.numericInput||(npt.dir="ltr",npt.removeAttribute("dir"),opts.isRTL=!0),Object.keys(userOptions).length}Inputmask.prototype={dataAttribute:"data-inputmask",defaults:_defaults.default,definitions:_definitions.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function mask(elems){var that=this;return"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:Array.isArray(elems)?elems:Array.from(elems),elems.forEach(function(el,ndx){var scopedOpts=_inputmask.default.extend(!0,{},that.opts);if(importAttributeOptions(el,scopedOpts,_inputmask.default.extend(!0,{},that.userOptions),that.dataAttribute)){var maskset=(0,_maskLexer.generateMaskSet)(scopedOpts,that.noMasksCache);void 0!==maskset&&(void 0!==el.inputmask&&(el.inputmask.opts.autoUnmask=!0,el.inputmask.remove()),el.inputmask=new Inputmask(void 0,void 0,!0),el.inputmask.opts=scopedOpts,el.inputmask.noMasksCache=that.noMasksCache,el.inputmask.userOptions=_inputmask.default.extend(!0,{},that.userOptions),el.inputmask.el=el,el.inputmask.$el=(0,_inputmask.default)(el),el.inputmask.maskset=maskset,_inputmask.default.data(el,dataKey,that.userOptions),_mask.mask.call(el.inputmask))}}),elems&&elems[0]&&elems[0].inputmask||this},option:function option(options,noremask){return"string"==typeof options?this.opts[options]:"object"===_typeof(options)?(_inputmask.default.extend(this.userOptions,options),this.el&&!0!==noremask&&this.mask(this.el),this):void 0},unmaskedvalue:function unmaskedvalue(value){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==value){var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!1,!1,valueBuffer),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,_positioning.getBuffer.call(this),0,this.opts)}return _inputHandling.unmaskedvalue.call(this,this.el)},remove:function remove(){if(this.el){_inputmask.default.data(this.el,dataKey,null);var cv=this.opts.autoUnmask?(0,_inputHandling.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask),valueProperty;cv!==_positioning.getBufferTemplate.call(this).join("")?this._valueSet(cv,this.opts.autoUnmask):this._valueSet(""),_eventruler.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(valueProperty=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value"),valueProperty&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0})):document.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function getemptymask(){return this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),_positioning.getBufferTemplate.call(this).join("")},hasMaskedValue:function hasMaskedValue(){return!this.opts.autoUnmask},isComplete:function isComplete(){return this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),_validation.isComplete.call(this,_positioning.getBuffer.call(this))},getmetadata:function getmetadata(){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var maskTarget=_validationTests.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach(function(mtdt){return mtdt.mask!==maskTarget||(maskTarget=mtdt,!1)}),maskTarget}return this.maskset.metadata},isValid:function isValid(value){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),value){var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!0,!1,valueBuffer)}else value=this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join("");for(var buffer=_positioning.getBuffer.call(this),rl=_positioning.determineLastRequiredPosition.call(this),lmib=buffer.length-1;rl<lmib&&!_positioning.isMask.call(this,lmib);lmib--);return buffer.splice(rl,lmib+1-rl),_validation.isComplete.call(this,buffer)&&value===(this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join(""))},format:function format(value,metadata){this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache);var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!0,!1,valueBuffer);var formattedValue=this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join("");return metadata?{value:formattedValue,metadata:this.getmetadata()}:formattedValue},setValue:function setValue(value){this.el&&(0,_inputmask.default)(this.el).trigger("setvalue",[value])},analyseMask:_maskLexer.analyseMask},Inputmask.extendDefaults=function(options){_inputmask.default.extend(!0,Inputmask.prototype.defaults,options)},Inputmask.extendDefinitions=function(definition){_inputmask.default.extend(!0,Inputmask.prototype.definitions,definition)},Inputmask.extendAliases=function(alias){_inputmask.default.extend(!0,Inputmask.prototype.aliases,alias)},Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata)},Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value)},Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value)},Inputmask.remove=function(elems){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,elems.forEach(function(el){el.inputmask&&el.inputmask.remove()})},Inputmask.setValue=function(elems,value){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,elems.forEach(function(el){el.inputmask?el.inputmask.setValue(value):(0,_inputmask.default)(el).trigger("setvalue",[value])})},Inputmask.dependencyLib=_inputmask.default,_window.default.Inputmask=Inputmask;var _default=Inputmask;exports.default=_default},function(module,exports,__webpack_require__){"use strict";function getLocator(tst,align){var locator=(null!=tst.alternation?tst.mloc[getDecisionTaker(tst)]:tst.locator).join("");if(""!==locator)for(;locator.length<align;)locator+="0";return locator}function getDecisionTaker(tst){var decisionTaker=tst.locator[tst.alternation];return"string"==typeof decisionTaker&&0<decisionTaker.length&&(decisionTaker=decisionTaker.split(",")[0]),void 0!==decisionTaker?decisionTaker.toString():""}function getPlaceholder(pos,test,returnPL){var inputmask=this,opts=this.opts,maskset=this.maskset;if(test=test||getTest.call(this,pos).match,void 0!==test.placeholder||!0===returnPL)return"function"==typeof test.placeholder?test.placeholder(opts):test.placeholder;if(!0!==test.static)return opts.placeholder.charAt(pos%opts.placeholder.length);if(-1<pos&&void 0===maskset.validPositions[pos]){var tests=getTests.call(this,pos),staticAlternations=[],prevTest;if(tests.length>1+(""===tests[tests.length-1].match.def?1:0))for(var i=0;i<tests.length;i++)if(""!==tests[i].match.def&&!0!==tests[i].match.optionality&&!0!==tests[i].match.optionalQuantifier&&(!0===tests[i].match.static||void 0===prevTest||!1!==tests[i].match.fn.test(prevTest.match.def,maskset,pos,!0,opts))&&(staticAlternations.push(tests[i]),!0===tests[i].match.static&&(prevTest=tests[i]),1<staticAlternations.length&&/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)))return opts.placeholder.charAt(pos%opts.placeholder.length)}return test.def}function getMaskTemplate(baseOnInput,minimalPos,includeMode,noJit,clearOptionalTail){var inputmask=this,opts=this.opts,maskset=this.maskset,greedy=opts.greedy;clearOptionalTail&&(opts.greedy=!1),minimalPos=minimalPos||0;var maskTemplate=[],ndxIntlzr,pos=0,test,testPos,jitRenderStatic;do{if(!0===baseOnInput&&maskset.validPositions[pos])testPos=clearOptionalTail&&!0===maskset.validPositions[pos].match.optionality&&void 0===maskset.validPositions[pos+1]&&(!0===maskset.validPositions[pos].generatedInput||maskset.validPositions[pos].input==opts.skipOptionalPartCharacter&&0<pos)?determineTestTemplate.call(this,pos,getTests.call(this,pos,ndxIntlzr,pos-1)):maskset.validPositions[pos],test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(!0===includeMode?testPos.input:!1===includeMode?test.nativeDef:getPlaceholder.call(this,pos,test));else{testPos=getTestTemplate.call(this,pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice();var jitMasking=!0!==noJit&&(!1!==opts.jitMasking?opts.jitMasking:test.jit);jitRenderStatic=(jitRenderStatic&&test.static&&test.def!==opts.groupSeparator&&null===test.fn||maskset.validPositions[pos-1]&&test.static&&test.def!==opts.groupSeparator&&null===test.fn)&&maskset.tests[pos]&&1===maskset.tests[pos].length,jitRenderStatic||!1===jitMasking||void 0===jitMasking||"number"==typeof jitMasking&&isFinite(jitMasking)&&pos<jitMasking?maskTemplate.push(!1===includeMode?test.nativeDef:getPlaceholder.call(this,pos,test)):jitRenderStatic=!1}pos++}while((void 0===this.maxLength||pos<this.maxLength)&&(!0!==test.static||""!==test.def)||pos<minimalPos);return""===maskTemplate[maskTemplate.length-1]&&maskTemplate.pop(),!1===includeMode&&void 0!==maskset.maskLength||(maskset.maskLength=pos-1),opts.greedy=greedy,maskTemplate}function getTestTemplate(pos,ndxIntlzr,tstPs){var inputmask=this,maskset=this.maskset;return maskset.validPositions[pos]||determineTestTemplate.call(this,pos,getTests.call(this,pos,ndxIntlzr?ndxIntlzr.slice():ndxIntlzr,tstPs))}function determineTestTemplate(pos,tests){var inputmask=this,opts=this.opts;pos=0<pos?pos-1:0;for(var altTest=getTest.call(this,pos),targetLocator=getLocator(altTest),tstLocator,closest,bestMatch,ndx=0;ndx<tests.length;ndx++){var tst=tests[ndx];tstLocator=getLocator(tst,targetLocator.length);var distance=Math.abs(tstLocator-targetLocator);(void 0===closest||""!==tstLocator&&distance<closest||bestMatch&&!opts.greedy&&bestMatch.match.optionality&&"master"===bestMatch.match.newBlockMarker&&(!tst.match.optionality||!tst.match.newBlockMarker)||bestMatch&&bestMatch.match.optionalQuantifier&&!tst.match.optionalQuantifier)&&(closest=distance,bestMatch=tst)}return bestMatch}function getTest(pos,tests){var inputmask=this,maskset=this.maskset;return maskset.validPositions[pos]?maskset.validPositions[pos]:(tests||getTests.call(this,pos))[0]}function isSubsetOf(source,target,opts){function expand(pattern){for(var expanded=[],start=-1,end,i=0,l=pattern.length;i<l;i++)if("-"===pattern.charAt(i))for(end=pattern.charCodeAt(i+1);++start<end;)expanded.push(String.fromCharCode(start));else start=pattern.charCodeAt(i),expanded.push(pattern.charAt(i));return expanded.join("")}return source.match.def===target.match.nativeDef||!(!(opts.regex||source.match.fn instanceof RegExp&&target.match.fn instanceof RegExp)||!0===source.match.static||!0===target.match.static)&&-1!==expand(target.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(expand(source.match.fn.toString().replace(/[[\]/]/g,"")))}function getTests(pos,ndxIntlzr,tstPs){var inputmask=this,$=this.dependencyLib,maskset=this.maskset,opts=this.opts,el=this.el,maskTokens=maskset.maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr?ndxIntlzr.slice():[0],matches=[],insertStop=!1,latestMatch,cacheDependency=ndxIntlzr?ndxIntlzr.join(""):"";function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){function isFirstMatch(latestMatch,tokenGroup){var firstMatch=0===tokenGroup.matches.indexOf(latestMatch);return firstMatch||tokenGroup.matches.every(function(match,ndx){return!0===match.isQuantifier?firstMatch=isFirstMatch(latestMatch,tokenGroup.matches[ndx-1]):Object.prototype.hasOwnProperty.call(match,"matches")&&(firstMatch=isFirstMatch(latestMatch,match)),!firstMatch}),firstMatch}function resolveNdxInitializer(pos,alternateNdx,targetAlternation){var bestMatch,indexPos;if((maskset.tests[pos]||maskset.validPositions[pos])&&(maskset.tests[pos]||[maskset.validPositions[pos]]).every(function(lmnt,ndx){if(lmnt.mloc[alternateNdx])return bestMatch=lmnt,!1;var alternation=void 0!==targetAlternation?targetAlternation:lmnt.alternation,ndxPos=void 0!==lmnt.locator[alternation]?lmnt.locator[alternation].toString().indexOf(alternateNdx):-1;return(void 0===indexPos||ndxPos<indexPos)&&-1!==ndxPos&&(bestMatch=lmnt,indexPos=ndxPos),!0}),bestMatch){var bestMatchAltIndex=bestMatch.locator[bestMatch.alternation],locator=bestMatch.mloc[alternateNdx]||bestMatch.mloc[bestMatchAltIndex]||bestMatch.locator;return locator.slice((void 0!==targetAlternation?targetAlternation:bestMatch.alternation)+1)}return void 0!==targetAlternation?resolveNdxInitializer(pos,alternateNdx):void 0}function staticCanMatchDefinition(source,target){return!0===source.match.static&&!0!==target.match.static&&target.match.fn.test(source.match.def,maskset,pos,!1,opts,!1)}function setMergeLocators(targetMatch,altMatch){var alternationNdx=targetMatch.alternation,shouldMerge=void 0===altMatch||alternationNdx===altMatch.alternation&&-1===targetMatch.locator[alternationNdx].toString().indexOf(altMatch.locator[alternationNdx]);if(!shouldMerge&&alternationNdx>altMatch.alternation)for(var i=altMatch.alternation;i<alternationNdx;i++)if(targetMatch.locator[i]!==altMatch.locator[i]){alternationNdx=i,shouldMerge=!0;break}if(shouldMerge){targetMatch.mloc=targetMatch.mloc||{};var locNdx=targetMatch.locator[alternationNdx];if(void 0!==locNdx){if("string"==typeof locNdx&&(locNdx=locNdx.split(",")[0]),void 0===targetMatch.mloc[locNdx]&&(targetMatch.mloc[locNdx]=targetMatch.locator.slice()),void 0!==altMatch){for(var ndx in altMatch.mloc)"string"==typeof ndx&&(ndx=ndx.split(",")[0]),void 0===targetMatch.mloc[ndx]&&(targetMatch.mloc[ndx]=altMatch.mloc[ndx]);targetMatch.locator[alternationNdx]=Object.keys(targetMatch.mloc).join(",")}return!0}targetMatch.alternation=void 0}return!1}function isSameLevel(targetMatch,altMatch){if(targetMatch.locator.length!==altMatch.locator.length)return!1;for(var locNdx=targetMatch.alternation+1;locNdx<targetMatch.locator.length;locNdx++)if(targetMatch.locator[locNdx]!==altMatch.locator[locNdx])return!1;return!0}if(testPos>pos+opts._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+maskset.mask;if(testPos===pos&&void 0===match.matches)return matches.push({match:match,locator:loopNdx.reverse(),cd:cacheDependency,mloc:{}}),!0;if(void 0!==match.matches){if(match.isGroup&&quantifierRecurse!==match){if(match=handleMatch(maskToken.matches[maskToken.matches.indexOf(match)+1],loopNdx,quantifierRecurse),match)return!0}else if(match.isOptional){var optionalToken=match,mtchsNdx=matches.length;if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match){if(matches.forEach(function(mtch,ndx){mtchsNdx<=ndx&&(mtch.match.optionality=!0)}),latestMatch=matches[matches.length-1].match,void 0!==quantifierRecurse||!isFirstMatch(latestMatch,optionalToken))return!0;insertStop=!0,testPos=pos}}else if(match.isAlternator){var alternateToken=match,malternateMatches=[],maltMatches,currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,unMatchedAlternation=!1,altIndex=0<ndxInitializer.length?ndxInitializer.shift():-1;if(-1===altIndex||"string"==typeof altIndex){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[],amndx;if("string"==typeof altIndex)altIndexArr=altIndex.split(",");else for(amndx=0;amndx<alternateToken.matches.length;amndx++)altIndexArr.push(amndx.toString());if(void 0!==maskset.excludes[pos]){for(var altIndexArrClone=altIndexArr.slice(),i=0,exl=maskset.excludes[pos].length;i<exl;i++){var excludeSet=maskset.excludes[pos][i].toString().split(":");loopNdx.length==excludeSet[1]&&altIndexArr.splice(altIndexArr.indexOf(excludeSet[0]),1)}0===altIndexArr.length&&(delete maskset.excludes[pos],altIndexArr=altIndexArrClone)}(!0===opts.keepStatic||isFinite(parseInt(opts.keepStatic))&&currentPos>=opts.keepStatic)&&(altIndexArr=altIndexArr.slice(0,1));for(var ndx=0;ndx<altIndexArr.length;ndx++){amndx=parseInt(altIndexArr[ndx]),matches=[],ndxInitializer="string"==typeof altIndex&&resolveNdxInitializer(testPos,amndx,loopNdxCnt)||ndxInitializerClone.slice();var tokenMatch=alternateToken.matches[amndx];if(tokenMatch&&handleMatch(tokenMatch,[amndx].concat(loopNdx),quantifierRecurse))match=!0;else if(0===ndx&&(unMatchedAlternation=!0),tokenMatch&&tokenMatch.matches&&tokenMatch.matches.length>alternateToken.matches[0].matches.length)break;maltMatches=matches.slice(),testPos=currentPos,matches=[];for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1],dropMatch=!1;altMatch.match.jit=altMatch.match.jit||unMatchedAlternation,altMatch.alternation=altMatch.alternation||loopNdxCnt,setMergeLocators(altMatch);for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if("string"!=typeof altIndex||void 0!==altMatch.alternation&&altIndexArr.includes(altMatch.locator[altMatch.alternation].toString())){if(altMatch.match.nativeDef===altMatch2.match.nativeDef){dropMatch=!0,setMergeLocators(altMatch2,altMatch);break}if(isSubsetOf(altMatch,altMatch2,opts)){setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch));break}if(isSubsetOf(altMatch2,altMatch,opts)){setMergeLocators(altMatch2,altMatch);break}if(staticCanMatchDefinition(altMatch,altMatch2)){isSameLevel(altMatch,altMatch2)||void 0!==el.inputmask.userOptions.keepStatic?setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch)):opts.keepStatic=!0;break}}}dropMatch||malternateMatches.push(altMatch)}}matches=currentMatches.concat(malternateMatches),testPos=pos,insertStop=0<matches.length,match=0<malternateMatches.length,ndxInitializer=ndxInitializerClone.slice()}else match=handleMatch(alternateToken.matches[altIndex]||maskToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse);if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[maskToken.matches.indexOf(match)-1])for(var qt=match,qndx=0<ndxInitializer.length?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&testPos<=pos;qndx++){var tokenGroup=maskToken.matches[maskToken.matches.indexOf(qt)-1];if(match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup),match){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>=qt.quantifier.min,latestMatch.jit=(qndx||1)*tokenGroup.matches.indexOf(latestMatch)>=qt.quantifier.jit,latestMatch.optionalQuantifier&&isFirstMatch(latestMatch,tokenGroup)){insertStop=!0,testPos=pos;break}return latestMatch.jit&&(maskset.jitOffset[pos]=tokenGroup.matches.length-tokenGroup.matches.indexOf(latestMatch)),!0}}else if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match)return!0}else testPos++}for(var tndx=0<ndxInitializer.length?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(!0!==maskToken.matches[tndx].isQuantifier){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos)return match;if(pos<testPos)break}}function mergeLocators(pos,tests){var locator=[],alternation;return Array.isArray(tests)||(tests=[tests]),0<tests.length&&(void 0===tests[0].alternation||!0===opts.keepStatic?(locator=determineTestTemplate.call(inputmask,pos,tests.slice()).locator.slice(),0===locator.length&&(locator=tests[0].locator.slice())):tests.forEach(function(tst){""!==tst.def&&(0===locator.length?(alternation=tst.alternation,locator=tst.locator.slice()):tst.locator[alternation]&&-1===locator[alternation].toString().indexOf(tst.locator[alternation])&&(locator[alternation]+=","+tst.locator[alternation]))})),locator}if(-1<pos&&(void 0===inputmask.maxLength||pos<inputmask.maxLength)){if(void 0===ndxIntlzr){for(var previousPos=pos-1,test;void 0===(test=maskset.validPositions[previousPos]||maskset.tests[previousPos])&&-1<previousPos;)previousPos--;void 0!==test&&-1<previousPos&&(ndxInitializer=mergeLocators(previousPos,test),cacheDependency=ndxInitializer.join(""),testPos=previousPos)}if(maskset.tests[pos]&&maskset.tests[pos][0].cd===cacheDependency)return maskset.tests[pos];for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if(match&&testPos===pos||pos<testPos)break}}return 0!==matches.length&&!insertStop||matches.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:cacheDependency}),void 0!==ndxIntlzr&&maskset.tests[pos]?$.extend(!0,[],matches):(maskset.tests[pos]=$.extend(!0,[],matches),maskset.tests[pos])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.determineTestTemplate=determineTestTemplate,exports.getDecisionTaker=getDecisionTaker,exports.getMaskTemplate=getMaskTemplate,exports.getPlaceholder=getPlaceholder,exports.getTest=getTest,exports.getTests=getTests,exports.getTestTemplate=getTestTemplate,exports.isSubsetOf=isSubsetOf},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.alternate=alternate,exports.checkAlternationMatch=checkAlternationMatch,exports.isComplete=isComplete,exports.isValid=isValid,exports.refreshFromBuffer=refreshFromBuffer,exports.revalidateMask=revalidateMask,exports.handleRemove=handleRemove;var _validationTests=__webpack_require__(3),_keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function alternate(maskPos,c,strict,fromIsValid,rAltPos,selection){var inputmask=this,$=this.dependencyLib,opts=this.opts,maskset=this.maskset,validPsClone=$.extend(!0,{},maskset.validPositions),tstClone=$.extend(!0,{},maskset.tests),lastAlt,alternation,isValidRslt=!1,returnRslt=!1,altPos,prevAltPos,i,validPos,decisionPos,lAltPos=void 0!==rAltPos?rAltPos:_positioning.getLastValidPosition.call(this),nextPos,input,begin,end;if(selection&&(begin=selection.begin,end=selection.end,selection.begin>selection.end&&(begin=selection.end,end=selection.begin)),-1===lAltPos&&void 0===rAltPos)lastAlt=0,prevAltPos=_validationTests.getTest.call(this,lastAlt),alternation=prevAltPos.alternation;else for(;0<=lAltPos;lAltPos--)if(altPos=maskset.validPositions[lAltPos],altPos&&void 0!==altPos.alternation){if(prevAltPos&&prevAltPos.locator[altPos.alternation]!==altPos.locator[altPos.alternation])break;lastAlt=lAltPos,alternation=maskset.validPositions[lastAlt].alternation,prevAltPos=altPos}if(void 0!==alternation){decisionPos=parseInt(lastAlt),maskset.excludes[decisionPos]=maskset.excludes[decisionPos]||[],!0!==maskPos&&maskset.excludes[decisionPos].push((0,_validationTests.getDecisionTaker)(prevAltPos)+":"+prevAltPos.alternation);var validInputs=[],resultPos=-1;for(i=decisionPos;i<_positioning.getLastValidPosition.call(this,void 0,!0)+1;i++)-1===resultPos&&maskPos<=i&&void 0!==c&&(validInputs.push(c),resultPos=validInputs.length-1),validPos=maskset.validPositions[i],validPos&&!0!==validPos.generatedInput&&(void 0===selection||i<begin||end<=i)&&validInputs.push(validPos.input),delete maskset.validPositions[i];for(-1===resultPos&&void 0!==c&&(validInputs.push(c),resultPos=validInputs.length-1);void 0!==maskset.excludes[decisionPos]&&maskset.excludes[decisionPos].length<10;){for(maskset.tests={},_positioning.resetMaskSet.call(this,!0),isValidRslt=!0,i=0;i<validInputs.length&&(nextPos=isValidRslt.caret||_positioning.getLastValidPosition.call(this,void 0,!0)+1,input=validInputs[i],isValidRslt=isValid.call(this,nextPos,input,!1,fromIsValid,!0));i++)i===resultPos&&(returnRslt=isValidRslt),1==maskPos&&isValidRslt&&(returnRslt={caretPos:i});if(isValidRslt)break;if(_positioning.resetMaskSet.call(this),prevAltPos=_validationTests.getTest.call(this,decisionPos),maskset.validPositions=$.extend(!0,{},validPsClone),maskset.tests=$.extend(!0,{},tstClone),!maskset.excludes[decisionPos]){returnRslt=alternate.call(this,maskPos,c,strict,fromIsValid,decisionPos-1,selection);break}var decisionTaker=(0,_validationTests.getDecisionTaker)(prevAltPos);if(-1!==maskset.excludes[decisionPos].indexOf(decisionTaker+":"+prevAltPos.alternation)){returnRslt=alternate.call(this,maskPos,c,strict,fromIsValid,decisionPos-1,selection);break}for(maskset.excludes[decisionPos].push(decisionTaker+":"+prevAltPos.alternation),i=decisionPos;i<_positioning.getLastValidPosition.call(this,void 0,!0)+1;i++)delete maskset.validPositions[i]}}return returnRslt&&!1===opts.keepStatic||delete maskset.excludes[decisionPos],returnRslt}function casing(elem,test,pos){var opts=this.opts,maskset=this.maskset;switch(opts.casing||test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase();break;case"title":var posBefore=maskset.validPositions[pos-1];elem=0===pos||posBefore&&posBefore.input===String.fromCharCode(_keycode.default.SPACE)?elem.toUpperCase():elem.toLowerCase();break;default:if("function"==typeof opts.casing){var args=Array.prototype.slice.call(arguments);args.push(maskset.validPositions),elem=opts.casing.apply(this,args)}}return elem}function checkAlternationMatch(altArr1,altArr2,na){for(var opts=this.opts,altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,naArr=void 0!==na?na.split(","):[],naNdx,i=0;i<naArr.length;i++)-1!==(naNdx=altArr1.indexOf(naArr[i]))&&altArr1.splice(naNdx,1);for(var alndx=0;alndx<altArr1.length;alndx++)if(altArrC.includes(altArr1[alndx])){isMatch=!0;break}return isMatch}function handleRemove(input,k,pos,strict,fromIsValid){var inputmask=this,maskset=this.maskset,opts=this.opts;if((opts.numericInput||this.isRTL)&&(k===_keycode.default.BACKSPACE?k=_keycode.default.DELETE:k===_keycode.default.DELETE&&(k=_keycode.default.BACKSPACE),this.isRTL)){var pend=pos.end;pos.end=pos.begin,pos.begin=pend}var lvp=_positioning.getLastValidPosition.call(this,void 0,!0),offset;if(pos.end>=_positioning.getBuffer.call(this).length&&lvp>=pos.end&&(pos.end=lvp+1),k===_keycode.default.BACKSPACE?pos.end-pos.begin<1&&(pos.begin=_positioning.seekPrevious.call(this,pos.begin)):k===_keycode.default.DELETE&&pos.begin===pos.end&&(pos.end=_positioning.isMask.call(this,pos.end,!0,!0)?pos.end+1:_positioning.seekNext.call(this,pos.end)+1),!1!==(offset=revalidateMask.call(this,pos))){if(!0!==strict&&!1!==opts.keepStatic||null!==opts.regex&&-1!==_validationTests.getTest.call(this,pos.begin).match.def.indexOf("|")){var result=alternate.call(this,!0);if(result){var newPos=void 0!==result.caret?result.caret:result.pos?_positioning.seekNext.call(this,result.pos.begin?result.pos.begin:result.pos):_positioning.getLastValidPosition.call(this,-1,!0);(k!==_keycode.default.DELETE||pos.begin>newPos)&&pos.begin}}!0!==strict&&(maskset.p=k===_keycode.default.DELETE?pos.begin+offset:pos.begin)}}function isComplete(buffer){var inputmask=this,opts=this.opts,maskset=this.maskset;if("function"==typeof opts.isComplete)return opts.isComplete(buffer,opts);if("*"!==opts.repeat){var complete=!1,lrp=_positioning.determineLastRequiredPosition.call(this,!0),aml=_positioning.seekPrevious.call(this,lrp.l);if(void 0===lrp.def||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=!0;for(var i=0;i<=aml;i++){var test=_validationTests.getTestTemplate.call(this,i).match;if(!0!==test.static&&void 0===maskset.validPositions[i]&&!0!==test.optionality&&!0!==test.optionalQuantifier||!0===test.static&&buffer[i]!==_validationTests.getPlaceholder.call(this,i,test)){complete=!1;break}}}return complete}}function isValid(pos,c,strict,fromIsValid,fromAlternate,validateOnly,fromCheckval){var inputmask=this,$=this.dependencyLib,opts=this.opts,maskset=inputmask.maskset;function isSelection(posObj){return inputmask.isRTL?1<posObj.begin-posObj.end||posObj.begin-posObj.end==1:1<posObj.end-posObj.begin||posObj.end-posObj.begin==1}strict=!0===strict;var maskPos=pos;function processCommandObject(commandObj){if(void 0!==commandObj){if(void 0!==commandObj.remove&&(Array.isArray(commandObj.remove)||(commandObj.remove=[commandObj.remove]),commandObj.remove.sort(function(a,b){return b.pos-a.pos}).forEach(function(lmnt){revalidateMask.call(inputmask,{begin:lmnt,end:lmnt+1})}),commandObj.remove=void 0),void 0!==commandObj.insert&&(Array.isArray(commandObj.insert)||(commandObj.insert=[commandObj.insert]),commandObj.insert.sort(function(a,b){return a.pos-b.pos}).forEach(function(lmnt){""!==lmnt.c&&isValid.call(inputmask,lmnt.pos,lmnt.c,void 0===lmnt.strict||lmnt.strict,void 0!==lmnt.fromIsValid?lmnt.fromIsValid:fromIsValid)}),commandObj.insert=void 0),commandObj.refreshFromBuffer&&commandObj.buffer){var refresh=commandObj.refreshFromBuffer;refreshFromBuffer.call(inputmask,!0===refresh?refresh:refresh.start,refresh.end,commandObj.buffer),commandObj.refreshFromBuffer=void 0}void 0!==commandObj.rewritePosition&&(maskPos=commandObj.rewritePosition,commandObj=!0)}return commandObj}function _isValid(position,c,strict){var rslt=!1;return _validationTests.getTests.call(inputmask,position).every(function(tst,ndx){var test=tst.match;if(_positioning.getBuffer.call(inputmask,!0),rslt=null!=test.fn?test.fn.test(c,maskset,position,strict,opts,isSelection(pos)):(c===test.def||c===opts.skipOptionalPartCharacter)&&""!==test.def&&{c:_validationTests.getPlaceholder.call(inputmask,position,test,!0)||test.def,pos:position},!1===rslt)return!0;var elem=void 0!==rslt.c?rslt.c:c,validatedPos=position;return elem=elem===opts.skipOptionalPartCharacter&&!0===test.static?_validationTests.getPlaceholder.call(inputmask,position,test,!0)||test.def:elem,rslt=processCommandObject(rslt),!0!==rslt&&void 0!==rslt.pos&&rslt.pos!==position&&(validatedPos=rslt.pos),!0!==rslt&&void 0===rslt.pos&&void 0===rslt.c||!1===revalidateMask.call(inputmask,pos,$.extend({},tst,{input:casing.call(inputmask,elem,test,validatedPos)}),fromIsValid,validatedPos)&&(rslt=!1),!1}),rslt}void 0!==pos.begin&&(maskPos=inputmask.isRTL?pos.end:pos.begin);var result=!0,positionsClone=$.extend(!0,{},maskset.validPositions);if(!1===opts.keepStatic&&void 0!==maskset.excludes[maskPos]&&!0!==fromAlternate&&!0!==fromIsValid)for(var i=maskPos;i<(inputmask.isRTL?pos.begin:pos.end);i++)void 0!==maskset.excludes[i]&&(maskset.excludes[i]=void 0,delete maskset.tests[i]);if("function"==typeof opts.preValidation&&!0!==fromIsValid&&!0!==validateOnly&&(result=opts.preValidation.call(inputmask,_positioning.getBuffer.call(inputmask),maskPos,c,isSelection(pos),opts,maskset,pos,strict||fromAlternate),result=processCommandObject(result)),!0===result){if(void 0===inputmask.maxLength||maskPos<_positioning.translatePosition.call(inputmask,inputmask.maxLength)){if(result=_isValid(maskPos,c,strict),(!strict||!0===fromIsValid)&&!1===result&&!0!==validateOnly){var currentPosValid=maskset.validPositions[maskPos];if(!currentPosValid||!0!==currentPosValid.match.static||currentPosValid.match.def!==c&&c!==opts.skipOptionalPartCharacter){if(opts.insertMode||void 0===maskset.validPositions[_positioning.seekNext.call(inputmask,maskPos)]||pos.end>maskPos){var skip=!1;if(maskset.jitOffset[maskPos]&&void 0===maskset.validPositions[_positioning.seekNext.call(inputmask,maskPos)]&&(result=isValid.call(inputmask,maskPos+maskset.jitOffset[maskPos],c,!0),!1!==result&&(!0!==fromAlternate&&(result.caret=maskPos),skip=!0)),pos.end>maskPos&&(maskset.validPositions[maskPos]=void 0),!skip&&!_positioning.isMask.call(inputmask,maskPos,opts.keepStatic&&0===maskPos))for(var nPos=maskPos+1,snPos=_positioning.seekNext.call(inputmask,maskPos,!1,0!==maskPos);nPos<=snPos;nPos++)if(result=_isValid(nPos,c,strict),!1!==result){result=trackbackPositions.call(inputmask,maskPos,void 0!==result.pos?result.pos:nPos)||result,maskPos=nPos;break}}}else result={caret:_positioning.seekNext.call(inputmask,maskPos)}}}else result=!1;!1!==result||!opts.keepStatic||!isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&0!==maskPos||strict||!0===fromAlternate?isSelection(pos)&&maskset.tests[maskPos]&&1<maskset.tests[maskPos].length&&opts.keepStatic&&!strict&&!0!==fromAlternate&&(result=alternate.call(inputmask,!0)):result=alternate.call(inputmask,maskPos,c,strict,fromIsValid,void 0,pos),!0===result&&(result={pos:maskPos})}if("function"==typeof opts.postValidation&&!0!==fromIsValid&&!0!==validateOnly){var postResult=opts.postValidation.call(inputmask,_positioning.getBuffer.call(inputmask,!0),void 0!==pos.begin?inputmask.isRTL?pos.end:pos.begin:pos,c,result,opts,maskset,strict,fromCheckval);void 0!==postResult&&(result=!0===postResult?result:postResult)}result&&void 0===result.pos&&(result.pos=maskPos),!1===result||!0===validateOnly?(_positioning.resetMaskSet.call(inputmask,!0),maskset.validPositions=$.extend(!0,{},positionsClone)):trackbackPositions.call(inputmask,void 0,maskPos,!0);var endResult=processCommandObject(result);return endResult}function positionCanMatchDefinition(pos,testDefinition,opts){for(var inputmask=this,maskset=this.maskset,valid=!1,tests=_validationTests.getTests.call(this,pos),tndx=0;tndx<tests.length;tndx++){if(tests[tndx].match&&(tests[tndx].match.nativeDef===testDefinition.match[opts.shiftPositions?"def":"nativeDef"]&&(!opts.shiftPositions||!testDefinition.match.static)||tests[tndx].match.nativeDef===testDefinition.match.nativeDef||opts.regex&&!tests[tndx].match.static&&tests[tndx].match.fn.test(testDefinition.input))){valid=!0;break}if(tests[tndx].match&&tests[tndx].match.def===testDefinition.match.nativeDef){valid=void 0;break}}return!1===valid&&void 0!==maskset.jitOffset[pos]&&(valid=positionCanMatchDefinition.call(this,pos+maskset.jitOffset[pos],testDefinition,opts)),valid}function refreshFromBuffer(start,end,buffer){var inputmask=this,maskset=this.maskset,opts=this.opts,$=this.dependencyLib,el=this.el,i,p,skipOptionalPartCharacter=opts.skipOptionalPartCharacter,bffr=this.isRTL?buffer.slice().reverse():buffer;if(opts.skipOptionalPartCharacter="",!0===start)_positioning.resetMaskSet.call(this),maskset.tests={},start=0,end=buffer.length,p=_positioning.determineNewCaretPosition.call(this,{begin:0,end:0},!1).begin;else{for(i=start;i<end;i++)delete maskset.validPositions[i];p=start}var keypress=new $.Event("keypress");for(i=start;i<end;i++){keypress.which=bffr[i].toString().charCodeAt(0),this.ignorable=!1;var valResult=_eventhandlers.EventHandlers.keypressEvent.call(el,keypress,!0,!1,!1,p);!1!==valResult&&(p=valResult.forwardPosition)}opts.skipOptionalPartCharacter=skipOptionalPartCharacter}function trackbackPositions(originalPos,newPos,fillOnly){var inputmask=this,maskset=this.maskset,$=this.dependencyLib;if(void 0===originalPos)for(originalPos=newPos-1;0<originalPos&&!maskset.validPositions[originalPos];originalPos--);for(var ps=originalPos;ps<newPos;ps++)if(void 0===maskset.validPositions[ps]&&!_positioning.isMask.call(this,ps,!1)){var vp=0==ps?_validationTests.getTest.call(this,ps):maskset.validPositions[ps-1];if(vp){var tests=_validationTests.getTests.call(this,ps).slice();""===tests[tests.length-1].match.def&&tests.pop();var bestMatch=_validationTests.determineTestTemplate.call(this,ps,tests),np;if(bestMatch&&(!0!==bestMatch.match.jit||"master"===bestMatch.match.newBlockMarker&&(np=maskset.validPositions[ps+1])&&!0===np.match.optionalQuantifier)&&(bestMatch=$.extend({},bestMatch,{input:_validationTests.getPlaceholder.call(this,ps,bestMatch.match,!0)||bestMatch.match.def}),bestMatch.generatedInput=!0,revalidateMask.call(this,ps,bestMatch,!0),!0!==fillOnly)){var cvpInput=maskset.validPositions[newPos].input;return maskset.validPositions[newPos]=void 0,isValid.call(this,newPos,cvpInput,!0,!0)}}}}function revalidateMask(pos,validTest,fromIsValid,validatedPos){var inputmask=this,maskset=this.maskset,opts=this.opts,$=this.dependencyLib;function IsEnclosedStatic(pos,valids,selection){var posMatch=valids[pos];if(void 0===posMatch||!0!==posMatch.match.static||!0===posMatch.match.optionality||void 0!==valids[0]&&void 0!==valids[0].alternation)return!1;var prevMatch=selection.begin<=pos-1?valids[pos-1]&&!0===valids[pos-1].match.static&&valids[pos-1]:valids[pos-1],nextMatch=selection.end>pos+1?valids[pos+1]&&!0===valids[pos+1].match.static&&valids[pos+1]:valids[pos+1];return prevMatch&&nextMatch}var offset=0,begin=void 0!==pos.begin?pos.begin:pos,end=void 0!==pos.end?pos.end:pos;if(pos.begin>pos.end&&(begin=pos.end,end=pos.begin),validatedPos=void 0!==validatedPos?validatedPos:begin,begin!==end||opts.insertMode&&void 0!==maskset.validPositions[validatedPos]&&void 0===fromIsValid||void 0===validTest){var positionsClone=$.extend(!0,{},maskset.validPositions),lvp=_positioning.getLastValidPosition.call(this,void 0,!0),i;for(maskset.p=begin,i=lvp;begin<=i;i--)delete maskset.validPositions[i],void 0===validTest&&delete maskset.tests[i+1];var valid=!0,j=validatedPos,posMatch=j,t,canMatch;for(validTest&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest),posMatch++,j++),i=validTest?end:end-1;i<=lvp;i++){if(void 0!==(t=positionsClone[i])&&!0!==t.generatedInput&&(end<=i||begin<=i&&IsEnclosedStatic(i,positionsClone,{begin:begin,end:end}))){for(;""!==_validationTests.getTest.call(this,posMatch).match.def;){if(!1!==(canMatch=positionCanMatchDefinition.call(this,posMatch,t,opts))||"+"===t.match.def){"+"===t.match.def&&_positioning.getBuffer.call(this,!0);var result=isValid.call(this,posMatch,t.input,"+"!==t.match.def,"+"!==t.match.def);if(valid=!1!==result,j=(result.pos||posMatch)+1,!valid&&canMatch)break}else valid=!1;if(valid){void 0===validTest&&t.match.static&&i===pos.begin&&offset++;break}if(!valid&&posMatch>maskset.maskLength)break;posMatch++}""==_validationTests.getTest.call(this,posMatch).match.def&&(valid=!1),posMatch=j}if(!valid)break}if(!valid)return maskset.validPositions=$.extend(!0,{},positionsClone),_positioning.resetMaskSet.call(this,!0),!1}else validTest&&_validationTests.getTest.call(this,validatedPos).match.cd===validTest.match.cd&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest));return _positioning.resetMaskSet.call(this,!0),offset}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _canUseDOM=_interopRequireDefault(__webpack_require__(6));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=_canUseDOM.default?window:{};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),_default=canUseDOM;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyInputValue=applyInputValue,exports.clearOptionalTail=clearOptionalTail,exports.checkVal=checkVal,exports.HandleNativePlaceholder=HandleNativePlaceholder,exports.unmaskedvalue=unmaskedvalue,exports.writeBuffer=writeBuffer;var _keycode=_interopRequireDefault(__webpack_require__(0)),_validationTests=__webpack_require__(3),_positioning=__webpack_require__(1),_validation=__webpack_require__(4),_environment=__webpack_require__(9),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyInputValue(input,value){var inputmask=input?input.inputmask:this,opts=inputmask.opts;input.inputmask.refreshValue=!1,"function"==typeof opts.onBeforeMask&&(value=opts.onBeforeMask.call(inputmask,value,opts)||value),value=value.toString().split(""),checkVal(input,!0,!1,value),inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===_positioning.getBufferTemplate.call(inputmask).join("")&&-1===_positioning.getLastValidPosition.call(inputmask)&&input.inputmask._valueSet("")}function clearOptionalTail(buffer){var inputmask=this;buffer.length=0;for(var template=_validationTests.getMaskTemplate.call(this,!0,0,!0,void 0,!0),lmnt;void 0!==(lmnt=template.shift());)buffer.push(lmnt);return buffer}function checkVal(input,writeOut,strict,nptvl,initiatingEvent){var inputmask=input?input.inputmask:this,maskset=inputmask.maskset,opts=inputmask.opts,$=inputmask.dependencyLib,inputValue=nptvl.slice(),charCodes="",initialNdx=-1,result=void 0,skipOptionalPartCharacter=opts.skipOptionalPartCharacter;function isTemplateMatch(ndx,charCodes){for(var targetTemplate=_validationTests.getMaskTemplate.call(inputmask,!0,0).slice(ndx,_positioning.seekNext.call(inputmask,ndx,!1,!1)).join("").replace(/'/g,""),charCodeNdx=targetTemplate.indexOf(charCodes);0<charCodeNdx&&" "===targetTemplate[charCodeNdx-1];)charCodeNdx--;var match=0===charCodeNdx&&!_positioning.isMask.call(inputmask,ndx)&&(_validationTests.getTest.call(inputmask,ndx).match.nativeDef===charCodes.charAt(0)||!0===_validationTests.getTest.call(inputmask,ndx).match.static&&_validationTests.getTest.call(inputmask,ndx).match.nativeDef==="'"+charCodes.charAt(0)||" "===_validationTests.getTest.call(inputmask,ndx).match.nativeDef&&(_validationTests.getTest.call(inputmask,ndx+1).match.nativeDef===charCodes.charAt(0)||!0===_validationTests.getTest.call(inputmask,ndx+1).match.static&&_validationTests.getTest.call(inputmask,ndx+1).match.nativeDef==="'"+charCodes.charAt(0)));if(!match&&0<charCodeNdx&&!_positioning.isMask.call(inputmask,ndx,!1,!0)){var nextPos=_positioning.seekNext.call(inputmask,ndx);inputmask.caretPos.begin<nextPos&&(inputmask.caretPos={begin:nextPos})}return match}opts.skipOptionalPartCharacter="",_positioning.resetMaskSet.call(inputmask),maskset.tests={},initialNdx=opts.radixPoint?_positioning.determineNewCaretPosition.call(inputmask,{begin:0,end:0}).begin:0,maskset.p=initialNdx,inputmask.caretPos={begin:initialNdx};var staticMatches=[],prevCaretPos=inputmask.caretPos;if(inputValue.forEach(function(charCode,ndx){if(void 0!==charCode){var keypress=new $.Event("_checkval");keypress.which=charCode.toString().charCodeAt(0),charCodes+=charCode;var lvp=_positioning.getLastValidPosition.call(inputmask,void 0,!0);isTemplateMatch(initialNdx,charCodes)?result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,lvp+1):(result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,inputmask.caretPos.begin),result&&(initialNdx=inputmask.caretPos.begin+1,charCodes="")),result?(void 0!==result.pos&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static&&void 0===maskset.validPositions[result.pos].alternation&&(staticMatches.push(result.pos),inputmask.isRTL||(result.forwardPosition=result.pos+1)),writeBuffer.call(inputmask,void 0,_positioning.getBuffer.call(inputmask),result.forwardPosition,keypress,!1),inputmask.caretPos={begin:result.forwardPosition,end:result.forwardPosition},prevCaretPos=inputmask.caretPos):void 0===maskset.validPositions[ndx]&&inputValue[ndx]===_validationTests.getPlaceholder.call(inputmask,ndx)&&_positioning.isMask.call(inputmask,ndx,!0)?inputmask.caretPos.begin++:inputmask.caretPos=prevCaretPos}}),0<staticMatches.length){var sndx,validPos,nextValid=_positioning.seekNext.call(inputmask,-1,void 0,!1);if(!_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&staticMatches.length<=nextValid||_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&0<staticMatches.length&&staticMatches.length!==nextValid&&0===staticMatches[0])for(var nextSndx=nextValid;void 0!==(sndx=staticMatches.shift());){var keypress=new $.Event("_checkval");if(validPos=maskset.validPositions[sndx],validPos.generatedInput=!0,keypress.which=validPos.input.charCodeAt(0),result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,nextSndx),result&&void 0!==result.pos&&result.pos!==sndx&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static)staticMatches.push(result.pos);else if(!result)break;nextSndx++}}writeOut&&writeBuffer.call(inputmask,input,_positioning.getBuffer.call(inputmask),result?result.forwardPosition:inputmask.caretPos.begin,initiatingEvent||new $.Event("checkval"),initiatingEvent&&"input"===initiatingEvent.type&&inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")),opts.skipOptionalPartCharacter=skipOptionalPartCharacter}function HandleNativePlaceholder(npt,value){var inputmask=npt?npt.inputmask:this;if(_environment.ie){if(npt.inputmask._valueGet()!==value&&(npt.placeholder!==value||""===npt.placeholder)){var buffer=_positioning.getBuffer.call(inputmask).slice(),nptValue=npt.inputmask._valueGet();if(nptValue!==value){var lvp=_positioning.getLastValidPosition.call(inputmask);-1===lvp&&nptValue===_positioning.getBufferTemplate.call(inputmask).join("")?buffer=[]:-1!==lvp&&clearOptionalTail.call(inputmask,buffer),writeBuffer(npt,buffer)}}}else npt.placeholder!==value&&(npt.placeholder=value,""===npt.placeholder&&npt.removeAttribute("placeholder"))}function unmaskedvalue(input){var inputmask=input?input.inputmask:this,opts=inputmask.opts,maskset=inputmask.maskset;if(input){if(void 0===input.inputmask)return input.value;input.inputmask&&input.inputmask.refreshValue&&applyInputValue(input,input.inputmask._valueGet(!0))}var umValue=[],vps=maskset.validPositions;for(var pndx in vps)vps[pndx]&&vps[pndx].match&&(1!=vps[pndx].match.static||Array.isArray(maskset.metadata)&&!0!==vps[pndx].generatedInput)&&umValue.push(vps[pndx].input);var unmaskedValue=0===umValue.length?"":(inputmask.isRTL?umValue.reverse():umValue).join("");if("function"==typeof opts.onUnMask){var bufferValue=(inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice().reverse():_positioning.getBuffer.call(inputmask)).join("");unmaskedValue=opts.onUnMask.call(inputmask,bufferValue,unmaskedValue,opts)}return unmaskedValue}function writeBuffer(input,buffer,caretPos,event,triggerEvents){var inputmask=input?input.inputmask:this,opts=inputmask.opts,$=inputmask.dependencyLib;if(event&&"function"==typeof opts.onBeforeWrite){var result=opts.onBeforeWrite.call(inputmask,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;_validation.refreshFromBuffer.call(inputmask,!0===refresh?refresh:refresh.start,refresh.end,result.buffer||buffer),buffer=_positioning.getBuffer.call(inputmask,!0)}void 0!==caretPos&&(caretPos=void 0!==result.caret?result.caret:caretPos)}}if(void 0!==input&&(input.inputmask._valueSet(buffer.join("")),void 0===caretPos||void 0!==event&&"blur"===event.type||_positioning.caret.call(inputmask,input,caretPos,void 0,void 0,void 0!==event&&"keydown"===event.type&&(event.keyCode===_keycode.default.DELETE||event.keyCode===_keycode.default.BACKSPACE)),!0===triggerEvents)){var $input=$(input),nptVal=input.inputmask._valueGet();input.inputmask.skipInputEvent=!0,$input.trigger("input"),setTimeout(function(){nptVal===_positioning.getBufferTemplate.call(inputmask).join("")?$input.trigger("cleared"):!0===_validation.isComplete.call(inputmask,buffer)&&$input.trigger("complete")},0)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventHandlers=void 0;var _positioning=__webpack_require__(1),_keycode=_interopRequireDefault(__webpack_require__(0)),_environment=__webpack_require__(9),_validation=__webpack_require__(4),_inputHandling=__webpack_require__(7),_validationTests=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventHandlers={keydownEvent:function keydownEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib,maskset=inputmask.maskset,input=this,$input=$(input),k=e.keyCode,pos=_positioning.caret.call(inputmask,input),kdResult=opts.onKeyDown.call(this,e,_positioning.getBuffer.call(inputmask),pos,opts);if(void 0!==kdResult)return kdResult;if(k===_keycode.default.BACKSPACE||k===_keycode.default.DELETE||_environment.iphone&&k===_keycode.default.BACKSPACE_SAFARI||e.ctrlKey&&k===_keycode.default.X&&!("oncut"in input))e.preventDefault(),_validation.handleRemove.call(inputmask,input,k,pos),(0,_inputHandling.writeBuffer)(input,_positioning.getBuffer.call(inputmask,!0),maskset.p,e,input.inputmask._valueGet()!==_positioning.getBuffer.call(inputmask).join(""));else if(k===_keycode.default.END||k===_keycode.default.PAGE_DOWN){e.preventDefault();var caretPos=_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask));_positioning.caret.call(inputmask,input,e.shiftKey?pos.begin:caretPos,caretPos,!0)}else k===_keycode.default.HOME&&!e.shiftKey||k===_keycode.default.PAGE_UP?(e.preventDefault(),_positioning.caret.call(inputmask,input,0,e.shiftKey?pos.begin:0,!0)):(opts.undoOnEscape&&k===_keycode.default.ESCAPE||90===k&&e.ctrlKey)&&!0!==e.altKey?((0,_inputHandling.checkVal)(input,!0,!1,inputmask.undoValue.split("")),$input.trigger("click")):!0===opts.tabThrough&&k===_keycode.default.TAB?!0===e.shiftKey?(pos.end=_positioning.seekPrevious.call(inputmask,pos.end,!0),!0===_validationTests.getTest.call(inputmask,pos.end-1).match.static&&pos.end--,pos.begin=_positioning.seekPrevious.call(inputmask,pos.end,!0),0<=pos.begin&&0<pos.end&&(e.preventDefault(),_positioning.caret.call(inputmask,input,pos.begin,pos.end))):(pos.begin=_positioning.seekNext.call(inputmask,pos.begin,!0),pos.end=_positioning.seekNext.call(inputmask,pos.begin,!0),pos.end<maskset.maskLength&&pos.end--,pos.begin<=maskset.maskLength&&(e.preventDefault(),_positioning.caret.call(inputmask,input,pos.begin,pos.end))):e.shiftKey||opts.insertModeVisual&&!1===opts.insertMode&&(k===_keycode.default.RIGHT?setTimeout(function(){var caretPos=_positioning.caret.call(inputmask,input);_positioning.caret.call(inputmask,input,caretPos.begin)},0):k===_keycode.default.LEFT&&setTimeout(function(){var caretPos_begin=_positioning.translatePosition.call(inputmask,input.inputmask.caretPos.begin),caretPos_end=_positioning.translatePosition.call(inputmask,input.inputmask.caretPos.end);inputmask.isRTL?_positioning.caret.call(inputmask,input,caretPos_begin+(caretPos_begin===maskset.maskLength?0:1)):_positioning.caret.call(inputmask,input,caretPos_begin-(0===caretPos_begin?0:1))},0));inputmask.ignorable=opts.ignorables.includes(k)},keypressEvent:function keypressEvent(e,checkval,writeOut,strict,ndx){var inputmask=this.inputmask||this,opts=inputmask.opts,$=inputmask.dependencyLib,maskset=inputmask.maskset,input=inputmask.el,$input=$(input),k=e.which||e.charCode||e.keyCode;if(!(!0===checkval||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||inputmask.ignorable))return k===_keycode.default.ENTER&&inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&(inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),setTimeout(function(){$input.trigger("change")},0)),inputmask.skipInputEvent=!0,!0;if(k){44!==k&&46!==k||3!==e.location||""===opts.radixPoint||(k=opts.radixPoint.charCodeAt(0));var pos=checkval?{begin:ndx,end:ndx}:_positioning.caret.call(inputmask,input),forwardPosition,c=String.fromCharCode(k);maskset.writeOutBuffer=!0;var valResult=_validation.isValid.call(inputmask,pos,c,strict,void 0,void 0,void 0,checkval);if(!1!==valResult&&(_positioning.resetMaskSet.call(inputmask,!0),forwardPosition=void 0!==valResult.caret?valResult.caret:_positioning.seekNext.call(inputmask,valResult.pos.begin?valResult.pos.begin:valResult.pos),maskset.p=forwardPosition),forwardPosition=opts.numericInput&&void 0===valResult.caret?_positioning.seekPrevious.call(inputmask,forwardPosition):forwardPosition,!1!==writeOut&&(setTimeout(function(){opts.onKeyValidation.call(input,k,valResult)},0),maskset.writeOutBuffer&&!1!==valResult)){var buffer=_positioning.getBuffer.call(inputmask);(0,_inputHandling.writeBuffer)(input,buffer,forwardPosition,e,!0!==checkval)}if(e.preventDefault(),checkval)return!1!==valResult&&(valResult.forwardPosition=forwardPosition),valResult}},keyupEvent:function keyupEvent(e){var inputmask=this.inputmask;!inputmask.isComposing||e.keyCode!==_keycode.default.KEY_229&&e.keyCode!==_keycode.default.ENTER||inputmask.$el.trigger("input")},pasteEvent:function pasteEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,input=this,inputValue=inputmask._valueGet(!0),caretPos=_positioning.caret.call(inputmask,this),tempValue;inputmask.isRTL&&(tempValue=caretPos.end,caretPos.end=caretPos.begin,caretPos.begin=tempValue);var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);if(valueBeforeCaret==(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret==(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData)inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret;else{if(!e.clipboardData||!e.clipboardData.getData)return!0;inputValue=valueBeforeCaret+e.clipboardData.getData("text/plain")+valueAfterCaret}var pasteValue=inputValue;if("function"==typeof opts.onBeforePaste){if(pasteValue=opts.onBeforePaste.call(inputmask,inputValue,opts),!1===pasteValue)return e.preventDefault();pasteValue=pasteValue||inputValue}return(0,_inputHandling.checkVal)(this,!0,!1,pasteValue.toString().split(""),e),e.preventDefault()},inputFallBackEvent:function inputFallBackEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib;function ieMobileHandler(input,inputValue,caretPos){if(_environment.iemobile){var inputChar=inputValue.replace(_positioning.getBuffer.call(inputmask).join(""),"");if(1===inputChar.length){var iv=inputValue.split("");iv.splice(caretPos.begin,0,inputChar),inputValue=iv.join("")}}return inputValue}function analyseChanges(inputValue,buffer,caretPos){for(var frontPart=inputValue.substr(0,caretPos.begin).split(""),backPart=inputValue.substr(caretPos.begin).split(""),frontBufferPart=buffer.substr(0,caretPos.begin).split(""),backBufferPart=buffer.substr(caretPos.begin).split(""),fpl=frontPart.length>=frontBufferPart.length?frontPart.length:frontBufferPart.length,bpl=backPart.length>=backBufferPart.length?backPart.length:backBufferPart.length,bl,i,action="",data=[],marker="~",placeholder;frontPart.length<fpl;)frontPart.push("~");for(;frontBufferPart.length<fpl;)frontBufferPart.push("~");for(;backPart.length<bpl;)backPart.unshift("~");for(;backBufferPart.length<bpl;)backBufferPart.unshift("~");var newBuffer=frontPart.concat(backPart),oldBuffer=frontBufferPart.concat(backBufferPart);for(i=0,bl=newBuffer.length;i<bl;i++)switch(placeholder=_validationTests.getPlaceholder.call(inputmask,_positioning.translatePosition.call(inputmask,i)),action){case"insertText":oldBuffer[i-1]===newBuffer[i]&&caretPos.begin==newBuffer.length-1&&data.push(newBuffer[i]),i=bl;break;case"insertReplacementText":"~"===newBuffer[i]?caretPos.end++:i=bl;break;case"deleteContentBackward":"~"===newBuffer[i]?caretPos.end++:i=bl;break;default:newBuffer[i]!==oldBuffer[i]&&("~"!==newBuffer[i+1]&&newBuffer[i+1]!==placeholder&&void 0!==newBuffer[i+1]||(oldBuffer[i]!==placeholder||"~"!==oldBuffer[i+1])&&"~"!==oldBuffer[i]?"~"===oldBuffer[i+1]&&oldBuffer[i]===newBuffer[i+1]?(action="insertText",data.push(newBuffer[i]),caretPos.begin--,caretPos.end--):newBuffer[i]!==placeholder&&"~"!==newBuffer[i]&&("~"===newBuffer[i+1]||oldBuffer[i]!==newBuffer[i]&&oldBuffer[i+1]===newBuffer[i+1])?(action="insertReplacementText",data.push(newBuffer[i]),caretPos.begin--):"~"===newBuffer[i]?(action="deleteContentBackward",!_positioning.isMask.call(inputmask,_positioning.translatePosition.call(inputmask,i),!0)&&oldBuffer[i]!==opts.radixPoint||caretPos.end++):i=bl:(action="insertText",data.push(newBuffer[i]),caretPos.begin--,caretPos.end--));break}return{action:action,data:data,caret:caretPos}}var input=this,inputValue=input.inputmask._valueGet(!0),buffer=(inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice().reverse():_positioning.getBuffer.call(inputmask)).join(""),caretPos=_positioning.caret.call(inputmask,input,void 0,void 0,!0);if(buffer!==inputValue){inputValue=ieMobileHandler(input,inputValue,caretPos);var changes=analyseChanges(inputValue,buffer,caretPos);switch((input.inputmask.shadowRoot||document).activeElement!==input&&input.focus(),(0,_inputHandling.writeBuffer)(input,_positioning.getBuffer.call(inputmask)),_positioning.caret.call(inputmask,input,caretPos.begin,caretPos.end,!0),changes.action){case"insertText":case"insertReplacementText":changes.data.forEach(function(entry,ndx){var keypress=new $.Event("keypress");keypress.which=entry.charCodeAt(0),inputmask.ignorable=!1,EventHandlers.keypressEvent.call(input,keypress)}),setTimeout(function(){inputmask.$el.trigger("keyup")},0);break;case"deleteContentBackward":var keydown=new $.Event("keydown");keydown.keyCode=_keycode.default.BACKSPACE,EventHandlers.keydownEvent.call(input,keydown);break;default:(0,_inputHandling.applyInputValue)(input,inputValue);break}e.preventDefault()}},compositionendEvent:function compositionendEvent(e){var inputmask=this.inputmask;inputmask.isComposing=!1,inputmask.$el.trigger("input")},setValueEvent:function setValueEvent(e,argument_1,argument_2){var inputmask=this.inputmask,input=this,value=e&&e.detail?e.detail[0]:argument_1;void 0===value&&(value=this.inputmask._valueGet(!0)),(0,_inputHandling.applyInputValue)(this,value),(e.detail&&void 0!==e.detail[1]||void 0!==argument_2)&&_positioning.caret.call(inputmask,this,e.detail?e.detail[1]:argument_2)},focusEvent:function focusEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,input=this,nptValue=this.inputmask._valueGet();opts.showMaskOnFocus&&nptValue!==_positioning.getBuffer.call(inputmask).join("")&&(0,_inputHandling.writeBuffer)(this,_positioning.getBuffer.call(inputmask),_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask))),!0!==opts.positionCaretOnTab||!1!==inputmask.mouseEnter||_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&-1!==_positioning.getLastValidPosition.call(inputmask)||EventHandlers.clickEvent.apply(this,[e,!0]),inputmask.undoValue=_positioning.getBuffer.call(inputmask).join("")},invalidEvent:function invalidEvent(e){this.inputmask.validationEvent=!0},mouseleaveEvent:function mouseleaveEvent(){var inputmask=this.inputmask,opts=inputmask.opts,input=this;inputmask.mouseEnter=!1,opts.clearMaskOnLostFocus&&(this.inputmask.shadowRoot||document).activeElement!==this&&(0,_inputHandling.HandleNativePlaceholder)(this,inputmask.originalPlaceholder)},clickEvent:function clickEvent(e,tabbed){var inputmask=this.inputmask,input=this;if((this.inputmask.shadowRoot||document).activeElement===this){var newCaretPosition=_positioning.determineNewCaretPosition.call(inputmask,_positioning.caret.call(inputmask,this),tabbed);void 0!==newCaretPosition&&_positioning.caret.call(inputmask,this,newCaretPosition)}},cutEvent:function cutEvent(e){var inputmask=this.inputmask,maskset=inputmask.maskset,input=this,pos=_positioning.caret.call(inputmask,this),clipboardData=window.clipboardData||e.clipboardData,clipData=inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice(pos.end,pos.begin):_positioning.getBuffer.call(inputmask).slice(pos.begin,pos.end);clipboardData.setData("text",inputmask.isRTL?clipData.reverse().join(""):clipData.join("")),document.execCommand&&document.execCommand("copy"),_validation.handleRemove.call(inputmask,this,_keycode.default.DELETE,pos),(0,_inputHandling.writeBuffer)(this,_positioning.getBuffer.call(inputmask),maskset.p,e,inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join(""))},blurEvent:function blurEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib,$input=$(this),input=this;if(this.inputmask){(0,_inputHandling.HandleNativePlaceholder)(this,inputmask.originalPlaceholder);var nptValue=this.inputmask._valueGet(),buffer=_positioning.getBuffer.call(inputmask).slice();""!==nptValue&&(opts.clearMaskOnLostFocus&&(-1===_positioning.getLastValidPosition.call(inputmask)&&nptValue===_positioning.getBufferTemplate.call(inputmask).join("")?buffer=[]:_inputHandling.clearOptionalTail.call(inputmask,buffer)),!1===_validation.isComplete.call(inputmask,buffer)&&(setTimeout(function(){$input.trigger("incomplete")},0),opts.clearIncomplete&&(_positioning.resetMaskSet.call(inputmask),buffer=opts.clearMaskOnLostFocus?[]:_positioning.getBufferTemplate.call(inputmask).slice())),(0,_inputHandling.writeBuffer)(this,buffer,void 0,e)),inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&(inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),$input.trigger("change"))}},mouseenterEvent:function mouseenterEvent(){var inputmask=this.inputmask,opts=inputmask.opts,input=this;if(inputmask.mouseEnter=!0,(this.inputmask.shadowRoot||document).activeElement!==this){var bufferTemplate=(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).join("");inputmask.placeholder!==bufferTemplate&&this.placeholder!==inputmask.originalPlaceholder&&(inputmask.originalPlaceholder=this.placeholder),opts.showMaskOnHover&&(0,_inputHandling.HandleNativePlaceholder)(this,bufferTemplate)}},submitEvent:function submitEvent(){var inputmask=this.inputmask,opts=inputmask.opts;inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&inputmask.$el.trigger("change"),opts.clearMaskOnLostFocus&&-1===_positioning.getLastValidPosition.call(inputmask)&&inputmask._valueGet&&inputmask._valueGet()===_positioning.getBufferTemplate.call(inputmask).join("")&&inputmask._valueSet(""),opts.clearIncomplete&&!1===_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&inputmask._valueSet(""),opts.removeMaskOnSubmit&&(inputmask._valueSet(inputmask.unmaskedvalue(),!0),setTimeout(function(){(0,_inputHandling.writeBuffer)(inputmask.el,_positioning.getBuffer.call(inputmask))},0))},resetEvent:function resetEvent(){var inputmask=this.inputmask;inputmask.refreshValue=!0,setTimeout(function(){(0,_inputHandling.applyInputValue)(inputmask.el,inputmask._valueGet(!0))},0)}};exports.EventHandlers=EventHandlers},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iphone=exports.iemobile=exports.mobile=exports.ie=exports.ua=void 0;var _window=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ua=_window.default.navigator&&_window.default.navigator.userAgent||"",ie=0<ua.indexOf("MSIE ")||0<ua.indexOf("Trident/"),mobile="ontouchstart"in _window.default,iemobile=/iemobile/i.test(ua),iphone=/iphone/i.test(ua)&&!iemobile;exports.iphone=iphone,exports.iemobile=iemobile,exports.mobile=mobile,exports.ie=ie,exports.ua=ua},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extend=_interopRequireDefault(__webpack_require__(12)),_window=_interopRequireDefault(__webpack_require__(5)),_data=_interopRequireDefault(__webpack_require__(19)),_events=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document;function DependencyLib(elem){return elem instanceof DependencyLib?elem:this instanceof DependencyLib?void(null!=elem&&elem!==_window.default&&(this[0]=elem.nodeName?elem:void 0!==elem[0]&&elem[0].nodeName?elem[0]:document.querySelector(elem),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new DependencyLib(elem)}DependencyLib.prototype={on:_events.on,off:_events.off,trigger:_events.trigger},DependencyLib.extend=_extend.default,DependencyLib.data=_data.default,DependencyLib.Event=_events.Event;var _default=DependencyLib;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventRuler=void 0;var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_inputHandling=__webpack_require__(7);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventRuler={on:function on(input,eventName,eventHandler){var $=input.inputmask.dependencyLib,ev=function ev(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var that=this,args,inputmask=that.inputmask,opts=inputmask?inputmask.opts:void 0;if(void 0===inputmask&&"FORM"!==this.nodeName){var imOpts=$.data(that,"_inputmask_opts");$(that).off(),imOpts&&new _inputmask.default(imOpts).mask(that)}else{if(["submit","reset","setvalue"].includes(e.type)||"FORM"===this.nodeName||!(that.disabled||that.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===opts.tabThrough&&e.keyCode===_keycode.default.TAB))){switch(e.type){case"input":if(!0===inputmask.skipInputEvent||e.inputType&&"insertCompositionText"===e.inputType)return inputmask.skipInputEvent=!1,e.preventDefault();break;case"keydown":inputmask.skipKeyPressEvent=!1,inputmask.skipInputEvent=inputmask.isComposing=e.keyCode===_keycode.default.KEY_229;break;case"keyup":case"compositionend":inputmask.isComposing&&(inputmask.skipInputEvent=!1);break;case"keypress":if(!0===inputmask.skipKeyPressEvent)return e.preventDefault();inputmask.skipKeyPressEvent=!0;break;case"click":case"focus":return inputmask.validationEvent?(inputmask.validationEvent=!1,input.blur(),(0,_inputHandling.HandleNativePlaceholder)(input,(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).join("")),setTimeout(function(){input.focus()},3e3)):(args=arguments,setTimeout(function(){input.inputmask&&eventHandler.apply(that,args)},0)),!1}var returnVal=eventHandler.apply(that,arguments);return!1===returnVal&&(e.preventDefault(),e.stopPropagation()),returnVal}e.preventDefault()}};["submit","reset"].includes(eventName)?(ev=ev.bind(input),null!==input.form&&$(input.form).on(eventName,ev)):$(input).on(eventName,ev),input.inputmask.events[eventName]=input.inputmask.events[eventName]||[],input.inputmask.events[eventName].push(ev)},off:function off(input,event){if(input.inputmask&&input.inputmask.events){var $=input.inputmask.dependencyLib,events=input.inputmask.events;for(var eventName in event&&(events=[],events[event]=input.inputmask.events[event]),events){for(var evArr=events[eventName];0<evArr.length;){var ev=evArr.pop();["submit","reset"].includes(eventName)?null!==input.form&&$(input.form).off(eventName,ev):$(input).off(eventName,ev)}delete input.inputmask.events[eventName]}}}};exports.EventRuler=EventRuler},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"!==_typeof(target)&&"function"!=typeof target&&(target={});i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&("[object Object]"===Object.prototype.toString.call(copy)||(copyIsArray=Array.isArray(copy)))?(clone=copyIsArray?(copyIsArray=!1,src&&Array.isArray(src)?src:[]):src&&"[object Object]"===Object.prototype.toString.call(src)?src:{},target[name]=extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=extend},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var escapeRegexRegex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim");function _default(str){return str.replace(escapeRegexRegex,"\\$1")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(15),__webpack_require__(24),__webpack_require__(25),__webpack_require__(26);var _inputmask2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=_inputmask2.default;exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_positioning=__webpack_require__(1),_validationTests=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_inputmask.default.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var ipValidatorRegex=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function ipValidator(chrs,maskset,pos,strict,opts){return chrs=-1<pos-1&&"."!==maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,-1<pos-2&&"."!==maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):"00"+chrs,ipValidatorRegex.test(chrs)}_inputmask.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:ipValidator},j:{validator:ipValidator},k:{validator:ipValidator},l:{validator:ipValidator}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function onBeforePaste(pastedValue,opts){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict){var bffr=_validationTests.getMaskTemplate.call(this,!0,_positioning.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(bffr.join(""))}}})},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===_typeof("test".__proto__)?function(object){return object.__proto__}:function(object){return object.constructor.prototype})},function(module,exports,__webpack_require__){"use strict";Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function value(searchElement,fromIndex){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if(0==len)return!1;for(var n=0|fromIndex,k=Math.max(0<=n?n:len-Math.abs(n),0);k<len;){if(o[k]===searchElement)return!0;k++}return!1}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mask=mask;var _keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_inputHandling=__webpack_require__(7),_eventruler=__webpack_require__(11),_environment=__webpack_require__(9),_validation=__webpack_require__(4),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function mask(){var inputmask=this,opts=this.opts,el=this.el,$=this.dependencyLib;function isElementTypeSupported(input,opts){function patchValueProperty(npt){var valueGet,valueSet;function patchValhook(type){if($.valHooks&&(void 0===$.valHooks[type]||!0!==$.valHooks[type].inputmaskpatch)){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function get(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask)return elem.inputmask.unmaskedvalue();var result=valhookGet(elem);return-1!==_positioning.getLastValidPosition.call(inputmask,void 0,void 0,elem.inputmask.maskset.validPositions)||!0!==opts.nullable?result:""}return valhookGet(elem)},set:function set(elem,value){var result=valhookSet(elem,value);return elem.inputmask&&(0,_inputHandling.applyInputValue)(elem,value),result},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==_positioning.getLastValidPosition.call(inputmask)||!0!==opts.nullable?(this.inputmask.shadowRoot||document.activeElement)===this&&opts.clearMaskOnLostFocus?(inputmask.isRTL?_inputHandling.clearOptionalTail.call(inputmask,_positioning.getBuffer.call(inputmask).slice()).reverse():_inputHandling.clearOptionalTail.call(inputmask,_positioning.getBuffer.call(inputmask).slice())).join(""):valueGet.call(this):"":valueGet.call(this)}function setter(value){valueSet.call(this,value),this.inputmask&&(0,_inputHandling.applyInputValue)(this,value)}function installNativeValueSetFallback(npt){_eventruler.EventRuler.on(npt,"mouseenter",function(){var input=this,value=this.inputmask._valueGet(!0);value!==(inputmask.isRTL?_positioning.getBuffer.call(inputmask).reverse():_positioning.getBuffer.call(inputmask)).join("")&&(0,_inputHandling.applyInputValue)(this,value)})}if(!npt.inputmask.__valueGet){if(!0!==opts.noValuePatching){if(Object.getOwnPropertyDescriptor){var valueProperty=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt),"value"):void 0;valueProperty&&valueProperty.get&&valueProperty.set?(valueGet=valueProperty.get,valueSet=valueProperty.set,Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0})):"input"!==npt.tagName.toLowerCase()&&(valueGet=function valueGet(){return this.textContent},valueSet=function valueSet(value){this.textContent=value},Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0}))}else document.__lookupGetter__&&npt.__lookupGetter__("value")&&(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter));npt.inputmask.__valueGet=valueGet,npt.inputmask.__valueSet=valueSet}npt.inputmask._valueGet=function(overruleRTL){return inputmask.isRTL&&!0!==overruleRTL?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el)},npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,null==value?"":!0!==overruleRTL&&inputmask.isRTL?value.split("").reverse().join(""):value)},void 0===valueGet&&(valueGet=function valueGet(){return this.value},valueSet=function valueSet(value){this.value=value},patchValhook(npt.type),installNativeValueSetFallback(npt))}}"textarea"!==input.tagName.toLowerCase()&&opts.ignorables.push(_keycode.default.ENTER);var elementType=input.getAttribute("type"),isSupported="input"===input.tagName.toLowerCase()&&opts.supportsInputType.includes(elementType)||input.isContentEditable||"textarea"===input.tagName.toLowerCase();if(!isSupported)if("input"===input.tagName.toLowerCase()){var el=document.createElement("input");el.setAttribute("type",elementType),isSupported="text"===el.type,el=null}else isSupported="partial";return!1!==isSupported?patchValueProperty(input):input.inputmask=void 0,isSupported}_eventruler.EventRuler.off(el);var isSupported=isElementTypeSupported(el,opts);if(!1!==isSupported){inputmask.originalPlaceholder=el.placeholder,inputmask.maxLength=void 0!==el?el.maxLength:void 0,-1===inputmask.maxLength&&(inputmask.maxLength=void 0),"inputMode"in el&&null===el.getAttribute("inputmode")&&(el.inputMode=opts.inputmode,el.setAttribute("inputmode",opts.inputmode)),!0===isSupported&&(opts.showMaskOnFocus=opts.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(el.autocomplete),_environment.iphone&&(opts.insertModeVisual=!1),_eventruler.EventRuler.on(el,"submit",_eventhandlers.EventHandlers.submitEvent),_eventruler.EventRuler.on(el,"reset",_eventhandlers.EventHandlers.resetEvent),_eventruler.EventRuler.on(el,"blur",_eventhandlers.EventHandlers.blurEvent),_eventruler.EventRuler.on(el,"focus",_eventhandlers.EventHandlers.focusEvent),_eventruler.EventRuler.on(el,"invalid",_eventhandlers.EventHandlers.invalidEvent),_eventruler.EventRuler.on(el,"click",_eventhandlers.EventHandlers.clickEvent),_eventruler.EventRuler.on(el,"mouseleave",_eventhandlers.EventHandlers.mouseleaveEvent),_eventruler.EventRuler.on(el,"mouseenter",_eventhandlers.EventHandlers.mouseenterEvent),_eventruler.EventRuler.on(el,"paste",_eventhandlers.EventHandlers.pasteEvent),_eventruler.EventRuler.on(el,"cut",_eventhandlers.EventHandlers.cutEvent),_eventruler.EventRuler.on(el,"complete",opts.oncomplete),_eventruler.EventRuler.on(el,"incomplete",opts.onincomplete),_eventruler.EventRuler.on(el,"cleared",opts.oncleared),!0!==opts.inputEventOnly&&(_eventruler.EventRuler.on(el,"keydown",_eventhandlers.EventHandlers.keydownEvent),_eventruler.EventRuler.on(el,"keypress",_eventhandlers.EventHandlers.keypressEvent),_eventruler.EventRuler.on(el,"keyup",_eventhandlers.EventHandlers.keyupEvent)),(_environment.mobile||opts.inputEventOnly)&&el.removeAttribute("maxLength"),_eventruler.EventRuler.on(el,"input",_eventhandlers.EventHandlers.inputFallBackEvent),_eventruler.EventRuler.on(el,"compositionend",_eventhandlers.EventHandlers.compositionendEvent)),_eventruler.EventRuler.on(el,"setvalue",_eventhandlers.EventHandlers.setValueEvent),inputmask.undoValue=_positioning.getBufferTemplate.call(inputmask).join("");var activeElement=(el.inputmask.shadowRoot||document).activeElement;if(""!==el.inputmask._valueGet(!0)||!1===opts.clearMaskOnLostFocus||activeElement===el){(0,_inputHandling.applyInputValue)(el,el.inputmask._valueGet(!0),opts);var buffer=_positioning.getBuffer.call(inputmask).slice();!1===_validation.isComplete.call(inputmask,buffer)&&opts.clearIncomplete&&_positioning.resetMaskSet.call(inputmask),opts.clearMaskOnLostFocus&&activeElement!==el&&(-1===_positioning.getLastValidPosition.call(inputmask)?buffer=[]:_inputHandling.clearOptionalTail.call(inputmask,buffer)),(!1===opts.clearMaskOnLostFocus||opts.showMaskOnFocus&&activeElement===el||""!==el.inputmask._valueGet(!0))&&(0,_inputHandling.writeBuffer)(el,buffer),activeElement===el&&_positioning.caret.call(inputmask,el,_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask)))}}}},function(module,exports,__webpack_require__){"use strict";function _default(owner,key,value){if(void 0===value)return owner.__data?owner.__data[key]:null;owner.__data=owner.__data||{},owner.__data[key]=value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=on,exports.off=off,exports.trigger=trigger,exports.Event=void 0;var _extend=_interopRequireDefault(__webpack_require__(12)),_window=_interopRequireDefault(__webpack_require__(5)),_inputmask=_interopRequireDefault(__webpack_require__(10)),_canUseDOM=_interopRequireDefault(__webpack_require__(6)),Event;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isValidElement(elem){return elem instanceof Element}function on(events,handler){function addEvent(ev,namespace){elem.addEventListener?elem.addEventListener(ev,handler,!1):elem.attachEvent&&elem.attachEvent("on"+ev,handler),eventRegistry[ev]=eventRegistry[ev]||{},eventRegistry[ev][namespace]=eventRegistry[ev][namespace]||[],eventRegistry[ev][namespace].push(handler)}if(isValidElement(this[0]))for(var eventRegistry=this[0].eventRegistry,elem=this[0],_events=events.split(" "),endx=0;endx<_events.length;endx++){var nsEvent=_events[endx].split("."),ev=nsEvent[0],namespace=nsEvent[1]||"global";addEvent(ev,namespace)}return this}function off(events,handler){var eventRegistry,elem;function removeEvent(ev,namespace,handler){if(ev in eventRegistry==!0)if(elem.removeEventListener?elem.removeEventListener(ev,handler,!1):elem.detachEvent&&elem.detachEvent("on"+ev,handler),"global"===namespace)for(var nmsp in eventRegistry[ev])eventRegistry[ev][nmsp].splice(eventRegistry[ev][nmsp].indexOf(handler),1);else eventRegistry[ev][namespace].splice(eventRegistry[ev][namespace].indexOf(handler),1)}function resolveNamespace(ev,namespace){var evts=[],hndx,hndL;if(0<ev.length)if(void 0===handler)for(hndx=0,hndL=eventRegistry[ev][namespace].length;hndx<hndL;hndx++)evts.push({ev:ev,namespace:namespace&&0<namespace.length?namespace:"global",handler:eventRegistry[ev][namespace][hndx]});else evts.push({ev:ev,namespace:namespace&&0<namespace.length?namespace:"global",handler:handler});else if(0<namespace.length)for(var evNdx in eventRegistry)for(var nmsp in eventRegistry[evNdx])if(nmsp===namespace)if(void 0===handler)for(hndx=0,hndL=eventRegistry[evNdx][nmsp].length;hndx<hndL;hndx++)evts.push({ev:evNdx,namespace:nmsp,handler:eventRegistry[evNdx][nmsp][hndx]});else evts.push({ev:evNdx,namespace:nmsp,handler:handler});return evts}if(isValidElement(this[0])&&events){eventRegistry=this[0].eventRegistry,elem=this[0];for(var _events=events.split(" "),endx=0;endx<_events.length;endx++)for(var nsEvent=_events[endx].split("."),offEvents=resolveNamespace(nsEvent[0],nsEvent[1]),i=0,offEventsL=offEvents.length;i<offEventsL;i++)removeEvent(offEvents[i].ev,offEvents[i].namespace,offEvents[i].handler)}return this}function trigger(events){if(isValidElement(this[0]))for(var eventRegistry=this[0].eventRegistry,elem=this[0],_events="string"==typeof events?events.split(" "):[events.type],endx=0;endx<_events.length;endx++){var nsEvent=_events[endx].split("."),ev=nsEvent[0],namespace=nsEvent[1]||"global";if(void 0!==document&&"global"===namespace){var evnt,i,params={bubbles:!0,cancelable:!0,detail:arguments[1]};if(document.createEvent){try{switch(ev){case"input":evnt=new InputEvent(ev,params);break;default:evnt=new CustomEvent(ev,params)}}catch(e){evnt=document.createEvent("CustomEvent"),evnt.initCustomEvent(ev,params.bubbles,params.cancelable,params.detail)}events.type&&(0,_extend.default)(evnt,events),elem.dispatchEvent(evnt)}else evnt=document.createEventObject(),evnt.eventType=ev,evnt.detail=arguments[1],events.type&&(0,_extend.default)(evnt,events),elem.fireEvent("on"+evnt.eventType,evnt)}else if(void 0!==eventRegistry[ev])if(arguments[0]=arguments[0].type?arguments[0]:_inputmask.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1),"global"===namespace)for(var nmsp in eventRegistry[ev])for(i=0;i<eventRegistry[ev][nmsp].length;i++)eventRegistry[ev][nmsp][i].apply(elem,arguments);else for(i=0;i<eventRegistry[ev][namespace].length;i++)eventRegistry[ev][namespace][i].apply(elem,arguments)}return this}exports.Event=Event,"function"==typeof _window.default.CustomEvent?exports.Event=Event=_window.default.CustomEvent:_canUseDOM.default&&(exports.Event=Event=function Event(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt},Event.prototype=_window.default.Event.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateMaskSet=generateMaskSet,exports.analyseMask=analyseMask;var _inputmask=_interopRequireDefault(__webpack_require__(10));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function generateMaskSet(opts,nocache){var ms;function generateMask(mask,metadata,opts){var regexMask=!1,masksetDefinition,maskdefKey;if(null!==mask&&""!==mask||(regexMask=null!==opts.regex,mask=regexMask?(mask=opts.regex,mask.replace(/^(\^)(.*)(\$)$/,"$2")):(regexMask=!0,".*")),1===mask.length&&!1===opts.greedy&&0!==opts.repeat&&(opts.placeholder=""),0<opts.repeat||"*"===opts.repeat||"+"===opts.repeat){var repeatStart="*"===opts.repeat?0:"+"===opts.repeat?1:opts.repeat;mask=opts.groupmarker[0]+mask+opts.groupmarker[1]+opts.quantifiermarker[0]+repeatStart+","+opts.repeat+opts.quantifiermarker[1]}return maskdefKey=regexMask?"regex_"+opts.regex:opts.numericInput?mask.split("").reverse().join(""):mask,!1!==opts.keepStatic&&(maskdefKey="ks_"+maskdefKey),void 0===Inputmask.prototype.masksCache[maskdefKey]||!0===nocache?(masksetDefinition={mask:mask,maskToken:Inputmask.prototype.analyseMask(mask,regexMask,opts),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:metadata,maskLength:void 0,jitOffset:{}},!0!==nocache&&(Inputmask.prototype.masksCache[maskdefKey]=masksetDefinition,masksetDefinition=_inputmask.default.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]))):masksetDefinition=_inputmask.default.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]),masksetDefinition}if("function"==typeof opts.mask&&(opts.mask=opts.mask(opts)),Array.isArray(opts.mask)){if(1<opts.mask.length){null===opts.keepStatic&&(opts.keepStatic=!0);var altMask=opts.groupmarker[0];return(opts.isRTL?opts.mask.reverse():opts.mask).forEach(function(msk){1<altMask.length&&(altMask+=opts.groupmarker[1]+opts.alternatormarker+opts.groupmarker[0]),void 0!==msk.mask&&"function"!=typeof msk.mask?altMask+=msk.mask:altMask+=msk}),altMask+=opts.groupmarker[1],generateMask(altMask,opts.mask,opts)}opts.mask=opts.mask.pop()}return null===opts.keepStatic&&(opts.keepStatic=!1),ms=opts.mask&&void 0!==opts.mask.mask&&"function"!=typeof opts.mask.mask?generateMask(opts.mask.mask,opts.mask,opts):generateMask(opts.mask,opts.mask,opts),ms}function analyseMask(mask,regexMask,opts){var tokenizer=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,regexTokenizer=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,escaped=!1,currentToken=new MaskToken,match,m,openenings=[],maskTokens=[],openingToken,currentOpeningToken,alternator,lastMatch,closeRegexGroup=!1;function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[],this.openGroup=isGroup||!1,this.alternatorGroup=!1,this.isGroup=isGroup||!1,this.isOptional=isOptional||!1,this.isQuantifier=isQuantifier||!1,this.isAlternator=isAlternator||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){position=void 0!==position?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(regexMask)0===element.indexOf("[")||escaped&&/\\d|\\s|\\w]/i.test(element)||"."===element?mtoken.matches.splice(position++,0,{fn:new RegExp(element,opts.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element,casing:null,def:element,placeholder:void 0,nativeDef:element}):(escaped&&(element=element[element.length-1]),element.split("").forEach(function(lmnt,ndx){prevMatch=mtoken.matches[position-1],mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||lmnt)?new RegExp("["+(opts.staticDefinitionSymbol||lmnt)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==lmnt&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||lmnt,placeholder:void 0!==opts.staticDefinitionSymbol?lmnt:void 0,nativeDef:(escaped?"'":"")+lmnt})})),escaped=!1;else{var maskdef=opts.definitions&&opts.definitions[element]||opts.usePrototypeDefinitions&&Inputmask.prototype.definitions[element];maskdef&&!escaped?mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator,opts.casing?"i":""):new function(){this.test=maskdef.validator}:new RegExp("."),static:maskdef.static||!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,nativeDef:element,generated:maskdef.generated}):(mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||element)?new RegExp("["+(opts.staticDefinitionSymbol||element)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||element,placeholder:void 0!==opts.staticDefinitionSymbol?element:void 0,nativeDef:(escaped?"'":"")+element}),escaped=!1)}}function verifyGroupMarker(maskToken){maskToken&&maskToken.matches&&maskToken.matches.forEach(function(token,ndx){var nextToken=maskToken.matches[ndx+1];(void 0===nextToken||void 0===nextToken.matches||!1===nextToken.isQuantifier)&&token&&token.isGroup&&(token.isGroup=!1,regexMask||(insertTestDefinition(token,opts.groupmarker[0],0),!0!==token.openGroup&&insertTestDefinition(token,opts.groupmarker[1]))),verifyGroupMarker(token)})}function defaultCase(){if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],insertTestDefinition(currentOpeningToken,m),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup&&(alternator.matches[mndx].isGroup=!1);0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else insertTestDefinition(currentToken,m)}function reverseTokens(maskToken){function reverseStatic(st){return st===opts.optionalmarker[0]?st=opts.optionalmarker[1]:st===opts.optionalmarker[1]?st=opts.optionalmarker[0]:st===opts.groupmarker[0]?st=opts.groupmarker[1]:st===opts.groupmarker[1]&&(st=opts.groupmarker[0]),st}for(var match in maskToken.matches=maskToken.matches.reverse(),maskToken.matches)if(Object.prototype.hasOwnProperty.call(maskToken.matches,match)){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1),maskToken.matches.splice(intMatch+1,0,qt)}void 0!==maskToken.matches[match].matches?maskToken.matches[match]=reverseTokens(maskToken.matches[match]):maskToken.matches[match]=reverseStatic(maskToken.matches[match])}return maskToken}function groupify(matches){var groupToken=new MaskToken(!0);return groupToken.openGroup=!1,groupToken.matches=matches,groupToken}function closeGroup(){if(openingToken=openenings.pop(),openingToken.openGroup=!1,void 0!==openingToken)if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1,alternator.matches[mndx].alternatorGroup=!1;0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);else defaultCase()}function groupQuantifier(matches){var lastMatch=matches.pop();return lastMatch.isQuantifier&&(lastMatch=groupify([matches.pop(),lastMatch])),lastMatch}for(regexMask&&(opts.optionalmarker[0]=void 0,opts.optionalmarker[1]=void 0);match=regexMask?regexTokenizer.exec(mask):tokenizer.exec(mask);){if(m=match[0],regexMask)switch(m.charAt(0)){case"?":m="{0,1}";break;case"+":case"*":m="{"+m+"}";break;case"|":if(0===openenings.length){var altRegexGroup=groupify(currentToken.matches);altRegexGroup.openGroup=!0,openenings.push(altRegexGroup),currentToken.matches=[],closeRegexGroup=!0}break}if(escaped)defaultCase();else switch(m.charAt(0)){case"$":case"^":regexMask||defaultCase();break;case"(?=":break;case"(?!":break;case"(?<=":break;case"(?<!":break;case opts.escapeChar:escaped=!0,regexMask&&defaultCase();break;case opts.optionalmarker[1]:case opts.groupmarker[1]:closeGroup();break;case opts.optionalmarker[0]:openenings.push(new MaskToken(!1,!0));break;case opts.groupmarker[0]:openenings.push(new MaskToken(!0));break;case opts.quantifiermarker[0]:var quantifier=new MaskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mqj=m.split("|"),mq=mqj[0].split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);"*"!==mq0&&"+"!==mq0||(mq0="*"===mq1?0:1),quantifier.quantifier={min:mq0,max:mq1,jit:mqj[1]};var matches=0<openenings.length?openenings[openenings.length-1].matches:currentToken.matches;if(match=matches.pop(),match.isAlternator){matches.push(match),matches=match.matches;var groupToken=new MaskToken(!0),tmpMatch=matches.pop();matches.push(groupToken),matches=groupToken.matches,match=tmpMatch}match.isGroup||(match=groupify([match])),matches.push(match),matches.push(quantifier);break;case opts.alternatormarker:if(0<openenings.length){currentOpeningToken=openenings[openenings.length-1];var subToken=currentOpeningToken.matches[currentOpeningToken.matches.length-1];lastMatch=currentOpeningToken.openGroup&&(void 0===subToken.matches||!1===subToken.isGroup&&!1===subToken.isAlternator)?openenings.pop():groupQuantifier(currentOpeningToken.matches)}else lastMatch=groupQuantifier(currentToken.matches);if(lastMatch.isAlternator)openenings.push(lastMatch);else if(lastMatch.alternatorGroup?(alternator=openenings.pop(),lastMatch.alternatorGroup=!1):alternator=new MaskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator),lastMatch.openGroup){lastMatch.openGroup=!1;var alternatorGroup=new MaskToken(!0);alternatorGroup.alternatorGroup=!0,openenings.push(alternatorGroup)}break;default:defaultCase()}}for(closeRegexGroup&&closeGroup();0<openenings.length;)openingToken=openenings.pop(),currentToken.matches.push(openingToken);return 0<currentToken.matches.length&&(verifyGroupMarker(currentToken),maskTokens.push(currentToken)),(opts.numericInput||opts.isRTL)&&reverseTokens(maskTokens[0]),maskTokens}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={9:{validator:"[0-9\uff10-\uff19]",definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",definitionSymbol:"*"},"*":{validator:"[0-9\uff10-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]"}};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function oncomplete(){},onincomplete:function onincomplete(){},oncleared:function oncleared(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function onKeyDown(){},onBeforeMask:null,onBeforePaste:function onBeforePaste(pastedValue,opts){return"function"==typeof opts.onBeforeMask?opts.onBeforeMask.call(this,pastedValue,opts):pastedValue},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function onKeyValidation(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0};exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_escapeRegex=_interopRequireDefault(__webpack_require__(13)),_positioning=__webpack_require__(1);function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=_inputmask.default.dependencyLib,currentYear=(new Date).getFullYear(),formatCode={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return pad(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return pad(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],hx:[function(x){return"[0-9]{".concat(x,"}")},Date.prototype.setHours,"hours",function(x){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],Hx:[function(x){return"[0-9]{".concat(x,"}")},Date.prototype.setHours,"hours",function(x){return function(){return pad(Date.prototype.getHours.call(this),x)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return pad(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return pad(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},formatAlias={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function formatcode(match){var dynMatches=new RegExp("\\d+$").exec(match[0]);if(dynMatches&&void 0!==dynMatches[0]){var fcode=formatCode[match[0][0]+"x"].slice("");return fcode[0]=fcode[0](dynMatches[0]),fcode[3]=fcode[3](dynMatches[0]),fcode}if(formatCode[match[0]])return formatCode[match[0]]}function getTokenizer(opts){if(!opts.tokenizer){var tokens=[],dyntokens=[];for(var ndx in formatCode)if(/\.*x$/.test(ndx)){var dynToken=ndx[0]+"\\d+";-1===dyntokens.indexOf(dynToken)&&dyntokens.push(dynToken)}else-1===tokens.indexOf(ndx[0])&&tokens.push(ndx[0]);opts.tokenizer="("+(0<dyntokens.length?dyntokens.join("|")+"|":"")+tokens.join("+|")+")+?|.",opts.tokenizer=new RegExp(opts.tokenizer,"g")}return opts.tokenizer}function prefillYear(dateParts,currentResult,opts){if(dateParts.year!==dateParts.rawyear){var crrntyear=currentYear.toString(),enteredPart=dateParts.rawyear.replace(/[^0-9]/g,""),currentYearPart=crrntyear.slice(0,enteredPart.length),currentYearNextPart=crrntyear.slice(enteredPart.length);if(2===enteredPart.length&&enteredPart===currentYearPart){var entryCurrentYear=new Date(currentYear,dateParts.month-1,dateParts.day);dateParts.day==entryCurrentYear.getDate()&&(!opts.max||opts.max.date.getTime()>=entryCurrentYear.getTime())&&(dateParts.date.setFullYear(currentYear),dateParts.year=crrntyear,currentResult.insert=[{pos:currentResult.pos+1,c:currentYearNextPart[0]},{pos:currentResult.pos+2,c:currentYearNextPart[1]}])}}return currentResult}function isValidDate(dateParts,currentResult,opts){if(void 0===dateParts.rawday||!isFinite(dateParts.rawday)&&new Date(dateParts.date.getFullYear(),isFinite(dateParts.rawmonth)?dateParts.month:dateParts.date.getMonth()+1,0).getDate()>=dateParts.day||"29"==dateParts.day&&!isFinite(dateParts.rawyear)||new Date(dateParts.date.getFullYear(),isFinite(dateParts.rawmonth)?dateParts.month:dateParts.date.getMonth()+1,0).getDate()>=dateParts.day)return currentResult;if("29"==dateParts.day){var tokenMatch=getTokenMatch(currentResult.pos,opts);if("yyyy"===tokenMatch.targetMatch[0]&&currentResult.pos-tokenMatch.targetMatchIndex==2)return currentResult.remove=currentResult.pos+1,currentResult}else if("02"==dateParts.month&&"30"==dateParts.day)return dateParts.day="03",dateParts.date.setDate(3),dateParts.date.setMonth(1),currentResult.insert=[{pos:currentResult.pos,c:"0"},{pos:currentResult.pos+1,c:currentResult.c}],currentResult.caret=_positioning.seekNext.call(this,currentResult.pos+1),currentResult;return!1}function isDateInRange(dateParts,result,opts,maskset,fromCheckval){if(!result)return result;if(opts.min){if(dateParts.rawyear){var rawYear=dateParts.rawyear.replace(/[^0-9]/g,""),minYear=opts.min.year.substr(0,rawYear.length),maxYear;if(rawYear<minYear){var tokenMatch=getTokenMatch(result.pos,opts);if(rawYear=dateParts.rawyear.substr(0,result.pos-tokenMatch.targetMatchIndex+1).replace(/[^0-9]/g,"0"),minYear=opts.min.year.substr(0,rawYear.length),minYear<=rawYear)return result.remove=tokenMatch.targetMatchIndex+rawYear.length,result;if(rawYear="yyyy"===tokenMatch.targetMatch[0]?dateParts.rawyear.substr(1,1):dateParts.rawyear.substr(0,1),minYear=opts.min.year.substr(2,1),maxYear=opts.max?opts.max.year.substr(2,1):rawYear,1===rawYear.length&&minYear<=rawYear&&rawYear<=maxYear&&!0!==fromCheckval)return"yyyy"===tokenMatch.targetMatch[0]?(result.insert=[{pos:result.pos+1,c:rawYear,strict:!0}],result.caret=result.pos+2,maskset.validPositions[result.pos].input=opts.min.year[1]):(result.insert=[{pos:result.pos+1,c:opts.min.year[1],strict:!0},{pos:result.pos+2,c:rawYear,strict:!0}],result.caret=result.pos+3,maskset.validPositions[result.pos].input=opts.min.year[0]),result;result=!1}}result&&dateParts.year&&dateParts.year===dateParts.rawyear&&opts.min.date.getTime()==opts.min.date.getTime()&&(result=opts.min.date.getTime()<=dateParts.date.getTime())}return result&&opts.max&&opts.max.date.getTime()==opts.max.date.getTime()&&(result=opts.max.date.getTime()>=dateParts.date.getTime()),result}function parse(format,dateObjValue,opts,raw){var mask="",match,fcode;for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(format);)if(void 0===dateObjValue)if(fcode=formatcode(match))mask+="("+fcode[0]+")";else switch(match[0]){case"[":mask+="(";break;case"]":mask+=")?";break;default:mask+=(0,_escapeRegex.default)(match[0])}else if(fcode=formatcode(match))if(!0!==raw&&fcode[3]){var getFn=fcode[3];mask+=getFn.call(dateObjValue.date)}else fcode[2]?mask+=dateObjValue["raw"+fcode[2]]:mask+=match[0];else mask+=match[0];return mask}function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val}function analyseMask(maskString,format,opts){var dateObj={date:new Date(1,0,1)},targetProp,mask=maskString,match,dateOperation;function setValue(dateObj,value,opts){if(dateObj[targetProp]=value.replace(/[^0-9]/g,"0"),dateObj["raw"+targetProp]=value,void 0!==dateOperation){var datavalue=dateObj[targetProp];"day"===targetProp&&0===parseInt(datavalue)&&(datavalue=1),"month"===targetProp&&(datavalue=parseInt(datavalue),0<datavalue)&&(datavalue-=1),dateOperation.call(dateObj.date,datavalue)}}if("string"==typeof mask){for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(format);){var dynMatches=new RegExp("\\d+$").exec(match[0]),fcode=dynMatches?match[0][0]+"x":match[0],value=void 0;if(dynMatches){var lastIndex=getTokenizer(opts).lastIndex,tokanMatch=getTokenMatch(match.index,opts);getTokenizer(opts).lastIndex=lastIndex,value=mask.slice(0,mask.indexOf(tokanMatch.nextMatch[0]))}else value=mask.slice(0,fcode.length);Object.prototype.hasOwnProperty.call(formatCode,fcode)&&(targetProp=formatCode[fcode][2],dateOperation=formatCode[fcode][1],setValue(dateObj,value,opts)),mask=mask.slice(value.length)}return dateObj}if(mask&&"object"===_typeof(mask)&&Object.prototype.hasOwnProperty.call(mask,"date"))return mask}function importDate(dateObj,opts){return parse(opts.inputFormat,{date:dateObj},opts)}function getTokenMatch(pos,opts){var calcPos=0,targetMatch,match,matchLength=0;for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(opts.inputFormat);){var dynMatches=new RegExp("\\d+$").exec(match[0]);if(matchLength=dynMatches?parseInt(dynMatches[0]):match[0].length,calcPos+=matchLength,pos<=calcPos){targetMatch=match,match=getTokenizer(opts).exec(opts.inputFormat);break}}return{targetMatchIndex:calcPos-matchLength,nextMatch:match,targetMatch:targetMatch}}_inputmask.default.extendAliases({datetime:{mask:function mask(opts){return opts.numericInput=!1,formatCode.S=opts.i18n.ordinalSuffix.join("|"),opts.inputFormat=formatAlias[opts.inputFormat]||opts.inputFormat,opts.displayFormat=formatAlias[opts.displayFormat]||opts.displayFormat||opts.inputFormat,opts.outputFormat=formatAlias[opts.outputFormat]||opts.outputFormat||opts.inputFormat,opts.placeholder=""!==opts.placeholder?opts.placeholder:opts.inputFormat.replace(/[[\]]/,""),opts.regex=parse(opts.inputFormat,void 0,opts),opts.min=analyseMask(opts.min,opts.inputFormat,opts),opts.max=analyseMask(opts.max,opts.inputFormat,opts),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset,caretPos,strict){if(strict)return!0;if(isNaN(c)&&buffer[pos]!==c){var tokenMatch=getTokenMatch(pos,opts);if(tokenMatch.nextMatch&&tokenMatch.nextMatch[0]===c&&1<tokenMatch.targetMatch[0].length){var validator=formatCode[tokenMatch.targetMatch[0]][0];if(new RegExp(validator).test("0"+buffer[pos-1]))return buffer[pos]=buffer[pos-1],buffer[pos-1]="0",{fuzzy:!0,buffer:buffer,refreshFromBuffer:{start:pos-1,end:pos+1},pos:pos+1}}}return!0},postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict,fromCheckval){var inputmask=this,tokenMatch,validator;if(strict)return!0;if(!1===currentResult&&(tokenMatch=getTokenMatch(pos+1,opts),tokenMatch.targetMatch&&tokenMatch.targetMatchIndex===pos&&1<tokenMatch.targetMatch[0].length&&void 0!==formatCode[tokenMatch.targetMatch[0]]&&(validator=formatCode[tokenMatch.targetMatch[0]][0],void 0!==maskset.validPositions[pos+1]&&new RegExp(validator).test(c+"0")?(buffer[pos]=c,buffer[pos+1]="0",currentResult={pos:pos+2,caret:pos}):new RegExp(validator).test("0"+c)&&(buffer[pos]="0",buffer[pos+1]=c,currentResult={pos:pos+2})),!1===currentResult))return currentResult;if(currentResult.fuzzy&&(buffer=currentResult.buffer,pos=currentResult.pos),tokenMatch=getTokenMatch(pos,opts),tokenMatch.targetMatch&&tokenMatch.targetMatch[0]&&void 0!==formatCode[tokenMatch.targetMatch[0]]){validator=formatCode[tokenMatch.targetMatch[0]][0];var part=buffer.slice(tokenMatch.targetMatchIndex,tokenMatch.targetMatchIndex+tokenMatch.targetMatch[0].length);!1===new RegExp(validator).test(part.join(""))&&2===tokenMatch.targetMatch[0].length&&maskset.validPositions[tokenMatch.targetMatchIndex]&&maskset.validPositions[tokenMatch.targetMatchIndex+1]&&(maskset.validPositions[tokenMatch.targetMatchIndex+1].input="0")}var result=currentResult,dateParts=analyseMask(buffer.join(""),opts.inputFormat,opts);return result&&dateParts.date.getTime()==dateParts.date.getTime()&&(result=prefillYear(dateParts,result,opts),result=isValidDate.call(this,dateParts,result,opts),result=isDateInRange(dateParts,result,opts,maskset,fromCheckval)),pos&&result&&currentResult.pos!==pos?{buffer:parse(opts.inputFormat,dateParts,opts).split(""),refreshFromBuffer:{start:pos,end:currentResult.pos},pos:currentResult.caret||currentResult.pos}:result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var input=this;e.ctrlKey&&e.keyCode===_keycode.default.RIGHT&&(this.inputmask._valueSet(importDate(new Date,opts)),$(this).trigger("setvalue"))},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return unmaskedValue?parse(opts.outputFormat,analyseMask(maskedValue,opts.inputFormat,opts),opts,!0):unmaskedValue},casing:function casing(elem,test,pos,validPositions){return 0==test.nativeDef.indexOf("[ap]")?elem.toLowerCase():0==test.nativeDef.indexOf("[AP]")?elem.toUpperCase():elem},onBeforeMask:function onBeforeMask(initialValue,opts){return"[object Date]"===Object.prototype.toString.call(initialValue)&&(initialValue=importDate(initialValue,opts)),initialValue},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric"}})},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_escapeRegex=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=_inputmask.default.dependencyLib;function autoEscape(txt,opts){for(var escapedTxt="",i=0;i<txt.length;i++)_inputmask.default.prototype.definitions[txt.charAt(i)]||opts.definitions[txt.charAt(i)]||opts.optionalmarker[0]===txt.charAt(i)||opts.optionalmarker[1]===txt.charAt(i)||opts.quantifiermarker[0]===txt.charAt(i)||opts.quantifiermarker[1]===txt.charAt(i)||opts.groupmarker[0]===txt.charAt(i)||opts.groupmarker[1]===txt.charAt(i)||opts.alternatormarker===txt.charAt(i)?escapedTxt+="\\"+txt.charAt(i):escapedTxt+=txt.charAt(i);return escapedTxt}function alignDigits(buffer,digits,opts,force){if(0<buffer.length&&0<digits&&(!opts.digitsOptional||force)){var radixPosition=buffer.indexOf(opts.radixPoint),negationBack=!1;opts.negationSymbol.back===buffer[buffer.length-1]&&(negationBack=!0,buffer.length--),-1===radixPosition&&(buffer.push(opts.radixPoint),radixPosition=buffer.length-1);for(var i=1;i<=digits;i++)isFinite(buffer[radixPosition+i])||(buffer[radixPosition+i]="0")}return negationBack&&buffer.push(opts.negationSymbol.back),buffer}function findValidator(symbol,maskset){var posNdx=0;if("+"===symbol){for(posNdx in maskset.validPositions);posNdx=parseInt(posNdx)}for(var tstNdx in maskset.tests)if(tstNdx=parseInt(tstNdx),posNdx<=tstNdx)for(var ndx=0,ndxl=maskset.tests[tstNdx].length;ndx<ndxl;ndx++)if((void 0===maskset.validPositions[tstNdx]||"-"===symbol)&&maskset.tests[tstNdx][ndx].match.def===symbol)return tstNdx+(void 0!==maskset.validPositions[tstNdx]&&"-"!==symbol?1:0);return posNdx}function findValid(symbol,maskset){var ret=-1;for(var ndx in maskset.validPositions){var tst=maskset.validPositions[ndx];if(tst&&tst.match.def===symbol){ret=parseInt(ndx);break}}return ret}function parseMinMaxOptions(opts){void 0===opts.parseMinMaxOptions&&(null!==opts.min&&(opts.min=opts.min.toString().replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.min=opts.min.replace(opts.radixPoint,".")),opts.min=isFinite(opts.min)?parseFloat(opts.min):NaN,isNaN(opts.min)&&(opts.min=Number.MIN_VALUE)),null!==opts.max&&(opts.max=opts.max.toString().replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.max=opts.max.replace(opts.radixPoint,".")),opts.max=isFinite(opts.max)?parseFloat(opts.max):NaN,isNaN(opts.max)&&(opts.max=Number.MAX_VALUE)),opts.parseMinMaxOptions="done")}function genMask(opts){opts.repeat=0,opts.groupSeparator===opts.radixPoint&&opts.digits&&"0"!==opts.digits&&("."===opts.radixPoint?opts.groupSeparator=",":","===opts.radixPoint?opts.groupSeparator=".":opts.groupSeparator="")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),1<opts.placeholder.length&&(opts.placeholder=opts.placeholder.charAt(0)),"radixFocus"===opts.positionCaretOnClick&&""===opts.placeholder&&(opts.positionCaretOnClick="lvp");var decimalDef="0",radixPointDef=opts.radixPoint;!0===opts.numericInput&&void 0===opts.__financeInput?(decimalDef="1",opts.positionCaretOnClick="radixFocus"===opts.positionCaretOnClick?"lvp":opts.positionCaretOnClick,opts.digitsOptional=!1,isNaN(opts.digits)&&(opts.digits=2),opts._radixDance=!1,radixPointDef=","===opts.radixPoint?"?":"!",""!==opts.radixPoint&&void 0===opts.definitions[radixPointDef]&&(opts.definitions[radixPointDef]={},opts.definitions[radixPointDef].validator="["+opts.radixPoint+"]",opts.definitions[radixPointDef].placeholder=opts.radixPoint,opts.definitions[radixPointDef].static=!0,opts.definitions[radixPointDef].generated=!0)):(opts.__financeInput=!1,opts.numericInput=!0);var mask="[+]",altMask;if(mask+=autoEscape(opts.prefix,opts),""!==opts.groupSeparator?(void 0===opts.definitions[opts.groupSeparator]&&(opts.definitions[opts.groupSeparator]={},opts.definitions[opts.groupSeparator].validator="["+opts.groupSeparator+"]",opts.definitions[opts.groupSeparator].placeholder=opts.groupSeparator,opts.definitions[opts.groupSeparator].static=!0,opts.definitions[opts.groupSeparator].generated=!0),mask+=opts._mask(opts)):mask+="9{+}",void 0!==opts.digits&&0!==opts.digits){var dq=opts.digits.toString().split(",");isFinite(dq[0])&&dq[1]&&isFinite(dq[1])?mask+=radixPointDef+decimalDef+"{"+opts.digits+"}":(isNaN(opts.digits)||0<parseInt(opts.digits))&&(opts.digitsOptional?(altMask=mask+radixPointDef+decimalDef+"{0,"+opts.digits+"}",opts.keepStatic=!0):mask+=radixPointDef+decimalDef+"{"+opts.digits+"}")}return mask+=autoEscape(opts.suffix,opts),mask+="[-]",altMask&&(mask=[altMask+autoEscape(opts.suffix,opts)+"[-]",mask]),opts.greedy=!1,parseMinMaxOptions(opts),mask}function hanndleRadixDance(pos,c,radixPos,maskset,opts){return opts._radixDance&&opts.numericInput&&c!==opts.negationSymbol.back&&pos<=radixPos&&(0<radixPos||c==opts.radixPoint)&&(void 0===maskset.validPositions[pos-1]||maskset.validPositions[pos-1].input!==opts.negationSymbol.back)&&(pos-=1),pos}function decimalValidator(chrs,maskset,pos,strict,opts){var radixPos=maskset.buffer?maskset.buffer.indexOf(opts.radixPoint):-1,result=-1!==radixPos&&new RegExp("[0-9\uff11-\uff19]").test(chrs);return opts._radixDance&&result&&null==maskset.validPositions[radixPos]?{insert:{pos:radixPos===pos?radixPos+1:radixPos,c:opts.radixPoint},pos:pos}:result}function checkForLeadingZeroes(buffer,opts){var numberMatches=new RegExp("(^"+(""!==opts.negationSymbol.front?(0,_escapeRegex.default)(opts.negationSymbol.front)+"?":"")+(0,_escapeRegex.default)(opts.prefix)+")(.*)("+(0,_escapeRegex.default)(opts.suffix)+(""!=opts.negationSymbol.back?(0,_escapeRegex.default)(opts.negationSymbol.back)+"?":"")+"$)").exec(buffer.slice().reverse().join("")),number=numberMatches?numberMatches[2]:"",leadingzeroes=!1;return number&&(number=number.split(opts.radixPoint.charAt(0))[0],leadingzeroes=new RegExp("^[0"+opts.groupSeparator+"]*").exec(number)),!(!leadingzeroes||!(1<leadingzeroes[0].length||0<leadingzeroes[0].length&&leadingzeroes[0].length<number.length))&&leadingzeroes}_inputmask.default.extendAliases({numeric:{mask:genMask,_mask:function _mask(opts){return"("+opts.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"numeric",shortcuts:{k:"000",m:"000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",definitions:{0:{validator:decimalValidator},1:{validator:decimalValidator,definitionSymbol:"9"},"+":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&("-"===chrs||chrs===opts.negationSymbol.front)}},"-":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&chrs===opts.negationSymbol.back}}},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset,caretPos,strict){if(!1!==opts.__financeInput&&c===opts.radixPoint)return!1;var pattern;if(pattern=opts.shortcuts&&opts.shortcuts[c]){if(1<pattern.length)for(var inserts=[],i=0;i<pattern.length;i++)inserts.push({pos:pos+i,c:pattern[i],strict:!1});return{insert:inserts}}var radixPos=buffer.indexOf(opts.radixPoint),initPos=pos;if(pos=hanndleRadixDance(pos,c,radixPos,maskset,opts),"-"===c||c===opts.negationSymbol.front){if(!0!==opts.allowMinus)return!1;var isNegative=!1,front=findValid("+",maskset),back=findValid("-",maskset);return-1!==front&&(isNegative=[front,back]),!1!==isNegative?{remove:isNegative,caret:initPos-opts.negationSymbol.front.length}:{insert:[{pos:findValidator("+",maskset),c:opts.negationSymbol.front,fromIsValid:!0},{pos:findValidator("-",maskset),c:opts.negationSymbol.back,fromIsValid:void 0}],caret:initPos+opts.negationSymbol.back.length}}if(c===opts.groupSeparator)return{caret:initPos};if(strict)return!0;if(-1!==radixPos&&!0===opts._radixDance&&!1===isSelection&&c===opts.radixPoint&&void 0!==opts.digits&&(isNaN(opts.digits)||0<parseInt(opts.digits))&&radixPos!==pos)return{caret:opts._radixDance&&pos===radixPos-1?radixPos+1:radixPos};if(!1===opts.__financeInput)if(isSelection){if(opts.digitsOptional)return{rewritePosition:caretPos.end};if(!opts.digitsOptional){if(caretPos.begin>radixPos&&caretPos.end<=radixPos)return c===opts.radixPoint?{insert:{pos:radixPos+1,c:"0",fromIsValid:!0},rewritePosition:radixPos}:{rewritePosition:radixPos+1};if(caretPos.begin<radixPos)return{rewritePosition:caretPos.begin-1}}}else if(!opts.showMaskOnHover&&!opts.showMaskOnFocus&&!opts.digitsOptional&&0<opts.digits&&""===this.__valueGet.call(this.el))return{rewritePosition:radixPos};return{rewritePosition:pos}},postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict){if(!1===currentResult)return currentResult;if(strict)return!0;if(null!==opts.min||null!==opts.max){var unmasked=opts.onUnMask(buffer.slice().reverse().join(""),void 0,$.extend({},opts,{unmaskAsNumber:!0}));if(null!==opts.min&&unmasked<opts.min&&(unmasked.toString().length>opts.min.toString().length||unmasked<0))return!1;if(null!==opts.max&&unmasked>opts.max)return!!opts.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:alignDigits(opts.max.toString().replace(".",opts.radixPoint).split(""),opts.digits,opts).reverse()}}return currentResult},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){if(""===unmaskedValue&&!0===opts.nullable)return unmaskedValue;var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),""!==opts.placeholder.charAt(0)&&(processValue=processValue.replace(new RegExp(opts.placeholder.charAt(0),"g"),"0")),opts.unmaskAsNumber?(""!==opts.radixPoint&&-1!==processValue.indexOf(opts.radixPoint)&&(processValue=processValue.replace(_escapeRegex.default.call(this,opts.radixPoint),".")),processValue=processValue.replace(new RegExp("^"+(0,_escapeRegex.default)(opts.negationSymbol.front)),"-"),processValue=processValue.replace(new RegExp((0,_escapeRegex.default)(opts.negationSymbol.back)+"$"),""),Number(processValue)):processValue},isComplete:function isComplete(buffer,opts){var maskedValue=(opts.numericInput?buffer.slice().reverse():buffer).join("");return maskedValue=maskedValue.replace(new RegExp("^"+(0,_escapeRegex.default)(opts.negationSymbol.front)),"-"),maskedValue=maskedValue.replace(new RegExp((0,_escapeRegex.default)(opts.negationSymbol.back)+"$"),""),maskedValue=maskedValue.replace(opts.prefix,""),maskedValue=maskedValue.replace(opts.suffix,""),maskedValue=maskedValue.replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator)+"([0-9]{3})","g"),"$1"),","===opts.radixPoint&&(maskedValue=maskedValue.replace((0,_escapeRegex.default)(opts.radixPoint),".")),isFinite(maskedValue)},onBeforeMask:function onBeforeMask(initialValue,opts){var radixPoint=opts.radixPoint||",";isFinite(opts.digits)&&(opts.digits=parseInt(opts.digits)),"number"!=typeof initialValue&&"number"!==opts.inputType||""===radixPoint||(initialValue=initialValue.toString().replace(".",radixPoint));var isNagtive="-"===initialValue.charAt(0)||initialValue.charAt(0)===opts.negationSymbol.front,valueParts=initialValue.split(radixPoint),integerPart=valueParts[0].replace(/[^\-0-9]/g,""),decimalPart=1<valueParts.length?valueParts[1].replace(/[^0-9]/g,""):"",forceDigits=1<valueParts.length;initialValue=integerPart+(""!==decimalPart?radixPoint+decimalPart:decimalPart);var digits=0;if(""!==radixPoint&&(digits=opts.digitsOptional?opts.digits<decimalPart.length?opts.digits:decimalPart.length:opts.digits,""!==decimalPart||!opts.digitsOptional)){var digitsFactor=Math.pow(10,digits||1);initialValue=initialValue.replace((0,_escapeRegex.default)(radixPoint),"."),isNaN(parseFloat(initialValue))||(initialValue=(opts.roundingFN(parseFloat(initialValue)*digitsFactor)/digitsFactor).toFixed(digits)),initialValue=initialValue.toString().replace(".",radixPoint)}if(0===opts.digits&&-1!==initialValue.indexOf(radixPoint)&&(initialValue=initialValue.substring(0,initialValue.indexOf(radixPoint))),null!==opts.min||null!==opts.max){var numberValue=initialValue.toString().replace(radixPoint,".");null!==opts.min&&numberValue<opts.min?initialValue=opts.min.toString().replace(".",radixPoint):null!==opts.max&&numberValue>opts.max&&(initialValue=opts.max.toString().replace(".",radixPoint))}return isNagtive&&"-"!==initialValue.charAt(0)&&(initialValue="-"+initialValue),alignDigits(initialValue.toString().split(""),digits,opts,forceDigits).join("")},onBeforeWrite:function onBeforeWrite(e,buffer,caretPos,opts){function stripBuffer(buffer,stripRadix){if(!1!==opts.__financeInput||stripRadix){var position=buffer.indexOf(opts.radixPoint);-1!==position&&buffer.splice(position,1)}if(""!==opts.groupSeparator)for(;-1!==(position=buffer.indexOf(opts.groupSeparator));)buffer.splice(position,1);return buffer}var result,leadingzeroes=checkForLeadingZeroes(buffer,opts);if(leadingzeroes)for(var caretNdx=buffer.join("").lastIndexOf(leadingzeroes[0].split("").reverse().join(""))-(leadingzeroes[0]==leadingzeroes.input?0:1),offset=leadingzeroes[0]==leadingzeroes.input?1:0,i=leadingzeroes[0].length-offset;0<i;i--)delete this.maskset.validPositions[caretNdx+i],delete buffer[caretNdx+i];if(e)switch(e.type){case"blur":case"checkval":if(null!==opts.min){var unmasked=opts.onUnMask(buffer.slice().reverse().join(""),void 0,$.extend({},opts,{unmaskAsNumber:!0}));if(null!==opts.min&&unmasked<opts.min)return{refreshFromBuffer:!0,buffer:alignDigits(opts.min.toString().replace(".",opts.radixPoint).split(""),opts.digits,opts).reverse()}}if(buffer[buffer.length-1]===opts.negationSymbol.front){var nmbrMtchs=new RegExp("(^"+(""!=opts.negationSymbol.front?(0,_escapeRegex.default)(opts.negationSymbol.front)+"?":"")+(0,_escapeRegex.default)(opts.prefix)+")(.*)("+(0,_escapeRegex.default)(opts.suffix)+(""!=opts.negationSymbol.back?(0,_escapeRegex.default)(opts.negationSymbol.back)+"?":"")+"$)").exec(stripBuffer(buffer.slice(),!0).reverse().join("")),number=nmbrMtchs?nmbrMtchs[2]:"";0==number&&(result={refreshFromBuffer:!0,buffer:[0]})}else""!==opts.radixPoint&&buffer[0]===opts.radixPoint&&(result&&result.buffer?result.buffer.shift():(buffer.shift(),result={refreshFromBuffer:!0,buffer:stripBuffer(buffer)}));if(opts.enforceDigitsOnBlur){result=result||{};var bffr=result&&result.buffer||buffer.slice().reverse();result.refreshFromBuffer=!0,result.buffer=alignDigits(bffr,opts.digits,opts,!0).reverse()}}return result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var $input=$(this),bffr;if(e.ctrlKey)switch(e.keyCode){case _keycode.default.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(opts.step)),$input.trigger("setvalue"),!1;case _keycode.default.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(opts.step)),$input.trigger("setvalue"),!1}if(!e.shiftKey&&(e.keyCode===_keycode.default.DELETE||e.keyCode===_keycode.default.BACKSPACE||e.keyCode===_keycode.default.BACKSPACE_SAFARI)&&caretPos.begin!==buffer.length){if(buffer[e.keyCode===_keycode.default.DELETE?caretPos.begin-1:caretPos.end]===opts.negationSymbol.front)return bffr=buffer.slice().reverse(),""!==opts.negationSymbol.front&&bffr.shift(),""!==opts.negationSymbol.back&&bffr.pop(),$input.trigger("setvalue",[bffr.join(""),caretPos.begin]),!1;if(!0===opts._radixDance){var radixPos=buffer.indexOf(opts.radixPoint);if(opts.digitsOptional){if(0===radixPos)return bffr=buffer.slice().reverse(),bffr.pop(),$input.trigger("setvalue",[bffr.join(""),caretPos.begin>=bffr.length?bffr.length:caretPos.begin]),!1}else if(-1!==radixPos&&(caretPos.begin<radixPos||caretPos.end<radixPos||e.keyCode===_keycode.default.DELETE&&caretPos.begin===radixPos))return caretPos.begin!==caretPos.end||e.keyCode!==_keycode.default.BACKSPACE&&e.keyCode!==_keycode.default.BACKSPACE_SAFARI||caretPos.begin++,bffr=buffer.slice().reverse(),bffr.splice(bffr.length-caretPos.begin,caretPos.begin-caretPos.end+1),bffr=alignDigits(bffr,opts.digits,opts).join(""),$input.trigger("setvalue",[bffr,caretPos.begin>=bffr.length?radixPos+1:caretPos.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function _mask(opts){return"("+opts.groupSeparator+"99){*|1}("+opts.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},function(module,exports,__webpack_require__){"use strict";var _window=_interopRequireDefault(__webpack_require__(5)),_inputmask=_interopRequireDefault(__webpack_require__(2)),_canUseDOM=_interopRequireDefault(__webpack_require__(6));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!_isNativeFunction(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof _cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a),instance=new Constructor;return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document;if(_canUseDOM.default&&document&&document.head&&document.head.attachShadow&&_window.default.customElements&&void 0===_window.default.customElements.get("input-mask")){var InputmaskElement=function(_HTMLElement){_inherits(InputmaskElement,_HTMLElement);var _super=_createSuper(InputmaskElement);function InputmaskElement(){var _this;_classCallCheck(this,InputmaskElement),_this=_super.call(this);var attributeNames=_this.getAttributeNames(),shadow=_this.attachShadow({mode:"closed"}),input=document.createElement("input");for(var attr in input.type="text",shadow.appendChild(input),attributeNames)Object.prototype.hasOwnProperty.call(attributeNames,attr)&&input.setAttribute(attributeNames[attr],_this.getAttribute(attributeNames[attr]));var im=new _inputmask.default;return im.dataAttribute="",im.mask(input),input.inputmask.shadowRoot=shadow,_this}return InputmaskElement}(_wrapNativeSuper(HTMLElement));_window.default.customElements.define("input-mask",InputmaskElement)}}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=14);function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var modules,installedModules});
/*! js-cookie v3.0.0-rc.1 | MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,r=e.Cookies=t();r.noConflict=function(){return e.Cookies=n,r}}())}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function n(r,o){function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n=r.write(n,t);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+c}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var c=n[i].split("="),u=c.slice(1).join("=");'"'===u[0]&&(u=u.slice(1,-1));try{var f=t.read(c[0]);if(o[f]=r.read(u,f),e===f)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(r)}})}(t,{path:"/"})});

/*
 0BSD
*/
(function(F,y){"function"===typeof define&&define.amd?define(y):"object"===typeof exports?module.exports=y():F.pickmeup=y()})(this,function(){function F(a,c,b){b=b||[];if(a instanceof Element)c.apply(c,[a].concat(b));else{var d;var e=a.length;for(d=0;d<e;++d)c.apply(c,[a[d]].concat(b))}}function y(a){F(a,function(a){a.parentElement.removeChild(a)})}function J(a,c){do a=a.parentElement;while(a&&!B(a,c));return a}function B(a,c){return(a.matches||a.webkitMatchesSelector||a.msMatchesSelector).call(a,
c)}function k(a,c){return a&&a.classList.contains(c)}function l(a,c){a.classList.add(c)}function q(a,c,b,d){if(-1!==b.indexOf(" ")){b=b.split(" ");var e=b.length,h;for(h=0;h<e;++h)q(a,c,b[h],d)}else a.__pickmeup.events.push([c,b,d]),c.addEventListener(b,d)}function z(a,c,b,d){var e;if(b&&-1!==b.indexOf(" ")){var h=b.split(" ");var l=h.length;for(e=0;e<l;++e)z(a,c,h[e],d)}else for(h=a.__pickmeup.events,l=h.length,e=0;e<l;++e)c&&c!==h[e][0]||b&&b!==h[e][1]||d&&d!==h[e][2]||h[e][0].removeEventListener(h[e][1],
h[e][2])}function M(a){a=a.getBoundingClientRect();return{top:a.top+window.pageYOffset-document.documentElement.clientTop,left:a.left+window.pageXOffset-document.documentElement.clientLeft}}function C(a,c,b){var d=document.createEvent("Event");b&&(d.detail=b);d.initEvent("pickmeup-"+c,!1,!0);return a.dispatchEvent(d)}function K(a){a=new Date(a);for(var c=28,b=a.getMonth();a.getMonth()===b;)++c,a.setDate(c);return c-1}function A(a,c){a.setDate(a.getDate()+c)}function p(a,c){var b=a.getDate();a.setDate(1);
a.setMonth(a.getMonth()+c);a.setDate(Math.min(b,K(a)))}function u(a,c){var b=a.getDate();a.setDate(1);a.setFullYear(a.getFullYear()+c);a.setDate(Math.min(b,K(a)))}function N(a){var c=a.__pickmeup.element,b=a.__pickmeup.options,d=Math.floor(b.calendars/2),e=b.date,h=b.current,m=b.min?new Date(b.min):null,v=b.max?new Date(b.max):null;m&&(m.setDate(1),p(m,1),A(m,-1));v&&(v.setDate(1),p(v,1),A(v,-1));y(Array.prototype.slice.call(c.querySelectorAll(".pmu-instance > :not(nav)")));for(var w=0;w<b.calendars;w++){var f=
new Date(h);x(f);var n=Array.prototype.slice.call(c.querySelectorAll(".pmu-instance"))[w];if(k(c,"pmu-view-years")){u(f,12*(w-d));var G=f.getFullYear()-6+" - "+(f.getFullYear()+5)}else k(c,"pmu-view-months")?(u(f,w-d),G=f.getFullYear()):k(c,"pmu-view-days")&&(p(f,w-d),G="function"===typeof b.title_format?b.title_format(f,b.locales[b.locale]):D(f,b.title_format,b.locales[b.locale]));if(!r&&v){var r=new Date(f);b.select_day?p(r,b.calendars-1):b.select_month?u(r,b.calendars-1):u(r,12*(b.calendars-1));
if(r>v){--w;p(h,-1);r=void 0;continue}}r=new Date(f);if(!g){var g=new Date(f);g.setDate(1);p(g,1);A(g,-1);if(m&&m>g){--w;p(h,1);g=void 0;continue}}n.querySelector(".pmu-month").innerHTML=G;var q=function(a){return"range"===b.mode&&a>=(new Date(e[0])).getFullYear()&&a<=(new Date(e[1])).getFullYear()||"multiple"===b.mode&&-1!==e.reduce(function(a,b){a.push((new Date(b)).getFullYear());return a},[]).indexOf(a)||(new Date(e)).getFullYear()===a},t=function(a,c){var d=(new Date(e[0])).getFullYear(),f=(new Date(e[1])).getFullYear(),
h=(new Date(e[0])).getMonth(),g=(new Date(e[1])).getMonth();return"range"===b.mode&&(a>d&&a<f||a>d&&a===f&&c<=g||a===d&&a<f&&c>=h||a===d&&a===f&&c>=h&&c<=g)||"multiple"===b.mode&&-1!==e.reduce(function(a,b){b=new Date(b);a.push(b.getFullYear()+"-"+b.getMonth());return a},[]).indexOf(a+"-"+c)||(new Date(e)).getFullYear()===a&&(new Date(e)).getMonth()===c};(function(){var a=[],c=f.getFullYear()-6,d=(new Date(b.min)).getFullYear(),e=(new Date(b.max)).getFullYear(),h;for(h=0;12>h;++h){var g=c+h;var m=
document.createElement("div");m.textContent=g;m.__pickmeup_year=g;b.min&&g<d||b.max&&g>e?l(m,"pmu-disabled"):q(g)&&l(m,"pmu-selected");a.push(m)}n.appendChild(b.instance_content_template(a,"pmu-years"))})();(function(){var a=[],c=f.getFullYear(),d=(new Date(b.min)).getFullYear(),e=(new Date(b.min)).getMonth(),g=(new Date(b.max)).getFullYear(),h=(new Date(b.max)).getMonth(),m;for(m=0;12>m;++m){var k=document.createElement("div");k.textContent=b.locales[b.locale].monthsShort[m];k.__pickmeup_month=m;
k.__pickmeup_year=c;b.min&&(c<d||m<e&&c===d)||b.max&&(c>g||m>h&&c>=g)?l(k,"pmu-disabled"):t(c,m)&&l(k,"pmu-selected");a.push(k)}n.appendChild(b.instance_content_template(a,"pmu-months"))})();(function(){var a=[],c=f.getMonth(),d=x(new Date).valueOf(),e;(function(){f.setDate(1);var a=(f.getDay()-b.first_day)%7;A(f,-(a+(0>a?7:0)))})();for(e=0;42>e;++e){var g=document.createElement("div");g.textContent=f.getDate();g.__pickmeup_day=f.getDate();g.__pickmeup_month=f.getMonth();g.__pickmeup_year=f.getFullYear();
c!==f.getMonth()&&l(g,"pmu-not-in-month");0===f.getDay()?l(g,"pmu-sunday"):6===f.getDay()&&l(g,"pmu-saturday");var h=b.render(new Date(f))||{};var m=x(new Date(f)).valueOf();var k=b.min&&b.min>f||b.max&&b.max<f;var v=b.date.valueOf()===m||b.date instanceof Array&&b.date.reduce(function(a,b){return a||m===b.valueOf()},!1)||"range"===b.mode&&m>=b.date[0]&&m<=b.date[1];h.disabled||!("disabled"in h)&&k?l(g,"pmu-disabled"):(h.selected||!("selected"in h)&&v)&&l(g,"pmu-selected");m===d&&l(g,"pmu-today");
h.class_name&&h.class_name.split(" ").forEach(l.bind(g,g));a.push(g);A(f,1)}n.appendChild(b.instance_content_template(a,"pmu-days"))})()}g.setDate(1);r.setDate(1);p(r,1);A(r,-1);d=c.querySelector(".pmu-prev");c=c.querySelector(".pmu-next");d&&(d.style.visibility=b.min&&b.min>=g?"hidden":"visible");c&&(c.style.visibility=b.max&&b.max<=r?"hidden":"visible");C(a,"fill")}function t(a,c){var b=c.format,d=c.separator,e=c.locales[c.locale];if(a instanceof Date||"number"===typeof a)return x(new Date(a));
if(!a)return x(new Date);if(a instanceof Array){a=a.slice();for(b=0;b<a.length;++b)a[b]=t(a[b],c);return a}d=a.split(d);if(1<d.length)return d.forEach(function(a,b,d){d[b]=t(a.trim(),c)}),d;d=[].concat(e.daysShort,e.daysMin,e.days,e.monthsShort,e.months);d=d.map(function(a){return"("+a+")"});d=new RegExp("[^0-9a-zA-Z"+d.join("")+"]+");a=a.split(d);d=b.split(d);var h=new Date;for(b=0;b<a.length;b++)switch(d[b]){case "b":var m=e.monthsShort.indexOf(a[b]);break;case "B":m=e.months.indexOf(a[b]);break;
case "d":case "e":var l=parseInt(a[b],10);break;case "m":m=parseInt(a[b],10)-1;break;case "Y":case "y":var k=parseInt(a[b],10);k+=100<k?0:29>k?2E3:1900;break;case "H":case "I":case "k":case "l":var f=parseInt(a[b],10);break;case "P":case "p":/pm/i.test(a[b])&&12>f?f+=12:/am/i.test(a[b])&&12<=f&&(f-=12);break;case "M":var n=parseInt(a[b],10)}e=new Date(void 0===k?h.getFullYear():k,void 0===m?h.getMonth():m,void 0===l?h.getDate():l,void 0===f?h.getHours():f,void 0===n?h.getMinutes():n,0);isNaN(1*e)&&
(e=new Date);return x(e)}function x(a){a.setHours(0,0,0,0);return a}function D(a,c,b){var d=a.getMonth(),e=a.getDate(),h=a.getFullYear(),m=a.getDay(),k=a.getHours(),l=12<=k,f=l?k-12:k;var n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var p=new Date(a.getFullYear(),0,0,0,0,0);n=Math.floor((n-p)/864E5);0===f&&(f=12);p=a.getMinutes();var r=a.getSeconds();c=c.split("");for(var g,q=0;q<c.length;q++){g=c[q];switch(g){case "a":g=b.daysShort[m];break;case "A":g=b.days[m];break;case "b":g=b.monthsShort[d];
break;case "B":g=b.months[d];break;case "C":g=1+Math.floor(h/100);break;case "d":g=10>e?"0"+e:e;break;case "e":g=e;break;case "H":g=10>k?"0"+k:k;break;case "I":g=10>f?"0"+f:f;break;case "j":g=100>n?10>n?"00"+n:"0"+n:n;break;case "k":g=k;break;case "l":g=f;break;case "m":g=9>d?"0"+(1+d):1+d;break;case "M":g=10>p?"0"+p:p;break;case "p":case "P":g=l?"PM":"AM";break;case "s":g=Math.floor(a.getTime()/1E3);break;case "S":g=10>r?"0"+r:r;break;case "u":g=m+1;break;case "w":g=m;break;case "y":g=(""+h).substr(2,
2);break;case "Y":g=h}c[q]=g}return c.join("")}function O(a,c){var b=a.__pickmeup.options,d;x(c);a:switch(b.mode){case "multiple":var e=c.valueOf();for(d=0;d<b.date.length;++d)if(b.date[d].valueOf()===e){b.date.splice(d,1);break a}b.date.push(c);break;case "range":b.lastSel||(b.date[0]=c);c<=b.date[0]?(b.date[1]=b.date[0],b.date[0]=c):b.date[1]=c;b.lastSel=!b.lastSel;break;default:b.date=c.valueOf()}c=H(b);B(a,"input")&&(a.value="single"===b.mode?c.formatted_date:c.formatted_date.join(b.separator));
C(a,"change",c);b.flat||!b.hide_on_select||"range"===b.mode&&b.lastSel||b.bound.hide()}function P(a,c){var b=c.target;k(b,"pmu-button")||(b=J(b,".pmu-button"));if(!k(b,"pmu-button")||k(b,"pmu-disabled"))return!1;c.preventDefault();c.stopPropagation();a=a.__pickmeup.options;var d=J(b,".pmu-instance");c=d.parentElement;d=Array.prototype.slice.call(c.querySelectorAll(".pmu-instance")).indexOf(d);B(b.parentElement,"nav")?k(b,"pmu-month")?(p(a.current,d-Math.floor(a.calendars/2)),k(c,"pmu-view-years")?
(a.current="single"!==a.mode?new Date(a.date[a.date.length-1]):new Date(a.date),a.select_day?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-days")):a.select_month&&(c.classList.remove("pmu-view-years"),l(c,"pmu-view-months"))):k(c,"pmu-view-months")?a.select_year?(c.classList.remove("pmu-view-months"),l(c,"pmu-view-years")):a.select_day&&(c.classList.remove("pmu-view-months"),l(c,"pmu-view-days")):k(c,"pmu-view-days")&&(a.select_month?(c.classList.remove("pmu-view-days"),l(c,"pmu-view-months")):
a.select_year&&(c.classList.remove("pmu-view-days"),l(c,"pmu-view-years")))):k(b,"pmu-prev")?a.bound.prev(!1):a.bound.next(!1):k(c,"pmu-view-years")?(a.current.setFullYear(b.__pickmeup_year),a.select_month?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-months")):a.select_day?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-days")):a.bound.update_date(a.current)):k(c,"pmu-view-months")?(a.current.setMonth(b.__pickmeup_month),a.current.setFullYear(b.__pickmeup_year),a.select_day?(c.classList.remove("pmu-view-months"),
l(c,"pmu-view-days")):a.bound.update_date(a.current),p(a.current,Math.floor(a.calendars/2)-d)):(c=new Date(a.current),c.setYear(b.__pickmeup_year),c.setMonth(b.__pickmeup_month),c.setDate(b.__pickmeup_day),a.bound.update_date(c));a.bound.fill();return!0}function H(a){if("single"===a.mode){var c=new Date(a.date);return{formatted_date:D(c,a.format,a.locales[a.locale]),date:c}}c={formatted_date:[],date:[]};a.date.forEach(function(b){b=new Date(b);c.formatted_date.push(D(b,a.format,a.locales[a.locale]));
c.date.push(b)});return c}function I(a,c){var b=a.__pickmeup.element;if(c||k(b,"pmu-hidden")){var d=a.__pickmeup.options,e=M(a),h=window.pageXOffset,m=window.pageYOffset,l=document.documentElement.clientWidth,p=document.documentElement.clientHeight,f=e.top,n=e.left;d.bound.fill();B(a,"input")&&((c=a.value)&&d.bound.set_date(c),q(a,a,"keydown",function(a){9===a.which&&d.bound.hide()}),d.lastSel=!1);if(C(a,"show")&&!d.flat){b.classList.remove("pmu-hidden");if(d.position instanceof Function)e=d.position.call(a),
n=e.left,f=e.top;else{switch(d.position){case "top":f-=b.offsetHeight;break;case "left":n-=b.offsetWidth;break;case "right":n+=a.offsetWidth;break;case "bottom":f+=a.offsetHeight}f+b.offsetHeight>m+p&&(f=e.top-b.offsetHeight);f<m&&(f=e.top+a.offsetHeight);n+b.offsetWidth>h+l&&(n=e.left-b.offsetWidth);n<h&&(n=e.left+a.offsetWidth);n+="px";f+="px"}b.style.left=n;b.style.top=f;setTimeout(function(){q(a,document.documentElement,"click",d.bound.hide);q(a,window,"resize",d.bound.forced_show)})}}}function Q(a,
c){var b=a.__pickmeup.element,d=a.__pickmeup.options;c&&c.target&&(c.target===a||b.compareDocumentPosition(c.target)&16)||!C(a,"hide")||(l(b,"pmu-hidden"),z(a,document.documentElement,"click",d.bound.hide),z(a,window,"resize",d.bound.forced_show),d.lastSel=!1)}function R(a){var c=a.__pickmeup.options;z(a,document.documentElement,"click",c.bound.hide);z(a,window,"resize",c.bound.forced_show);c.bound.forced_show()}function S(a){a=a.__pickmeup.options;"single"!==a.mode&&(a.date=[],a.lastSel=!1,a.bound.fill())}
function T(a,c){"undefined"==typeof c&&(c=!0);var b=a.__pickmeup.element;a=a.__pickmeup.options;k(b,"pmu-view-years")?u(a.current,-12):k(b,"pmu-view-months")?u(a.current,-1):k(b,"pmu-view-days")&&p(a.current,-1);c&&a.bound.fill()}function U(a,c){"undefined"==typeof c&&(c=!0);var b=a.__pickmeup.element;a=a.__pickmeup.options;k(b,"pmu-view-years")?u(a.current,12):k(b,"pmu-view-months")?u(a.current,1):k(b,"pmu-view-days")&&p(a.current,1);c&&a.bound.fill()}function V(a,c){var b=a.__pickmeup.options;a=
H(b);return"string"===typeof c?(a=a.date,a instanceof Date?D(a,c,b.locales[b.locale]):a.map(function(a){return D(a,c,b.locales[b.locale])})):a[c?"formatted_date":"date"]}function W(a,c,b){var d=a.__pickmeup.options;if(!(c instanceof Array)||0<c.length)if(d.date=t(c,d),"single"!==d.mode)for(d.date instanceof Array?(d.date[0]=d.date[0]||t(new Date,d),"range"===d.mode&&(d.date[1]=d.date[1]||t(d.date[0],d))):(d.date=[d.date],"range"===d.mode&&d.date.push(t(d.date[0],d))),c=0;c<d.date.length;++c)d.date[c]=
L(d.date[c],d.min,d.max);else d.date instanceof Array&&(d.date=d.date[0]),d.date=L(d.date,d.min,d.max);else d.date=[];if(!d.select_day)if(d.date instanceof Array)for(c=0;c<d.date.length;++c)d.date[c].setDate(1);else d.date.setDate(1);if("multiple"===d.mode)for(c=0;c<d.date.length;++c)d.date.indexOf(d.date[c])!==c&&(d.date.splice(c,1),--c);b?d.current=t(b,d):(b="single"===d.mode?d.date:d.date[d.date.length-1],d.current=b?new Date(b):new Date);d.current.setDate(1);d.bound.fill();B(a,"input")&&!1!==
d.default_date&&(b=H(d),c=a.value,d="single"===d.mode?b.formatted_date:b.formatted_date.join(d.separator),c||C(a,"change",b),c!==d&&(a.value=d))}function X(a){var c=a.__pickmeup.element;z(a);y(c);delete a.__pickmeup}function L(a,c,b){return c&&c>a?new Date(c):b&&b<a?new Date(b):a}function E(a,c){"string"==typeof a&&(a=document.querySelector(a));if(!a)return null;if(!a.__pickmeup){var b,d={};c=c||{};for(b in E.defaults)d[b]=b in c?c[b]:E.defaults[b];for(b in d)c=a.getAttribute("data-pmu-"+b),null!==
c&&(d[b]=c);"days"!==d.view||d.select_day||(d.view="months");"months"!==d.view||d.select_month||(d.view="years");"years"!==d.view||d.select_year||(d.view="days");"days"!==d.view||d.select_day||(d.view="months");d.calendars=Math.max(1,parseInt(d.calendars,10)||1);d.mode=/single|multiple|range/.test(d.mode)?d.mode:"single";d.min&&(d.min=t(d.min,d),d.select_day||d.min.setDate(1));d.max&&(d.max=t(d.max,d),d.select_day||d.max.setDate(1));c=document.createElement("div");a.__pickmeup={options:d,events:[],
element:c};c.__pickmeup_target=a;l(c,"pickmeup");d.class_name&&l(c,d.class_name);d.bound={fill:N.bind(a,a),update_date:O.bind(a,a),click:P.bind(a,a),show:I.bind(a,a),forced_show:I.bind(a,a,!0),hide:Q.bind(a,a),update:R.bind(a,a),clear:S.bind(a,a),prev:T.bind(a,a),next:U.bind(a,a),get_date:V.bind(a,a),set_date:W.bind(a,a),destroy:X.bind(a,a)};l(c,"pmu-view-"+d.view);var e=d.instance_template(d),h="";for(b=0;b<d.calendars;++b)h+=e;c.innerHTML=h;q(a,c,"click",d.bound.click);q(a,c,"onselectstart"in Element.prototype?
"selectstart":"mousedown",function(a){a.preventDefault()});d.flat?(l(c,"pmu-flat"),a.appendChild(c)):(l(c,"pmu-hidden"),document.body.appendChild(c),q(a,a,"click",I.bind(a,a,!1)),q(a,a,"input",d.bound.update),q(a,a,"change",d.bound.update));d.bound.set_date(d.date,d.current)}d=a.__pickmeup.options;return{hide:d.bound.hide,show:d.bound.show,clear:d.bound.clear,update:d.bound.update,prev:d.bound.prev,next:d.bound.next,get_date:d.bound.get_date,set_date:d.bound.set_date,destroy:d.bound.destroy}}E.defaults=
{current:null,date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},locale:"en",locales:{en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),
months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},instance_template:function(a){var c=a.locales[a.locale].daysMin.slice();a.first_day&&c.push(c.shift());return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+a.prev+'</div><div class="pmu-month pmu-button"></div><div class="pmu-next pmu-button">'+a.next+'</div></nav><nav class="pmu-day-of-week"><div>'+
c.join("</div><div>")+"</div></nav></div>"},instance_content_template:function(a,c){var b=document.createElement("div");l(b,c);for(c=0;c<a.length;++c)l(a[c],"pmu-button"),b.appendChild(a[c]);return b}};return E});

/**
 * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
 * License: MIT - http://mrgnrdrck.mit-license.org
 *
 * https://github.com/mroderick/PubSubJS
 */
!function(n,t){"use strict";var r={};n.PubSub=r;var e=n.define;!function(n){var t={},r=-1;function e(n){var t;for(t in n)if(n.hasOwnProperty(t))return!0;return!1}function o(n,t,r){try{n(t,r)}catch(n){setTimeout(function(n){return function(){throw n}}(n),0)}}function i(n,t,r){n(t,r)}function u(n,r,e,u){var f,s=t[r],c=u?i:o;if(t.hasOwnProperty(r))for(f in s)s.hasOwnProperty(f)&&c(s[f],n,e)}function f(n,r,o,i){var f=function(n,t,r){return function(){var e=String(n),o=e.lastIndexOf(".");for(u(n,n,t,r);-1!==o;)e=e.substr(0,o),o=e.lastIndexOf("."),u(n,e,t,r)}}(n="symbol"==typeof n?n.toString():n,r,i),s=function(n){var r=String(n),o=Boolean(t.hasOwnProperty(r)&&e(t[r])),i=r.lastIndexOf(".");for(;!o&&-1!==i;)r=r.substr(0,i),i=r.lastIndexOf("."),o=Boolean(t.hasOwnProperty(r)&&e(t[r]));return o}(n);return!!s&&(!0===o?f():setTimeout(f,0),!0)}n.publish=function(t,r){return f(t,r,!1,n.immediateExceptions)},n.publishSync=function(t,r){return f(t,r,!0,n.immediateExceptions)},n.subscribe=function(n,e){if("function"!=typeof e)return!1;n="symbol"==typeof n?n.toString():n,t.hasOwnProperty(n)||(t[n]={});var o="uid_"+String(++r);return t[n][o]=e,o},n.subscribeOnce=function(t,r){var e=n.subscribe(t,function(){n.unsubscribe(e),r.apply(this,arguments)});return n},n.clearAllSubscriptions=function(){t={}},n.clearSubscriptions=function(n){var r;for(r in t)t.hasOwnProperty(r)&&0===r.indexOf(n)&&delete t[r]},n.unsubscribe=function(r){var e,o,i,u="string"==typeof r&&(t.hasOwnProperty(r)||function(n){var r;for(r in t)if(t.hasOwnProperty(r)&&0===r.indexOf(n))return!0;return!1}(r)),f=!u&&"string"==typeof r,s="function"==typeof r,c=!1;if(!u){for(e in t)if(t.hasOwnProperty(e)){if(o=t[e],f&&o[r]){delete o[r],c=r;break}if(s)for(i in o)o.hasOwnProperty(i)&&o[i]===r&&(delete o[i],c=!0)}return c}n.clearSubscriptions(r)}}(r),"function"==typeof e&&e.amd?e(function(){return r}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=r),exports.PubSub=r,module.exports=exports=r)}("object"==typeof window&&window||this);
/*! UTF-8

 kovrigin
  
     

https://github.com/htmlpluscss/

*/

( () => {

	window.INTI = {};
	INTI.resizeTimeout = null;
	INTI.windowWidthOLd = window.innerWidth;

	window.addEventListener("resize", () => {

		window.requestAnimationFrame(() => {

			if (!INTI.resizeTimeout) {

				INTI.resizeTimeout = setTimeout(() =>  {

					INTI.resizeTimeout = null;

					if(INTI.windowWidthOLd !== window.innerWidth) {

						INTI.windowWidthOLd = window.innerWidth;

						PubSub.publish('windowWidthResize');

					}

				}, 100);

			}

		});

	});

	window.addEventListener("scroll", () => {

		window.requestAnimationFrame(() => {

			PubSub.publish('windowScroll');

		});

	});

	window.addEventListener("DOMContentLoaded", () => {

		PubSub.publish('DOMContentLoaded');

	});

	window.addEventListener("load", () => {

		PubSub.publish('pageLoad');

	});

	//  
	INTI.cssAnimation = a=>{let b,c,d=document.createElement("cssanimation");switch(a){case'animation':b={"animation":"animationend","OAnimation":"oAnimationEnd","MozAnimation":"animationend","WebkitAnimation":"webkitAnimationEnd"};break;case'transition':b={"transition":"transitionend","OTransition":"oTransitionEnd","MozTransition":"transitionend","WebkitTransition":"webkitTransitionEnd"}}for(c in b)if(d.style[c]!==undefined)return b[c]}

	// Determine if an element is in the visible viewport
	INTI.isInViewport = el => {
		const rect = el.getBoundingClientRect();
		return (rect.top >= 0 && rect.bottom <= window.innerHeight);
	}

})();
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, accordion => {

		let animateOn = false;

		const btns = accordion.querySelectorAll('.accordion__btn');

		Array.from(btns, btn => {

			const item = btn.closest('.accordion__item'),
				  head = item.querySelector('.accordion__head'),
				  body = item.querySelector('.accordion__body');

			btn.addEventListener('click', () => {

				animateOn = true;

				item.classList.toggle('accordion__item--open');

			});

			body.addEventListener(INTI.cssAnimation('transition'), () => {

				if(animateOn && !INTI.isInViewport(head)){

					head.scrollIntoView({ behavior: 'smooth' });

				}

				animateOn = false;

			});

		});

	});

})(document.querySelectorAll('.accordion'));
( block => {

	if(block && block.querySelectorAll('.certification-change-date-time__input').length) {

		const input = block.querySelectorAll('.certification-change-date-time__input'),
			  date = block.querySelector('.certification-change-date-time__input--date'),
			  time = block.querySelector('.certification-change-date-time__input--time'),
			  dateDefault = date.value,
			  timeDefault = time.value,
			  reset = document.querySelector('.modal__item--certification-date-change');

		Array.from(input, el => el.addEventListener("change", () => {

			block.querySelector('[data-modal="certification-date"]').classList.add('hide');
			block.querySelector('[data-modal="certification-date-change"]').classList.remove('hide');

		}));

		reset.addEventListener("reset", () => {

			date.value = dateDefault;
			time.value = timeDefault;

			date.dispatchEvent(new CustomEvent("change"));
			time.dispatchEvent(new CustomEvent("change"));

			modal.dispatchEvent(new CustomEvent("hide"));

			block.querySelector('[data-modal="certification-date"]').classList.remove('hide');
			block.querySelector('[data-modal="certification-date-change"]').classList.add('hide');

		});

	}

})(document.querySelector('.certification-change-date-time'));
( select => {

	if(!select) {

		return;

	}

	select.addEventListener("change", () => {

		if(select.value === 'shipping') {

			const eventModalShow = new CustomEvent("modalShow", {
				detail: {
					selector: "certification-delivery-inti"
				}
			});

			window.modal.dispatchEvent(eventModalShow);

		}

		select.closest('.form').setAttribute('novalidate','novalidate');

	});

})(document.querySelector('.certification-delivery-select'));
( form => {

	if(!form) {

		return;

	}

	const btn = form.querySelector('.certification-modal-date-canceled__btn-show'),
		  block = form.querySelector('.certification-modal-date-canceled__box-date-time'),
		  input = form.querySelectorAll('.certification-modal-date-canceled__input');

	btn.addEventListener("click", () => {

		btn.classList.add('hide');
		block.classList.remove('hide');

	});

	Array.from(input, el =>
		el.addEventListener("change", () =>
			form.setAttribute('action', form.getAttribute('data-action-change'))));

})(document.querySelector('.certification-modal-date-canceled'));

( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, form => {

		const formEnabled = () => {

			form.removeEventListener("input", formEnabled);

			Array.from(form.querySelectorAll('.company-form__disabled'), el => el.disabled = false);

		};

		form.addEventListener("input", formEnabled);

		//  
		form.addEventListener('submit', event => {

			event.preventDefault();

			fetch(form.getAttribute('action'), {
				method: 'POST',
				body: new FormData(form)
			});

		});

		// data-radio-toggle
		const btnRadio = form.querySelectorAll('[data-radio-toggle]'),
			  items = form.querySelectorAll('.company-form__radio-toggle-item');

		Array.from(btnRadio, btn =>
			btn.addEventListener("change", () =>
				Array.from(items, el =>
					el.classList.toggle('hide', btn.getAttribute('data-radio-toggle') === 'hide'))));

		// remove
		const btnRemove = form.querySelector('.company-form__remove');

		btnRemove && btnRemove.addEventListener('click', () => {

			const item = btnRemove.closest('.accordion__item');

			item.addEventListener(INTI.cssAnimation('transition'), () => {

				item.remove();
				document.querySelector('.company__add').classList.remove('hide');

			});

			item.classList.remove('accordion__item--open');

			setTimeout( () => {

				item.style.opacity = 0;

			}, 1000);

		});

	});

	// CODE sms
	const formCode = document.querySelector('.company-form--code');

	//   code
	formCode.addEventListener('submit', event => {

		event.preventDefault();

		fetch(formCode.getAttribute('action'), {
			method: 'POST',
			body: new FormData(formCode)
		});

		// state sms 

		formCode.querySelector('[name="send-code"]').value = 1;

		Array.from(formCode.querySelectorAll('.company-form__code-hide'), el => el.classList.add('hide'));
		Array.from(formCode.querySelectorAll('.company-form__code-show'), el => el.classList.remove('hide'));

	});

	// reset  code
	formCode.addEventListener('reset', event => {

		// state sms 

		formCode.querySelector('[name="send-code"]').value = 0;

		Array.from(formCode.querySelectorAll('.company-form__code-hide'), el => el.classList.remove('hide'));
		Array.from(formCode.querySelectorAll('.company-form__code-show'), el => el.classList.add('hide'));

	});

})(document.querySelectorAll('.company-form'));
( items => {

	if(!items.length) {

		return;

	}

	const handler = (el, clone = el.cloneNode(true)) => {

		const btn = el.querySelector('.file-input__btn'),
			  input = el.querySelector('input[type="file"]');

		let group = el.closest('.file-input-group');

		input.addEventListener("change", event => {

			btn.textContent = input.value;
			el.classList.add('file-input--value');

			if(group) {

				const _clone = clone.cloneNode(true);

				group.appendChild(_clone);

				_clone.querySelector('input[type="file"]').setAttribute('name', _clone.querySelector('input[type="file"]').getAttribute('name') + '-' + group.querySelectorAll('.file-input').length);

				handler(_clone, clone);

				group = null;

			}

		});

	};

	Array.from(items, el => handler(el));

})(document.querySelectorAll('.file-input'));
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, form => {

		const item = form.querySelectorAll('.form-required__item'),
			  submit = form.querySelector('.form-required__submit');

		form.addEventListener("change", () => {

			let falid = true;

			Array.from(item, el => {

				if(el.value === 'none') {

					falid = false;

				}

			});

			if(falid) {

				submit.disabled = false;

			}

		});

	});

})(document.querySelectorAll('.form-required'));
( elems => {

	if(!elems.length) {

		return;

	}

	Array.from(elems, el => {

		let maskInput;

		const placeholder = el.getAttribute('placeholder') ? el.getAttribute('placeholder') : null;

		if(el.classList.contains('inputmask--phone')) {

			maskInput = new Inputmask({
				mask: "+7 999 999 99 99",
				showMaskOnHover: false,
				placeholder: placeholder ? placeholder : "+7 ___ ___ __ __"
			});

		}
		else if(el.classList.contains('inputmask--date')) {

			maskInput = new Inputmask({
				alias: "datetime",
				showMaskOnHover: false,
				inputFormat: "dd/mm/yyyy",
				placeholder: placeholder ? placeholder : "__/__/____"
			});

		}
		else if(el.classList.contains('inputmask--time')) {

			maskInput = new Inputmask({
				mask: "99:99",
				showMaskOnHover: false,
				placeholder: placeholder ? placeholder : "__:__"
			});

		}

		maskInput.mask(el);

	});

})(document.querySelectorAll('.inputmask'));
( modal => {

	if(!modal) {

		return;

	}

	const items = modal.querySelectorAll('.modal__item'),
		  btns = document.querySelectorAll('[data-modal]'),
		  wrapper = document.querySelector('.wrapper');

	let activeModal = null,
		windowScroll = window.pageYOffset;

	modal.addEventListener('hide', () => {

		document.body.classList.remove('modal-show');
		wrapper.style.top = 0;
		window.scrollTo(0,windowScroll);
		activeModal = false;

	});

	const modalShow = selector => {

		if(!activeModal){

			windowScroll = window.pageYOffset;

		}

		activeModal = modal.querySelector('.modal__item--' + selector);

		Array.from(items, el => el.classList.toggle('visuallyhidden', el !== activeModal));

		wrapper.style.top = -windowScroll + 'px';
		document.body.classList.add('modal-show');
		window.scrollTo(0,0);

		activeModal.focus();

	};

	modal.addEventListener('click', event => {

		if(event.target.classList.contains('modal') || event.target.closest('.modal__close')){

			modal.dispatchEvent(new CustomEvent("hide"));

		}

	});

	Array.from(btns, btn =>
		btn.addEventListener('click', () =>
			modalShow(btn.getAttribute('data-modal'))));

	modal.addEventListener('modalShow', event => modalShow(event.detail.selector));

})(document.querySelector('.modal'));
( items => {

	if(!items.length) {

		return;

	}

	pickmeup.defaults.locales['ru'] = {
		days: ['', '', '', '', '', '', ''],
		daysShort: ['', '', '', '', '', '', ''],
		daysMin: ['', '', '', '', '', '', ''],
		months: ['', '', '', '', '', '', '', '', '', '', '', ''],
		monthsShort: ['', '', '', '', '', '', '', '', '', '', '', '']
	};

	Array.from(items, el => {

		let btnInput,
			inputFocus = false;

		const btn = el.querySelector('.input-date__btn'),
			  input = el.querySelector('.input-date__input');

		if(input.disabled) {

			return;

		}

		btnInput = pickmeup(btn, {

			position: () => {

				const rect = el.getBoundingClientRect(),
					  top = window.pageYOffset + rect.bottom + 'px';
					  left = rect.left + 'px';

				return {top: top, left: left}

			},
			date: input.value,
			hide_on_select : true,
			title_format: 'B Y',
			format: 'd/m/Y',
			locale: 'ru',
			prev: '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M9 11l4.6-4.6A.99.99 0 1115 7.8l-3.9 3.9 3.9 3.9a.99.99 0 01-1.4 1.4L9 12.41A1 1 0 019 11z"/></svg>',
			next: '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M15 11a1 1 0 010 1.4L10.4 17A.99.99 0 019 15.6l3.9-3.9L9 7.8a.99.99 0 011.4-1.4L15 11z"/></svg>'

		});

		btn.addEventListener('pickmeup-change', () => {

			input.blur();

			if(input.value !== btnInput.get_date(true)){

				input.value = btnInput.get_date(true);
				input.dispatchEvent(new CustomEvent("change"));

			}

		});

		btn.addEventListener('pickmeup-hide', event => {

			if(inputFocus) {

				event.preventDefault();

			}

		});

		input.addEventListener('keydown', event => {

			if(event.keyCode === 13 || event.keyCode === 27) {

				input.blur();
				btnInput.hide();

			}

		});

		input.addEventListener('focus', () => {

			inputFocus = true;

			btnInput.show();

		});

		input.addEventListener('blur', () => {

			inputFocus = false;

		});

		input.addEventListener('input', () => {

			btnInput.show();
			btnInput.set_date(input.value);

		});

	});

})(document.querySelectorAll('.input-date'));
( selects => {

	if(!selects.length) {

		return;

	}

	const CustomEventChange = new CustomEvent("change", {
		detail: {
			hazcheeseburger: true
		}
	});

	Array.from(selects, select => {

		if(select.querySelector('.select__list')) {

			return;

		}


		const value = document.createElement('div'),
			  arrow = document.createElement('span'),
			  color = select.classList.contains('select--color');

		arrow.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M8.3 10.3a1 1 0 000 1.41l2.93 2.97c.22.21.5.32.78.32s.56-.1.77-.32l2.93-2.96a1.01 1.01 0 00-.32-1.63.99.99 0 00-1.09.21L12 12.62l-2.3-2.33a1 1 0 00-1.4 0z"/></svg>';

		value.className = 'select__value';
		value.innerHTML = '<span class="select__value-inner"></span>';

		value.appendChild(arrow);
		select.appendChild(value);

		const form = select.closest('form'),
			control = select.querySelector('select'),
			option = select.querySelectorAll('option'),
			valueText = select.querySelector('.select__value-inner'),
			list = document.createElement('div');

		list.className = 'select__list';

		let selected = control.querySelector('[value="' + control.value + '"]');

		control.addEventListener("change", () => {

			selected = control.querySelector('[value="' + control.value + '"]');

			valueText.textContent = selected.textContent;

			select.classList.remove('select--default');

			if (color) {

				value.setAttribute('data-color', selected.getAttribute('data-color'));

			}

		});

		if(control.disabled){

			select.classList.add('select--disabled');

		}

		if(control.value === 'none'){

			select.classList.add('select--default');

		}

		valueText.textContent = select.querySelector('option[value="' + control.value + '"]').textContent;

		Array.from(option, el => {

			const o = document.createElement('button');

			o.className = 'button select__list-item';

			o.setAttribute('type', 'button');
			o.setAttribute('value', el.getAttribute('value'));

			o.textContent = el.textContent;

			list.appendChild(o);

		});

		select.addEventListener("click", event => {

			if(event.target.classList.contains('select__list-item')){

				control.value = event.target.getAttribute('value');

				control.dispatchEvent(CustomEventChange);

				if(form) {

					form.dispatchEvent(CustomEventChange);

				}

			}

		});

		select.appendChild(list);

		// color
		if (color) {

			value.setAttribute('data-color', selected.getAttribute('data-color'));

		}

	});

	window.addEventListener("click", event => {

		const isSelect = event.target.closest('.select');

		Array.from(selects, select => {

			select.classList.toggle('select--open', select === isSelect && !isSelect.classList.contains('select--open'));

		});

	});

})(document.querySelectorAll('.select'));
( tabs => {

	if(!tabs.length) {

		return;

	}

	//  hash
	const hash = location.hash;

	const btnHash = (btns,items) => {

		Array.from(btns, (_btn, index) => setActive(_btn, items[index], _btn.href === location.href));

	};

	const setActive = (btn, item, toggle) => {

		btn.classList.toggle('is-active', toggle);
		item.classList.toggle('is-active', toggle);

	}

	Array.from(tabs, tab => {

		const btns = tab.querySelectorAll('.tabs__btn'),
			  items = tab.querySelectorAll('.tabs__item');

		Array.from(btns, btn =>
			btn.addEventListener('click', event =>
				Array.from(btns, (_btn, index) =>
					setActive(_btn, items[index], _btn === btn))));

		if(hash) {

			btnHash(btns,items);

		}

		window.addEventListener('hashchange', () => btnHash(btns,items));

	});

})(document.querySelectorAll('.tabs'));
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, el => {

		const btn = el.querySelector('.input-time__btn'),
			  input = el.querySelector('.input-time__input'),
			  datalist = el.querySelector('.input-time__datalist');

		if(input.disabled) {

			return;

		}

		Array.from(datalist.querySelectorAll('[data-value]'), el => {

			el.addEventListener('click', event => {

				event.preventDefault();
				el.classList.remove('input-time--open');

				if(input.value !== el.getAttribute('data-value')){

					input.value = el.getAttribute('data-value');
					input.dispatchEvent(new CustomEvent("change"));

				}

			});

		});

		input.addEventListener('keydown', event => {

			if(event.keyCode === 13 || event.keyCode === 27) {

				input.blur();
				el.classList.remove('input-time--open');

			}

		});

	});

	window.addEventListener("click", event => {

		const isInputTime = event.target.closest('.input-time');

		Array.from(items, el => {

			el.classList.toggle('input-time--open', el === isInputTime && !isInputTime.classList.contains('input-time--open'));

		});

	});

})(document.querySelectorAll('.input-time'));
( tooltips => {

	if(tooltips.length){

		Array.from(tooltips, tooltip => {

			const title = document.createElement('span');

			title.className = 'tooltip-title__inner';

			title.textContent = tooltip.getAttribute('title');
			tooltip.appendChild(title);
			tooltip.removeAttribute('title');

		});

	}

})(document.querySelectorAll('.tooltip-title'));

( tooltips => {

	if(tooltips.length){

		const ico = document.createElement('span'),
			  icoChat = document.createElement('span');

		ico.innerHTML = '<svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 12a8 8 0 11-16 0 8 8 0 0116 0zm-5.74-3.87a3.18 3.18 0 01.56 3.78c-.38.7-1 1.22-1.74 1.49a.4.4 0 00-.28.38v.62a.8.8 0 01-1.6 0V12.8A.8.8 0 0112 12c.88 0 1.6-.72 1.6-1.6a1.6 1.6 0 00-3.2 0 .8.8 0 01-1.59.08l-.01-.12c.01-2 1.86-3.55 3.95-3.07.57.13 1.1.42 1.51.84zM12.8 16.8a.8.8 0 11-1.6 0 .8.8 0 011.6 0z"/></svg>';

		icoChat.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M15 16h4V6H5v10h7.33L15 18v-2zm2 2v2a1 1 0 01-1.6.8L11.67 18H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2h-2z"/><path d="M7 10h10V8H7v2zm0 4h6v-2H7v2z"/></svg>';

		let observer = new MutationObserver(mutationRecords => {

			const t = mutationRecords[0].target,
				  rect = t.getBoundingClientRect();

			console.log(rect.left > window.innerWidth - rect.right);
/*
			if(t.open) {

				const inner = t.querySelector('.ask__inner');

				if(rect.left > window.innerWidth - rect.right) {

					// 

					inner.style.left = 'auto';
					inner.style.right = 0;
					inner.style.width = rect.left + 'px';

				}
				else {

					// 

					inner.style.right = 'auto';
					inner.style.left = 0;
					inner.style.width = window.innerWidth - rect.right + 'px';

				}

			}

*/		});

		Array.from(tooltips, tooltip => {

			const btn = tooltip.querySelector('.tooltip-help__btn');

			if(tooltip.classList.contains('tooltip-help--chat')) {

				btn.appendChild(icoChat.cloneNode(true));

			}
			else {

				btn.appendChild(ico.cloneNode(true));

			}

			observer.observe(tooltip, {

				attributes : true

			});

		});

		window.addEventListener("click", event => {

			const target = event.target.closest('.tooltip-help');

			Array.from(tooltips, tooltip => {

				if(target !== tooltip) {

					tooltip.open = false;

				}

			});

		});

	}

})(document.querySelectorAll('.tooltip-help'));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0bWFzay5taW4uanMiLCJqcy5jb29raWUubWluLmpzIiwicGlja21ldXAubWluLmpzIiwicHVic3ViLm1pbi5qcyIsImpzLmpzIiwiYWNjb3JkaW9uLmpzIiwiY2VydGlmaWNhdGlvbi1jaGFuZ2UtZGF0ZS10aW1lLmpzIiwiY2VydGlmaWNhdGlvbi1kZWxpdmVyeS1zZWxlY3QuanMiLCJjZXJ0aWZpY2F0aW9uLW1vZGFsLWRhdGUtY2FuY2VsZWQuanMiLCJjb21wYW55LWZvcm0uanMiLCJmaWxlLWlucHV0LmpzIiwiZm9ybS1yZXF1aXJlZC5qcyIsIm1hc2suanMiLCJtb2RhbC5qcyIsInBpY2ttZXVwLmpzIiwic2VsZWN0LmpzIiwidGFicy5qcyIsInRpbWUuanMiLCJ0b29sdGlwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNQQTtBQUNBO0FBQ0E7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImxrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBkaXN0L2lucHV0bWFzay5taW5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Sb2JpbkhlcmJvdHMvSW5wdXRtYXNrXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgLSAyMDIxIFJvYmluIEhlcmJvdHNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogVmVyc2lvbjogNS4wLjYtYmV0YS4yOVxuICovXG4hZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCxmYWN0b3J5KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1mYWN0b3J5KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGZhY3RvcnkpO2Vsc2V7dmFyIGE9ZmFjdG9yeSgpO2Zvcih2YXIgaSBpbiBhKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOnJvb3QpW2ldPWFbaV19fSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZXM9W2Z1bmN0aW9uKG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9SlNPTi5wYXJzZSgne1wiQkFDS1NQQUNFXCI6OCxcIkJBQ0tTUEFDRV9TQUZBUklcIjoxMjcsXCJERUxFVEVcIjo0NixcIkRPV05cIjo0MCxcIkVORFwiOjM1LFwiRU5URVJcIjoxMyxcIkVTQ0FQRVwiOjI3LFwiSE9NRVwiOjM2LFwiSU5TRVJUXCI6NDUsXCJMRUZUXCI6MzcsXCJQQUdFX0RPV05cIjozNCxcIlBBR0VfVVBcIjozMyxcIlJJR0hUXCI6MzksXCJTUEFDRVwiOjMyLFwiVEFCXCI6OSxcIlVQXCI6MzgsXCJYXCI6ODgsXCJDT05UUk9MXCI6MTcsXCJLRVlfMjI5XCI6MjI5fScpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmNhcmV0PWNhcmV0LGV4cG9ydHMuZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb249ZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24sZXhwb3J0cy5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uPWRldGVybWluZU5ld0NhcmV0UG9zaXRpb24sZXhwb3J0cy5nZXRCdWZmZXI9Z2V0QnVmZmVyLGV4cG9ydHMuZ2V0QnVmZmVyVGVtcGxhdGU9Z2V0QnVmZmVyVGVtcGxhdGUsZXhwb3J0cy5nZXRMYXN0VmFsaWRQb3NpdGlvbj1nZXRMYXN0VmFsaWRQb3NpdGlvbixleHBvcnRzLmlzTWFzaz1pc01hc2ssZXhwb3J0cy5yZXNldE1hc2tTZXQ9cmVzZXRNYXNrU2V0LGV4cG9ydHMuc2Vla05leHQ9c2Vla05leHQsZXhwb3J0cy5zZWVrUHJldmlvdXM9c2Vla1ByZXZpb3VzLGV4cG9ydHMudHJhbnNsYXRlUG9zaXRpb249dHJhbnNsYXRlUG9zaXRpb247dmFyIF92YWxpZGF0aW9uVGVzdHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxfdmFsaWRhdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO2Z1bmN0aW9uIGNhcmV0KGlucHV0LGJlZ2luLGVuZCxub3RyYW5zbGF0ZSxpc0RlbGV0ZSl7dmFyIGlucHV0bWFzaz10aGlzLG9wdHM9dGhpcy5vcHRzLHJhbmdlO2lmKHZvaWQgMD09PWJlZ2luKXJldHVyblwic2VsZWN0aW9uU3RhcnRcImluIGlucHV0JiZcInNlbGVjdGlvbkVuZFwiaW4gaW5wdXQ/KGJlZ2luPWlucHV0LnNlbGVjdGlvblN0YXJ0LGVuZD1pbnB1dC5zZWxlY3Rpb25FbmQpOndpbmRvdy5nZXRTZWxlY3Rpb24/KHJhbmdlPXdpbmRvdy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLnBhcmVudE5vZGUhPT1pbnB1dCYmcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIhPT1pbnB1dHx8KGJlZ2luPXJhbmdlLnN0YXJ0T2Zmc2V0LGVuZD1yYW5nZS5lbmRPZmZzZXQpKTpkb2N1bWVudC5zZWxlY3Rpb24mJmRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSYmKHJhbmdlPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLGJlZ2luPTAtcmFuZ2UuZHVwbGljYXRlKCkubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLWlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLGVuZD1iZWdpbityYW5nZS50ZXh0Lmxlbmd0aCkse2JlZ2luOm5vdHJhbnNsYXRlP2JlZ2luOnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwodGhpcyxiZWdpbiksZW5kOm5vdHJhbnNsYXRlP2VuZDp0cmFuc2xhdGVQb3NpdGlvbi5jYWxsKHRoaXMsZW5kKX07aWYoQXJyYXkuaXNBcnJheShiZWdpbikmJihlbmQ9dGhpcy5pc1JUTD9iZWdpblswXTpiZWdpblsxXSxiZWdpbj10aGlzLmlzUlRMP2JlZ2luWzFdOmJlZ2luWzBdKSx2b2lkIDAhPT1iZWdpbi5iZWdpbiYmKGVuZD10aGlzLmlzUlRMP2JlZ2luLmJlZ2luOmJlZ2luLmVuZCxiZWdpbj10aGlzLmlzUlRMP2JlZ2luLmVuZDpiZWdpbi5iZWdpbiksXCJudW1iZXJcIj09dHlwZW9mIGJlZ2luKXtiZWdpbj1ub3RyYW5zbGF0ZT9iZWdpbjp0cmFuc2xhdGVQb3NpdGlvbi5jYWxsKHRoaXMsYmVnaW4pLGVuZD1ub3RyYW5zbGF0ZT9lbmQ6dHJhbnNsYXRlUG9zaXRpb24uY2FsbCh0aGlzLGVuZCksZW5kPVwibnVtYmVyXCI9PXR5cGVvZiBlbmQ/ZW5kOmJlZ2luO3ZhciBzY3JvbGxDYWxjPXBhcnNlSW50KCgoaW5wdXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlPyhpbnB1dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fHx3aW5kb3cpLmdldENvbXB1dGVkU3R5bGUoaW5wdXQsbnVsbCk6aW5wdXQuY3VycmVudFN0eWxlKS5mb250U2l6ZSkqZW5kO2lmKGlucHV0LnNjcm9sbExlZnQ9c2Nyb2xsQ2FsYz5pbnB1dC5zY3JvbGxXaWR0aD9zY3JvbGxDYWxjOjAsaW5wdXQuaW5wdXRtYXNrLmNhcmV0UG9zPXtiZWdpbjpiZWdpbixlbmQ6ZW5kfSxvcHRzLmluc2VydE1vZGVWaXN1YWwmJiExPT09b3B0cy5pbnNlcnRNb2RlJiZiZWdpbj09PWVuZCYmKGlzRGVsZXRlfHxlbmQrKyksaW5wdXQ9PT0oaW5wdXQuaW5wdXRtYXNrLnNoYWRvd1Jvb3R8fGRvY3VtZW50KS5hY3RpdmVFbGVtZW50KWlmKFwic2V0U2VsZWN0aW9uUmFuZ2VcImluIGlucHV0KWlucHV0LnNldFNlbGVjdGlvblJhbmdlKGJlZ2luLGVuZCk7ZWxzZSBpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXtpZihyYW5nZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHZvaWQgMD09PWlucHV0LmZpcnN0Q2hpbGR8fG51bGw9PT1pbnB1dC5maXJzdENoaWxkKXt2YXIgdGV4dE5vZGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7aW5wdXQuYXBwZW5kQ2hpbGQodGV4dE5vZGUpfXJhbmdlLnNldFN0YXJ0KGlucHV0LmZpcnN0Q2hpbGQsYmVnaW48aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aD9iZWdpbjppbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKSxyYW5nZS5zZXRFbmQoaW5wdXQuZmlyc3RDaGlsZCxlbmQ8aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aD9lbmQ6aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCkscmFuZ2UuY29sbGFwc2UoITApO3ZhciBzZWw9d2luZG93LmdldFNlbGVjdGlvbigpO3NlbC5yZW1vdmVBbGxSYW5nZXMoKSxzZWwuYWRkUmFuZ2UocmFuZ2UpfWVsc2UgaW5wdXQuY3JlYXRlVGV4dFJhbmdlJiYocmFuZ2U9aW5wdXQuY3JlYXRlVGV4dFJhbmdlKCkscmFuZ2UuY29sbGFwc2UoITApLHJhbmdlLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIixlbmQpLHJhbmdlLm1vdmVTdGFydChcImNoYXJhY3RlclwiLGJlZ2luKSxyYW5nZS5zZWxlY3QoKSl9fWZ1bmN0aW9uIGRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKHJldHVybkRlZmluaXRpb24pe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCwkPXRoaXMuZGVwZW5kZW5jeUxpYixidWZmZXI9X3ZhbGlkYXRpb25UZXN0cy5nZXRNYXNrVGVtcGxhdGUuY2FsbCh0aGlzLCEwLGdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyksITAsITApLGJsPWJ1ZmZlci5sZW5ndGgscG9zLGx2cD1nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMpLHBvc2l0aW9ucz17fSxsdlRlc3Q9bWFza3NldC52YWxpZFBvc2l0aW9uc1tsdnBdLG5keEludGx6cj12b2lkIDAhPT1sdlRlc3Q/bHZUZXN0LmxvY2F0b3Iuc2xpY2UoKTp2b2lkIDAsdGVzdFBvcztmb3IocG9zPWx2cCsxO3BvczxidWZmZXIubGVuZ3RoO3BvcysrKXRlc3RQb3M9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLHBvcyxuZHhJbnRsenIscG9zLTEpLG5keEludGx6cj10ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKSxwb3NpdGlvbnNbcG9zXT0kLmV4dGVuZCghMCx7fSx0ZXN0UG9zKTt2YXIgbHZUZXN0QWx0PWx2VGVzdCYmdm9pZCAwIT09bHZUZXN0LmFsdGVybmF0aW9uP2x2VGVzdC5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl06dm9pZCAwO2Zvcihwb3M9YmwtMTtsdnA8cG9zJiYodGVzdFBvcz1wb3NpdGlvbnNbcG9zXSwodGVzdFBvcy5tYXRjaC5vcHRpb25hbGl0eXx8dGVzdFBvcy5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXImJnRlc3RQb3MubWF0Y2gubmV3QmxvY2tNYXJrZXJ8fGx2VGVzdEFsdCYmKGx2VGVzdEFsdCE9PXBvc2l0aW9uc1twb3NdLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSYmMSE9dGVzdFBvcy5tYXRjaC5zdGF0aWN8fCEwPT09dGVzdFBvcy5tYXRjaC5zdGF0aWMmJnRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dJiZfdmFsaWRhdGlvbi5jaGVja0FsdGVybmF0aW9uTWF0Y2guY2FsbCh0aGlzLHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLGx2VGVzdEFsdC50b1N0cmluZygpLnNwbGl0KFwiLFwiKSkmJlwiXCIhPT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RzLmNhbGwodGhpcyxwb3MpWzBdLmRlZikpJiZidWZmZXJbcG9zXT09PV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbCh0aGlzLHBvcyx0ZXN0UG9zLm1hdGNoKSk7cG9zLS0pYmwtLTtyZXR1cm4gcmV0dXJuRGVmaW5pdGlvbj97bDpibCxkZWY6cG9zaXRpb25zW2JsXT9wb3NpdGlvbnNbYmxdLm1hdGNoOnZvaWQgMH06Ymx9ZnVuY3Rpb24gZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbihzZWxlY3RlZENhcmV0LHRhYmJlZCl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LG9wdHM9dGhpcy5vcHRzO2Z1bmN0aW9uIGRvUmFkaXhGb2N1cyhjbGlja1Bvcyl7aWYoXCJcIiE9PW9wdHMucmFkaXhQb2ludCYmMCE9PW9wdHMuZGlnaXRzKXt2YXIgdnBzPW1hc2tzZXQudmFsaWRQb3NpdGlvbnM7aWYodm9pZCAwPT09dnBzW2NsaWNrUG9zXXx8dnBzW2NsaWNrUG9zXS5pbnB1dD09PV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbChpbnB1dG1hc2ssY2xpY2tQb3MpKXtpZihjbGlja1BvczxzZWVrTmV4dC5jYWxsKGlucHV0bWFzaywtMSkpcmV0dXJuITA7dmFyIHJhZGl4UG9zPWdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpO2lmKC0xIT09cmFkaXhQb3Mpe2Zvcih2YXIgdnAgaW4gdnBzKWlmKHZwc1t2cF0mJnJhZGl4UG9zPHZwJiZ2cHNbdnBdLmlucHV0IT09X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKGlucHV0bWFzayx2cCkpcmV0dXJuITE7cmV0dXJuITB9fX1yZXR1cm4hMX1pZih0YWJiZWQmJihpbnB1dG1hc2suaXNSVEw/c2VsZWN0ZWRDYXJldC5lbmQ9c2VsZWN0ZWRDYXJldC5iZWdpbjpzZWxlY3RlZENhcmV0LmJlZ2luPXNlbGVjdGVkQ2FyZXQuZW5kKSxzZWxlY3RlZENhcmV0LmJlZ2luPT09c2VsZWN0ZWRDYXJldC5lbmQpe3N3aXRjaChvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrKXtjYXNlXCJub25lXCI6YnJlYWs7Y2FzZVwic2VsZWN0XCI6c2VsZWN0ZWRDYXJldD17YmVnaW46MCxlbmQ6Z2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5sZW5ndGh9O2JyZWFrO2Nhc2VcImlnbm9yZVwiOnNlbGVjdGVkQ2FyZXQuZW5kPXNlbGVjdGVkQ2FyZXQuYmVnaW49c2Vla05leHQuY2FsbChpbnB1dG1hc2ssZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spKTticmVhaztjYXNlXCJyYWRpeEZvY3VzXCI6aWYoZG9SYWRpeEZvY3VzKHNlbGVjdGVkQ2FyZXQuYmVnaW4pKXt2YXIgcmFkaXhQb3M9Z2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KTtzZWxlY3RlZENhcmV0LmVuZD1zZWxlY3RlZENhcmV0LmJlZ2luPW9wdHMubnVtZXJpY0lucHV0P3NlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLHJhZGl4UG9zKTpyYWRpeFBvczticmVha31kZWZhdWx0OnZhciBjbGlja1Bvc2l0aW9uPXNlbGVjdGVkQ2FyZXQuYmVnaW4sbHZjbGlja1Bvc2l0aW9uPWdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLGNsaWNrUG9zaXRpb24sITApLGxhc3RQb3NpdGlvbj1zZWVrTmV4dC5jYWxsKGlucHV0bWFzaywtMSE9PWx2Y2xpY2tQb3NpdGlvbnx8aXNNYXNrLmNhbGwoaW5wdXRtYXNrLDApP2x2Y2xpY2tQb3NpdGlvbjotMSk7aWYoY2xpY2tQb3NpdGlvbjw9bGFzdFBvc2l0aW9uKXNlbGVjdGVkQ2FyZXQuZW5kPXNlbGVjdGVkQ2FyZXQuYmVnaW49aXNNYXNrLmNhbGwoaW5wdXRtYXNrLGNsaWNrUG9zaXRpb24sITEsITApP2NsaWNrUG9zaXRpb246c2Vla05leHQuY2FsbChpbnB1dG1hc2ssY2xpY2tQb3NpdGlvbik7ZWxzZXt2YXIgbHZwPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbHZjbGlja1Bvc2l0aW9uXSx0dD1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RUZW1wbGF0ZS5jYWxsKGlucHV0bWFzayxsYXN0UG9zaXRpb24sbHZwP2x2cC5tYXRjaC5sb2NhdG9yOnZvaWQgMCxsdnApLHBsYWNlaG9sZGVyPV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbChpbnB1dG1hc2ssbGFzdFBvc2l0aW9uLHR0Lm1hdGNoKTtpZihcIlwiIT09cGxhY2Vob2xkZXImJmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaylbbGFzdFBvc2l0aW9uXSE9PXBsYWNlaG9sZGVyJiYhMCE9PXR0Lm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmITAhPT10dC5tYXRjaC5uZXdCbG9ja01hcmtlcnx8IWlzTWFzay5jYWxsKGlucHV0bWFzayxsYXN0UG9zaXRpb24sb3B0cy5rZWVwU3RhdGljLCEwKSYmdHQubWF0Y2guZGVmPT09cGxhY2Vob2xkZXIpe3ZhciBuZXdQb3M9c2Vla05leHQuY2FsbChpbnB1dG1hc2ssbGFzdFBvc2l0aW9uKTsobmV3UG9zPD1jbGlja1Bvc2l0aW9ufHxjbGlja1Bvc2l0aW9uPT09bGFzdFBvc2l0aW9uKSYmKGxhc3RQb3NpdGlvbj1uZXdQb3MpfXNlbGVjdGVkQ2FyZXQuZW5kPXNlbGVjdGVkQ2FyZXQuYmVnaW49bGFzdFBvc2l0aW9ufX1yZXR1cm4gc2VsZWN0ZWRDYXJldH19ZnVuY3Rpb24gZ2V0QnVmZmVyKG5vQ2FjaGUpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldDtyZXR1cm4gdm9pZCAwIT09bWFza3NldC5idWZmZXImJiEwIT09bm9DYWNoZXx8KG1hc2tzZXQuYnVmZmVyPV92YWxpZGF0aW9uVGVzdHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywhMCxnZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMpLCEwKSx2b2lkIDA9PT1tYXNrc2V0Ll9idWZmZXImJihtYXNrc2V0Ll9idWZmZXI9bWFza3NldC5idWZmZXIuc2xpY2UoKSkpLG1hc2tzZXQuYnVmZmVyfWZ1bmN0aW9uIGdldEJ1ZmZlclRlbXBsYXRlKCl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0O3JldHVybiB2b2lkIDA9PT1tYXNrc2V0Ll9idWZmZXImJihtYXNrc2V0Ll9idWZmZXI9X3ZhbGlkYXRpb25UZXN0cy5nZXRNYXNrVGVtcGxhdGUuY2FsbCh0aGlzLCExLDEpLHZvaWQgMD09PW1hc2tzZXQuYnVmZmVyJiYobWFza3NldC5idWZmZXI9bWFza3NldC5fYnVmZmVyLnNsaWNlKCkpKSxtYXNrc2V0Ll9idWZmZXJ9ZnVuY3Rpb24gZ2V0TGFzdFZhbGlkUG9zaXRpb24oY2xvc2VzdFRvLHN0cmljdCx2YWxpZFBvc2l0aW9ucyl7dmFyIG1hc2tzZXQ9dGhpcy5tYXNrc2V0LGJlZm9yZT0tMSxhZnRlcj0tMSx2YWxpZHM9dmFsaWRQb3NpdGlvbnN8fG1hc2tzZXQudmFsaWRQb3NpdGlvbnM7Zm9yKHZhciBwb3NOZHggaW4gdm9pZCAwPT09Y2xvc2VzdFRvJiYoY2xvc2VzdFRvPS0xKSx2YWxpZHMpe3ZhciBwc05keD1wYXJzZUludChwb3NOZHgpO3ZhbGlkc1twc05keF0mJihzdHJpY3R8fCEwIT09dmFsaWRzW3BzTmR4XS5nZW5lcmF0ZWRJbnB1dCkmJihwc05keDw9Y2xvc2VzdFRvJiYoYmVmb3JlPXBzTmR4KSxjbG9zZXN0VG88PXBzTmR4JiYoYWZ0ZXI9cHNOZHgpKX1yZXR1cm4tMT09PWJlZm9yZXx8YmVmb3JlPT1jbG9zZXN0VG8/YWZ0ZXI6LTE9PWFmdGVyP2JlZm9yZTpjbG9zZXN0VG8tYmVmb3JlPGFmdGVyLWNsb3Nlc3RUbz9iZWZvcmU6YWZ0ZXJ9ZnVuY3Rpb24gaXNNYXNrKHBvcyxzdHJpY3QsZnV6enkpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCx0ZXN0PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdFRlbXBsYXRlLmNhbGwodGhpcyxwb3MpLm1hdGNoO2lmKFwiXCI9PT10ZXN0LmRlZiYmKHRlc3Q9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwb3MpLm1hdGNoKSwhMCE9PXRlc3Quc3RhdGljKXJldHVybiB0ZXN0LmZuO2lmKCEwPT09ZnV6enkmJnZvaWQgMCE9PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSYmITAhPT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uZ2VuZXJhdGVkSW5wdXQpcmV0dXJuITA7aWYoITAhPT1zdHJpY3QmJi0xPHBvcyl7aWYoZnV6enkpe3ZhciB0ZXN0cz1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RzLmNhbGwodGhpcyxwb3MpO3JldHVybiB0ZXN0cy5sZW5ndGg+MSsoXCJcIj09PXRlc3RzW3Rlc3RzLmxlbmd0aC0xXS5tYXRjaC5kZWY/MTowKX12YXIgdGVzdFRlbXBsYXRlPV92YWxpZGF0aW9uVGVzdHMuZGV0ZXJtaW5lVGVzdFRlbXBsYXRlLmNhbGwodGhpcyxwb3MsX3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0cy5jYWxsKHRoaXMscG9zKSksdGVzdFBsYWNlSG9sZGVyPV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbCh0aGlzLHBvcyx0ZXN0VGVtcGxhdGUubWF0Y2gpO3JldHVybiB0ZXN0VGVtcGxhdGUubWF0Y2guZGVmIT09dGVzdFBsYWNlSG9sZGVyfXJldHVybiExfWZ1bmN0aW9uIHJlc2V0TWFza1NldChzb2Z0KXt2YXIgbWFza3NldD10aGlzLm1hc2tzZXQ7bWFza3NldC5idWZmZXI9dm9pZCAwLCEwIT09c29mdCYmKG1hc2tzZXQudmFsaWRQb3NpdGlvbnM9e30sbWFza3NldC5wPTApfWZ1bmN0aW9uIHNlZWtOZXh0KHBvcyxuZXdCbG9jayxmdXp6eSl7dmFyIGlucHV0bWFzaz10aGlzO3ZvaWQgMD09PWZ1enp5JiYoZnV6enk9ITApO2Zvcih2YXIgcG9zaXRpb249cG9zKzE7XCJcIiE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscG9zaXRpb24pLm1hdGNoLmRlZiYmKCEwPT09bmV3QmxvY2smJighMCE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscG9zaXRpb24pLm1hdGNoLm5ld0Jsb2NrTWFya2VyfHwhaXNNYXNrLmNhbGwodGhpcyxwb3NpdGlvbix2b2lkIDAsITApKXx8ITAhPT1uZXdCbG9jayYmIWlzTWFzay5jYWxsKHRoaXMscG9zaXRpb24sdm9pZCAwLGZ1enp5KSk7KXBvc2l0aW9uKys7cmV0dXJuIHBvc2l0aW9ufWZ1bmN0aW9uIHNlZWtQcmV2aW91cyhwb3MsbmV3QmxvY2spe3ZhciBpbnB1dG1hc2s9dGhpcyxwb3NpdGlvbj1wb3MtMTtpZihwb3M8PTApcmV0dXJuIDA7Zm9yKDswPHBvc2l0aW9uJiYoITA9PT1uZXdCbG9jayYmKCEwIT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwb3NpdGlvbikubWF0Y2gubmV3QmxvY2tNYXJrZXJ8fCFpc01hc2suY2FsbCh0aGlzLHBvc2l0aW9uLHZvaWQgMCwhMCkpfHwhMCE9PW5ld0Jsb2NrJiYhaXNNYXNrLmNhbGwodGhpcyxwb3NpdGlvbix2b2lkIDAsITApKTspcG9zaXRpb24tLTtyZXR1cm4gcG9zaXRpb259ZnVuY3Rpb24gdHJhbnNsYXRlUG9zaXRpb24ocG9zKXt2YXIgaW5wdXRtYXNrPXRoaXMsb3B0cz10aGlzLm9wdHMsZWw9dGhpcy5lbDtyZXR1cm4hdGhpcy5pc1JUTHx8XCJudW1iZXJcIiE9dHlwZW9mIHBvc3x8b3B0cy5ncmVlZHkmJlwiXCI9PT1vcHRzLnBsYWNlaG9sZGVyfHwhZWx8fChwb3M9TWF0aC5hYnModGhpcy5fdmFsdWVHZXQoKS5sZW5ndGgtcG9zKSkscG9zfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMCxfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTt2YXIgX21hc2s9X193ZWJwYWNrX3JlcXVpcmVfXygxOCksX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTApKSxfd2luZG93PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1KSksX21hc2tMZXhlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSxfdmFsaWRhdGlvblRlc3RzPV9fd2VicGFja19yZXF1aXJlX18oMyksX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSksX3ZhbGlkYXRpb249X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfaW5wdXRIYW5kbGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9ldmVudHJ1bGVyPV9fd2VicGFja19yZXF1aXJlX18oMTEpLF9kZWZpbml0aW9ucz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjIpKSxfZGVmYXVsdHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSksX2NhblVzZURPTT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNikpO2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfdHlwZW9mKG9iail9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciBkb2N1bWVudD1fd2luZG93LmRlZmF1bHQuZG9jdW1lbnQsZGF0YUtleT1cIl9pbnB1dG1hc2tfb3B0c1wiO2Z1bmN0aW9uIElucHV0bWFzayhhbGlhcyxvcHRpb25zLGludGVybmFsKXtpZihfY2FuVXNlRE9NLmRlZmF1bHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIElucHV0bWFzaykpcmV0dXJuIG5ldyBJbnB1dG1hc2soYWxpYXMsb3B0aW9ucyxpbnRlcm5hbCk7dGhpcy5kZXBlbmRlbmN5TGliPV9pbnB1dG1hc2suZGVmYXVsdCx0aGlzLmVsPXZvaWQgMCx0aGlzLmV2ZW50cz17fSx0aGlzLm1hc2tzZXQ9dm9pZCAwLCEwIT09aW50ZXJuYWwmJihcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFsaWFzKT9vcHRpb25zPWFsaWFzOihvcHRpb25zPW9wdGlvbnN8fHt9LGFsaWFzJiYob3B0aW9ucy5hbGlhcz1hbGlhcykpLHRoaXMub3B0cz1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLHt9LHRoaXMuZGVmYXVsdHMsb3B0aW9ucyksdGhpcy5ub01hc2tzQ2FjaGU9b3B0aW9ucyYmdm9pZCAwIT09b3B0aW9ucy5kZWZpbml0aW9ucyx0aGlzLnVzZXJPcHRpb25zPW9wdGlvbnN8fHt9LHJlc29sdmVBbGlhcyh0aGlzLm9wdHMuYWxpYXMsb3B0aW9ucyx0aGlzLm9wdHMpKSx0aGlzLnJlZnJlc2hWYWx1ZT0hMSx0aGlzLnVuZG9WYWx1ZT12b2lkIDAsdGhpcy4kZWw9dm9pZCAwLHRoaXMuc2tpcEtleVByZXNzRXZlbnQ9ITEsdGhpcy5za2lwSW5wdXRFdmVudD0hMSx0aGlzLnZhbGlkYXRpb25FdmVudD0hMSx0aGlzLmlnbm9yYWJsZT0hMSx0aGlzLm1heExlbmd0aCx0aGlzLm1vdXNlRW50ZXI9ITEsdGhpcy5vcmlnaW5hbFBsYWNlaG9sZGVyPXZvaWQgMCx0aGlzLmlzQ29tcG9zaW5nPSExfX1mdW5jdGlvbiByZXNvbHZlQWxpYXMoYWxpYXNTdHIsb3B0aW9ucyxvcHRzKXt2YXIgYWxpYXNEZWZpbml0aW9uPUlucHV0bWFzay5wcm90b3R5cGUuYWxpYXNlc1thbGlhc1N0cl07cmV0dXJuIGFsaWFzRGVmaW5pdGlvbj8oYWxpYXNEZWZpbml0aW9uLmFsaWFzJiZyZXNvbHZlQWxpYXMoYWxpYXNEZWZpbml0aW9uLmFsaWFzLHZvaWQgMCxvcHRzKSxfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLG9wdHMsYWxpYXNEZWZpbml0aW9uKSxfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLG9wdHMsb3B0aW9ucyksITApOihudWxsPT09b3B0cy5tYXNrJiYob3B0cy5tYXNrPWFsaWFzU3RyKSwhMSl9ZnVuY3Rpb24gaW1wb3J0QXR0cmlidXRlT3B0aW9ucyhucHQsb3B0cyx1c2VyT3B0aW9ucyxkYXRhQXR0cmlidXRlKXtmdW5jdGlvbiBpbXBvcnRPcHRpb24ob3B0aW9uLG9wdGlvbkRhdGEpe3ZhciBhdHRyT3B0aW9uPVwiXCI9PT1kYXRhQXR0cmlidXRlP29wdGlvbjpkYXRhQXR0cmlidXRlK1wiLVwiK29wdGlvbjtvcHRpb25EYXRhPXZvaWQgMCE9PW9wdGlvbkRhdGE/b3B0aW9uRGF0YTpucHQuZ2V0QXR0cmlidXRlKGF0dHJPcHRpb24pLG51bGwhPT1vcHRpb25EYXRhJiYoXCJzdHJpbmdcIj09dHlwZW9mIG9wdGlvbkRhdGEmJigwPT09b3B0aW9uLmluZGV4T2YoXCJvblwiKT9vcHRpb25EYXRhPV93aW5kb3cuZGVmYXVsdFtvcHRpb25EYXRhXTpcImZhbHNlXCI9PT1vcHRpb25EYXRhP29wdGlvbkRhdGE9ITE6XCJ0cnVlXCI9PT1vcHRpb25EYXRhJiYob3B0aW9uRGF0YT0hMCkpLHVzZXJPcHRpb25zW29wdGlvbl09b3B0aW9uRGF0YSl9aWYoITA9PT1vcHRzLmltcG9ydERhdGFBdHRyaWJ1dGVzKXt2YXIgYXR0ck9wdGlvbnM9bnB0LmdldEF0dHJpYnV0ZShkYXRhQXR0cmlidXRlKSxvcHRpb24sZGF0YW9wdGlvbnMsb3B0aW9uRGF0YSxwO2lmKGF0dHJPcHRpb25zJiZcIlwiIT09YXR0ck9wdGlvbnMmJihhdHRyT3B0aW9ucz1hdHRyT3B0aW9ucy5yZXBsYWNlKC8nL2csJ1wiJyksZGF0YW9wdGlvbnM9SlNPTi5wYXJzZShcIntcIithdHRyT3B0aW9ucytcIn1cIikpLGRhdGFvcHRpb25zKWZvcihwIGluIG9wdGlvbkRhdGE9dm9pZCAwLGRhdGFvcHRpb25zKWlmKFwiYWxpYXNcIj09PXAudG9Mb3dlckNhc2UoKSl7b3B0aW9uRGF0YT1kYXRhb3B0aW9uc1twXTticmVha31mb3Iob3B0aW9uIGluIGltcG9ydE9wdGlvbihcImFsaWFzXCIsb3B0aW9uRGF0YSksdXNlck9wdGlvbnMuYWxpYXMmJnJlc29sdmVBbGlhcyh1c2VyT3B0aW9ucy5hbGlhcyx1c2VyT3B0aW9ucyxvcHRzKSxvcHRzKXtpZihkYXRhb3B0aW9ucylmb3IocCBpbiBvcHRpb25EYXRhPXZvaWQgMCxkYXRhb3B0aW9ucylpZihwLnRvTG93ZXJDYXNlKCk9PT1vcHRpb24udG9Mb3dlckNhc2UoKSl7b3B0aW9uRGF0YT1kYXRhb3B0aW9uc1twXTticmVha31pbXBvcnRPcHRpb24ob3B0aW9uLG9wdGlvbkRhdGEpfX1yZXR1cm4gX2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCxvcHRzLHVzZXJPcHRpb25zKSxcInJ0bFwiIT09bnB0LmRpciYmIW9wdHMucmlnaHRBbGlnbnx8KG5wdC5zdHlsZS50ZXh0QWxpZ249XCJyaWdodFwiKSxcInJ0bFwiIT09bnB0LmRpciYmIW9wdHMubnVtZXJpY0lucHV0fHwobnB0LmRpcj1cImx0clwiLG5wdC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIiksb3B0cy5pc1JUTD0hMCksT2JqZWN0LmtleXModXNlck9wdGlvbnMpLmxlbmd0aH1JbnB1dG1hc2sucHJvdG90eXBlPXtkYXRhQXR0cmlidXRlOlwiZGF0YS1pbnB1dG1hc2tcIixkZWZhdWx0czpfZGVmYXVsdHMuZGVmYXVsdCxkZWZpbml0aW9uczpfZGVmaW5pdGlvbnMuZGVmYXVsdCxhbGlhc2VzOnt9LG1hc2tzQ2FjaGU6e30sZ2V0IGlzUlRMKCl7cmV0dXJuIHRoaXMub3B0cy5pc1JUTHx8dGhpcy5vcHRzLm51bWVyaWNJbnB1dH0sbWFzazpmdW5jdGlvbiBtYXNrKGVsZW1zKXt2YXIgdGhhdD10aGlzO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlbGVtcyYmKGVsZW1zPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1zKXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtcykpLGVsZW1zPWVsZW1zLm5vZGVOYW1lP1tlbGVtc106QXJyYXkuaXNBcnJheShlbGVtcyk/ZWxlbXM6QXJyYXkuZnJvbShlbGVtcyksZWxlbXMuZm9yRWFjaChmdW5jdGlvbihlbCxuZHgpe3ZhciBzY29wZWRPcHRzPV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAse30sdGhhdC5vcHRzKTtpZihpbXBvcnRBdHRyaWJ1dGVPcHRpb25zKGVsLHNjb3BlZE9wdHMsX2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCx7fSx0aGF0LnVzZXJPcHRpb25zKSx0aGF0LmRhdGFBdHRyaWJ1dGUpKXt2YXIgbWFza3NldD0oMCxfbWFza0xleGVyLmdlbmVyYXRlTWFza1NldCkoc2NvcGVkT3B0cyx0aGF0Lm5vTWFza3NDYWNoZSk7dm9pZCAwIT09bWFza3NldCYmKHZvaWQgMCE9PWVsLmlucHV0bWFzayYmKGVsLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2s9ITAsZWwuaW5wdXRtYXNrLnJlbW92ZSgpKSxlbC5pbnB1dG1hc2s9bmV3IElucHV0bWFzayh2b2lkIDAsdm9pZCAwLCEwKSxlbC5pbnB1dG1hc2sub3B0cz1zY29wZWRPcHRzLGVsLmlucHV0bWFzay5ub01hc2tzQ2FjaGU9dGhhdC5ub01hc2tzQ2FjaGUsZWwuaW5wdXRtYXNrLnVzZXJPcHRpb25zPV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAse30sdGhhdC51c2VyT3B0aW9ucyksZWwuaW5wdXRtYXNrLmVsPWVsLGVsLmlucHV0bWFzay4kZWw9KDAsX2lucHV0bWFzay5kZWZhdWx0KShlbCksZWwuaW5wdXRtYXNrLm1hc2tzZXQ9bWFza3NldCxfaW5wdXRtYXNrLmRlZmF1bHQuZGF0YShlbCxkYXRhS2V5LHRoYXQudXNlck9wdGlvbnMpLF9tYXNrLm1hc2suY2FsbChlbC5pbnB1dG1hc2spKX19KSxlbGVtcyYmZWxlbXNbMF0mJmVsZW1zWzBdLmlucHV0bWFza3x8dGhpc30sb3B0aW9uOmZ1bmN0aW9uIG9wdGlvbihvcHRpb25zLG5vcmVtYXNrKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygb3B0aW9ucz90aGlzLm9wdHNbb3B0aW9uc106XCJvYmplY3RcIj09PV90eXBlb2Yob3B0aW9ucyk/KF9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQodGhpcy51c2VyT3B0aW9ucyxvcHRpb25zKSx0aGlzLmVsJiYhMCE9PW5vcmVtYXNrJiZ0aGlzLm1hc2sodGhpcy5lbCksdGhpcyk6dm9pZCAwfSx1bm1hc2tlZHZhbHVlOmZ1bmN0aW9uIHVubWFza2VkdmFsdWUodmFsdWUpe2lmKHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fCgwLF9tYXNrTGV4ZXIuZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLHZvaWQgMD09PXRoaXMuZWx8fHZvaWQgMCE9PXZhbHVlKXt2YXIgdmFsdWVCdWZmZXI9KFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5vbkJlZm9yZU1hc2smJnRoaXMub3B0cy5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLHZhbHVlLHRoaXMub3B0cyl8fHZhbHVlKS5zcGxpdChcIlwiKTtfaW5wdXRIYW5kbGluZy5jaGVja1ZhbC5jYWxsKHRoaXMsdm9pZCAwLCExLCExLHZhbHVlQnVmZmVyKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdHMub25CZWZvcmVXcml0ZSYmdGhpcy5vcHRzLm9uQmVmb3JlV3JpdGUuY2FsbCh0aGlzLHZvaWQgMCxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcyksMCx0aGlzLm9wdHMpfXJldHVybiBfaW5wdXRIYW5kbGluZy51bm1hc2tlZHZhbHVlLmNhbGwodGhpcyx0aGlzLmVsKX0scmVtb3ZlOmZ1bmN0aW9uIHJlbW92ZSgpe2lmKHRoaXMuZWwpe19pbnB1dG1hc2suZGVmYXVsdC5kYXRhKHRoaXMuZWwsZGF0YUtleSxudWxsKTt2YXIgY3Y9dGhpcy5vcHRzLmF1dG9Vbm1hc2s/KDAsX2lucHV0SGFuZGxpbmcudW5tYXNrZWR2YWx1ZSkodGhpcy5lbCk6dGhpcy5fdmFsdWVHZXQodGhpcy5vcHRzLmF1dG9Vbm1hc2spLHZhbHVlUHJvcGVydHk7Y3YhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbCh0aGlzKS5qb2luKFwiXCIpP3RoaXMuX3ZhbHVlU2V0KGN2LHRoaXMub3B0cy5hdXRvVW5tYXNrKTp0aGlzLl92YWx1ZVNldChcIlwiKSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9mZih0aGlzLmVsKSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZPYmplY3QuZ2V0UHJvdG90eXBlT2Y/KHZhbHVlUHJvcGVydHk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcy5lbCksXCJ2YWx1ZVwiKSx2YWx1ZVByb3BlcnR5JiZ0aGlzLl9fdmFsdWVHZXQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmVsLFwidmFsdWVcIix7Z2V0OnRoaXMuX192YWx1ZUdldCxzZXQ6dGhpcy5fX3ZhbHVlU2V0LGNvbmZpZ3VyYWJsZTohMH0pKTpkb2N1bWVudC5fX2xvb2t1cEdldHRlcl9fJiZ0aGlzLmVsLl9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSYmdGhpcy5fX3ZhbHVlR2V0JiYodGhpcy5lbC5fX2RlZmluZUdldHRlcl9fKFwidmFsdWVcIix0aGlzLl9fdmFsdWVHZXQpLHRoaXMuZWwuX19kZWZpbmVTZXR0ZXJfXyhcInZhbHVlXCIsdGhpcy5fX3ZhbHVlU2V0KSksdGhpcy5lbC5pbnB1dG1hc2s9dm9pZCAwfXJldHVybiB0aGlzLmVsfSxnZXRlbXB0eW1hc2s6ZnVuY3Rpb24gZ2V0ZW1wdHltYXNrKCl7cmV0dXJuIHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fCgwLF9tYXNrTGV4ZXIuZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLF9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKHRoaXMpLmpvaW4oXCJcIil9LGhhc01hc2tlZFZhbHVlOmZ1bmN0aW9uIGhhc01hc2tlZFZhbHVlKCl7cmV0dXJuIXRoaXMub3B0cy5hdXRvVW5tYXNrfSxpc0NvbXBsZXRlOmZ1bmN0aW9uIGlzQ29tcGxldGUoKXtyZXR1cm4gdGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8KDAsX21hc2tMZXhlci5nZW5lcmF0ZU1hc2tTZXQpKHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksX3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKHRoaXMsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpKX0sZ2V0bWV0YWRhdGE6ZnVuY3Rpb24gZ2V0bWV0YWRhdGEoKXtpZih0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHwoMCxfbWFza0xleGVyLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxBcnJheS5pc0FycmF5KHRoaXMubWFza3NldC5tZXRhZGF0YSkpe3ZhciBtYXNrVGFyZ2V0PV92YWxpZGF0aW9uVGVzdHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywhMCwwLCExKS5qb2luKFwiXCIpO3JldHVybiB0aGlzLm1hc2tzZXQubWV0YWRhdGEuZm9yRWFjaChmdW5jdGlvbihtdGR0KXtyZXR1cm4gbXRkdC5tYXNrIT09bWFza1RhcmdldHx8KG1hc2tUYXJnZXQ9bXRkdCwhMSl9KSxtYXNrVGFyZ2V0fXJldHVybiB0aGlzLm1hc2tzZXQubWV0YWRhdGF9LGlzVmFsaWQ6ZnVuY3Rpb24gaXNWYWxpZCh2YWx1ZSl7aWYodGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8KDAsX21hc2tMZXhlci5nZW5lcmF0ZU1hc2tTZXQpKHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksdmFsdWUpe3ZhciB2YWx1ZUJ1ZmZlcj0oXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRzLm9uQmVmb3JlTWFzayYmdGhpcy5vcHRzLm9uQmVmb3JlTWFzay5jYWxsKHRoaXMsdmFsdWUsdGhpcy5vcHRzKXx8dmFsdWUpLnNwbGl0KFwiXCIpO19pbnB1dEhhbmRsaW5nLmNoZWNrVmFsLmNhbGwodGhpcyx2b2lkIDAsITAsITEsdmFsdWVCdWZmZXIpfWVsc2UgdmFsdWU9dGhpcy5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykuam9pbihcIlwiKTtmb3IodmFyIGJ1ZmZlcj1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykscmw9X3Bvc2l0aW9uaW5nLmRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uLmNhbGwodGhpcyksbG1pYj1idWZmZXIubGVuZ3RoLTE7cmw8bG1pYiYmIV9wb3NpdGlvbmluZy5pc01hc2suY2FsbCh0aGlzLGxtaWIpO2xtaWItLSk7cmV0dXJuIGJ1ZmZlci5zcGxpY2UocmwsbG1pYisxLXJsKSxfdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwodGhpcyxidWZmZXIpJiZ2YWx1ZT09PSh0aGlzLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKS5qb2luKFwiXCIpKX0sZm9ybWF0OmZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSxtZXRhZGF0YSl7dGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8KDAsX21hc2tMZXhlci5nZW5lcmF0ZU1hc2tTZXQpKHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSk7dmFyIHZhbHVlQnVmZmVyPShcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdHMub25CZWZvcmVNYXNrJiZ0aGlzLm9wdHMub25CZWZvcmVNYXNrLmNhbGwodGhpcyx2YWx1ZSx0aGlzLm9wdHMpfHx2YWx1ZSkuc3BsaXQoXCJcIik7X2lucHV0SGFuZGxpbmcuY2hlY2tWYWwuY2FsbCh0aGlzLHZvaWQgMCwhMCwhMSx2YWx1ZUJ1ZmZlcik7dmFyIGZvcm1hdHRlZFZhbHVlPXRoaXMuaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIik6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLmpvaW4oXCJcIik7cmV0dXJuIG1ldGFkYXRhP3t2YWx1ZTpmb3JtYXR0ZWRWYWx1ZSxtZXRhZGF0YTp0aGlzLmdldG1ldGFkYXRhKCl9OmZvcm1hdHRlZFZhbHVlfSxzZXRWYWx1ZTpmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSl7dGhpcy5lbCYmKDAsX2lucHV0bWFzay5kZWZhdWx0KSh0aGlzLmVsKS50cmlnZ2VyKFwic2V0dmFsdWVcIixbdmFsdWVdKX0sYW5hbHlzZU1hc2s6X21hc2tMZXhlci5hbmFseXNlTWFza30sSW5wdXRtYXNrLmV4dGVuZERlZmF1bHRzPWZ1bmN0aW9uKG9wdGlvbnMpe19pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAsSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZhdWx0cyxvcHRpb25zKX0sSW5wdXRtYXNrLmV4dGVuZERlZmluaXRpb25zPWZ1bmN0aW9uKGRlZmluaXRpb24pe19pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAsSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZpbml0aW9ucyxkZWZpbml0aW9uKX0sSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXM9ZnVuY3Rpb24oYWxpYXMpe19pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAsSW5wdXRtYXNrLnByb3RvdHlwZS5hbGlhc2VzLGFsaWFzKX0sSW5wdXRtYXNrLmZvcm1hdD1mdW5jdGlvbih2YWx1ZSxvcHRpb25zLG1ldGFkYXRhKXtyZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLmZvcm1hdCh2YWx1ZSxtZXRhZGF0YSl9LElucHV0bWFzay51bm1hc2s9ZnVuY3Rpb24odmFsdWUsb3B0aW9ucyl7cmV0dXJuIElucHV0bWFzayhvcHRpb25zKS51bm1hc2tlZHZhbHVlKHZhbHVlKX0sSW5wdXRtYXNrLmlzVmFsaWQ9ZnVuY3Rpb24odmFsdWUsb3B0aW9ucyl7cmV0dXJuIElucHV0bWFzayhvcHRpb25zKS5pc1ZhbGlkKHZhbHVlKX0sSW5wdXRtYXNrLnJlbW92ZT1mdW5jdGlvbihlbGVtcyl7XCJzdHJpbmdcIj09dHlwZW9mIGVsZW1zJiYoZWxlbXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbXMpfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1zKSksZWxlbXM9ZWxlbXMubm9kZU5hbWU/W2VsZW1zXTplbGVtcyxlbGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXtlbC5pbnB1dG1hc2smJmVsLmlucHV0bWFzay5yZW1vdmUoKX0pfSxJbnB1dG1hc2suc2V0VmFsdWU9ZnVuY3Rpb24oZWxlbXMsdmFsdWUpe1wic3RyaW5nXCI9PXR5cGVvZiBlbGVtcyYmKGVsZW1zPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1zKXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtcykpLGVsZW1zPWVsZW1zLm5vZGVOYW1lP1tlbGVtc106ZWxlbXMsZWxlbXMuZm9yRWFjaChmdW5jdGlvbihlbCl7ZWwuaW5wdXRtYXNrP2VsLmlucHV0bWFzay5zZXRWYWx1ZSh2YWx1ZSk6KDAsX2lucHV0bWFzay5kZWZhdWx0KShlbCkudHJpZ2dlcihcInNldHZhbHVlXCIsW3ZhbHVlXSl9KX0sSW5wdXRtYXNrLmRlcGVuZGVuY3lMaWI9X2lucHV0bWFzay5kZWZhdWx0LF93aW5kb3cuZGVmYXVsdC5JbnB1dG1hc2s9SW5wdXRtYXNrO3ZhciBfZGVmYXVsdD1JbnB1dG1hc2s7ZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBnZXRMb2NhdG9yKHRzdCxhbGlnbil7dmFyIGxvY2F0b3I9KG51bGwhPXRzdC5hbHRlcm5hdGlvbj90c3QubWxvY1tnZXREZWNpc2lvblRha2VyKHRzdCldOnRzdC5sb2NhdG9yKS5qb2luKFwiXCIpO2lmKFwiXCIhPT1sb2NhdG9yKWZvcig7bG9jYXRvci5sZW5ndGg8YWxpZ247KWxvY2F0b3IrPVwiMFwiO3JldHVybiBsb2NhdG9yfWZ1bmN0aW9uIGdldERlY2lzaW9uVGFrZXIodHN0KXt2YXIgZGVjaXNpb25UYWtlcj10c3QubG9jYXRvclt0c3QuYWx0ZXJuYXRpb25dO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBkZWNpc2lvblRha2VyJiYwPGRlY2lzaW9uVGFrZXIubGVuZ3RoJiYoZGVjaXNpb25UYWtlcj1kZWNpc2lvblRha2VyLnNwbGl0KFwiLFwiKVswXSksdm9pZCAwIT09ZGVjaXNpb25UYWtlcj9kZWNpc2lvblRha2VyLnRvU3RyaW5nKCk6XCJcIn1mdW5jdGlvbiBnZXRQbGFjZWhvbGRlcihwb3MsdGVzdCxyZXR1cm5QTCl7dmFyIGlucHV0bWFzaz10aGlzLG9wdHM9dGhpcy5vcHRzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0O2lmKHRlc3Q9dGVzdHx8Z2V0VGVzdC5jYWxsKHRoaXMscG9zKS5tYXRjaCx2b2lkIDAhPT10ZXN0LnBsYWNlaG9sZGVyfHwhMD09PXJldHVyblBMKXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRlc3QucGxhY2Vob2xkZXI/dGVzdC5wbGFjZWhvbGRlcihvcHRzKTp0ZXN0LnBsYWNlaG9sZGVyO2lmKCEwIT09dGVzdC5zdGF0aWMpcmV0dXJuIG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KHBvcyVvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCk7aWYoLTE8cG9zJiZ2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10pe3ZhciB0ZXN0cz1nZXRUZXN0cy5jYWxsKHRoaXMscG9zKSxzdGF0aWNBbHRlcm5hdGlvbnM9W10scHJldlRlc3Q7aWYodGVzdHMubGVuZ3RoPjErKFwiXCI9PT10ZXN0c1t0ZXN0cy5sZW5ndGgtMV0ubWF0Y2guZGVmPzE6MCkpZm9yKHZhciBpPTA7aTx0ZXN0cy5sZW5ndGg7aSsrKWlmKFwiXCIhPT10ZXN0c1tpXS5tYXRjaC5kZWYmJiEwIT09dGVzdHNbaV0ubWF0Y2gub3B0aW9uYWxpdHkmJiEwIT09dGVzdHNbaV0ubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyJiYoITA9PT10ZXN0c1tpXS5tYXRjaC5zdGF0aWN8fHZvaWQgMD09PXByZXZUZXN0fHwhMSE9PXRlc3RzW2ldLm1hdGNoLmZuLnRlc3QocHJldlRlc3QubWF0Y2guZGVmLG1hc2tzZXQscG9zLCEwLG9wdHMpKSYmKHN0YXRpY0FsdGVybmF0aW9ucy5wdXNoKHRlc3RzW2ldKSwhMD09PXRlc3RzW2ldLm1hdGNoLnN0YXRpYyYmKHByZXZUZXN0PXRlc3RzW2ldKSwxPHN0YXRpY0FsdGVybmF0aW9ucy5sZW5ndGgmJi9bMC05YS1iQS1aXS8udGVzdChzdGF0aWNBbHRlcm5hdGlvbnNbMF0ubWF0Y2guZGVmKSkpcmV0dXJuIG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KHBvcyVvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCl9cmV0dXJuIHRlc3QuZGVmfWZ1bmN0aW9uIGdldE1hc2tUZW1wbGF0ZShiYXNlT25JbnB1dCxtaW5pbWFsUG9zLGluY2x1ZGVNb2RlLG5vSml0LGNsZWFyT3B0aW9uYWxUYWlsKXt2YXIgaW5wdXRtYXNrPXRoaXMsb3B0cz10aGlzLm9wdHMsbWFza3NldD10aGlzLm1hc2tzZXQsZ3JlZWR5PW9wdHMuZ3JlZWR5O2NsZWFyT3B0aW9uYWxUYWlsJiYob3B0cy5ncmVlZHk9ITEpLG1pbmltYWxQb3M9bWluaW1hbFBvc3x8MDt2YXIgbWFza1RlbXBsYXRlPVtdLG5keEludGx6cixwb3M9MCx0ZXN0LHRlc3RQb3Msaml0UmVuZGVyU3RhdGljO2Rve2lmKCEwPT09YmFzZU9uSW5wdXQmJm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSl0ZXN0UG9zPWNsZWFyT3B0aW9uYWxUYWlsJiYhMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5tYXRjaC5vcHRpb25hbGl0eSYmdm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MrMV0mJighMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5nZW5lcmF0ZWRJbnB1dHx8bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLmlucHV0PT1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXImJjA8cG9zKT9kZXRlcm1pbmVUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLHBvcyxnZXRUZXN0cy5jYWxsKHRoaXMscG9zLG5keEludGx6cixwb3MtMSkpOm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSx0ZXN0PXRlc3RQb3MubWF0Y2gsbmR4SW50bHpyPXRlc3RQb3MubG9jYXRvci5zbGljZSgpLG1hc2tUZW1wbGF0ZS5wdXNoKCEwPT09aW5jbHVkZU1vZGU/dGVzdFBvcy5pbnB1dDohMT09PWluY2x1ZGVNb2RlP3Rlc3QubmF0aXZlRGVmOmdldFBsYWNlaG9sZGVyLmNhbGwodGhpcyxwb3MsdGVzdCkpO2Vsc2V7dGVzdFBvcz1nZXRUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLHBvcyxuZHhJbnRsenIscG9zLTEpLHRlc3Q9dGVzdFBvcy5tYXRjaCxuZHhJbnRsenI9dGVzdFBvcy5sb2NhdG9yLnNsaWNlKCk7dmFyIGppdE1hc2tpbmc9ITAhPT1ub0ppdCYmKCExIT09b3B0cy5qaXRNYXNraW5nP29wdHMuaml0TWFza2luZzp0ZXN0LmppdCk7aml0UmVuZGVyU3RhdGljPShqaXRSZW5kZXJTdGF0aWMmJnRlc3Quc3RhdGljJiZ0ZXN0LmRlZiE9PW9wdHMuZ3JvdXBTZXBhcmF0b3ImJm51bGw9PT10ZXN0LmZufHxtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvcy0xXSYmdGVzdC5zdGF0aWMmJnRlc3QuZGVmIT09b3B0cy5ncm91cFNlcGFyYXRvciYmbnVsbD09PXRlc3QuZm4pJiZtYXNrc2V0LnRlc3RzW3Bvc10mJjE9PT1tYXNrc2V0LnRlc3RzW3Bvc10ubGVuZ3RoLGppdFJlbmRlclN0YXRpY3x8ITE9PT1qaXRNYXNraW5nfHx2b2lkIDA9PT1qaXRNYXNraW5nfHxcIm51bWJlclwiPT10eXBlb2Ygaml0TWFza2luZyYmaXNGaW5pdGUoaml0TWFza2luZykmJnBvczxqaXRNYXNraW5nP21hc2tUZW1wbGF0ZS5wdXNoKCExPT09aW5jbHVkZU1vZGU/dGVzdC5uYXRpdmVEZWY6Z2V0UGxhY2Vob2xkZXIuY2FsbCh0aGlzLHBvcyx0ZXN0KSk6aml0UmVuZGVyU3RhdGljPSExfXBvcysrfXdoaWxlKCh2b2lkIDA9PT10aGlzLm1heExlbmd0aHx8cG9zPHRoaXMubWF4TGVuZ3RoKSYmKCEwIT09dGVzdC5zdGF0aWN8fFwiXCIhPT10ZXN0LmRlZil8fHBvczxtaW5pbWFsUG9zKTtyZXR1cm5cIlwiPT09bWFza1RlbXBsYXRlW21hc2tUZW1wbGF0ZS5sZW5ndGgtMV0mJm1hc2tUZW1wbGF0ZS5wb3AoKSwhMT09PWluY2x1ZGVNb2RlJiZ2b2lkIDAhPT1tYXNrc2V0Lm1hc2tMZW5ndGh8fChtYXNrc2V0Lm1hc2tMZW5ndGg9cG9zLTEpLG9wdHMuZ3JlZWR5PWdyZWVkeSxtYXNrVGVtcGxhdGV9ZnVuY3Rpb24gZ2V0VGVzdFRlbXBsYXRlKHBvcyxuZHhJbnRsenIsdHN0UHMpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldDtyZXR1cm4gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdfHxkZXRlcm1pbmVUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLHBvcyxnZXRUZXN0cy5jYWxsKHRoaXMscG9zLG5keEludGx6cj9uZHhJbnRsenIuc2xpY2UoKTpuZHhJbnRsenIsdHN0UHMpKX1mdW5jdGlvbiBkZXRlcm1pbmVUZXN0VGVtcGxhdGUocG9zLHRlc3RzKXt2YXIgaW5wdXRtYXNrPXRoaXMsb3B0cz10aGlzLm9wdHM7cG9zPTA8cG9zP3Bvcy0xOjA7Zm9yKHZhciBhbHRUZXN0PWdldFRlc3QuY2FsbCh0aGlzLHBvcyksdGFyZ2V0TG9jYXRvcj1nZXRMb2NhdG9yKGFsdFRlc3QpLHRzdExvY2F0b3IsY2xvc2VzdCxiZXN0TWF0Y2gsbmR4PTA7bmR4PHRlc3RzLmxlbmd0aDtuZHgrKyl7dmFyIHRzdD10ZXN0c1tuZHhdO3RzdExvY2F0b3I9Z2V0TG9jYXRvcih0c3QsdGFyZ2V0TG9jYXRvci5sZW5ndGgpO3ZhciBkaXN0YW5jZT1NYXRoLmFicyh0c3RMb2NhdG9yLXRhcmdldExvY2F0b3IpOyh2b2lkIDA9PT1jbG9zZXN0fHxcIlwiIT09dHN0TG9jYXRvciYmZGlzdGFuY2U8Y2xvc2VzdHx8YmVzdE1hdGNoJiYhb3B0cy5ncmVlZHkmJmJlc3RNYXRjaC5tYXRjaC5vcHRpb25hbGl0eSYmXCJtYXN0ZXJcIj09PWJlc3RNYXRjaC5tYXRjaC5uZXdCbG9ja01hcmtlciYmKCF0c3QubWF0Y2gub3B0aW9uYWxpdHl8fCF0c3QubWF0Y2gubmV3QmxvY2tNYXJrZXIpfHxiZXN0TWF0Y2gmJmJlc3RNYXRjaC5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXImJiF0c3QubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyKSYmKGNsb3Nlc3Q9ZGlzdGFuY2UsYmVzdE1hdGNoPXRzdCl9cmV0dXJuIGJlc3RNYXRjaH1mdW5jdGlvbiBnZXRUZXN0KHBvcyx0ZXN0cyl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0O3JldHVybiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10/bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdOih0ZXN0c3x8Z2V0VGVzdHMuY2FsbCh0aGlzLHBvcykpWzBdfWZ1bmN0aW9uIGlzU3Vic2V0T2Yoc291cmNlLHRhcmdldCxvcHRzKXtmdW5jdGlvbiBleHBhbmQocGF0dGVybil7Zm9yKHZhciBleHBhbmRlZD1bXSxzdGFydD0tMSxlbmQsaT0wLGw9cGF0dGVybi5sZW5ndGg7aTxsO2krKylpZihcIi1cIj09PXBhdHRlcm4uY2hhckF0KGkpKWZvcihlbmQ9cGF0dGVybi5jaGFyQ29kZUF0KGkrMSk7KytzdGFydDxlbmQ7KWV4cGFuZGVkLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzdGFydCkpO2Vsc2Ugc3RhcnQ9cGF0dGVybi5jaGFyQ29kZUF0KGkpLGV4cGFuZGVkLnB1c2gocGF0dGVybi5jaGFyQXQoaSkpO3JldHVybiBleHBhbmRlZC5qb2luKFwiXCIpfXJldHVybiBzb3VyY2UubWF0Y2guZGVmPT09dGFyZ2V0Lm1hdGNoLm5hdGl2ZURlZnx8ISghKG9wdHMucmVnZXh8fHNvdXJjZS5tYXRjaC5mbiBpbnN0YW5jZW9mIFJlZ0V4cCYmdGFyZ2V0Lm1hdGNoLmZuIGluc3RhbmNlb2YgUmVnRXhwKXx8ITA9PT1zb3VyY2UubWF0Y2guc3RhdGljfHwhMD09PXRhcmdldC5tYXRjaC5zdGF0aWMpJiYtMSE9PWV4cGFuZCh0YXJnZXQubWF0Y2guZm4udG9TdHJpbmcoKS5yZXBsYWNlKC9bW1xcXS9dL2csXCJcIikpLmluZGV4T2YoZXhwYW5kKHNvdXJjZS5tYXRjaC5mbi50b1N0cmluZygpLnJlcGxhY2UoL1tbXFxdL10vZyxcIlwiKSkpfWZ1bmN0aW9uIGdldFRlc3RzKHBvcyxuZHhJbnRsenIsdHN0UHMpe3ZhciBpbnB1dG1hc2s9dGhpcywkPXRoaXMuZGVwZW5kZW5jeUxpYixtYXNrc2V0PXRoaXMubWFza3NldCxvcHRzPXRoaXMub3B0cyxlbD10aGlzLmVsLG1hc2tUb2tlbnM9bWFza3NldC5tYXNrVG9rZW4sdGVzdFBvcz1uZHhJbnRsenI/dHN0UHM6MCxuZHhJbml0aWFsaXplcj1uZHhJbnRsenI/bmR4SW50bHpyLnNsaWNlKCk6WzBdLG1hdGNoZXM9W10saW5zZXJ0U3RvcD0hMSxsYXRlc3RNYXRjaCxjYWNoZURlcGVuZGVuY3k9bmR4SW50bHpyP25keEludGx6ci5qb2luKFwiXCIpOlwiXCI7ZnVuY3Rpb24gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWFza1Rva2VuLG5keEluaXRpYWxpemVyLGxvb3BOZHgscXVhbnRpZmllclJlY3Vyc2Upe2Z1bmN0aW9uIGhhbmRsZU1hdGNoKG1hdGNoLGxvb3BOZHgscXVhbnRpZmllclJlY3Vyc2Upe2Z1bmN0aW9uIGlzRmlyc3RNYXRjaChsYXRlc3RNYXRjaCx0b2tlbkdyb3VwKXt2YXIgZmlyc3RNYXRjaD0wPT09dG9rZW5Hcm91cC5tYXRjaGVzLmluZGV4T2YobGF0ZXN0TWF0Y2gpO3JldHVybiBmaXJzdE1hdGNofHx0b2tlbkdyb3VwLm1hdGNoZXMuZXZlcnkoZnVuY3Rpb24obWF0Y2gsbmR4KXtyZXR1cm4hMD09PW1hdGNoLmlzUXVhbnRpZmllcj9maXJzdE1hdGNoPWlzRmlyc3RNYXRjaChsYXRlc3RNYXRjaCx0b2tlbkdyb3VwLm1hdGNoZXNbbmR4LTFdKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWF0Y2gsXCJtYXRjaGVzXCIpJiYoZmlyc3RNYXRjaD1pc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsbWF0Y2gpKSwhZmlyc3RNYXRjaH0pLGZpcnN0TWF0Y2h9ZnVuY3Rpb24gcmVzb2x2ZU5keEluaXRpYWxpemVyKHBvcyxhbHRlcm5hdGVOZHgsdGFyZ2V0QWx0ZXJuYXRpb24pe3ZhciBiZXN0TWF0Y2gsaW5kZXhQb3M7aWYoKG1hc2tzZXQudGVzdHNbcG9zXXx8bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdKSYmKG1hc2tzZXQudGVzdHNbcG9zXXx8W21hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXV0pLmV2ZXJ5KGZ1bmN0aW9uKGxtbnQsbmR4KXtpZihsbW50Lm1sb2NbYWx0ZXJuYXRlTmR4XSlyZXR1cm4gYmVzdE1hdGNoPWxtbnQsITE7dmFyIGFsdGVybmF0aW9uPXZvaWQgMCE9PXRhcmdldEFsdGVybmF0aW9uP3RhcmdldEFsdGVybmF0aW9uOmxtbnQuYWx0ZXJuYXRpb24sbmR4UG9zPXZvaWQgMCE9PWxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0/bG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXS50b1N0cmluZygpLmluZGV4T2YoYWx0ZXJuYXRlTmR4KTotMTtyZXR1cm4odm9pZCAwPT09aW5kZXhQb3N8fG5keFBvczxpbmRleFBvcykmJi0xIT09bmR4UG9zJiYoYmVzdE1hdGNoPWxtbnQsaW5kZXhQb3M9bmR4UG9zKSwhMH0pLGJlc3RNYXRjaCl7dmFyIGJlc3RNYXRjaEFsdEluZGV4PWJlc3RNYXRjaC5sb2NhdG9yW2Jlc3RNYXRjaC5hbHRlcm5hdGlvbl0sbG9jYXRvcj1iZXN0TWF0Y2gubWxvY1thbHRlcm5hdGVOZHhdfHxiZXN0TWF0Y2gubWxvY1tiZXN0TWF0Y2hBbHRJbmRleF18fGJlc3RNYXRjaC5sb2NhdG9yO3JldHVybiBsb2NhdG9yLnNsaWNlKCh2b2lkIDAhPT10YXJnZXRBbHRlcm5hdGlvbj90YXJnZXRBbHRlcm5hdGlvbjpiZXN0TWF0Y2guYWx0ZXJuYXRpb24pKzEpfXJldHVybiB2b2lkIDAhPT10YXJnZXRBbHRlcm5hdGlvbj9yZXNvbHZlTmR4SW5pdGlhbGl6ZXIocG9zLGFsdGVybmF0ZU5keCk6dm9pZCAwfWZ1bmN0aW9uIHN0YXRpY0Nhbk1hdGNoRGVmaW5pdGlvbihzb3VyY2UsdGFyZ2V0KXtyZXR1cm4hMD09PXNvdXJjZS5tYXRjaC5zdGF0aWMmJiEwIT09dGFyZ2V0Lm1hdGNoLnN0YXRpYyYmdGFyZ2V0Lm1hdGNoLmZuLnRlc3Qoc291cmNlLm1hdGNoLmRlZixtYXNrc2V0LHBvcywhMSxvcHRzLCExKX1mdW5jdGlvbiBzZXRNZXJnZUxvY2F0b3JzKHRhcmdldE1hdGNoLGFsdE1hdGNoKXt2YXIgYWx0ZXJuYXRpb25OZHg9dGFyZ2V0TWF0Y2guYWx0ZXJuYXRpb24sc2hvdWxkTWVyZ2U9dm9pZCAwPT09YWx0TWF0Y2h8fGFsdGVybmF0aW9uTmR4PT09YWx0TWF0Y2guYWx0ZXJuYXRpb24mJi0xPT09dGFyZ2V0TWF0Y2gubG9jYXRvclthbHRlcm5hdGlvbk5keF0udG9TdHJpbmcoKS5pbmRleE9mKGFsdE1hdGNoLmxvY2F0b3JbYWx0ZXJuYXRpb25OZHhdKTtpZighc2hvdWxkTWVyZ2UmJmFsdGVybmF0aW9uTmR4PmFsdE1hdGNoLmFsdGVybmF0aW9uKWZvcih2YXIgaT1hbHRNYXRjaC5hbHRlcm5hdGlvbjtpPGFsdGVybmF0aW9uTmR4O2krKylpZih0YXJnZXRNYXRjaC5sb2NhdG9yW2ldIT09YWx0TWF0Y2gubG9jYXRvcltpXSl7YWx0ZXJuYXRpb25OZHg9aSxzaG91bGRNZXJnZT0hMDticmVha31pZihzaG91bGRNZXJnZSl7dGFyZ2V0TWF0Y2gubWxvYz10YXJnZXRNYXRjaC5tbG9jfHx7fTt2YXIgbG9jTmR4PXRhcmdldE1hdGNoLmxvY2F0b3JbYWx0ZXJuYXRpb25OZHhdO2lmKHZvaWQgMCE9PWxvY05keCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGxvY05keCYmKGxvY05keD1sb2NOZHguc3BsaXQoXCIsXCIpWzBdKSx2b2lkIDA9PT10YXJnZXRNYXRjaC5tbG9jW2xvY05keF0mJih0YXJnZXRNYXRjaC5tbG9jW2xvY05keF09dGFyZ2V0TWF0Y2gubG9jYXRvci5zbGljZSgpKSx2b2lkIDAhPT1hbHRNYXRjaCl7Zm9yKHZhciBuZHggaW4gYWx0TWF0Y2gubWxvYylcInN0cmluZ1wiPT10eXBlb2YgbmR4JiYobmR4PW5keC5zcGxpdChcIixcIilbMF0pLHZvaWQgMD09PXRhcmdldE1hdGNoLm1sb2NbbmR4XSYmKHRhcmdldE1hdGNoLm1sb2NbbmR4XT1hbHRNYXRjaC5tbG9jW25keF0pO3RhcmdldE1hdGNoLmxvY2F0b3JbYWx0ZXJuYXRpb25OZHhdPU9iamVjdC5rZXlzKHRhcmdldE1hdGNoLm1sb2MpLmpvaW4oXCIsXCIpfXJldHVybiEwfXRhcmdldE1hdGNoLmFsdGVybmF0aW9uPXZvaWQgMH1yZXR1cm4hMX1mdW5jdGlvbiBpc1NhbWVMZXZlbCh0YXJnZXRNYXRjaCxhbHRNYXRjaCl7aWYodGFyZ2V0TWF0Y2gubG9jYXRvci5sZW5ndGghPT1hbHRNYXRjaC5sb2NhdG9yLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGxvY05keD10YXJnZXRNYXRjaC5hbHRlcm5hdGlvbisxO2xvY05keDx0YXJnZXRNYXRjaC5sb2NhdG9yLmxlbmd0aDtsb2NOZHgrKylpZih0YXJnZXRNYXRjaC5sb2NhdG9yW2xvY05keF0hPT1hbHRNYXRjaC5sb2NhdG9yW2xvY05keF0pcmV0dXJuITE7cmV0dXJuITB9aWYodGVzdFBvcz5wb3Mrb3B0cy5fbWF4VGVzdFBvcyl0aHJvd1wiSW5wdXRtYXNrOiBUaGVyZSBpcyBwcm9iYWJseSBhbiBlcnJvciBpbiB5b3VyIG1hc2sgZGVmaW5pdGlvbiBvciBpbiB0aGUgY29kZS4gQ3JlYXRlIGFuIGlzc3VlIG9uIGdpdGh1YiB3aXRoIGFuIGV4YW1wbGUgb2YgdGhlIG1hc2sgeW91IGFyZSB1c2luZy4gXCIrbWFza3NldC5tYXNrO2lmKHRlc3RQb3M9PT1wb3MmJnZvaWQgMD09PW1hdGNoLm1hdGNoZXMpcmV0dXJuIG1hdGNoZXMucHVzaCh7bWF0Y2g6bWF0Y2gsbG9jYXRvcjpsb29wTmR4LnJldmVyc2UoKSxjZDpjYWNoZURlcGVuZGVuY3ksbWxvYzp7fX0pLCEwO2lmKHZvaWQgMCE9PW1hdGNoLm1hdGNoZXMpe2lmKG1hdGNoLmlzR3JvdXAmJnF1YW50aWZpZXJSZWN1cnNlIT09bWF0Y2gpe2lmKG1hdGNoPWhhbmRsZU1hdGNoKG1hc2tUb2tlbi5tYXRjaGVzW21hc2tUb2tlbi5tYXRjaGVzLmluZGV4T2YobWF0Y2gpKzFdLGxvb3BOZHgscXVhbnRpZmllclJlY3Vyc2UpLG1hdGNoKXJldHVybiEwfWVsc2UgaWYobWF0Y2guaXNPcHRpb25hbCl7dmFyIG9wdGlvbmFsVG9rZW49bWF0Y2gsbXRjaHNOZHg9bWF0Y2hlcy5sZW5ndGg7aWYobWF0Y2g9cmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsbmR4SW5pdGlhbGl6ZXIsbG9vcE5keCxxdWFudGlmaWVyUmVjdXJzZSksbWF0Y2gpe2lmKG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbihtdGNoLG5keCl7bXRjaHNOZHg8PW5keCYmKG10Y2gubWF0Y2gub3B0aW9uYWxpdHk9ITApfSksbGF0ZXN0TWF0Y2g9bWF0Y2hlc1ttYXRjaGVzLmxlbmd0aC0xXS5tYXRjaCx2b2lkIDAhPT1xdWFudGlmaWVyUmVjdXJzZXx8IWlzRmlyc3RNYXRjaChsYXRlc3RNYXRjaCxvcHRpb25hbFRva2VuKSlyZXR1cm4hMDtpbnNlcnRTdG9wPSEwLHRlc3RQb3M9cG9zfX1lbHNlIGlmKG1hdGNoLmlzQWx0ZXJuYXRvcil7dmFyIGFsdGVybmF0ZVRva2VuPW1hdGNoLG1hbHRlcm5hdGVNYXRjaGVzPVtdLG1hbHRNYXRjaGVzLGN1cnJlbnRNYXRjaGVzPW1hdGNoZXMuc2xpY2UoKSxsb29wTmR4Q250PWxvb3BOZHgubGVuZ3RoLHVuTWF0Y2hlZEFsdGVybmF0aW9uPSExLGFsdEluZGV4PTA8bmR4SW5pdGlhbGl6ZXIubGVuZ3RoP25keEluaXRpYWxpemVyLnNoaWZ0KCk6LTE7aWYoLTE9PT1hbHRJbmRleHx8XCJzdHJpbmdcIj09dHlwZW9mIGFsdEluZGV4KXt2YXIgY3VycmVudFBvcz10ZXN0UG9zLG5keEluaXRpYWxpemVyQ2xvbmU9bmR4SW5pdGlhbGl6ZXIuc2xpY2UoKSxhbHRJbmRleEFycj1bXSxhbW5keDtpZihcInN0cmluZ1wiPT10eXBlb2YgYWx0SW5kZXgpYWx0SW5kZXhBcnI9YWx0SW5kZXguc3BsaXQoXCIsXCIpO2Vsc2UgZm9yKGFtbmR4PTA7YW1uZHg8YWx0ZXJuYXRlVG9rZW4ubWF0Y2hlcy5sZW5ndGg7YW1uZHgrKylhbHRJbmRleEFyci5wdXNoKGFtbmR4LnRvU3RyaW5nKCkpO2lmKHZvaWQgMCE9PW1hc2tzZXQuZXhjbHVkZXNbcG9zXSl7Zm9yKHZhciBhbHRJbmRleEFyckNsb25lPWFsdEluZGV4QXJyLnNsaWNlKCksaT0wLGV4bD1tYXNrc2V0LmV4Y2x1ZGVzW3Bvc10ubGVuZ3RoO2k8ZXhsO2krKyl7dmFyIGV4Y2x1ZGVTZXQ9bWFza3NldC5leGNsdWRlc1twb3NdW2ldLnRvU3RyaW5nKCkuc3BsaXQoXCI6XCIpO2xvb3BOZHgubGVuZ3RoPT1leGNsdWRlU2V0WzFdJiZhbHRJbmRleEFyci5zcGxpY2UoYWx0SW5kZXhBcnIuaW5kZXhPZihleGNsdWRlU2V0WzBdKSwxKX0wPT09YWx0SW5kZXhBcnIubGVuZ3RoJiYoZGVsZXRlIG1hc2tzZXQuZXhjbHVkZXNbcG9zXSxhbHRJbmRleEFycj1hbHRJbmRleEFyckNsb25lKX0oITA9PT1vcHRzLmtlZXBTdGF0aWN8fGlzRmluaXRlKHBhcnNlSW50KG9wdHMua2VlcFN0YXRpYykpJiZjdXJyZW50UG9zPj1vcHRzLmtlZXBTdGF0aWMpJiYoYWx0SW5kZXhBcnI9YWx0SW5kZXhBcnIuc2xpY2UoMCwxKSk7Zm9yKHZhciBuZHg9MDtuZHg8YWx0SW5kZXhBcnIubGVuZ3RoO25keCsrKXthbW5keD1wYXJzZUludChhbHRJbmRleEFycltuZHhdKSxtYXRjaGVzPVtdLG5keEluaXRpYWxpemVyPVwic3RyaW5nXCI9PXR5cGVvZiBhbHRJbmRleCYmcmVzb2x2ZU5keEluaXRpYWxpemVyKHRlc3RQb3MsYW1uZHgsbG9vcE5keENudCl8fG5keEluaXRpYWxpemVyQ2xvbmUuc2xpY2UoKTt2YXIgdG9rZW5NYXRjaD1hbHRlcm5hdGVUb2tlbi5tYXRjaGVzW2FtbmR4XTtpZih0b2tlbk1hdGNoJiZoYW5kbGVNYXRjaCh0b2tlbk1hdGNoLFthbW5keF0uY29uY2F0KGxvb3BOZHgpLHF1YW50aWZpZXJSZWN1cnNlKSltYXRjaD0hMDtlbHNlIGlmKDA9PT1uZHgmJih1bk1hdGNoZWRBbHRlcm5hdGlvbj0hMCksdG9rZW5NYXRjaCYmdG9rZW5NYXRjaC5tYXRjaGVzJiZ0b2tlbk1hdGNoLm1hdGNoZXMubGVuZ3RoPmFsdGVybmF0ZVRva2VuLm1hdGNoZXNbMF0ubWF0Y2hlcy5sZW5ndGgpYnJlYWs7bWFsdE1hdGNoZXM9bWF0Y2hlcy5zbGljZSgpLHRlc3RQb3M9Y3VycmVudFBvcyxtYXRjaGVzPVtdO2Zvcih2YXIgbmR4MT0wO25keDE8bWFsdE1hdGNoZXMubGVuZ3RoO25keDErKyl7dmFyIGFsdE1hdGNoPW1hbHRNYXRjaGVzW25keDFdLGRyb3BNYXRjaD0hMTthbHRNYXRjaC5tYXRjaC5qaXQ9YWx0TWF0Y2gubWF0Y2guaml0fHx1bk1hdGNoZWRBbHRlcm5hdGlvbixhbHRNYXRjaC5hbHRlcm5hdGlvbj1hbHRNYXRjaC5hbHRlcm5hdGlvbnx8bG9vcE5keENudCxzZXRNZXJnZUxvY2F0b3JzKGFsdE1hdGNoKTtmb3IodmFyIG5keDI9MDtuZHgyPG1hbHRlcm5hdGVNYXRjaGVzLmxlbmd0aDtuZHgyKyspe3ZhciBhbHRNYXRjaDI9bWFsdGVybmF0ZU1hdGNoZXNbbmR4Ml07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGFsdEluZGV4fHx2b2lkIDAhPT1hbHRNYXRjaC5hbHRlcm5hdGlvbiYmYWx0SW5kZXhBcnIuaW5jbHVkZXMoYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKSkpe2lmKGFsdE1hdGNoLm1hdGNoLm5hdGl2ZURlZj09PWFsdE1hdGNoMi5tYXRjaC5uYXRpdmVEZWYpe2Ryb3BNYXRjaD0hMCxzZXRNZXJnZUxvY2F0b3JzKGFsdE1hdGNoMixhbHRNYXRjaCk7YnJlYWt9aWYoaXNTdWJzZXRPZihhbHRNYXRjaCxhbHRNYXRjaDIsb3B0cykpe3NldE1lcmdlTG9jYXRvcnMoYWx0TWF0Y2gsYWx0TWF0Y2gyKSYmKGRyb3BNYXRjaD0hMCxtYWx0ZXJuYXRlTWF0Y2hlcy5zcGxpY2UobWFsdGVybmF0ZU1hdGNoZXMuaW5kZXhPZihhbHRNYXRjaDIpLDAsYWx0TWF0Y2gpKTticmVha31pZihpc1N1YnNldE9mKGFsdE1hdGNoMixhbHRNYXRjaCxvcHRzKSl7c2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaDIsYWx0TWF0Y2gpO2JyZWFrfWlmKHN0YXRpY0Nhbk1hdGNoRGVmaW5pdGlvbihhbHRNYXRjaCxhbHRNYXRjaDIpKXtpc1NhbWVMZXZlbChhbHRNYXRjaCxhbHRNYXRjaDIpfHx2b2lkIDAhPT1lbC5pbnB1dG1hc2sudXNlck9wdGlvbnMua2VlcFN0YXRpYz9zZXRNZXJnZUxvY2F0b3JzKGFsdE1hdGNoLGFsdE1hdGNoMikmJihkcm9wTWF0Y2g9ITAsbWFsdGVybmF0ZU1hdGNoZXMuc3BsaWNlKG1hbHRlcm5hdGVNYXRjaGVzLmluZGV4T2YoYWx0TWF0Y2gyKSwwLGFsdE1hdGNoKSk6b3B0cy5rZWVwU3RhdGljPSEwO2JyZWFrfX19ZHJvcE1hdGNofHxtYWx0ZXJuYXRlTWF0Y2hlcy5wdXNoKGFsdE1hdGNoKX19bWF0Y2hlcz1jdXJyZW50TWF0Y2hlcy5jb25jYXQobWFsdGVybmF0ZU1hdGNoZXMpLHRlc3RQb3M9cG9zLGluc2VydFN0b3A9MDxtYXRjaGVzLmxlbmd0aCxtYXRjaD0wPG1hbHRlcm5hdGVNYXRjaGVzLmxlbmd0aCxuZHhJbml0aWFsaXplcj1uZHhJbml0aWFsaXplckNsb25lLnNsaWNlKCl9ZWxzZSBtYXRjaD1oYW5kbGVNYXRjaChhbHRlcm5hdGVUb2tlbi5tYXRjaGVzW2FsdEluZGV4XXx8bWFza1Rva2VuLm1hdGNoZXNbYWx0SW5kZXhdLFthbHRJbmRleF0uY29uY2F0KGxvb3BOZHgpLHF1YW50aWZpZXJSZWN1cnNlKTtpZihtYXRjaClyZXR1cm4hMH1lbHNlIGlmKG1hdGNoLmlzUXVhbnRpZmllciYmcXVhbnRpZmllclJlY3Vyc2UhPT1tYXNrVG9rZW4ubWF0Y2hlc1ttYXNrVG9rZW4ubWF0Y2hlcy5pbmRleE9mKG1hdGNoKS0xXSlmb3IodmFyIHF0PW1hdGNoLHFuZHg9MDxuZHhJbml0aWFsaXplci5sZW5ndGg/bmR4SW5pdGlhbGl6ZXIuc2hpZnQoKTowO3FuZHg8KGlzTmFOKHF0LnF1YW50aWZpZXIubWF4KT9xbmR4KzE6cXQucXVhbnRpZmllci5tYXgpJiZ0ZXN0UG9zPD1wb3M7cW5keCsrKXt2YXIgdG9rZW5Hcm91cD1tYXNrVG9rZW4ubWF0Y2hlc1ttYXNrVG9rZW4ubWF0Y2hlcy5pbmRleE9mKHF0KS0xXTtpZihtYXRjaD1oYW5kbGVNYXRjaCh0b2tlbkdyb3VwLFtxbmR4XS5jb25jYXQobG9vcE5keCksdG9rZW5Hcm91cCksbWF0Y2gpe2lmKGxhdGVzdE1hdGNoPW1hdGNoZXNbbWF0Y2hlcy5sZW5ndGgtMV0ubWF0Y2gsbGF0ZXN0TWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyPXFuZHg+PXF0LnF1YW50aWZpZXIubWluLGxhdGVzdE1hdGNoLmppdD0ocW5keHx8MSkqdG9rZW5Hcm91cC5tYXRjaGVzLmluZGV4T2YobGF0ZXN0TWF0Y2gpPj1xdC5xdWFudGlmaWVyLmppdCxsYXRlc3RNYXRjaC5vcHRpb25hbFF1YW50aWZpZXImJmlzRmlyc3RNYXRjaChsYXRlc3RNYXRjaCx0b2tlbkdyb3VwKSl7aW5zZXJ0U3RvcD0hMCx0ZXN0UG9zPXBvczticmVha31yZXR1cm4gbGF0ZXN0TWF0Y2guaml0JiYobWFza3NldC5qaXRPZmZzZXRbcG9zXT10b2tlbkdyb3VwLm1hdGNoZXMubGVuZ3RoLXRva2VuR3JvdXAubWF0Y2hlcy5pbmRleE9mKGxhdGVzdE1hdGNoKSksITB9fWVsc2UgaWYobWF0Y2g9cmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsbmR4SW5pdGlhbGl6ZXIsbG9vcE5keCxxdWFudGlmaWVyUmVjdXJzZSksbWF0Y2gpcmV0dXJuITB9ZWxzZSB0ZXN0UG9zKyt9Zm9yKHZhciB0bmR4PTA8bmR4SW5pdGlhbGl6ZXIubGVuZ3RoP25keEluaXRpYWxpemVyLnNoaWZ0KCk6MDt0bmR4PG1hc2tUb2tlbi5tYXRjaGVzLmxlbmd0aDt0bmR4KyspaWYoITAhPT1tYXNrVG9rZW4ubWF0Y2hlc1t0bmR4XS5pc1F1YW50aWZpZXIpe3ZhciBtYXRjaD1oYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1t0bmR4XSxbdG5keF0uY29uY2F0KGxvb3BOZHgpLHF1YW50aWZpZXJSZWN1cnNlKTtpZihtYXRjaCYmdGVzdFBvcz09PXBvcylyZXR1cm4gbWF0Y2g7aWYocG9zPHRlc3RQb3MpYnJlYWt9fWZ1bmN0aW9uIG1lcmdlTG9jYXRvcnMocG9zLHRlc3RzKXt2YXIgbG9jYXRvcj1bXSxhbHRlcm5hdGlvbjtyZXR1cm4gQXJyYXkuaXNBcnJheSh0ZXN0cyl8fCh0ZXN0cz1bdGVzdHNdKSwwPHRlc3RzLmxlbmd0aCYmKHZvaWQgMD09PXRlc3RzWzBdLmFsdGVybmF0aW9ufHwhMD09PW9wdHMua2VlcFN0YXRpYz8obG9jYXRvcj1kZXRlcm1pbmVUZXN0VGVtcGxhdGUuY2FsbChpbnB1dG1hc2sscG9zLHRlc3RzLnNsaWNlKCkpLmxvY2F0b3Iuc2xpY2UoKSwwPT09bG9jYXRvci5sZW5ndGgmJihsb2NhdG9yPXRlc3RzWzBdLmxvY2F0b3Iuc2xpY2UoKSkpOnRlc3RzLmZvckVhY2goZnVuY3Rpb24odHN0KXtcIlwiIT09dHN0LmRlZiYmKDA9PT1sb2NhdG9yLmxlbmd0aD8oYWx0ZXJuYXRpb249dHN0LmFsdGVybmF0aW9uLGxvY2F0b3I9dHN0LmxvY2F0b3Iuc2xpY2UoKSk6dHN0LmxvY2F0b3JbYWx0ZXJuYXRpb25dJiYtMT09PWxvY2F0b3JbYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuaW5kZXhPZih0c3QubG9jYXRvclthbHRlcm5hdGlvbl0pJiYobG9jYXRvclthbHRlcm5hdGlvbl0rPVwiLFwiK3RzdC5sb2NhdG9yW2FsdGVybmF0aW9uXSkpfSkpLGxvY2F0b3J9aWYoLTE8cG9zJiYodm9pZCAwPT09aW5wdXRtYXNrLm1heExlbmd0aHx8cG9zPGlucHV0bWFzay5tYXhMZW5ndGgpKXtpZih2b2lkIDA9PT1uZHhJbnRsenIpe2Zvcih2YXIgcHJldmlvdXNQb3M9cG9zLTEsdGVzdDt2b2lkIDA9PT0odGVzdD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ByZXZpb3VzUG9zXXx8bWFza3NldC50ZXN0c1twcmV2aW91c1Bvc10pJiYtMTxwcmV2aW91c1BvczspcHJldmlvdXNQb3MtLTt2b2lkIDAhPT10ZXN0JiYtMTxwcmV2aW91c1BvcyYmKG5keEluaXRpYWxpemVyPW1lcmdlTG9jYXRvcnMocHJldmlvdXNQb3MsdGVzdCksY2FjaGVEZXBlbmRlbmN5PW5keEluaXRpYWxpemVyLmpvaW4oXCJcIiksdGVzdFBvcz1wcmV2aW91c1Bvcyl9aWYobWFza3NldC50ZXN0c1twb3NdJiZtYXNrc2V0LnRlc3RzW3Bvc11bMF0uY2Q9PT1jYWNoZURlcGVuZGVuY3kpcmV0dXJuIG1hc2tzZXQudGVzdHNbcG9zXTtmb3IodmFyIG10bmR4PW5keEluaXRpYWxpemVyLnNoaWZ0KCk7bXRuZHg8bWFza1Rva2Vucy5sZW5ndGg7bXRuZHgrKyl7dmFyIG1hdGNoPXJlc29sdmVUZXN0RnJvbVRva2VuKG1hc2tUb2tlbnNbbXRuZHhdLG5keEluaXRpYWxpemVyLFttdG5keF0pO2lmKG1hdGNoJiZ0ZXN0UG9zPT09cG9zfHxwb3M8dGVzdFBvcylicmVha319cmV0dXJuIDAhPT1tYXRjaGVzLmxlbmd0aCYmIWluc2VydFN0b3B8fG1hdGNoZXMucHVzaCh7bWF0Y2g6e2ZuOm51bGwsc3RhdGljOiEwLG9wdGlvbmFsaXR5OiExLGNhc2luZzpudWxsLGRlZjpcIlwiLHBsYWNlaG9sZGVyOlwiXCJ9LGxvY2F0b3I6W10sbWxvYzp7fSxjZDpjYWNoZURlcGVuZGVuY3l9KSx2b2lkIDAhPT1uZHhJbnRsenImJm1hc2tzZXQudGVzdHNbcG9zXT8kLmV4dGVuZCghMCxbXSxtYXRjaGVzKToobWFza3NldC50ZXN0c1twb3NdPSQuZXh0ZW5kKCEwLFtdLG1hdGNoZXMpLG1hc2tzZXQudGVzdHNbcG9zXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZXRlcm1pbmVUZXN0VGVtcGxhdGU9ZGV0ZXJtaW5lVGVzdFRlbXBsYXRlLGV4cG9ydHMuZ2V0RGVjaXNpb25UYWtlcj1nZXREZWNpc2lvblRha2VyLGV4cG9ydHMuZ2V0TWFza1RlbXBsYXRlPWdldE1hc2tUZW1wbGF0ZSxleHBvcnRzLmdldFBsYWNlaG9sZGVyPWdldFBsYWNlaG9sZGVyLGV4cG9ydHMuZ2V0VGVzdD1nZXRUZXN0LGV4cG9ydHMuZ2V0VGVzdHM9Z2V0VGVzdHMsZXhwb3J0cy5nZXRUZXN0VGVtcGxhdGU9Z2V0VGVzdFRlbXBsYXRlLGV4cG9ydHMuaXNTdWJzZXRPZj1pc1N1YnNldE9mfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmFsdGVybmF0ZT1hbHRlcm5hdGUsZXhwb3J0cy5jaGVja0FsdGVybmF0aW9uTWF0Y2g9Y2hlY2tBbHRlcm5hdGlvbk1hdGNoLGV4cG9ydHMuaXNDb21wbGV0ZT1pc0NvbXBsZXRlLGV4cG9ydHMuaXNWYWxpZD1pc1ZhbGlkLGV4cG9ydHMucmVmcmVzaEZyb21CdWZmZXI9cmVmcmVzaEZyb21CdWZmZXIsZXhwb3J0cy5yZXZhbGlkYXRlTWFzaz1yZXZhbGlkYXRlTWFzayxleHBvcnRzLmhhbmRsZVJlbW92ZT1oYW5kbGVSZW1vdmU7dmFyIF92YWxpZGF0aW9uVGVzdHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxfa2V5Y29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpLF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9ldmVudGhhbmRsZXJzPV9fd2VicGFja19yZXF1aXJlX18oOCk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIGFsdGVybmF0ZShtYXNrUG9zLGMsc3RyaWN0LGZyb21Jc1ZhbGlkLHJBbHRQb3Msc2VsZWN0aW9uKXt2YXIgaW5wdXRtYXNrPXRoaXMsJD10aGlzLmRlcGVuZGVuY3lMaWIsb3B0cz10aGlzLm9wdHMsbWFza3NldD10aGlzLm1hc2tzZXQsdmFsaWRQc0Nsb25lPSQuZXh0ZW5kKCEwLHt9LG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpLHRzdENsb25lPSQuZXh0ZW5kKCEwLHt9LG1hc2tzZXQudGVzdHMpLGxhc3RBbHQsYWx0ZXJuYXRpb24saXNWYWxpZFJzbHQ9ITEscmV0dXJuUnNsdD0hMSxhbHRQb3MscHJldkFsdFBvcyxpLHZhbGlkUG9zLGRlY2lzaW9uUG9zLGxBbHRQb3M9dm9pZCAwIT09ckFsdFBvcz9yQWx0UG9zOl9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMpLG5leHRQb3MsaW5wdXQsYmVnaW4sZW5kO2lmKHNlbGVjdGlvbiYmKGJlZ2luPXNlbGVjdGlvbi5iZWdpbixlbmQ9c2VsZWN0aW9uLmVuZCxzZWxlY3Rpb24uYmVnaW4+c2VsZWN0aW9uLmVuZCYmKGJlZ2luPXNlbGVjdGlvbi5lbmQsZW5kPXNlbGVjdGlvbi5iZWdpbikpLC0xPT09bEFsdFBvcyYmdm9pZCAwPT09ckFsdFBvcylsYXN0QWx0PTAscHJldkFsdFBvcz1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLGxhc3RBbHQpLGFsdGVybmF0aW9uPXByZXZBbHRQb3MuYWx0ZXJuYXRpb247ZWxzZSBmb3IoOzA8PWxBbHRQb3M7bEFsdFBvcy0tKWlmKGFsdFBvcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2xBbHRQb3NdLGFsdFBvcyYmdm9pZCAwIT09YWx0UG9zLmFsdGVybmF0aW9uKXtpZihwcmV2QWx0UG9zJiZwcmV2QWx0UG9zLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSE9PWFsdFBvcy5sb2NhdG9yW2FsdFBvcy5hbHRlcm5hdGlvbl0pYnJlYWs7bGFzdEFsdD1sQWx0UG9zLGFsdGVybmF0aW9uPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0uYWx0ZXJuYXRpb24scHJldkFsdFBvcz1hbHRQb3N9aWYodm9pZCAwIT09YWx0ZXJuYXRpb24pe2RlY2lzaW9uUG9zPXBhcnNlSW50KGxhc3RBbHQpLG1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdPW1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdfHxbXSwhMCE9PW1hc2tQb3MmJm1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdLnB1c2goKDAsX3ZhbGlkYXRpb25UZXN0cy5nZXREZWNpc2lvblRha2VyKShwcmV2QWx0UG9zKStcIjpcIitwcmV2QWx0UG9zLmFsdGVybmF0aW9uKTt2YXIgdmFsaWRJbnB1dHM9W10scmVzdWx0UG9zPS0xO2ZvcihpPWRlY2lzaW9uUG9zO2k8X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyx2b2lkIDAsITApKzE7aSsrKS0xPT09cmVzdWx0UG9zJiZtYXNrUG9zPD1pJiZ2b2lkIDAhPT1jJiYodmFsaWRJbnB1dHMucHVzaChjKSxyZXN1bHRQb3M9dmFsaWRJbnB1dHMubGVuZ3RoLTEpLHZhbGlkUG9zPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV0sdmFsaWRQb3MmJiEwIT09dmFsaWRQb3MuZ2VuZXJhdGVkSW5wdXQmJih2b2lkIDA9PT1zZWxlY3Rpb258fGk8YmVnaW58fGVuZDw9aSkmJnZhbGlkSW5wdXRzLnB1c2godmFsaWRQb3MuaW5wdXQpLGRlbGV0ZSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW2ldO2ZvcigtMT09PXJlc3VsdFBvcyYmdm9pZCAwIT09YyYmKHZhbGlkSW5wdXRzLnB1c2goYykscmVzdWx0UG9zPXZhbGlkSW5wdXRzLmxlbmd0aC0xKTt2b2lkIDAhPT1tYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXSYmbWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10ubGVuZ3RoPDEwOyl7Zm9yKG1hc2tzZXQudGVzdHM9e30sX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKHRoaXMsITApLGlzVmFsaWRSc2x0PSEwLGk9MDtpPHZhbGlkSW5wdXRzLmxlbmd0aCYmKG5leHRQb3M9aXNWYWxpZFJzbHQuY2FyZXR8fF9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMsdm9pZCAwLCEwKSsxLGlucHV0PXZhbGlkSW5wdXRzW2ldLGlzVmFsaWRSc2x0PWlzVmFsaWQuY2FsbCh0aGlzLG5leHRQb3MsaW5wdXQsITEsZnJvbUlzVmFsaWQsITApKTtpKyspaT09PXJlc3VsdFBvcyYmKHJldHVyblJzbHQ9aXNWYWxpZFJzbHQpLDE9PW1hc2tQb3MmJmlzVmFsaWRSc2x0JiYocmV0dXJuUnNsdD17Y2FyZXRQb3M6aX0pO2lmKGlzVmFsaWRSc2x0KWJyZWFrO2lmKF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbCh0aGlzKSxwcmV2QWx0UG9zPV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMsZGVjaXNpb25Qb3MpLG1hc2tzZXQudmFsaWRQb3NpdGlvbnM9JC5leHRlbmQoITAse30sdmFsaWRQc0Nsb25lKSxtYXNrc2V0LnRlc3RzPSQuZXh0ZW5kKCEwLHt9LHRzdENsb25lKSwhbWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10pe3JldHVyblJzbHQ9YWx0ZXJuYXRlLmNhbGwodGhpcyxtYXNrUG9zLGMsc3RyaWN0LGZyb21Jc1ZhbGlkLGRlY2lzaW9uUG9zLTEsc2VsZWN0aW9uKTticmVha312YXIgZGVjaXNpb25UYWtlcj0oMCxfdmFsaWRhdGlvblRlc3RzLmdldERlY2lzaW9uVGFrZXIpKHByZXZBbHRQb3MpO2lmKC0xIT09bWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10uaW5kZXhPZihkZWNpc2lvblRha2VyK1wiOlwiK3ByZXZBbHRQb3MuYWx0ZXJuYXRpb24pKXtyZXR1cm5Sc2x0PWFsdGVybmF0ZS5jYWxsKHRoaXMsbWFza1BvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCxkZWNpc2lvblBvcy0xLHNlbGVjdGlvbik7YnJlYWt9Zm9yKG1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdLnB1c2goZGVjaXNpb25UYWtlcitcIjpcIitwcmV2QWx0UG9zLmFsdGVybmF0aW9uKSxpPWRlY2lzaW9uUG9zO2k8X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyx2b2lkIDAsITApKzE7aSsrKWRlbGV0ZSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW2ldfX1yZXR1cm4gcmV0dXJuUnNsdCYmITE9PT1vcHRzLmtlZXBTdGF0aWN8fGRlbGV0ZSBtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXSxyZXR1cm5Sc2x0fWZ1bmN0aW9uIGNhc2luZyhlbGVtLHRlc3QscG9zKXt2YXIgb3B0cz10aGlzLm9wdHMsbWFza3NldD10aGlzLm1hc2tzZXQ7c3dpdGNoKG9wdHMuY2FzaW5nfHx0ZXN0LmNhc2luZyl7Y2FzZVwidXBwZXJcIjplbGVtPWVsZW0udG9VcHBlckNhc2UoKTticmVhaztjYXNlXCJsb3dlclwiOmVsZW09ZWxlbS50b0xvd2VyQ2FzZSgpO2JyZWFrO2Nhc2VcInRpdGxlXCI6dmFyIHBvc0JlZm9yZT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvcy0xXTtlbGVtPTA9PT1wb3N8fHBvc0JlZm9yZSYmcG9zQmVmb3JlLmlucHV0PT09U3RyaW5nLmZyb21DaGFyQ29kZShfa2V5Y29kZS5kZWZhdWx0LlNQQUNFKT9lbGVtLnRvVXBwZXJDYXNlKCk6ZWxlbS50b0xvd2VyQ2FzZSgpO2JyZWFrO2RlZmF1bHQ6aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5jYXNpbmcpe3ZhciBhcmdzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7YXJncy5wdXNoKG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpLGVsZW09b3B0cy5jYXNpbmcuYXBwbHkodGhpcyxhcmdzKX19cmV0dXJuIGVsZW19ZnVuY3Rpb24gY2hlY2tBbHRlcm5hdGlvbk1hdGNoKGFsdEFycjEsYWx0QXJyMixuYSl7Zm9yKHZhciBvcHRzPXRoaXMub3B0cyxhbHRBcnJDPW9wdHMuZ3JlZWR5P2FsdEFycjI6YWx0QXJyMi5zbGljZSgwLDEpLGlzTWF0Y2g9ITEsbmFBcnI9dm9pZCAwIT09bmE/bmEuc3BsaXQoXCIsXCIpOltdLG5hTmR4LGk9MDtpPG5hQXJyLmxlbmd0aDtpKyspLTEhPT0obmFOZHg9YWx0QXJyMS5pbmRleE9mKG5hQXJyW2ldKSkmJmFsdEFycjEuc3BsaWNlKG5hTmR4LDEpO2Zvcih2YXIgYWxuZHg9MDthbG5keDxhbHRBcnIxLmxlbmd0aDthbG5keCsrKWlmKGFsdEFyckMuaW5jbHVkZXMoYWx0QXJyMVthbG5keF0pKXtpc01hdGNoPSEwO2JyZWFrfXJldHVybiBpc01hdGNofWZ1bmN0aW9uIGhhbmRsZVJlbW92ZShpbnB1dCxrLHBvcyxzdHJpY3QsZnJvbUlzVmFsaWQpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCxvcHRzPXRoaXMub3B0cztpZigob3B0cy5udW1lcmljSW5wdXR8fHRoaXMuaXNSVEwpJiYoaz09PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFP2s9X2tleWNvZGUuZGVmYXVsdC5ERUxFVEU6az09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFJiYoaz1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRSksdGhpcy5pc1JUTCkpe3ZhciBwZW5kPXBvcy5lbmQ7cG9zLmVuZD1wb3MuYmVnaW4scG9zLmJlZ2luPXBlbmR9dmFyIGx2cD1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzLHZvaWQgMCwhMCksb2Zmc2V0O2lmKHBvcy5lbmQ+PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKS5sZW5ndGgmJmx2cD49cG9zLmVuZCYmKHBvcy5lbmQ9bHZwKzEpLGs9PT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRT9wb3MuZW5kLXBvcy5iZWdpbjwxJiYocG9zLmJlZ2luPV9wb3NpdGlvbmluZy5zZWVrUHJldmlvdXMuY2FsbCh0aGlzLHBvcy5iZWdpbikpOms9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURSYmcG9zLmJlZ2luPT09cG9zLmVuZCYmKHBvcy5lbmQ9X3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKHRoaXMscG9zLmVuZCwhMCwhMCk/cG9zLmVuZCsxOl9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKHRoaXMscG9zLmVuZCkrMSksITEhPT0ob2Zmc2V0PXJldmFsaWRhdGVNYXNrLmNhbGwodGhpcyxwb3MpKSl7aWYoITAhPT1zdHJpY3QmJiExIT09b3B0cy5rZWVwU3RhdGljfHxudWxsIT09b3B0cy5yZWdleCYmLTEhPT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBvcy5iZWdpbikubWF0Y2guZGVmLmluZGV4T2YoXCJ8XCIpKXt2YXIgcmVzdWx0PWFsdGVybmF0ZS5jYWxsKHRoaXMsITApO2lmKHJlc3VsdCl7dmFyIG5ld1Bvcz12b2lkIDAhPT1yZXN1bHQuY2FyZXQ/cmVzdWx0LmNhcmV0OnJlc3VsdC5wb3M/X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwodGhpcyxyZXN1bHQucG9zLmJlZ2luP3Jlc3VsdC5wb3MuYmVnaW46cmVzdWx0LnBvcyk6X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcywtMSwhMCk7KGshPT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURXx8cG9zLmJlZ2luPm5ld1BvcykmJnBvcy5iZWdpbn19ITAhPT1zdHJpY3QmJihtYXNrc2V0LnA9az09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFP3Bvcy5iZWdpbitvZmZzZXQ6cG9zLmJlZ2luKX19ZnVuY3Rpb24gaXNDb21wbGV0ZShidWZmZXIpe3ZhciBpbnB1dG1hc2s9dGhpcyxvcHRzPXRoaXMub3B0cyxtYXNrc2V0PXRoaXMubWFza3NldDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLmlzQ29tcGxldGUpcmV0dXJuIG9wdHMuaXNDb21wbGV0ZShidWZmZXIsb3B0cyk7aWYoXCIqXCIhPT1vcHRzLnJlcGVhdCl7dmFyIGNvbXBsZXRlPSExLGxycD1fcG9zaXRpb25pbmcuZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24uY2FsbCh0aGlzLCEwKSxhbWw9X3Bvc2l0aW9uaW5nLnNlZWtQcmV2aW91cy5jYWxsKHRoaXMsbHJwLmwpO2lmKHZvaWQgMD09PWxycC5kZWZ8fGxycC5kZWYubmV3QmxvY2tNYXJrZXJ8fGxycC5kZWYub3B0aW9uYWxpdHl8fGxycC5kZWYub3B0aW9uYWxRdWFudGlmaWVyKXtjb21wbGV0ZT0hMDtmb3IodmFyIGk9MDtpPD1hbWw7aSsrKXt2YXIgdGVzdD1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMsaSkubWF0Y2g7aWYoITAhPT10ZXN0LnN0YXRpYyYmdm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tpXSYmITAhPT10ZXN0Lm9wdGlvbmFsaXR5JiYhMCE9PXRlc3Qub3B0aW9uYWxRdWFudGlmaWVyfHwhMD09PXRlc3Quc3RhdGljJiZidWZmZXJbaV0hPT1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwodGhpcyxpLHRlc3QpKXtjb21wbGV0ZT0hMTticmVha319fXJldHVybiBjb21wbGV0ZX19ZnVuY3Rpb24gaXNWYWxpZChwb3MsYyxzdHJpY3QsZnJvbUlzVmFsaWQsZnJvbUFsdGVybmF0ZSx2YWxpZGF0ZU9ubHksZnJvbUNoZWNrdmFsKXt2YXIgaW5wdXRtYXNrPXRoaXMsJD10aGlzLmRlcGVuZGVuY3lMaWIsb3B0cz10aGlzLm9wdHMsbWFza3NldD1pbnB1dG1hc2subWFza3NldDtmdW5jdGlvbiBpc1NlbGVjdGlvbihwb3NPYmope3JldHVybiBpbnB1dG1hc2suaXNSVEw/MTxwb3NPYmouYmVnaW4tcG9zT2JqLmVuZHx8cG9zT2JqLmJlZ2luLXBvc09iai5lbmQ9PTE6MTxwb3NPYmouZW5kLXBvc09iai5iZWdpbnx8cG9zT2JqLmVuZC1wb3NPYmouYmVnaW49PTF9c3RyaWN0PSEwPT09c3RyaWN0O3ZhciBtYXNrUG9zPXBvcztmdW5jdGlvbiBwcm9jZXNzQ29tbWFuZE9iamVjdChjb21tYW5kT2JqKXtpZih2b2lkIDAhPT1jb21tYW5kT2JqKXtpZih2b2lkIDAhPT1jb21tYW5kT2JqLnJlbW92ZSYmKEFycmF5LmlzQXJyYXkoY29tbWFuZE9iai5yZW1vdmUpfHwoY29tbWFuZE9iai5yZW1vdmU9W2NvbW1hbmRPYmoucmVtb3ZlXSksY29tbWFuZE9iai5yZW1vdmUuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBiLnBvcy1hLnBvc30pLmZvckVhY2goZnVuY3Rpb24obG1udCl7cmV2YWxpZGF0ZU1hc2suY2FsbChpbnB1dG1hc2sse2JlZ2luOmxtbnQsZW5kOmxtbnQrMX0pfSksY29tbWFuZE9iai5yZW1vdmU9dm9pZCAwKSx2b2lkIDAhPT1jb21tYW5kT2JqLmluc2VydCYmKEFycmF5LmlzQXJyYXkoY29tbWFuZE9iai5pbnNlcnQpfHwoY29tbWFuZE9iai5pbnNlcnQ9W2NvbW1hbmRPYmouaW5zZXJ0XSksY29tbWFuZE9iai5pbnNlcnQuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnBvcy1iLnBvc30pLmZvckVhY2goZnVuY3Rpb24obG1udCl7XCJcIiE9PWxtbnQuYyYmaXNWYWxpZC5jYWxsKGlucHV0bWFzayxsbW50LnBvcyxsbW50LmMsdm9pZCAwPT09bG1udC5zdHJpY3R8fGxtbnQuc3RyaWN0LHZvaWQgMCE9PWxtbnQuZnJvbUlzVmFsaWQ/bG1udC5mcm9tSXNWYWxpZDpmcm9tSXNWYWxpZCl9KSxjb21tYW5kT2JqLmluc2VydD12b2lkIDApLGNvbW1hbmRPYmoucmVmcmVzaEZyb21CdWZmZXImJmNvbW1hbmRPYmouYnVmZmVyKXt2YXIgcmVmcmVzaD1jb21tYW5kT2JqLnJlZnJlc2hGcm9tQnVmZmVyO3JlZnJlc2hGcm9tQnVmZmVyLmNhbGwoaW5wdXRtYXNrLCEwPT09cmVmcmVzaD9yZWZyZXNoOnJlZnJlc2guc3RhcnQscmVmcmVzaC5lbmQsY29tbWFuZE9iai5idWZmZXIpLGNvbW1hbmRPYmoucmVmcmVzaEZyb21CdWZmZXI9dm9pZCAwfXZvaWQgMCE9PWNvbW1hbmRPYmoucmV3cml0ZVBvc2l0aW9uJiYobWFza1Bvcz1jb21tYW5kT2JqLnJld3JpdGVQb3NpdGlvbixjb21tYW5kT2JqPSEwKX1yZXR1cm4gY29tbWFuZE9ian1mdW5jdGlvbiBfaXNWYWxpZChwb3NpdGlvbixjLHN0cmljdCl7dmFyIHJzbHQ9ITE7cmV0dXJuIF92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdHMuY2FsbChpbnB1dG1hc2sscG9zaXRpb24pLmV2ZXJ5KGZ1bmN0aW9uKHRzdCxuZHgpe3ZhciB0ZXN0PXRzdC5tYXRjaDtpZihfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrLCEwKSxyc2x0PW51bGwhPXRlc3QuZm4/dGVzdC5mbi50ZXN0KGMsbWFza3NldCxwb3NpdGlvbixzdHJpY3Qsb3B0cyxpc1NlbGVjdGlvbihwb3MpKTooYz09PXRlc3QuZGVmfHxjPT09b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyKSYmXCJcIiE9PXRlc3QuZGVmJiZ7YzpfdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwoaW5wdXRtYXNrLHBvc2l0aW9uLHRlc3QsITApfHx0ZXN0LmRlZixwb3M6cG9zaXRpb259LCExPT09cnNsdClyZXR1cm4hMDt2YXIgZWxlbT12b2lkIDAhPT1yc2x0LmM/cnNsdC5jOmMsdmFsaWRhdGVkUG9zPXBvc2l0aW9uO3JldHVybiBlbGVtPWVsZW09PT1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXImJiEwPT09dGVzdC5zdGF0aWM/X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKGlucHV0bWFzayxwb3NpdGlvbix0ZXN0LCEwKXx8dGVzdC5kZWY6ZWxlbSxyc2x0PXByb2Nlc3NDb21tYW5kT2JqZWN0KHJzbHQpLCEwIT09cnNsdCYmdm9pZCAwIT09cnNsdC5wb3MmJnJzbHQucG9zIT09cG9zaXRpb24mJih2YWxpZGF0ZWRQb3M9cnNsdC5wb3MpLCEwIT09cnNsdCYmdm9pZCAwPT09cnNsdC5wb3MmJnZvaWQgMD09PXJzbHQuY3x8ITE9PT1yZXZhbGlkYXRlTWFzay5jYWxsKGlucHV0bWFzayxwb3MsJC5leHRlbmQoe30sdHN0LHtpbnB1dDpjYXNpbmcuY2FsbChpbnB1dG1hc2ssZWxlbSx0ZXN0LHZhbGlkYXRlZFBvcyl9KSxmcm9tSXNWYWxpZCx2YWxpZGF0ZWRQb3MpJiYocnNsdD0hMSksITF9KSxyc2x0fXZvaWQgMCE9PXBvcy5iZWdpbiYmKG1hc2tQb3M9aW5wdXRtYXNrLmlzUlRMP3Bvcy5lbmQ6cG9zLmJlZ2luKTt2YXIgcmVzdWx0PSEwLHBvc2l0aW9uc0Nsb25lPSQuZXh0ZW5kKCEwLHt9LG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpO2lmKCExPT09b3B0cy5rZWVwU3RhdGljJiZ2b2lkIDAhPT1tYXNrc2V0LmV4Y2x1ZGVzW21hc2tQb3NdJiYhMCE9PWZyb21BbHRlcm5hdGUmJiEwIT09ZnJvbUlzVmFsaWQpZm9yKHZhciBpPW1hc2tQb3M7aTwoaW5wdXRtYXNrLmlzUlRMP3Bvcy5iZWdpbjpwb3MuZW5kKTtpKyspdm9pZCAwIT09bWFza3NldC5leGNsdWRlc1tpXSYmKG1hc2tzZXQuZXhjbHVkZXNbaV09dm9pZCAwLGRlbGV0ZSBtYXNrc2V0LnRlc3RzW2ldKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLnByZVZhbGlkYXRpb24mJiEwIT09ZnJvbUlzVmFsaWQmJiEwIT09dmFsaWRhdGVPbmx5JiYocmVzdWx0PW9wdHMucHJlVmFsaWRhdGlvbi5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSxtYXNrUG9zLGMsaXNTZWxlY3Rpb24ocG9zKSxvcHRzLG1hc2tzZXQscG9zLHN0cmljdHx8ZnJvbUFsdGVybmF0ZSkscmVzdWx0PXByb2Nlc3NDb21tYW5kT2JqZWN0KHJlc3VsdCkpLCEwPT09cmVzdWx0KXtpZih2b2lkIDA9PT1pbnB1dG1hc2subWF4TGVuZ3RofHxtYXNrUG9zPF9wb3NpdGlvbmluZy50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKGlucHV0bWFzayxpbnB1dG1hc2subWF4TGVuZ3RoKSl7aWYocmVzdWx0PV9pc1ZhbGlkKG1hc2tQb3MsYyxzdHJpY3QpLCghc3RyaWN0fHwhMD09PWZyb21Jc1ZhbGlkKSYmITE9PT1yZXN1bHQmJiEwIT09dmFsaWRhdGVPbmx5KXt2YXIgY3VycmVudFBvc1ZhbGlkPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbWFza1Bvc107aWYoIWN1cnJlbnRQb3NWYWxpZHx8ITAhPT1jdXJyZW50UG9zVmFsaWQubWF0Y2guc3RhdGljfHxjdXJyZW50UG9zVmFsaWQubWF0Y2guZGVmIT09YyYmYyE9PW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcil7aWYob3B0cy5pbnNlcnRNb2RlfHx2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW19wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxtYXNrUG9zKV18fHBvcy5lbmQ+bWFza1Bvcyl7dmFyIHNraXA9ITE7aWYobWFza3NldC5qaXRPZmZzZXRbbWFza1Bvc10mJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbX3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLG1hc2tQb3MpXSYmKHJlc3VsdD1pc1ZhbGlkLmNhbGwoaW5wdXRtYXNrLG1hc2tQb3MrbWFza3NldC5qaXRPZmZzZXRbbWFza1Bvc10sYywhMCksITEhPT1yZXN1bHQmJighMCE9PWZyb21BbHRlcm5hdGUmJihyZXN1bHQuY2FyZXQ9bWFza1Bvcyksc2tpcD0hMCkpLHBvcy5lbmQ+bWFza1BvcyYmKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbWFza1Bvc109dm9pZCAwKSwhc2tpcCYmIV9wb3NpdGlvbmluZy5pc01hc2suY2FsbChpbnB1dG1hc2ssbWFza1BvcyxvcHRzLmtlZXBTdGF0aWMmJjA9PT1tYXNrUG9zKSlmb3IodmFyIG5Qb3M9bWFza1BvcysxLHNuUG9zPV9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxtYXNrUG9zLCExLDAhPT1tYXNrUG9zKTtuUG9zPD1zblBvcztuUG9zKyspaWYocmVzdWx0PV9pc1ZhbGlkKG5Qb3MsYyxzdHJpY3QpLCExIT09cmVzdWx0KXtyZXN1bHQ9dHJhY2tiYWNrUG9zaXRpb25zLmNhbGwoaW5wdXRtYXNrLG1hc2tQb3Msdm9pZCAwIT09cmVzdWx0LnBvcz9yZXN1bHQucG9zOm5Qb3MpfHxyZXN1bHQsbWFza1Bvcz1uUG9zO2JyZWFrfX19ZWxzZSByZXN1bHQ9e2NhcmV0Ol9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxtYXNrUG9zKX19fWVsc2UgcmVzdWx0PSExOyExIT09cmVzdWx0fHwhb3B0cy5rZWVwU3RhdGljfHwhaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkmJjAhPT1tYXNrUG9zfHxzdHJpY3R8fCEwPT09ZnJvbUFsdGVybmF0ZT9pc1NlbGVjdGlvbihwb3MpJiZtYXNrc2V0LnRlc3RzW21hc2tQb3NdJiYxPG1hc2tzZXQudGVzdHNbbWFza1Bvc10ubGVuZ3RoJiZvcHRzLmtlZXBTdGF0aWMmJiFzdHJpY3QmJiEwIT09ZnJvbUFsdGVybmF0ZSYmKHJlc3VsdD1hbHRlcm5hdGUuY2FsbChpbnB1dG1hc2ssITApKTpyZXN1bHQ9YWx0ZXJuYXRlLmNhbGwoaW5wdXRtYXNrLG1hc2tQb3MsYyxzdHJpY3QsZnJvbUlzVmFsaWQsdm9pZCAwLHBvcyksITA9PT1yZXN1bHQmJihyZXN1bHQ9e3BvczptYXNrUG9zfSl9aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5wb3N0VmFsaWRhdGlvbiYmITAhPT1mcm9tSXNWYWxpZCYmITAhPT12YWxpZGF0ZU9ubHkpe3ZhciBwb3N0UmVzdWx0PW9wdHMucG9zdFZhbGlkYXRpb24uY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaywhMCksdm9pZCAwIT09cG9zLmJlZ2luP2lucHV0bWFzay5pc1JUTD9wb3MuZW5kOnBvcy5iZWdpbjpwb3MsYyxyZXN1bHQsb3B0cyxtYXNrc2V0LHN0cmljdCxmcm9tQ2hlY2t2YWwpO3ZvaWQgMCE9PXBvc3RSZXN1bHQmJihyZXN1bHQ9ITA9PT1wb3N0UmVzdWx0P3Jlc3VsdDpwb3N0UmVzdWx0KX1yZXN1bHQmJnZvaWQgMD09PXJlc3VsdC5wb3MmJihyZXN1bHQucG9zPW1hc2tQb3MpLCExPT09cmVzdWx0fHwhMD09PXZhbGlkYXRlT25seT8oX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKGlucHV0bWFzaywhMCksbWFza3NldC52YWxpZFBvc2l0aW9ucz0kLmV4dGVuZCghMCx7fSxwb3NpdGlvbnNDbG9uZSkpOnRyYWNrYmFja1Bvc2l0aW9ucy5jYWxsKGlucHV0bWFzayx2b2lkIDAsbWFza1BvcywhMCk7dmFyIGVuZFJlc3VsdD1wcm9jZXNzQ29tbWFuZE9iamVjdChyZXN1bHQpO3JldHVybiBlbmRSZXN1bHR9ZnVuY3Rpb24gcG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24ocG9zLHRlc3REZWZpbml0aW9uLG9wdHMpe2Zvcih2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsdmFsaWQ9ITEsdGVzdHM9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0cy5jYWxsKHRoaXMscG9zKSx0bmR4PTA7dG5keDx0ZXN0cy5sZW5ndGg7dG5keCsrKXtpZih0ZXN0c1t0bmR4XS5tYXRjaCYmKHRlc3RzW3RuZHhdLm1hdGNoLm5hdGl2ZURlZj09PXRlc3REZWZpbml0aW9uLm1hdGNoW29wdHMuc2hpZnRQb3NpdGlvbnM/XCJkZWZcIjpcIm5hdGl2ZURlZlwiXSYmKCFvcHRzLnNoaWZ0UG9zaXRpb25zfHwhdGVzdERlZmluaXRpb24ubWF0Y2guc3RhdGljKXx8dGVzdHNbdG5keF0ubWF0Y2gubmF0aXZlRGVmPT09dGVzdERlZmluaXRpb24ubWF0Y2gubmF0aXZlRGVmfHxvcHRzLnJlZ2V4JiYhdGVzdHNbdG5keF0ubWF0Y2guc3RhdGljJiZ0ZXN0c1t0bmR4XS5tYXRjaC5mbi50ZXN0KHRlc3REZWZpbml0aW9uLmlucHV0KSkpe3ZhbGlkPSEwO2JyZWFrfWlmKHRlc3RzW3RuZHhdLm1hdGNoJiZ0ZXN0c1t0bmR4XS5tYXRjaC5kZWY9PT10ZXN0RGVmaW5pdGlvbi5tYXRjaC5uYXRpdmVEZWYpe3ZhbGlkPXZvaWQgMDticmVha319cmV0dXJuITE9PT12YWxpZCYmdm9pZCAwIT09bWFza3NldC5qaXRPZmZzZXRbcG9zXSYmKHZhbGlkPXBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uLmNhbGwodGhpcyxwb3MrbWFza3NldC5qaXRPZmZzZXRbcG9zXSx0ZXN0RGVmaW5pdGlvbixvcHRzKSksdmFsaWR9ZnVuY3Rpb24gcmVmcmVzaEZyb21CdWZmZXIoc3RhcnQsZW5kLGJ1ZmZlcil7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LG9wdHM9dGhpcy5vcHRzLCQ9dGhpcy5kZXBlbmRlbmN5TGliLGVsPXRoaXMuZWwsaSxwLHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyLGJmZnI9dGhpcy5pc1JUTD9idWZmZXIuc2xpY2UoKS5yZXZlcnNlKCk6YnVmZmVyO2lmKG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcj1cIlwiLCEwPT09c3RhcnQpX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKHRoaXMpLG1hc2tzZXQudGVzdHM9e30sc3RhcnQ9MCxlbmQ9YnVmZmVyLmxlbmd0aCxwPV9wb3NpdGlvbmluZy5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uLmNhbGwodGhpcyx7YmVnaW46MCxlbmQ6MH0sITEpLmJlZ2luO2Vsc2V7Zm9yKGk9c3RhcnQ7aTxlbmQ7aSsrKWRlbGV0ZSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW2ldO3A9c3RhcnR9dmFyIGtleXByZXNzPW5ldyAkLkV2ZW50KFwia2V5cHJlc3NcIik7Zm9yKGk9c3RhcnQ7aTxlbmQ7aSsrKXtrZXlwcmVzcy53aGljaD1iZmZyW2ldLnRvU3RyaW5nKCkuY2hhckNvZGVBdCgwKSx0aGlzLmlnbm9yYWJsZT0hMTt2YXIgdmFsUmVzdWx0PV9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGVsLGtleXByZXNzLCEwLCExLCExLHApOyExIT09dmFsUmVzdWx0JiYocD12YWxSZXN1bHQuZm9yd2FyZFBvc2l0aW9uKX1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9c2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcn1mdW5jdGlvbiB0cmFja2JhY2tQb3NpdGlvbnMob3JpZ2luYWxQb3MsbmV3UG9zLGZpbGxPbmx5KXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsJD10aGlzLmRlcGVuZGVuY3lMaWI7aWYodm9pZCAwPT09b3JpZ2luYWxQb3MpZm9yKG9yaWdpbmFsUG9zPW5ld1Bvcy0xOzA8b3JpZ2luYWxQb3MmJiFtYXNrc2V0LnZhbGlkUG9zaXRpb25zW29yaWdpbmFsUG9zXTtvcmlnaW5hbFBvcy0tKTtmb3IodmFyIHBzPW9yaWdpbmFsUG9zO3BzPG5ld1BvcztwcysrKWlmKHZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcHNdJiYhX3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKHRoaXMscHMsITEpKXt2YXIgdnA9MD09cHM/X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwcyk6bWFza3NldC52YWxpZFBvc2l0aW9uc1twcy0xXTtpZih2cCl7dmFyIHRlc3RzPV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdHMuY2FsbCh0aGlzLHBzKS5zbGljZSgpO1wiXCI9PT10ZXN0c1t0ZXN0cy5sZW5ndGgtMV0ubWF0Y2guZGVmJiZ0ZXN0cy5wb3AoKTt2YXIgYmVzdE1hdGNoPV92YWxpZGF0aW9uVGVzdHMuZGV0ZXJtaW5lVGVzdFRlbXBsYXRlLmNhbGwodGhpcyxwcyx0ZXN0cyksbnA7aWYoYmVzdE1hdGNoJiYoITAhPT1iZXN0TWF0Y2gubWF0Y2guaml0fHxcIm1hc3RlclwiPT09YmVzdE1hdGNoLm1hdGNoLm5ld0Jsb2NrTWFya2VyJiYobnA9bWFza3NldC52YWxpZFBvc2l0aW9uc1twcysxXSkmJiEwPT09bnAubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyKSYmKGJlc3RNYXRjaD0kLmV4dGVuZCh7fSxiZXN0TWF0Y2gse2lucHV0Ol92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbCh0aGlzLHBzLGJlc3RNYXRjaC5tYXRjaCwhMCl8fGJlc3RNYXRjaC5tYXRjaC5kZWZ9KSxiZXN0TWF0Y2guZ2VuZXJhdGVkSW5wdXQ9ITAscmV2YWxpZGF0ZU1hc2suY2FsbCh0aGlzLHBzLGJlc3RNYXRjaCwhMCksITAhPT1maWxsT25seSkpe3ZhciBjdnBJbnB1dD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW25ld1Bvc10uaW5wdXQ7cmV0dXJuIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbmV3UG9zXT12b2lkIDAsaXNWYWxpZC5jYWxsKHRoaXMsbmV3UG9zLGN2cElucHV0LCEwLCEwKX19fX1mdW5jdGlvbiByZXZhbGlkYXRlTWFzayhwb3MsdmFsaWRUZXN0LGZyb21Jc1ZhbGlkLHZhbGlkYXRlZFBvcyl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LG9wdHM9dGhpcy5vcHRzLCQ9dGhpcy5kZXBlbmRlbmN5TGliO2Z1bmN0aW9uIElzRW5jbG9zZWRTdGF0aWMocG9zLHZhbGlkcyxzZWxlY3Rpb24pe3ZhciBwb3NNYXRjaD12YWxpZHNbcG9zXTtpZih2b2lkIDA9PT1wb3NNYXRjaHx8ITAhPT1wb3NNYXRjaC5tYXRjaC5zdGF0aWN8fCEwPT09cG9zTWF0Y2gubWF0Y2gub3B0aW9uYWxpdHl8fHZvaWQgMCE9PXZhbGlkc1swXSYmdm9pZCAwIT09dmFsaWRzWzBdLmFsdGVybmF0aW9uKXJldHVybiExO3ZhciBwcmV2TWF0Y2g9c2VsZWN0aW9uLmJlZ2luPD1wb3MtMT92YWxpZHNbcG9zLTFdJiYhMD09PXZhbGlkc1twb3MtMV0ubWF0Y2guc3RhdGljJiZ2YWxpZHNbcG9zLTFdOnZhbGlkc1twb3MtMV0sbmV4dE1hdGNoPXNlbGVjdGlvbi5lbmQ+cG9zKzE/dmFsaWRzW3BvcysxXSYmITA9PT12YWxpZHNbcG9zKzFdLm1hdGNoLnN0YXRpYyYmdmFsaWRzW3BvcysxXTp2YWxpZHNbcG9zKzFdO3JldHVybiBwcmV2TWF0Y2gmJm5leHRNYXRjaH12YXIgb2Zmc2V0PTAsYmVnaW49dm9pZCAwIT09cG9zLmJlZ2luP3Bvcy5iZWdpbjpwb3MsZW5kPXZvaWQgMCE9PXBvcy5lbmQ/cG9zLmVuZDpwb3M7aWYocG9zLmJlZ2luPnBvcy5lbmQmJihiZWdpbj1wb3MuZW5kLGVuZD1wb3MuYmVnaW4pLHZhbGlkYXRlZFBvcz12b2lkIDAhPT12YWxpZGF0ZWRQb3M/dmFsaWRhdGVkUG9zOmJlZ2luLGJlZ2luIT09ZW5kfHxvcHRzLmluc2VydE1vZGUmJnZvaWQgMCE9PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdmFsaWRhdGVkUG9zXSYmdm9pZCAwPT09ZnJvbUlzVmFsaWR8fHZvaWQgMD09PXZhbGlkVGVzdCl7dmFyIHBvc2l0aW9uc0Nsb25lPSQuZXh0ZW5kKCEwLHt9LG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpLGx2cD1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzLHZvaWQgMCwhMCksaTtmb3IobWFza3NldC5wPWJlZ2luLGk9bHZwO2JlZ2luPD1pO2ktLSlkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1tpXSx2b2lkIDA9PT12YWxpZFRlc3QmJmRlbGV0ZSBtYXNrc2V0LnRlc3RzW2krMV07dmFyIHZhbGlkPSEwLGo9dmFsaWRhdGVkUG9zLHBvc01hdGNoPWosdCxjYW5NYXRjaDtmb3IodmFsaWRUZXN0JiYobWFza3NldC52YWxpZFBvc2l0aW9uc1t2YWxpZGF0ZWRQb3NdPSQuZXh0ZW5kKCEwLHt9LHZhbGlkVGVzdCkscG9zTWF0Y2grKyxqKyspLGk9dmFsaWRUZXN0P2VuZDplbmQtMTtpPD1sdnA7aSsrKXtpZih2b2lkIDAhPT0odD1wb3NpdGlvbnNDbG9uZVtpXSkmJiEwIT09dC5nZW5lcmF0ZWRJbnB1dCYmKGVuZDw9aXx8YmVnaW48PWkmJklzRW5jbG9zZWRTdGF0aWMoaSxwb3NpdGlvbnNDbG9uZSx7YmVnaW46YmVnaW4sZW5kOmVuZH0pKSl7Zm9yKDtcIlwiIT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwb3NNYXRjaCkubWF0Y2guZGVmOyl7aWYoITEhPT0oY2FuTWF0Y2g9cG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24uY2FsbCh0aGlzLHBvc01hdGNoLHQsb3B0cykpfHxcIitcIj09PXQubWF0Y2guZGVmKXtcIitcIj09PXQubWF0Y2guZGVmJiZfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcywhMCk7dmFyIHJlc3VsdD1pc1ZhbGlkLmNhbGwodGhpcyxwb3NNYXRjaCx0LmlucHV0LFwiK1wiIT09dC5tYXRjaC5kZWYsXCIrXCIhPT10Lm1hdGNoLmRlZik7aWYodmFsaWQ9ITEhPT1yZXN1bHQsaj0ocmVzdWx0LnBvc3x8cG9zTWF0Y2gpKzEsIXZhbGlkJiZjYW5NYXRjaClicmVha31lbHNlIHZhbGlkPSExO2lmKHZhbGlkKXt2b2lkIDA9PT12YWxpZFRlc3QmJnQubWF0Y2guc3RhdGljJiZpPT09cG9zLmJlZ2luJiZvZmZzZXQrKzticmVha31pZighdmFsaWQmJnBvc01hdGNoPm1hc2tzZXQubWFza0xlbmd0aClicmVhaztwb3NNYXRjaCsrfVwiXCI9PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscG9zTWF0Y2gpLm1hdGNoLmRlZiYmKHZhbGlkPSExKSxwb3NNYXRjaD1qfWlmKCF2YWxpZClicmVha31pZighdmFsaWQpcmV0dXJuIG1hc2tzZXQudmFsaWRQb3NpdGlvbnM9JC5leHRlbmQoITAse30scG9zaXRpb25zQ2xvbmUpLF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbCh0aGlzLCEwKSwhMX1lbHNlIHZhbGlkVGVzdCYmX3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyx2YWxpZGF0ZWRQb3MpLm1hdGNoLmNkPT09dmFsaWRUZXN0Lm1hdGNoLmNkJiYobWFza3NldC52YWxpZFBvc2l0aW9uc1t2YWxpZGF0ZWRQb3NdPSQuZXh0ZW5kKCEwLHt9LHZhbGlkVGVzdCkpO3JldHVybiBfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwodGhpcywhMCksb2Zmc2V0fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMDt2YXIgX2NhblVzZURPTT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNikpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgX2RlZmF1bHQ9X2NhblVzZURPTS5kZWZhdWx0P3dpbmRvdzp7fTtleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDA7dmFyIGNhblVzZURPTT0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cuZG9jdW1lbnR8fCF3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCksX2RlZmF1bHQ9Y2FuVXNlRE9NO2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5hcHBseUlucHV0VmFsdWU9YXBwbHlJbnB1dFZhbHVlLGV4cG9ydHMuY2xlYXJPcHRpb25hbFRhaWw9Y2xlYXJPcHRpb25hbFRhaWwsZXhwb3J0cy5jaGVja1ZhbD1jaGVja1ZhbCxleHBvcnRzLkhhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyPUhhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyLGV4cG9ydHMudW5tYXNrZWR2YWx1ZT11bm1hc2tlZHZhbHVlLGV4cG9ydHMud3JpdGVCdWZmZXI9d3JpdGVCdWZmZXI7dmFyIF9rZXljb2RlPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygwKSksX3ZhbGlkYXRpb25UZXN0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF92YWxpZGF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNCksX2Vudmlyb25tZW50PV9fd2VicGFja19yZXF1aXJlX18oOSksX2V2ZW50aGFuZGxlcnM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gYXBwbHlJbnB1dFZhbHVlKGlucHV0LHZhbHVlKXt2YXIgaW5wdXRtYXNrPWlucHV0P2lucHV0LmlucHV0bWFzazp0aGlzLG9wdHM9aW5wdXRtYXNrLm9wdHM7aW5wdXQuaW5wdXRtYXNrLnJlZnJlc2hWYWx1ZT0hMSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLm9uQmVmb3JlTWFzayYmKHZhbHVlPW9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXRtYXNrLHZhbHVlLG9wdHMpfHx2YWx1ZSksdmFsdWU9dmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSxjaGVja1ZhbChpbnB1dCwhMCwhMSx2YWx1ZSksaW5wdXRtYXNrLnVuZG9WYWx1ZT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpLChvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzfHxvcHRzLmNsZWFySW5jb21wbGV0ZSkmJmlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKT09PV9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSYmLTE9PT1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spJiZpbnB1dC5pbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpfWZ1bmN0aW9uIGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcil7dmFyIGlucHV0bWFzaz10aGlzO2J1ZmZlci5sZW5ndGg9MDtmb3IodmFyIHRlbXBsYXRlPV92YWxpZGF0aW9uVGVzdHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywhMCwwLCEwLHZvaWQgMCwhMCksbG1udDt2b2lkIDAhPT0obG1udD10ZW1wbGF0ZS5zaGlmdCgpKTspYnVmZmVyLnB1c2gobG1udCk7cmV0dXJuIGJ1ZmZlcn1mdW5jdGlvbiBjaGVja1ZhbChpbnB1dCx3cml0ZU91dCxzdHJpY3QsbnB0dmwsaW5pdGlhdGluZ0V2ZW50KXt2YXIgaW5wdXRtYXNrPWlucHV0P2lucHV0LmlucHV0bWFzazp0aGlzLG1hc2tzZXQ9aW5wdXRtYXNrLm1hc2tzZXQsb3B0cz1pbnB1dG1hc2sub3B0cywkPWlucHV0bWFzay5kZXBlbmRlbmN5TGliLGlucHV0VmFsdWU9bnB0dmwuc2xpY2UoKSxjaGFyQ29kZXM9XCJcIixpbml0aWFsTmR4PS0xLHJlc3VsdD12b2lkIDAsc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcj1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI7ZnVuY3Rpb24gaXNUZW1wbGF0ZU1hdGNoKG5keCxjaGFyQ29kZXMpe2Zvcih2YXIgdGFyZ2V0VGVtcGxhdGU9X3ZhbGlkYXRpb25UZXN0cy5nZXRNYXNrVGVtcGxhdGUuY2FsbChpbnB1dG1hc2ssITAsMCkuc2xpY2UobmR4LF9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxuZHgsITEsITEpKS5qb2luKFwiXCIpLnJlcGxhY2UoLycvZyxcIlwiKSxjaGFyQ29kZU5keD10YXJnZXRUZW1wbGF0ZS5pbmRleE9mKGNoYXJDb2Rlcyk7MDxjaGFyQ29kZU5keCYmXCIgXCI9PT10YXJnZXRUZW1wbGF0ZVtjaGFyQ29kZU5keC0xXTspY2hhckNvZGVOZHgtLTt2YXIgbWF0Y2g9MD09PWNoYXJDb2RlTmR4JiYhX3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKGlucHV0bWFzayxuZHgpJiYoX3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLG5keCkubWF0Y2gubmF0aXZlRGVmPT09Y2hhckNvZGVzLmNoYXJBdCgwKXx8ITA9PT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2ssbmR4KS5tYXRjaC5zdGF0aWMmJl92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxuZHgpLm1hdGNoLm5hdGl2ZURlZj09PVwiJ1wiK2NoYXJDb2Rlcy5jaGFyQXQoMCl8fFwiIFwiPT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLG5keCkubWF0Y2gubmF0aXZlRGVmJiYoX3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLG5keCsxKS5tYXRjaC5uYXRpdmVEZWY9PT1jaGFyQ29kZXMuY2hhckF0KDApfHwhMD09PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxuZHgrMSkubWF0Y2guc3RhdGljJiZfdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2ssbmR4KzEpLm1hdGNoLm5hdGl2ZURlZj09PVwiJ1wiK2NoYXJDb2Rlcy5jaGFyQXQoMCkpKTtpZighbWF0Y2gmJjA8Y2hhckNvZGVOZHgmJiFfcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwoaW5wdXRtYXNrLG5keCwhMSwhMCkpe3ZhciBuZXh0UG9zPV9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxuZHgpO2lucHV0bWFzay5jYXJldFBvcy5iZWdpbjxuZXh0UG9zJiYoaW5wdXRtYXNrLmNhcmV0UG9zPXtiZWdpbjpuZXh0UG9zfSl9cmV0dXJuIG1hdGNofW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcj1cIlwiLF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbChpbnB1dG1hc2spLG1hc2tzZXQudGVzdHM9e30saW5pdGlhbE5keD1vcHRzLnJhZGl4UG9pbnQ/X3Bvc2l0aW9uaW5nLmRldGVybWluZU5ld0NhcmV0UG9zaXRpb24uY2FsbChpbnB1dG1hc2sse2JlZ2luOjAsZW5kOjB9KS5iZWdpbjowLG1hc2tzZXQucD1pbml0aWFsTmR4LGlucHV0bWFzay5jYXJldFBvcz17YmVnaW46aW5pdGlhbE5keH07dmFyIHN0YXRpY01hdGNoZXM9W10scHJldkNhcmV0UG9zPWlucHV0bWFzay5jYXJldFBvcztpZihpbnB1dFZhbHVlLmZvckVhY2goZnVuY3Rpb24oY2hhckNvZGUsbmR4KXtpZih2b2lkIDAhPT1jaGFyQ29kZSl7dmFyIGtleXByZXNzPW5ldyAkLkV2ZW50KFwiX2NoZWNrdmFsXCIpO2tleXByZXNzLndoaWNoPWNoYXJDb2RlLnRvU3RyaW5nKCkuY2hhckNvZGVBdCgwKSxjaGFyQ29kZXMrPWNoYXJDb2RlO3ZhciBsdnA9X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLHZvaWQgMCwhMCk7aXNUZW1wbGF0ZU1hdGNoKGluaXRpYWxOZHgsY2hhckNvZGVzKT9yZXN1bHQ9X2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXRtYXNrLGtleXByZXNzLCEwLCExLHN0cmljdCxsdnArMSk6KHJlc3VsdD1fZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dG1hc2ssa2V5cHJlc3MsITAsITEsc3RyaWN0LGlucHV0bWFzay5jYXJldFBvcy5iZWdpbikscmVzdWx0JiYoaW5pdGlhbE5keD1pbnB1dG1hc2suY2FyZXRQb3MuYmVnaW4rMSxjaGFyQ29kZXM9XCJcIikpLHJlc3VsdD8odm9pZCAwIT09cmVzdWx0LnBvcyYmbWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXSYmITA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Jlc3VsdC5wb3NdLm1hdGNoLnN0YXRpYyYmdm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXS5hbHRlcm5hdGlvbiYmKHN0YXRpY01hdGNoZXMucHVzaChyZXN1bHQucG9zKSxpbnB1dG1hc2suaXNSVEx8fChyZXN1bHQuZm9yd2FyZFBvc2l0aW9uPXJlc3VsdC5wb3MrMSkpLHdyaXRlQnVmZmVyLmNhbGwoaW5wdXRtYXNrLHZvaWQgMCxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSxyZXN1bHQuZm9yd2FyZFBvc2l0aW9uLGtleXByZXNzLCExKSxpbnB1dG1hc2suY2FyZXRQb3M9e2JlZ2luOnJlc3VsdC5mb3J3YXJkUG9zaXRpb24sZW5kOnJlc3VsdC5mb3J3YXJkUG9zaXRpb259LHByZXZDYXJldFBvcz1pbnB1dG1hc2suY2FyZXRQb3MpOnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbmR4XSYmaW5wdXRWYWx1ZVtuZHhdPT09X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKGlucHV0bWFzayxuZHgpJiZfcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwoaW5wdXRtYXNrLG5keCwhMCk/aW5wdXRtYXNrLmNhcmV0UG9zLmJlZ2luKys6aW5wdXRtYXNrLmNhcmV0UG9zPXByZXZDYXJldFBvc319KSwwPHN0YXRpY01hdGNoZXMubGVuZ3RoKXt2YXIgc25keCx2YWxpZFBvcyxuZXh0VmFsaWQ9X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLC0xLHZvaWQgMCwhMSk7aWYoIV92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpJiZzdGF0aWNNYXRjaGVzLmxlbmd0aDw9bmV4dFZhbGlkfHxfdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKSYmMDxzdGF0aWNNYXRjaGVzLmxlbmd0aCYmc3RhdGljTWF0Y2hlcy5sZW5ndGghPT1uZXh0VmFsaWQmJjA9PT1zdGF0aWNNYXRjaGVzWzBdKWZvcih2YXIgbmV4dFNuZHg9bmV4dFZhbGlkO3ZvaWQgMCE9PShzbmR4PXN0YXRpY01hdGNoZXMuc2hpZnQoKSk7KXt2YXIga2V5cHJlc3M9bmV3ICQuRXZlbnQoXCJfY2hlY2t2YWxcIik7aWYodmFsaWRQb3M9bWFza3NldC52YWxpZFBvc2l0aW9uc1tzbmR4XSx2YWxpZFBvcy5nZW5lcmF0ZWRJbnB1dD0hMCxrZXlwcmVzcy53aGljaD12YWxpZFBvcy5pbnB1dC5jaGFyQ29kZUF0KDApLHJlc3VsdD1fZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dG1hc2ssa2V5cHJlc3MsITAsITEsc3RyaWN0LG5leHRTbmR4KSxyZXN1bHQmJnZvaWQgMCE9PXJlc3VsdC5wb3MmJnJlc3VsdC5wb3MhPT1zbmR4JiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Jlc3VsdC5wb3NdJiYhMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10ubWF0Y2guc3RhdGljKXN0YXRpY01hdGNoZXMucHVzaChyZXN1bHQucG9zKTtlbHNlIGlmKCFyZXN1bHQpYnJlYWs7bmV4dFNuZHgrK319d3JpdGVPdXQmJndyaXRlQnVmZmVyLmNhbGwoaW5wdXRtYXNrLGlucHV0LF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLHJlc3VsdD9yZXN1bHQuZm9yd2FyZFBvc2l0aW9uOmlucHV0bWFzay5jYXJldFBvcy5iZWdpbixpbml0aWF0aW5nRXZlbnR8fG5ldyAkLkV2ZW50KFwiY2hlY2t2YWxcIiksaW5pdGlhdGluZ0V2ZW50JiZcImlucHV0XCI9PT1pbml0aWF0aW5nRXZlbnQudHlwZSYmaW5wdXRtYXNrLnVuZG9WYWx1ZSE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikpLG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcj1za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyfWZ1bmN0aW9uIEhhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyKG5wdCx2YWx1ZSl7dmFyIGlucHV0bWFzaz1ucHQ/bnB0LmlucHV0bWFzazp0aGlzO2lmKF9lbnZpcm9ubWVudC5pZSl7aWYobnB0LmlucHV0bWFzay5fdmFsdWVHZXQoKSE9PXZhbHVlJiYobnB0LnBsYWNlaG9sZGVyIT09dmFsdWV8fFwiXCI9PT1ucHQucGxhY2Vob2xkZXIpKXt2YXIgYnVmZmVyPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKCksbnB0VmFsdWU9bnB0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtpZihucHRWYWx1ZSE9PXZhbHVlKXt2YXIgbHZwPV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayk7LTE9PT1sdnAmJm5wdFZhbHVlPT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpP2J1ZmZlcj1bXTotMSE9PWx2cCYmY2xlYXJPcHRpb25hbFRhaWwuY2FsbChpbnB1dG1hc2ssYnVmZmVyKSx3cml0ZUJ1ZmZlcihucHQsYnVmZmVyKX19fWVsc2UgbnB0LnBsYWNlaG9sZGVyIT09dmFsdWUmJihucHQucGxhY2Vob2xkZXI9dmFsdWUsXCJcIj09PW5wdC5wbGFjZWhvbGRlciYmbnB0LnJlbW92ZUF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpKX1mdW5jdGlvbiB1bm1hc2tlZHZhbHVlKGlucHV0KXt2YXIgaW5wdXRtYXNrPWlucHV0P2lucHV0LmlucHV0bWFzazp0aGlzLG9wdHM9aW5wdXRtYXNrLm9wdHMsbWFza3NldD1pbnB1dG1hc2subWFza3NldDtpZihpbnB1dCl7aWYodm9pZCAwPT09aW5wdXQuaW5wdXRtYXNrKXJldHVybiBpbnB1dC52YWx1ZTtpbnB1dC5pbnB1dG1hc2smJmlucHV0LmlucHV0bWFzay5yZWZyZXNoVmFsdWUmJmFwcGx5SW5wdXRWYWx1ZShpbnB1dCxpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSl9dmFyIHVtVmFsdWU9W10sdnBzPW1hc2tzZXQudmFsaWRQb3NpdGlvbnM7Zm9yKHZhciBwbmR4IGluIHZwcyl2cHNbcG5keF0mJnZwc1twbmR4XS5tYXRjaCYmKDEhPXZwc1twbmR4XS5tYXRjaC5zdGF0aWN8fEFycmF5LmlzQXJyYXkobWFza3NldC5tZXRhZGF0YSkmJiEwIT09dnBzW3BuZHhdLmdlbmVyYXRlZElucHV0KSYmdW1WYWx1ZS5wdXNoKHZwc1twbmR4XS5pbnB1dCk7dmFyIHVubWFza2VkVmFsdWU9MD09PXVtVmFsdWUubGVuZ3RoP1wiXCI6KGlucHV0bWFzay5pc1JUTD91bVZhbHVlLnJldmVyc2UoKTp1bVZhbHVlKS5qb2luKFwiXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMub25Vbk1hc2spe3ZhciBidWZmZXJWYWx1ZT0oaW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkucmV2ZXJzZSgpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKS5qb2luKFwiXCIpO3VubWFza2VkVmFsdWU9b3B0cy5vblVuTWFzay5jYWxsKGlucHV0bWFzayxidWZmZXJWYWx1ZSx1bm1hc2tlZFZhbHVlLG9wdHMpfXJldHVybiB1bm1hc2tlZFZhbHVlfWZ1bmN0aW9uIHdyaXRlQnVmZmVyKGlucHV0LGJ1ZmZlcixjYXJldFBvcyxldmVudCx0cmlnZ2VyRXZlbnRzKXt2YXIgaW5wdXRtYXNrPWlucHV0P2lucHV0LmlucHV0bWFzazp0aGlzLG9wdHM9aW5wdXRtYXNrLm9wdHMsJD1pbnB1dG1hc2suZGVwZW5kZW5jeUxpYjtpZihldmVudCYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5vbkJlZm9yZVdyaXRlKXt2YXIgcmVzdWx0PW9wdHMub25CZWZvcmVXcml0ZS5jYWxsKGlucHV0bWFzayxldmVudCxidWZmZXIsY2FyZXRQb3Msb3B0cyk7aWYocmVzdWx0KXtpZihyZXN1bHQucmVmcmVzaEZyb21CdWZmZXIpe3ZhciByZWZyZXNoPXJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcjtfdmFsaWRhdGlvbi5yZWZyZXNoRnJvbUJ1ZmZlci5jYWxsKGlucHV0bWFzaywhMD09PXJlZnJlc2g/cmVmcmVzaDpyZWZyZXNoLnN0YXJ0LHJlZnJlc2guZW5kLHJlc3VsdC5idWZmZXJ8fGJ1ZmZlciksYnVmZmVyPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2ssITApfXZvaWQgMCE9PWNhcmV0UG9zJiYoY2FyZXRQb3M9dm9pZCAwIT09cmVzdWx0LmNhcmV0P3Jlc3VsdC5jYXJldDpjYXJldFBvcyl9fWlmKHZvaWQgMCE9PWlucHV0JiYoaW5wdXQuaW5wdXRtYXNrLl92YWx1ZVNldChidWZmZXIuam9pbihcIlwiKSksdm9pZCAwPT09Y2FyZXRQb3N8fHZvaWQgMCE9PWV2ZW50JiZcImJsdXJcIj09PWV2ZW50LnR5cGV8fF9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxjYXJldFBvcyx2b2lkIDAsdm9pZCAwLHZvaWQgMCE9PWV2ZW50JiZcImtleWRvd25cIj09PWV2ZW50LnR5cGUmJihldmVudC5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEV8fGV2ZW50LmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRSkpLCEwPT09dHJpZ2dlckV2ZW50cykpe3ZhciAkaW5wdXQ9JChpbnB1dCksbnB0VmFsPWlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtpbnB1dC5pbnB1dG1hc2suc2tpcElucHV0RXZlbnQ9ITAsJGlucHV0LnRyaWdnZXIoXCJpbnB1dFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bnB0VmFsPT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpPyRpbnB1dC50cmlnZ2VyKFwiY2xlYXJlZFwiKTohMD09PV92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssYnVmZmVyKSYmJGlucHV0LnRyaWdnZXIoXCJjb21wbGV0ZVwiKX0sMCl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5FdmVudEhhbmRsZXJzPXZvaWQgMDt2YXIgX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSksX2tleWNvZGU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfZW52aXJvbm1lbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxfdmFsaWRhdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9pbnB1dEhhbmRsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNyksX3ZhbGlkYXRpb25UZXN0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgRXZlbnRIYW5kbGVycz17a2V5ZG93bkV2ZW50OmZ1bmN0aW9uIGtleWRvd25FdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHMsJD1pbnB1dG1hc2suZGVwZW5kZW5jeUxpYixtYXNrc2V0PWlucHV0bWFzay5tYXNrc2V0LGlucHV0PXRoaXMsJGlucHV0PSQoaW5wdXQpLGs9ZS5rZXlDb2RlLHBvcz1fcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQpLGtkUmVzdWx0PW9wdHMub25LZXlEb3duLmNhbGwodGhpcyxlLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLHBvcyxvcHRzKTtpZih2b2lkIDAhPT1rZFJlc3VsdClyZXR1cm4ga2RSZXN1bHQ7aWYoaz09PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFfHxrPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEV8fF9lbnZpcm9ubWVudC5pcGhvbmUmJms9PT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRV9TQUZBUkl8fGUuY3RybEtleSYmaz09PV9rZXljb2RlLmRlZmF1bHQuWCYmIShcIm9uY3V0XCJpbiBpbnB1dCkpZS5wcmV2ZW50RGVmYXVsdCgpLF92YWxpZGF0aW9uLmhhbmRsZVJlbW92ZS5jYWxsKGlucHV0bWFzayxpbnB1dCxrLHBvcyksKDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKGlucHV0LF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2ssITApLG1hc2tzZXQucCxlLGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikpO2Vsc2UgaWYoaz09PV9rZXljb2RlLmRlZmF1bHQuRU5EfHxrPT09X2tleWNvZGUuZGVmYXVsdC5QQUdFX0RPV04pe2UucHJldmVudERlZmF1bHQoKTt2YXIgY2FyZXRQb3M9X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzaykpO19wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxlLnNoaWZ0S2V5P3Bvcy5iZWdpbjpjYXJldFBvcyxjYXJldFBvcywhMCl9ZWxzZSBrPT09X2tleWNvZGUuZGVmYXVsdC5IT01FJiYhZS5zaGlmdEtleXx8az09PV9rZXljb2RlLmRlZmF1bHQuUEFHRV9VUD8oZS5wcmV2ZW50RGVmYXVsdCgpLF9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCwwLGUuc2hpZnRLZXk/cG9zLmJlZ2luOjAsITApKToob3B0cy51bmRvT25Fc2NhcGUmJms9PT1fa2V5Y29kZS5kZWZhdWx0LkVTQ0FQRXx8OTA9PT1rJiZlLmN0cmxLZXkpJiYhMCE9PWUuYWx0S2V5PygoMCxfaW5wdXRIYW5kbGluZy5jaGVja1ZhbCkoaW5wdXQsITAsITEsaW5wdXRtYXNrLnVuZG9WYWx1ZS5zcGxpdChcIlwiKSksJGlucHV0LnRyaWdnZXIoXCJjbGlja1wiKSk6ITA9PT1vcHRzLnRhYlRocm91Z2gmJms9PT1fa2V5Y29kZS5kZWZhdWx0LlRBQj8hMD09PWUuc2hpZnRLZXk/KHBvcy5lbmQ9X3Bvc2l0aW9uaW5nLnNlZWtQcmV2aW91cy5jYWxsKGlucHV0bWFzayxwb3MuZW5kLCEwKSwhMD09PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxwb3MuZW5kLTEpLm1hdGNoLnN0YXRpYyYmcG9zLmVuZC0tLHBvcy5iZWdpbj1fcG9zaXRpb25pbmcuc2Vla1ByZXZpb3VzLmNhbGwoaW5wdXRtYXNrLHBvcy5lbmQsITApLDA8PXBvcy5iZWdpbiYmMDxwb3MuZW5kJiYoZS5wcmV2ZW50RGVmYXVsdCgpLF9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxwb3MuYmVnaW4scG9zLmVuZCkpKToocG9zLmJlZ2luPV9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxwb3MuYmVnaW4sITApLHBvcy5lbmQ9X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLHBvcy5iZWdpbiwhMCkscG9zLmVuZDxtYXNrc2V0Lm1hc2tMZW5ndGgmJnBvcy5lbmQtLSxwb3MuYmVnaW48PW1hc2tzZXQubWFza0xlbmd0aCYmKGUucHJldmVudERlZmF1bHQoKSxfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQscG9zLmJlZ2luLHBvcy5lbmQpKSk6ZS5zaGlmdEtleXx8b3B0cy5pbnNlcnRNb2RlVmlzdWFsJiYhMT09PW9wdHMuaW5zZXJ0TW9kZSYmKGs9PT1fa2V5Y29kZS5kZWZhdWx0LlJJR0hUP3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgY2FyZXRQb3M9X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0KTtfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsY2FyZXRQb3MuYmVnaW4pfSwwKTprPT09X2tleWNvZGUuZGVmYXVsdC5MRUZUJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGNhcmV0UG9zX2JlZ2luPV9wb3NpdGlvbmluZy50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKGlucHV0bWFzayxpbnB1dC5pbnB1dG1hc2suY2FyZXRQb3MuYmVnaW4pLGNhcmV0UG9zX2VuZD1fcG9zaXRpb25pbmcudHJhbnNsYXRlUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssaW5wdXQuaW5wdXRtYXNrLmNhcmV0UG9zLmVuZCk7aW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxjYXJldFBvc19iZWdpbisoY2FyZXRQb3NfYmVnaW49PT1tYXNrc2V0Lm1hc2tMZW5ndGg/MDoxKSk6X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LGNhcmV0UG9zX2JlZ2luLSgwPT09Y2FyZXRQb3NfYmVnaW4/MDoxKSl9LDApKTtpbnB1dG1hc2suaWdub3JhYmxlPW9wdHMuaWdub3JhYmxlcy5pbmNsdWRlcyhrKX0sa2V5cHJlc3NFdmVudDpmdW5jdGlvbiBrZXlwcmVzc0V2ZW50KGUsY2hlY2t2YWwsd3JpdGVPdXQsc3RyaWN0LG5keCl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFza3x8dGhpcyxvcHRzPWlucHV0bWFzay5vcHRzLCQ9aW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsbWFza3NldD1pbnB1dG1hc2subWFza3NldCxpbnB1dD1pbnB1dG1hc2suZWwsJGlucHV0PSQoaW5wdXQpLGs9ZS53aGljaHx8ZS5jaGFyQ29kZXx8ZS5rZXlDb2RlO2lmKCEoITA9PT1jaGVja3ZhbHx8ZS5jdHJsS2V5JiZlLmFsdEtleSkmJihlLmN0cmxLZXl8fGUubWV0YUtleXx8aW5wdXRtYXNrLmlnbm9yYWJsZSkpcmV0dXJuIGs9PT1fa2V5Y29kZS5kZWZhdWx0LkVOVEVSJiZpbnB1dG1hc2sudW5kb1ZhbHVlIT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSYmKGlucHV0bWFzay51bmRvVmFsdWU9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIil9LDApKSxpbnB1dG1hc2suc2tpcElucHV0RXZlbnQ9ITAsITA7aWYoayl7NDQhPT1rJiY0NiE9PWt8fDMhPT1lLmxvY2F0aW9ufHxcIlwiPT09b3B0cy5yYWRpeFBvaW50fHwoaz1vcHRzLnJhZGl4UG9pbnQuY2hhckNvZGVBdCgwKSk7dmFyIHBvcz1jaGVja3ZhbD97YmVnaW46bmR4LGVuZDpuZHh9Ol9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCksZm9yd2FyZFBvc2l0aW9uLGM9U3RyaW5nLmZyb21DaGFyQ29kZShrKTttYXNrc2V0LndyaXRlT3V0QnVmZmVyPSEwO3ZhciB2YWxSZXN1bHQ9X3ZhbGlkYXRpb24uaXNWYWxpZC5jYWxsKGlucHV0bWFzayxwb3MsYyxzdHJpY3Qsdm9pZCAwLHZvaWQgMCx2b2lkIDAsY2hlY2t2YWwpO2lmKCExIT09dmFsUmVzdWx0JiYoX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKGlucHV0bWFzaywhMCksZm9yd2FyZFBvc2l0aW9uPXZvaWQgMCE9PXZhbFJlc3VsdC5jYXJldD92YWxSZXN1bHQuY2FyZXQ6X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLHZhbFJlc3VsdC5wb3MuYmVnaW4/dmFsUmVzdWx0LnBvcy5iZWdpbjp2YWxSZXN1bHQucG9zKSxtYXNrc2V0LnA9Zm9yd2FyZFBvc2l0aW9uKSxmb3J3YXJkUG9zaXRpb249b3B0cy5udW1lcmljSW5wdXQmJnZvaWQgMD09PXZhbFJlc3VsdC5jYXJldD9fcG9zaXRpb25pbmcuc2Vla1ByZXZpb3VzLmNhbGwoaW5wdXRtYXNrLGZvcndhcmRQb3NpdGlvbik6Zm9yd2FyZFBvc2l0aW9uLCExIT09d3JpdGVPdXQmJihzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7b3B0cy5vbktleVZhbGlkYXRpb24uY2FsbChpbnB1dCxrLHZhbFJlc3VsdCl9LDApLG1hc2tzZXQud3JpdGVPdXRCdWZmZXImJiExIT09dmFsUmVzdWx0KSl7dmFyIGJ1ZmZlcj1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKTsoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikoaW5wdXQsYnVmZmVyLGZvcndhcmRQb3NpdGlvbixlLCEwIT09Y2hlY2t2YWwpfWlmKGUucHJldmVudERlZmF1bHQoKSxjaGVja3ZhbClyZXR1cm4hMSE9PXZhbFJlc3VsdCYmKHZhbFJlc3VsdC5mb3J3YXJkUG9zaXRpb249Zm9yd2FyZFBvc2l0aW9uKSx2YWxSZXN1bHR9fSxrZXl1cEV2ZW50OmZ1bmN0aW9uIGtleXVwRXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzazshaW5wdXRtYXNrLmlzQ29tcG9zaW5nfHxlLmtleUNvZGUhPT1fa2V5Y29kZS5kZWZhdWx0LktFWV8yMjkmJmUua2V5Q29kZSE9PV9rZXljb2RlLmRlZmF1bHQuRU5URVJ8fGlucHV0bWFzay4kZWwudHJpZ2dlcihcImlucHV0XCIpfSxwYXN0ZUV2ZW50OmZ1bmN0aW9uIHBhc3RlRXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzLGlucHV0PXRoaXMsaW5wdXRWYWx1ZT1pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSxjYXJldFBvcz1fcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssdGhpcyksdGVtcFZhbHVlO2lucHV0bWFzay5pc1JUTCYmKHRlbXBWYWx1ZT1jYXJldFBvcy5lbmQsY2FyZXRQb3MuZW5kPWNhcmV0UG9zLmJlZ2luLGNhcmV0UG9zLmJlZ2luPXRlbXBWYWx1ZSk7dmFyIHZhbHVlQmVmb3JlQ2FyZXQ9aW5wdXRWYWx1ZS5zdWJzdHIoMCxjYXJldFBvcy5iZWdpbiksdmFsdWVBZnRlckNhcmV0PWlucHV0VmFsdWUuc3Vic3RyKGNhcmV0UG9zLmVuZCxpbnB1dFZhbHVlLmxlbmd0aCk7aWYodmFsdWVCZWZvcmVDYXJldD09KGlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkucmV2ZXJzZSgpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykpLnNsaWNlKDAsY2FyZXRQb3MuYmVnaW4pLmpvaW4oXCJcIikmJih2YWx1ZUJlZm9yZUNhcmV0PVwiXCIpLHZhbHVlQWZ0ZXJDYXJldD09KGlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkucmV2ZXJzZSgpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykpLnNsaWNlKGNhcmV0UG9zLmVuZCkuam9pbihcIlwiKSYmKHZhbHVlQWZ0ZXJDYXJldD1cIlwiKSx3aW5kb3cuY2xpcGJvYXJkRGF0YSYmd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSlpbnB1dFZhbHVlPXZhbHVlQmVmb3JlQ2FyZXQrd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikrdmFsdWVBZnRlckNhcmV0O2Vsc2V7aWYoIWUuY2xpcGJvYXJkRGF0YXx8IWUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXJldHVybiEwO2lucHV0VmFsdWU9dmFsdWVCZWZvcmVDYXJldCtlLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIikrdmFsdWVBZnRlckNhcmV0fXZhciBwYXN0ZVZhbHVlPWlucHV0VmFsdWU7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5vbkJlZm9yZVBhc3RlKXtpZihwYXN0ZVZhbHVlPW9wdHMub25CZWZvcmVQYXN0ZS5jYWxsKGlucHV0bWFzayxpbnB1dFZhbHVlLG9wdHMpLCExPT09cGFzdGVWYWx1ZSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO3Bhc3RlVmFsdWU9cGFzdGVWYWx1ZXx8aW5wdXRWYWx1ZX1yZXR1cm4oMCxfaW5wdXRIYW5kbGluZy5jaGVja1ZhbCkodGhpcywhMCwhMSxwYXN0ZVZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoXCJcIiksZSksZS5wcmV2ZW50RGVmYXVsdCgpfSxpbnB1dEZhbGxCYWNrRXZlbnQ6ZnVuY3Rpb24gaW5wdXRGYWxsQmFja0V2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cywkPWlucHV0bWFzay5kZXBlbmRlbmN5TGliO2Z1bmN0aW9uIGllTW9iaWxlSGFuZGxlcihpbnB1dCxpbnB1dFZhbHVlLGNhcmV0UG9zKXtpZihfZW52aXJvbm1lbnQuaWVtb2JpbGUpe3ZhciBpbnB1dENoYXI9aW5wdXRWYWx1ZS5yZXBsYWNlKF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIiksXCJcIik7aWYoMT09PWlucHV0Q2hhci5sZW5ndGgpe3ZhciBpdj1pbnB1dFZhbHVlLnNwbGl0KFwiXCIpO2l2LnNwbGljZShjYXJldFBvcy5iZWdpbiwwLGlucHV0Q2hhciksaW5wdXRWYWx1ZT1pdi5qb2luKFwiXCIpfX1yZXR1cm4gaW5wdXRWYWx1ZX1mdW5jdGlvbiBhbmFseXNlQ2hhbmdlcyhpbnB1dFZhbHVlLGJ1ZmZlcixjYXJldFBvcyl7Zm9yKHZhciBmcm9udFBhcnQ9aW5wdXRWYWx1ZS5zdWJzdHIoMCxjYXJldFBvcy5iZWdpbikuc3BsaXQoXCJcIiksYmFja1BhcnQ9aW5wdXRWYWx1ZS5zdWJzdHIoY2FyZXRQb3MuYmVnaW4pLnNwbGl0KFwiXCIpLGZyb250QnVmZmVyUGFydD1idWZmZXIuc3Vic3RyKDAsY2FyZXRQb3MuYmVnaW4pLnNwbGl0KFwiXCIpLGJhY2tCdWZmZXJQYXJ0PWJ1ZmZlci5zdWJzdHIoY2FyZXRQb3MuYmVnaW4pLnNwbGl0KFwiXCIpLGZwbD1mcm9udFBhcnQubGVuZ3RoPj1mcm9udEJ1ZmZlclBhcnQubGVuZ3RoP2Zyb250UGFydC5sZW5ndGg6ZnJvbnRCdWZmZXJQYXJ0Lmxlbmd0aCxicGw9YmFja1BhcnQubGVuZ3RoPj1iYWNrQnVmZmVyUGFydC5sZW5ndGg/YmFja1BhcnQubGVuZ3RoOmJhY2tCdWZmZXJQYXJ0Lmxlbmd0aCxibCxpLGFjdGlvbj1cIlwiLGRhdGE9W10sbWFya2VyPVwiflwiLHBsYWNlaG9sZGVyO2Zyb250UGFydC5sZW5ndGg8ZnBsOylmcm9udFBhcnQucHVzaChcIn5cIik7Zm9yKDtmcm9udEJ1ZmZlclBhcnQubGVuZ3RoPGZwbDspZnJvbnRCdWZmZXJQYXJ0LnB1c2goXCJ+XCIpO2Zvcig7YmFja1BhcnQubGVuZ3RoPGJwbDspYmFja1BhcnQudW5zaGlmdChcIn5cIik7Zm9yKDtiYWNrQnVmZmVyUGFydC5sZW5ndGg8YnBsOyliYWNrQnVmZmVyUGFydC51bnNoaWZ0KFwiflwiKTt2YXIgbmV3QnVmZmVyPWZyb250UGFydC5jb25jYXQoYmFja1BhcnQpLG9sZEJ1ZmZlcj1mcm9udEJ1ZmZlclBhcnQuY29uY2F0KGJhY2tCdWZmZXJQYXJ0KTtmb3IoaT0wLGJsPW5ld0J1ZmZlci5sZW5ndGg7aTxibDtpKyspc3dpdGNoKHBsYWNlaG9sZGVyPV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLGkpKSxhY3Rpb24pe2Nhc2VcImluc2VydFRleHRcIjpvbGRCdWZmZXJbaS0xXT09PW5ld0J1ZmZlcltpXSYmY2FyZXRQb3MuYmVnaW49PW5ld0J1ZmZlci5sZW5ndGgtMSYmZGF0YS5wdXNoKG5ld0J1ZmZlcltpXSksaT1ibDticmVhaztjYXNlXCJpbnNlcnRSZXBsYWNlbWVudFRleHRcIjpcIn5cIj09PW5ld0J1ZmZlcltpXT9jYXJldFBvcy5lbmQrKzppPWJsO2JyZWFrO2Nhc2VcImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiOlwiflwiPT09bmV3QnVmZmVyW2ldP2NhcmV0UG9zLmVuZCsrOmk9Ymw7YnJlYWs7ZGVmYXVsdDpuZXdCdWZmZXJbaV0hPT1vbGRCdWZmZXJbaV0mJihcIn5cIiE9PW5ld0J1ZmZlcltpKzFdJiZuZXdCdWZmZXJbaSsxXSE9PXBsYWNlaG9sZGVyJiZ2b2lkIDAhPT1uZXdCdWZmZXJbaSsxXXx8KG9sZEJ1ZmZlcltpXSE9PXBsYWNlaG9sZGVyfHxcIn5cIiE9PW9sZEJ1ZmZlcltpKzFdKSYmXCJ+XCIhPT1vbGRCdWZmZXJbaV0/XCJ+XCI9PT1vbGRCdWZmZXJbaSsxXSYmb2xkQnVmZmVyW2ldPT09bmV3QnVmZmVyW2krMV0/KGFjdGlvbj1cImluc2VydFRleHRcIixkYXRhLnB1c2gobmV3QnVmZmVyW2ldKSxjYXJldFBvcy5iZWdpbi0tLGNhcmV0UG9zLmVuZC0tKTpuZXdCdWZmZXJbaV0hPT1wbGFjZWhvbGRlciYmXCJ+XCIhPT1uZXdCdWZmZXJbaV0mJihcIn5cIj09PW5ld0J1ZmZlcltpKzFdfHxvbGRCdWZmZXJbaV0hPT1uZXdCdWZmZXJbaV0mJm9sZEJ1ZmZlcltpKzFdPT09bmV3QnVmZmVyW2krMV0pPyhhY3Rpb249XCJpbnNlcnRSZXBsYWNlbWVudFRleHRcIixkYXRhLnB1c2gobmV3QnVmZmVyW2ldKSxjYXJldFBvcy5iZWdpbi0tKTpcIn5cIj09PW5ld0J1ZmZlcltpXT8oYWN0aW9uPVwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCIsIV9wb3NpdGlvbmluZy5pc01hc2suY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLGkpLCEwKSYmb2xkQnVmZmVyW2ldIT09b3B0cy5yYWRpeFBvaW50fHxjYXJldFBvcy5lbmQrKyk6aT1ibDooYWN0aW9uPVwiaW5zZXJ0VGV4dFwiLGRhdGEucHVzaChuZXdCdWZmZXJbaV0pLGNhcmV0UG9zLmJlZ2luLS0sY2FyZXRQb3MuZW5kLS0pKTticmVha31yZXR1cm57YWN0aW9uOmFjdGlvbixkYXRhOmRhdGEsY2FyZXQ6Y2FyZXRQb3N9fXZhciBpbnB1dD10aGlzLGlucHV0VmFsdWU9aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCghMCksYnVmZmVyPShpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UoKS5yZXZlcnNlKCk6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpLmpvaW4oXCJcIiksY2FyZXRQb3M9X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LHZvaWQgMCx2b2lkIDAsITApO2lmKGJ1ZmZlciE9PWlucHV0VmFsdWUpe2lucHV0VmFsdWU9aWVNb2JpbGVIYW5kbGVyKGlucHV0LGlucHV0VmFsdWUsY2FyZXRQb3MpO3ZhciBjaGFuZ2VzPWFuYWx5c2VDaGFuZ2VzKGlucHV0VmFsdWUsYnVmZmVyLGNhcmV0UG9zKTtzd2l0Y2goKGlucHV0LmlucHV0bWFzay5zaGFkb3dSb290fHxkb2N1bWVudCkuYWN0aXZlRWxlbWVudCE9PWlucHV0JiZpbnB1dC5mb2N1cygpLCgwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKShpbnB1dCxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSksX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LGNhcmV0UG9zLmJlZ2luLGNhcmV0UG9zLmVuZCwhMCksY2hhbmdlcy5hY3Rpb24pe2Nhc2VcImluc2VydFRleHRcIjpjYXNlXCJpbnNlcnRSZXBsYWNlbWVudFRleHRcIjpjaGFuZ2VzLmRhdGEuZm9yRWFjaChmdW5jdGlvbihlbnRyeSxuZHgpe3ZhciBrZXlwcmVzcz1uZXcgJC5FdmVudChcImtleXByZXNzXCIpO2tleXByZXNzLndoaWNoPWVudHJ5LmNoYXJDb2RlQXQoMCksaW5wdXRtYXNrLmlnbm9yYWJsZT0hMSxFdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dCxrZXlwcmVzcyl9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aW5wdXRtYXNrLiRlbC50cmlnZ2VyKFwia2V5dXBcIil9LDApO2JyZWFrO2Nhc2VcImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiOnZhciBrZXlkb3duPW5ldyAkLkV2ZW50KFwia2V5ZG93blwiKTtrZXlkb3duLmtleUNvZGU9X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0UsRXZlbnRIYW5kbGVycy5rZXlkb3duRXZlbnQuY2FsbChpbnB1dCxrZXlkb3duKTticmVhaztkZWZhdWx0OigwLF9pbnB1dEhhbmRsaW5nLmFwcGx5SW5wdXRWYWx1ZSkoaW5wdXQsaW5wdXRWYWx1ZSk7YnJlYWt9ZS5wcmV2ZW50RGVmYXVsdCgpfX0sY29tcG9zaXRpb25lbmRFdmVudDpmdW5jdGlvbiBjb21wb3NpdGlvbmVuZEV2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2s7aW5wdXRtYXNrLmlzQ29tcG9zaW5nPSExLGlucHV0bWFzay4kZWwudHJpZ2dlcihcImlucHV0XCIpfSxzZXRWYWx1ZUV2ZW50OmZ1bmN0aW9uIHNldFZhbHVlRXZlbnQoZSxhcmd1bWVudF8xLGFyZ3VtZW50XzIpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssaW5wdXQ9dGhpcyx2YWx1ZT1lJiZlLmRldGFpbD9lLmRldGFpbFswXTphcmd1bWVudF8xO3ZvaWQgMD09PXZhbHVlJiYodmFsdWU9dGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSksKDAsX2lucHV0SGFuZGxpbmcuYXBwbHlJbnB1dFZhbHVlKSh0aGlzLHZhbHVlKSwoZS5kZXRhaWwmJnZvaWQgMCE9PWUuZGV0YWlsWzFdfHx2b2lkIDAhPT1hcmd1bWVudF8yKSYmX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLHRoaXMsZS5kZXRhaWw/ZS5kZXRhaWxbMV06YXJndW1lbnRfMil9LGZvY3VzRXZlbnQ6ZnVuY3Rpb24gZm9jdXNFdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHMsaW5wdXQ9dGhpcyxucHRWYWx1ZT10aGlzLmlucHV0bWFzay5fdmFsdWVHZXQoKTtvcHRzLnNob3dNYXNrT25Gb2N1cyYmbnB0VmFsdWUhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpJiYoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikodGhpcyxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSxfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKSkpLCEwIT09b3B0cy5wb3NpdGlvbkNhcmV0T25UYWJ8fCExIT09aW5wdXRtYXNrLm1vdXNlRW50ZXJ8fF92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpJiYtMSE9PV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayl8fEV2ZW50SGFuZGxlcnMuY2xpY2tFdmVudC5hcHBseSh0aGlzLFtlLCEwXSksaW5wdXRtYXNrLnVuZG9WYWx1ZT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpfSxpbnZhbGlkRXZlbnQ6ZnVuY3Rpb24gaW52YWxpZEV2ZW50KGUpe3RoaXMuaW5wdXRtYXNrLnZhbGlkYXRpb25FdmVudD0hMH0sbW91c2VsZWF2ZUV2ZW50OmZ1bmN0aW9uIG1vdXNlbGVhdmVFdmVudCgpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cyxpbnB1dD10aGlzO2lucHV0bWFzay5tb3VzZUVudGVyPSExLG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMmJih0aGlzLmlucHV0bWFzay5zaGFkb3dSb290fHxkb2N1bWVudCkuYWN0aXZlRWxlbWVudCE9PXRoaXMmJigwLF9pbnB1dEhhbmRsaW5nLkhhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyKSh0aGlzLGlucHV0bWFzay5vcmlnaW5hbFBsYWNlaG9sZGVyKX0sY2xpY2tFdmVudDpmdW5jdGlvbiBjbGlja0V2ZW50KGUsdGFiYmVkKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLGlucHV0PXRoaXM7aWYoKHRoaXMuaW5wdXRtYXNrLnNoYWRvd1Jvb3R8fGRvY3VtZW50KS5hY3RpdmVFbGVtZW50PT09dGhpcyl7dmFyIG5ld0NhcmV0UG9zaXRpb249X3Bvc2l0aW9uaW5nLmRldGVybWluZU5ld0NhcmV0UG9zaXRpb24uY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLHRoaXMpLHRhYmJlZCk7dm9pZCAwIT09bmV3Q2FyZXRQb3NpdGlvbiYmX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLHRoaXMsbmV3Q2FyZXRQb3NpdGlvbil9fSxjdXRFdmVudDpmdW5jdGlvbiBjdXRFdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG1hc2tzZXQ9aW5wdXRtYXNrLm1hc2tzZXQsaW5wdXQ9dGhpcyxwb3M9X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLHRoaXMpLGNsaXBib2FyZERhdGE9d2luZG93LmNsaXBib2FyZERhdGF8fGUuY2xpcGJvYXJkRGF0YSxjbGlwRGF0YT1pbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UocG9zLmVuZCxwb3MuYmVnaW4pOl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKHBvcy5iZWdpbixwb3MuZW5kKTtjbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0XCIsaW5wdXRtYXNrLmlzUlRMP2NsaXBEYXRhLnJldmVyc2UoKS5qb2luKFwiXCIpOmNsaXBEYXRhLmpvaW4oXCJcIikpLGRvY3VtZW50LmV4ZWNDb21tYW5kJiZkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIiksX3ZhbGlkYXRpb24uaGFuZGxlUmVtb3ZlLmNhbGwoaW5wdXRtYXNrLHRoaXMsX2tleWNvZGUuZGVmYXVsdC5ERUxFVEUscG9zKSwoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikodGhpcyxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSxtYXNrc2V0LnAsZSxpbnB1dG1hc2sudW5kb1ZhbHVlIT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSl9LGJsdXJFdmVudDpmdW5jdGlvbiBibHVyRXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzLCQ9aW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsJGlucHV0PSQodGhpcyksaW5wdXQ9dGhpcztpZih0aGlzLmlucHV0bWFzayl7KDAsX2lucHV0SGFuZGxpbmcuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIpKHRoaXMsaW5wdXRtYXNrLm9yaWdpbmFsUGxhY2Vob2xkZXIpO3ZhciBucHRWYWx1ZT10aGlzLmlucHV0bWFzay5fdmFsdWVHZXQoKSxidWZmZXI9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UoKTtcIlwiIT09bnB0VmFsdWUmJihvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzJiYoLTE9PT1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spJiZucHRWYWx1ZT09PV9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKT9idWZmZXI9W106X2lucHV0SGFuZGxpbmcuY2xlYXJPcHRpb25hbFRhaWwuY2FsbChpbnB1dG1hc2ssYnVmZmVyKSksITE9PT1fdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlcikmJihzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGlucHV0LnRyaWdnZXIoXCJpbmNvbXBsZXRlXCIpfSwwKSxvcHRzLmNsZWFySW5jb21wbGV0ZSYmKF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbChpbnB1dG1hc2spLGJ1ZmZlcj1vcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzP1tdOl9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuc2xpY2UoKSkpLCgwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKSh0aGlzLGJ1ZmZlcix2b2lkIDAsZSkpLGlucHV0bWFzay51bmRvVmFsdWUhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpJiYoaW5wdXRtYXNrLnVuZG9WYWx1ZT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpLCRpbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpKX19LG1vdXNlZW50ZXJFdmVudDpmdW5jdGlvbiBtb3VzZWVudGVyRXZlbnQoKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHMsaW5wdXQ9dGhpcztpZihpbnB1dG1hc2subW91c2VFbnRlcj0hMCwodGhpcy5pbnB1dG1hc2suc2hhZG93Um9vdHx8ZG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQhPT10aGlzKXt2YXIgYnVmZmVyVGVtcGxhdGU9KGlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkucmV2ZXJzZSgpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykpLmpvaW4oXCJcIik7aW5wdXRtYXNrLnBsYWNlaG9sZGVyIT09YnVmZmVyVGVtcGxhdGUmJnRoaXMucGxhY2Vob2xkZXIhPT1pbnB1dG1hc2sub3JpZ2luYWxQbGFjZWhvbGRlciYmKGlucHV0bWFzay5vcmlnaW5hbFBsYWNlaG9sZGVyPXRoaXMucGxhY2Vob2xkZXIpLG9wdHMuc2hvd01hc2tPbkhvdmVyJiYoMCxfaW5wdXRIYW5kbGluZy5IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcikodGhpcyxidWZmZXJUZW1wbGF0ZSl9fSxzdWJtaXRFdmVudDpmdW5jdGlvbiBzdWJtaXRFdmVudCgpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cztpbnB1dG1hc2sudW5kb1ZhbHVlIT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSYmaW5wdXRtYXNrLiRlbC50cmlnZ2VyKFwiY2hhbmdlXCIpLG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMmJi0xPT09X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKSYmaW5wdXRtYXNrLl92YWx1ZUdldCYmaW5wdXRtYXNrLl92YWx1ZUdldCgpPT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpJiZpbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpLG9wdHMuY2xlYXJJbmNvbXBsZXRlJiYhMT09PV92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpJiZpbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpLG9wdHMucmVtb3ZlTWFza09uU3VibWl0JiYoaW5wdXRtYXNrLl92YWx1ZVNldChpbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpLCEwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7KDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKGlucHV0bWFzay5lbCxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSl9LDApKX0scmVzZXRFdmVudDpmdW5jdGlvbiByZXNldEV2ZW50KCl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzaztpbnB1dG1hc2sucmVmcmVzaFZhbHVlPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXsoMCxfaW5wdXRIYW5kbGluZy5hcHBseUlucHV0VmFsdWUpKGlucHV0bWFzay5lbCxpbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSl9LDApfX07ZXhwb3J0cy5FdmVudEhhbmRsZXJzPUV2ZW50SGFuZGxlcnN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuaXBob25lPWV4cG9ydHMuaWVtb2JpbGU9ZXhwb3J0cy5tb2JpbGU9ZXhwb3J0cy5pZT1leHBvcnRzLnVhPXZvaWQgMDt2YXIgX3dpbmRvdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNSkpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgdWE9X3dpbmRvdy5kZWZhdWx0Lm5hdmlnYXRvciYmX3dpbmRvdy5kZWZhdWx0Lm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCIsaWU9MDx1YS5pbmRleE9mKFwiTVNJRSBcIil8fDA8dWEuaW5kZXhPZihcIlRyaWRlbnQvXCIpLG1vYmlsZT1cIm9udG91Y2hzdGFydFwiaW4gX3dpbmRvdy5kZWZhdWx0LGllbW9iaWxlPS9pZW1vYmlsZS9pLnRlc3QodWEpLGlwaG9uZT0vaXBob25lL2kudGVzdCh1YSkmJiFpZW1vYmlsZTtleHBvcnRzLmlwaG9uZT1pcGhvbmUsZXhwb3J0cy5pZW1vYmlsZT1pZW1vYmlsZSxleHBvcnRzLm1vYmlsZT1tb2JpbGUsZXhwb3J0cy5pZT1pZSxleHBvcnRzLnVhPXVhfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBfZXh0ZW5kPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMikpLF93aW5kb3c9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSxfZGF0YT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTkpKSxfZXZlbnRzPV9fd2VicGFja19yZXF1aXJlX18oMjApO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgZG9jdW1lbnQ9X3dpbmRvdy5kZWZhdWx0LmRvY3VtZW50O2Z1bmN0aW9uIERlcGVuZGVuY3lMaWIoZWxlbSl7cmV0dXJuIGVsZW0gaW5zdGFuY2VvZiBEZXBlbmRlbmN5TGliP2VsZW06dGhpcyBpbnN0YW5jZW9mIERlcGVuZGVuY3lMaWI/dm9pZChudWxsIT1lbGVtJiZlbGVtIT09X3dpbmRvdy5kZWZhdWx0JiYodGhpc1swXT1lbGVtLm5vZGVOYW1lP2VsZW06dm9pZCAwIT09ZWxlbVswXSYmZWxlbVswXS5ub2RlTmFtZT9lbGVtWzBdOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbSksdm9pZCAwIT09dGhpc1swXSYmbnVsbCE9PXRoaXNbMF0mJih0aGlzWzBdLmV2ZW50UmVnaXN0cnk9dGhpc1swXS5ldmVudFJlZ2lzdHJ5fHx7fSkpKTpuZXcgRGVwZW5kZW5jeUxpYihlbGVtKX1EZXBlbmRlbmN5TGliLnByb3RvdHlwZT17b246X2V2ZW50cy5vbixvZmY6X2V2ZW50cy5vZmYsdHJpZ2dlcjpfZXZlbnRzLnRyaWdnZXJ9LERlcGVuZGVuY3lMaWIuZXh0ZW5kPV9leHRlbmQuZGVmYXVsdCxEZXBlbmRlbmN5TGliLmRhdGE9X2RhdGEuZGVmYXVsdCxEZXBlbmRlbmN5TGliLkV2ZW50PV9ldmVudHMuRXZlbnQ7dmFyIF9kZWZhdWx0PURlcGVuZGVuY3lMaWI7ZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkV2ZW50UnVsZXI9dm9pZCAwO3ZhciBfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyKSksX2tleWNvZGU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfaW5wdXRIYW5kbGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgRXZlbnRSdWxlcj17b246ZnVuY3Rpb24gb24oaW5wdXQsZXZlbnROYW1lLGV2ZW50SGFuZGxlcil7dmFyICQ9aW5wdXQuaW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsZXY9ZnVuY3Rpb24gZXYoZSl7ZS5vcmlnaW5hbEV2ZW50JiYoZT1lLm9yaWdpbmFsRXZlbnR8fGUsYXJndW1lbnRzWzBdPWUpO3ZhciB0aGF0PXRoaXMsYXJncyxpbnB1dG1hc2s9dGhhdC5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2s/aW5wdXRtYXNrLm9wdHM6dm9pZCAwO2lmKHZvaWQgMD09PWlucHV0bWFzayYmXCJGT1JNXCIhPT10aGlzLm5vZGVOYW1lKXt2YXIgaW1PcHRzPSQuZGF0YSh0aGF0LFwiX2lucHV0bWFza19vcHRzXCIpOyQodGhhdCkub2ZmKCksaW1PcHRzJiZuZXcgX2lucHV0bWFzay5kZWZhdWx0KGltT3B0cykubWFzayh0aGF0KX1lbHNle2lmKFtcInN1Ym1pdFwiLFwicmVzZXRcIixcInNldHZhbHVlXCJdLmluY2x1ZGVzKGUudHlwZSl8fFwiRk9STVwiPT09dGhpcy5ub2RlTmFtZXx8ISh0aGF0LmRpc2FibGVkfHx0aGF0LnJlYWRPbmx5JiYhKFwia2V5ZG93blwiPT09ZS50eXBlJiZlLmN0cmxLZXkmJjY3PT09ZS5rZXlDb2RlfHwhMT09PW9wdHMudGFiVGhyb3VnaCYmZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5UQUIpKSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwiaW5wdXRcIjppZighMD09PWlucHV0bWFzay5za2lwSW5wdXRFdmVudHx8ZS5pbnB1dFR5cGUmJlwiaW5zZXJ0Q29tcG9zaXRpb25UZXh0XCI9PT1lLmlucHV0VHlwZSlyZXR1cm4gaW5wdXRtYXNrLnNraXBJbnB1dEV2ZW50PSExLGUucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlXCJrZXlkb3duXCI6aW5wdXRtYXNrLnNraXBLZXlQcmVzc0V2ZW50PSExLGlucHV0bWFzay5za2lwSW5wdXRFdmVudD1pbnB1dG1hc2suaXNDb21wb3Npbmc9ZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5LRVlfMjI5O2JyZWFrO2Nhc2VcImtleXVwXCI6Y2FzZVwiY29tcG9zaXRpb25lbmRcIjppbnB1dG1hc2suaXNDb21wb3NpbmcmJihpbnB1dG1hc2suc2tpcElucHV0RXZlbnQ9ITEpO2JyZWFrO2Nhc2VcImtleXByZXNzXCI6aWYoITA9PT1pbnB1dG1hc2suc2tpcEtleVByZXNzRXZlbnQpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtpbnB1dG1hc2suc2tpcEtleVByZXNzRXZlbnQ9ITA7YnJlYWs7Y2FzZVwiY2xpY2tcIjpjYXNlXCJmb2N1c1wiOnJldHVybiBpbnB1dG1hc2sudmFsaWRhdGlvbkV2ZW50PyhpbnB1dG1hc2sudmFsaWRhdGlvbkV2ZW50PSExLGlucHV0LmJsdXIoKSwoMCxfaW5wdXRIYW5kbGluZy5IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcikoaW5wdXQsKGlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkucmV2ZXJzZSgpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykpLmpvaW4oXCJcIikpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnB1dC5mb2N1cygpfSwzZTMpKTooYXJncz1hcmd1bWVudHMsc2V0VGltZW91dChmdW5jdGlvbigpe2lucHV0LmlucHV0bWFzayYmZXZlbnRIYW5kbGVyLmFwcGx5KHRoYXQsYXJncyl9LDApKSwhMX12YXIgcmV0dXJuVmFsPWV2ZW50SGFuZGxlci5hcHBseSh0aGF0LGFyZ3VtZW50cyk7cmV0dXJuITE9PT1yZXR1cm5WYWwmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSkscmV0dXJuVmFsfWUucHJldmVudERlZmF1bHQoKX19O1tcInN1Ym1pdFwiLFwicmVzZXRcIl0uaW5jbHVkZXMoZXZlbnROYW1lKT8oZXY9ZXYuYmluZChpbnB1dCksbnVsbCE9PWlucHV0LmZvcm0mJiQoaW5wdXQuZm9ybSkub24oZXZlbnROYW1lLGV2KSk6JChpbnB1dCkub24oZXZlbnROYW1lLGV2KSxpbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV09aW5wdXQuaW5wdXRtYXNrLmV2ZW50c1tldmVudE5hbWVdfHxbXSxpbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV0ucHVzaChldil9LG9mZjpmdW5jdGlvbiBvZmYoaW5wdXQsZXZlbnQpe2lmKGlucHV0LmlucHV0bWFzayYmaW5wdXQuaW5wdXRtYXNrLmV2ZW50cyl7dmFyICQ9aW5wdXQuaW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsZXZlbnRzPWlucHV0LmlucHV0bWFzay5ldmVudHM7Zm9yKHZhciBldmVudE5hbWUgaW4gZXZlbnQmJihldmVudHM9W10sZXZlbnRzW2V2ZW50XT1pbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50XSksZXZlbnRzKXtmb3IodmFyIGV2QXJyPWV2ZW50c1tldmVudE5hbWVdOzA8ZXZBcnIubGVuZ3RoOyl7dmFyIGV2PWV2QXJyLnBvcCgpO1tcInN1Ym1pdFwiLFwicmVzZXRcIl0uaW5jbHVkZXMoZXZlbnROYW1lKT9udWxsIT09aW5wdXQuZm9ybSYmJChpbnB1dC5mb3JtKS5vZmYoZXZlbnROYW1lLGV2KTokKGlucHV0KS5vZmYoZXZlbnROYW1lLGV2KX1kZWxldGUgaW5wdXQuaW5wdXRtYXNrLmV2ZW50c1tldmVudE5hbWVdfX19fTtleHBvcnRzLkV2ZW50UnVsZXI9RXZlbnRSdWxlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9LF90eXBlb2Yob2JqKX1mdW5jdGlvbiBleHRlbmQoKXt2YXIgb3B0aW9ucyxuYW1lLHNyYyxjb3B5LGNvcHlJc0FycmF5LGNsb25lLHRhcmdldD1hcmd1bWVudHNbMF18fHt9LGk9MSxsZW5ndGg9YXJndW1lbnRzLmxlbmd0aCxkZWVwPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIHRhcmdldCYmKGRlZXA9dGFyZ2V0LHRhcmdldD1hcmd1bWVudHNbaV18fHt9LGkrKyksXCJvYmplY3RcIiE9PV90eXBlb2YodGFyZ2V0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdGFyZ2V0JiYodGFyZ2V0PXt9KTtpPGxlbmd0aDtpKyspaWYobnVsbCE9KG9wdGlvbnM9YXJndW1lbnRzW2ldKSlmb3IobmFtZSBpbiBvcHRpb25zKXNyYz10YXJnZXRbbmFtZV0sY29weT1vcHRpb25zW25hbWVdLHRhcmdldCE9PWNvcHkmJihkZWVwJiZjb3B5JiYoXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjb3B5KXx8KGNvcHlJc0FycmF5PUFycmF5LmlzQXJyYXkoY29weSkpKT8oY2xvbmU9Y29weUlzQXJyYXk/KGNvcHlJc0FycmF5PSExLHNyYyYmQXJyYXkuaXNBcnJheShzcmMpP3NyYzpbXSk6c3JjJiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYyk/c3JjOnt9LHRhcmdldFtuYW1lXT1leHRlbmQoZGVlcCxjbG9uZSxjb3B5KSk6dm9pZCAwIT09Y29weSYmKHRhcmdldFtuYW1lXT1jb3B5KSk7cmV0dXJuIHRhcmdldH1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZXh0ZW5kfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHQ7dmFyIGVzY2FwZVJlZ2V4UmVnZXg9bmV3IFJlZ0V4cChcIihcXFxcXCIrW1wiL1wiLFwiLlwiLFwiKlwiLFwiK1wiLFwiP1wiLFwifFwiLFwiKFwiLFwiKVwiLFwiW1wiLFwiXVwiLFwie1wiLFwifVwiLFwiXFxcXFwiLFwiJFwiLFwiXlwiXS5qb2luKFwifFxcXFxcIikrXCIpXCIsXCJnaW1cIik7ZnVuY3Rpb24gX2RlZmF1bHQoc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoZXNjYXBlUmVnZXhSZWdleCxcIlxcXFwkMVwiKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDAsX193ZWJwYWNrX3JlcXVpcmVfXygxNSksX193ZWJwYWNrX3JlcXVpcmVfXygyNCksX193ZWJwYWNrX3JlcXVpcmVfXygyNSksX193ZWJwYWNrX3JlcXVpcmVfXygyNik7dmFyIF9pbnB1dG1hc2syPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciBfZGVmYXVsdD1faW5wdXRtYXNrMi5kZWZhdWx0O2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSxfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfdmFsaWRhdGlvblRlc3RzPV9fd2VicGFja19yZXF1aXJlX18oMyk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmREZWZpbml0aW9ucyh7QTp7dmFsaWRhdG9yOlwiW0EtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixjYXNpbmc6XCJ1cHBlclwifSxcIiZcIjp7dmFsaWRhdG9yOlwiWzAtOUEtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixjYXNpbmc6XCJ1cHBlclwifSxcIiNcIjp7dmFsaWRhdG9yOlwiWzAtOUEtRmEtZl1cIixjYXNpbmc6XCJ1cHBlclwifX0pO3ZhciBpcFZhbGlkYXRvclJlZ2V4PW5ldyBSZWdFeHAoXCIyNVswLTVdfDJbMC00XVswLTldfFswMV1bMC05XVswLTldXCIpO2Z1bmN0aW9uIGlwVmFsaWRhdG9yKGNocnMsbWFza3NldCxwb3Msc3RyaWN0LG9wdHMpe3JldHVybiBjaHJzPS0xPHBvcy0xJiZcIi5cIiE9PW1hc2tzZXQuYnVmZmVyW3Bvcy0xXT8oY2hycz1tYXNrc2V0LmJ1ZmZlcltwb3MtMV0rY2hycywtMTxwb3MtMiYmXCIuXCIhPT1tYXNrc2V0LmJ1ZmZlcltwb3MtMl0/bWFza3NldC5idWZmZXJbcG9zLTJdK2NocnM6XCIwXCIrY2hycyk6XCIwMFwiK2NocnMsaXBWYWxpZGF0b3JSZWdleC50ZXN0KGNocnMpfV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmRBbGlhc2VzKHtjc3N1bml0OntyZWdleDpcIlsrLV0/WzAtOV0rXFxcXC4/KFswLTldKyk/KHB4fGVtfHJlbXxleHwlfGlufGNtfG1tfHB0fHBjKVwifSx1cmw6e3JlZ2V4OlwiKGh0dHBzP3xmdHApOi8vLipcIixhdXRvVW5tYXNrOiExLGtlZXBTdGF0aWM6ITEsdGFiVGhyb3VnaDohMH0saXA6e21hc2s6XCJpW2lbaV1dLmpbaltqXV0ua1trW2tdXS5sW2xbbF1dXCIsZGVmaW5pdGlvbnM6e2k6e3ZhbGlkYXRvcjppcFZhbGlkYXRvcn0sajp7dmFsaWRhdG9yOmlwVmFsaWRhdG9yfSxrOnt2YWxpZGF0b3I6aXBWYWxpZGF0b3J9LGw6e3ZhbGlkYXRvcjppcFZhbGlkYXRvcn19LG9uVW5NYXNrOmZ1bmN0aW9uIG9uVW5NYXNrKG1hc2tlZFZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl7cmV0dXJuIG1hc2tlZFZhbHVlfSxpbnB1dG1vZGU6XCJudW1lcmljXCJ9LGVtYWlsOnttYXNrOlwiKnsxLDY0fVsuKnsxLDY0fV1bLip7MSw2NH1dWy4qezEsNjN9XUAtezEsNjN9Li17MSw2M31bLi17MSw2M31dWy4tezEsNjN9XVwiLGdyZWVkeTohMSxjYXNpbmc6XCJsb3dlclwiLG9uQmVmb3JlUGFzdGU6ZnVuY3Rpb24gb25CZWZvcmVQYXN0ZShwYXN0ZWRWYWx1ZSxvcHRzKXtyZXR1cm4gcGFzdGVkVmFsdWU9cGFzdGVkVmFsdWUudG9Mb3dlckNhc2UoKSxwYXN0ZWRWYWx1ZS5yZXBsYWNlKFwibWFpbHRvOlwiLFwiXCIpfSxkZWZpbml0aW9uczp7XCIqXCI6e3ZhbGlkYXRvcjpcIlswLTlcXHVmZjExLVxcdWZmMTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjUhIyQlJicqKy89P15fYHt8fX4tXVwifSxcIi1cIjp7dmFsaWRhdG9yOlwiWzAtOUEtWmEtei1dXCJ9fSxvblVuTWFzazpmdW5jdGlvbiBvblVuTWFzayhtYXNrZWRWYWx1ZSx1bm1hc2tlZFZhbHVlLG9wdHMpe3JldHVybiBtYXNrZWRWYWx1ZX0saW5wdXRtb2RlOlwiZW1haWxcIn0sbWFjOnttYXNrOlwiIyM6IyM6IyM6IyM6IyM6IyNcIn0sdmluOnttYXNrOlwiVnsxM305ezR9XCIsZGVmaW5pdGlvbnM6e1Y6e3ZhbGlkYXRvcjpcIltBLUhKLU5QUi1aYS1oai1ucHItelxcXFxkXVwiLGNhc2luZzpcInVwcGVyXCJ9fSxjbGVhckluY29tcGxldGU6ITAsYXV0b1VubWFzazohMH0sc3NuOnttYXNrOlwiOTk5LTk5LTk5OTlcIixwb3N0VmFsaWRhdGlvbjpmdW5jdGlvbiBwb3N0VmFsaWRhdGlvbihidWZmZXIscG9zLGMsY3VycmVudFJlc3VsdCxvcHRzLG1hc2tzZXQsc3RyaWN0KXt2YXIgYmZmcj1fdmFsaWRhdGlvblRlc3RzLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHRoaXMsITAsX3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyksITAsITApO3JldHVybi9eKD8hMjE5LTA5LTk5OTl8MDc4LTA1LTExMjApKD8hNjY2fDAwMHw5LnsyfSkuezN9LSg/ITAwKS57Mn0tKD8hMHs0fSkuezR9JC8udGVzdChiZmZyLmpvaW4oXCJcIikpfX19KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9LF90eXBlb2Yob2JqKX1cImZ1bmN0aW9uXCIhPXR5cGVvZiBPYmplY3QuZ2V0UHJvdG90eXBlT2YmJihPYmplY3QuZ2V0UHJvdG90eXBlT2Y9XCJvYmplY3RcIj09PV90eXBlb2YoXCJ0ZXN0XCIuX19wcm90b19fKT9mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QuX19wcm90b19ffTpmdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlfSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO0FycmF5LnByb3RvdHlwZS5pbmNsdWRlc3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImluY2x1ZGVzXCIse3ZhbHVlOmZ1bmN0aW9uIHZhbHVlKHNlYXJjaEVsZW1lbnQsZnJvbUluZGV4KXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTt2YXIgbz1PYmplY3QodGhpcyksbGVuPW8ubGVuZ3RoPj4+MDtpZigwPT1sZW4pcmV0dXJuITE7Zm9yKHZhciBuPTB8ZnJvbUluZGV4LGs9TWF0aC5tYXgoMDw9bj9uOmxlbi1NYXRoLmFicyhuKSwwKTtrPGxlbjspe2lmKG9ba109PT1zZWFyY2hFbGVtZW50KXJldHVybiEwO2srK31yZXR1cm4hMX19KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5tYXNrPW1hc2s7dmFyIF9rZXljb2RlPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygwKSksX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSksX2lucHV0SGFuZGxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxfZXZlbnRydWxlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfZW52aXJvbm1lbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxfdmFsaWRhdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9ldmVudGhhbmRsZXJzPV9fd2VicGFja19yZXF1aXJlX18oOCk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIG1hc2soKXt2YXIgaW5wdXRtYXNrPXRoaXMsb3B0cz10aGlzLm9wdHMsZWw9dGhpcy5lbCwkPXRoaXMuZGVwZW5kZW5jeUxpYjtmdW5jdGlvbiBpc0VsZW1lbnRUeXBlU3VwcG9ydGVkKGlucHV0LG9wdHMpe2Z1bmN0aW9uIHBhdGNoVmFsdWVQcm9wZXJ0eShucHQpe3ZhciB2YWx1ZUdldCx2YWx1ZVNldDtmdW5jdGlvbiBwYXRjaFZhbGhvb2sodHlwZSl7aWYoJC52YWxIb29rcyYmKHZvaWQgMD09PSQudmFsSG9va3NbdHlwZV18fCEwIT09JC52YWxIb29rc1t0eXBlXS5pbnB1dG1hc2twYXRjaCkpe3ZhciB2YWxob29rR2V0PSQudmFsSG9va3NbdHlwZV0mJiQudmFsSG9va3NbdHlwZV0uZ2V0PyQudmFsSG9va3NbdHlwZV0uZ2V0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLnZhbHVlfSx2YWxob29rU2V0PSQudmFsSG9va3NbdHlwZV0mJiQudmFsSG9va3NbdHlwZV0uc2V0PyQudmFsSG9va3NbdHlwZV0uc2V0OmZ1bmN0aW9uKGVsZW0sdmFsdWUpe3JldHVybiBlbGVtLnZhbHVlPXZhbHVlLGVsZW19OyQudmFsSG9va3NbdHlwZV09e2dldDpmdW5jdGlvbiBnZXQoZWxlbSl7aWYoZWxlbS5pbnB1dG1hc2spe2lmKGVsZW0uaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzaylyZXR1cm4gZWxlbS5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpO3ZhciByZXN1bHQ9dmFsaG9va0dldChlbGVtKTtyZXR1cm4tMSE9PV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayx2b2lkIDAsdm9pZCAwLGVsZW0uaW5wdXRtYXNrLm1hc2tzZXQudmFsaWRQb3NpdGlvbnMpfHwhMCE9PW9wdHMubnVsbGFibGU/cmVzdWx0OlwiXCJ9cmV0dXJuIHZhbGhvb2tHZXQoZWxlbSl9LHNldDpmdW5jdGlvbiBzZXQoZWxlbSx2YWx1ZSl7dmFyIHJlc3VsdD12YWxob29rU2V0KGVsZW0sdmFsdWUpO3JldHVybiBlbGVtLmlucHV0bWFzayYmKDAsX2lucHV0SGFuZGxpbmcuYXBwbHlJbnB1dFZhbHVlKShlbGVtLHZhbHVlKSxyZXN1bHR9LGlucHV0bWFza3BhdGNoOiEwfX19ZnVuY3Rpb24gZ2V0dGVyKCl7cmV0dXJuIHRoaXMuaW5wdXRtYXNrP3RoaXMuaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzaz90aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk6LTEhPT1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spfHwhMCE9PW9wdHMubnVsbGFibGU/KHRoaXMuaW5wdXRtYXNrLnNoYWRvd1Jvb3R8fGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpPT09dGhpcyYmb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cz8oaW5wdXRtYXNrLmlzUlRMP19pbnB1dEhhbmRsaW5nLmNsZWFyT3B0aW9uYWxUYWlsLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkpLnJldmVyc2UoKTpfaW5wdXRIYW5kbGluZy5jbGVhck9wdGlvbmFsVGFpbC5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpKSkuam9pbihcIlwiKTp2YWx1ZUdldC5jYWxsKHRoaXMpOlwiXCI6dmFsdWVHZXQuY2FsbCh0aGlzKX1mdW5jdGlvbiBzZXR0ZXIodmFsdWUpe3ZhbHVlU2V0LmNhbGwodGhpcyx2YWx1ZSksdGhpcy5pbnB1dG1hc2smJigwLF9pbnB1dEhhbmRsaW5nLmFwcGx5SW5wdXRWYWx1ZSkodGhpcyx2YWx1ZSl9ZnVuY3Rpb24gaW5zdGFsbE5hdGl2ZVZhbHVlU2V0RmFsbGJhY2sobnB0KXtfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKG5wdCxcIm1vdXNlZW50ZXJcIixmdW5jdGlvbigpe3ZhciBpbnB1dD10aGlzLHZhbHVlPXRoaXMuaW5wdXRtYXNrLl92YWx1ZUdldCghMCk7dmFsdWUhPT0oaW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnJldmVyc2UoKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkuam9pbihcIlwiKSYmKDAsX2lucHV0SGFuZGxpbmcuYXBwbHlJbnB1dFZhbHVlKSh0aGlzLHZhbHVlKX0pfWlmKCFucHQuaW5wdXRtYXNrLl9fdmFsdWVHZXQpe2lmKCEwIT09b3B0cy5ub1ZhbHVlUGF0Y2hpbmcpe2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe3ZhciB2YWx1ZVByb3BlcnR5PU9iamVjdC5nZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZihucHQpLFwidmFsdWVcIik6dm9pZCAwO3ZhbHVlUHJvcGVydHkmJnZhbHVlUHJvcGVydHkuZ2V0JiZ2YWx1ZVByb3BlcnR5LnNldD8odmFsdWVHZXQ9dmFsdWVQcm9wZXJ0eS5nZXQsdmFsdWVTZXQ9dmFsdWVQcm9wZXJ0eS5zZXQsT2JqZWN0LmRlZmluZVByb3BlcnR5KG5wdCxcInZhbHVlXCIse2dldDpnZXR0ZXIsc2V0OnNldHRlcixjb25maWd1cmFibGU6ITB9KSk6XCJpbnB1dFwiIT09bnB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHZhbHVlR2V0PWZ1bmN0aW9uIHZhbHVlR2V0KCl7cmV0dXJuIHRoaXMudGV4dENvbnRlbnR9LHZhbHVlU2V0PWZ1bmN0aW9uIHZhbHVlU2V0KHZhbHVlKXt0aGlzLnRleHRDb250ZW50PXZhbHVlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobnB0LFwidmFsdWVcIix7Z2V0OmdldHRlcixzZXQ6c2V0dGVyLGNvbmZpZ3VyYWJsZTohMH0pKX1lbHNlIGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18mJm5wdC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikmJih2YWx1ZUdldD1ucHQuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpLHZhbHVlU2V0PW5wdC5fX2xvb2t1cFNldHRlcl9fKFwidmFsdWVcIiksbnB0Ll9fZGVmaW5lR2V0dGVyX18oXCJ2YWx1ZVwiLGdldHRlciksbnB0Ll9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLHNldHRlcikpO25wdC5pbnB1dG1hc2suX192YWx1ZUdldD12YWx1ZUdldCxucHQuaW5wdXRtYXNrLl9fdmFsdWVTZXQ9dmFsdWVTZXR9bnB0LmlucHV0bWFzay5fdmFsdWVHZXQ9ZnVuY3Rpb24ob3ZlcnJ1bGVSVEwpe3JldHVybiBpbnB1dG1hc2suaXNSVEwmJiEwIT09b3ZlcnJ1bGVSVEw/dmFsdWVHZXQuY2FsbCh0aGlzLmVsKS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTp2YWx1ZUdldC5jYWxsKHRoaXMuZWwpfSxucHQuaW5wdXRtYXNrLl92YWx1ZVNldD1mdW5jdGlvbih2YWx1ZSxvdmVycnVsZVJUTCl7dmFsdWVTZXQuY2FsbCh0aGlzLmVsLG51bGw9PXZhbHVlP1wiXCI6ITAhPT1vdmVycnVsZVJUTCYmaW5wdXRtYXNrLmlzUlRMP3ZhbHVlLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpOnZhbHVlKX0sdm9pZCAwPT09dmFsdWVHZXQmJih2YWx1ZUdldD1mdW5jdGlvbiB2YWx1ZUdldCgpe3JldHVybiB0aGlzLnZhbHVlfSx2YWx1ZVNldD1mdW5jdGlvbiB2YWx1ZVNldCh2YWx1ZSl7dGhpcy52YWx1ZT12YWx1ZX0scGF0Y2hWYWxob29rKG5wdC50eXBlKSxpbnN0YWxsTmF0aXZlVmFsdWVTZXRGYWxsYmFjayhucHQpKX19XCJ0ZXh0YXJlYVwiIT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZvcHRzLmlnbm9yYWJsZXMucHVzaChfa2V5Y29kZS5kZWZhdWx0LkVOVEVSKTt2YXIgZWxlbWVudFR5cGU9aW5wdXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxpc1N1cHBvcnRlZD1cImlucHV0XCI9PT1pbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJm9wdHMuc3VwcG9ydHNJbnB1dFR5cGUuaW5jbHVkZXMoZWxlbWVudFR5cGUpfHxpbnB1dC5pc0NvbnRlbnRFZGl0YWJsZXx8XCJ0ZXh0YXJlYVwiPT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKCFpc1N1cHBvcnRlZClpZihcImlucHV0XCI9PT1pbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7ZWwuc2V0QXR0cmlidXRlKFwidHlwZVwiLGVsZW1lbnRUeXBlKSxpc1N1cHBvcnRlZD1cInRleHRcIj09PWVsLnR5cGUsZWw9bnVsbH1lbHNlIGlzU3VwcG9ydGVkPVwicGFydGlhbFwiO3JldHVybiExIT09aXNTdXBwb3J0ZWQ/cGF0Y2hWYWx1ZVByb3BlcnR5KGlucHV0KTppbnB1dC5pbnB1dG1hc2s9dm9pZCAwLGlzU3VwcG9ydGVkfV9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub2ZmKGVsKTt2YXIgaXNTdXBwb3J0ZWQ9aXNFbGVtZW50VHlwZVN1cHBvcnRlZChlbCxvcHRzKTtpZighMSE9PWlzU3VwcG9ydGVkKXtpbnB1dG1hc2sub3JpZ2luYWxQbGFjZWhvbGRlcj1lbC5wbGFjZWhvbGRlcixpbnB1dG1hc2subWF4TGVuZ3RoPXZvaWQgMCE9PWVsP2VsLm1heExlbmd0aDp2b2lkIDAsLTE9PT1pbnB1dG1hc2subWF4TGVuZ3RoJiYoaW5wdXRtYXNrLm1heExlbmd0aD12b2lkIDApLFwiaW5wdXRNb2RlXCJpbiBlbCYmbnVsbD09PWVsLmdldEF0dHJpYnV0ZShcImlucHV0bW9kZVwiKSYmKGVsLmlucHV0TW9kZT1vcHRzLmlucHV0bW9kZSxlbC5zZXRBdHRyaWJ1dGUoXCJpbnB1dG1vZGVcIixvcHRzLmlucHV0bW9kZSkpLCEwPT09aXNTdXBwb3J0ZWQmJihvcHRzLnNob3dNYXNrT25Gb2N1cz1vcHRzLnNob3dNYXNrT25Gb2N1cyYmLTE9PT1bXCJjYy1udW1iZXJcIixcImNjLWV4cFwiXS5pbmRleE9mKGVsLmF1dG9jb21wbGV0ZSksX2Vudmlyb25tZW50LmlwaG9uZSYmKG9wdHMuaW5zZXJ0TW9kZVZpc3VhbD0hMSksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcInN1Ym1pdFwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuc3VibWl0RXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJyZXNldFwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMucmVzZXRFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImJsdXJcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmJsdXJFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImZvY3VzXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5mb2N1c0V2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiaW52YWxpZFwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuaW52YWxpZEV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiY2xpY2tcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmNsaWNrRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJtb3VzZWxlYXZlXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5tb3VzZWxlYXZlRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJtb3VzZWVudGVyXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5tb3VzZWVudGVyRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJwYXN0ZVwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMucGFzdGVFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImN1dFwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuY3V0RXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJjb21wbGV0ZVwiLG9wdHMub25jb21wbGV0ZSksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImluY29tcGxldGVcIixvcHRzLm9uaW5jb21wbGV0ZSksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImNsZWFyZWRcIixvcHRzLm9uY2xlYXJlZCksITAhPT1vcHRzLmlucHV0RXZlbnRPbmx5JiYoX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImtleWRvd25cIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmtleWRvd25FdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImtleXByZXNzXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwia2V5dXBcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmtleXVwRXZlbnQpKSwoX2Vudmlyb25tZW50Lm1vYmlsZXx8b3B0cy5pbnB1dEV2ZW50T25seSkmJmVsLnJlbW92ZUF0dHJpYnV0ZShcIm1heExlbmd0aFwiKSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiaW5wdXRcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmlucHV0RmFsbEJhY2tFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImNvbXBvc2l0aW9uZW5kXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5jb21wb3NpdGlvbmVuZEV2ZW50KSksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcInNldHZhbHVlXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5zZXRWYWx1ZUV2ZW50KSxpbnB1dG1hc2sudW5kb1ZhbHVlPV9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKTt2YXIgYWN0aXZlRWxlbWVudD0oZWwuaW5wdXRtYXNrLnNoYWRvd1Jvb3R8fGRvY3VtZW50KS5hY3RpdmVFbGVtZW50O2lmKFwiXCIhPT1lbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKXx8ITE9PT1vcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzfHxhY3RpdmVFbGVtZW50PT09ZWwpeygwLF9pbnB1dEhhbmRsaW5nLmFwcGx5SW5wdXRWYWx1ZSkoZWwsZWwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCksb3B0cyk7dmFyIGJ1ZmZlcj1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpOyExPT09X3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxidWZmZXIpJiZvcHRzLmNsZWFySW5jb21wbGV0ZSYmX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKGlucHV0bWFzayksb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyYmYWN0aXZlRWxlbWVudCE9PWVsJiYoLTE9PT1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spP2J1ZmZlcj1bXTpfaW5wdXRIYW5kbGluZy5jbGVhck9wdGlvbmFsVGFpbC5jYWxsKGlucHV0bWFzayxidWZmZXIpKSwoITE9PT1vcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzfHxvcHRzLnNob3dNYXNrT25Gb2N1cyYmYWN0aXZlRWxlbWVudD09PWVsfHxcIlwiIT09ZWwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCkpJiYoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikoZWwsYnVmZmVyKSxhY3RpdmVFbGVtZW50PT09ZWwmJl9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxlbCxfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKSkpfX19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfZGVmYXVsdChvd25lcixrZXksdmFsdWUpe2lmKHZvaWQgMD09PXZhbHVlKXJldHVybiBvd25lci5fX2RhdGE/b3duZXIuX19kYXRhW2tleV06bnVsbDtvd25lci5fX2RhdGE9b3duZXIuX19kYXRhfHx7fSxvd25lci5fX2RhdGFba2V5XT12YWx1ZX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMub249b24sZXhwb3J0cy5vZmY9b2ZmLGV4cG9ydHMudHJpZ2dlcj10cmlnZ2VyLGV4cG9ydHMuRXZlbnQ9dm9pZCAwO3ZhciBfZXh0ZW5kPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMikpLF93aW5kb3c9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSxfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpLF9jYW5Vc2VET009X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKSxFdmVudDtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQoZWxlbSl7cmV0dXJuIGVsZW0gaW5zdGFuY2VvZiBFbGVtZW50fWZ1bmN0aW9uIG9uKGV2ZW50cyxoYW5kbGVyKXtmdW5jdGlvbiBhZGRFdmVudChldixuYW1lc3BhY2Upe2VsZW0uYWRkRXZlbnRMaXN0ZW5lcj9lbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXYsaGFuZGxlciwhMSk6ZWxlbS5hdHRhY2hFdmVudCYmZWxlbS5hdHRhY2hFdmVudChcIm9uXCIrZXYsaGFuZGxlciksZXZlbnRSZWdpc3RyeVtldl09ZXZlbnRSZWdpc3RyeVtldl18fHt9LGV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV09ZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXXx8W10sZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXS5wdXNoKGhhbmRsZXIpfWlmKGlzVmFsaWRFbGVtZW50KHRoaXNbMF0pKWZvcih2YXIgZXZlbnRSZWdpc3RyeT10aGlzWzBdLmV2ZW50UmVnaXN0cnksZWxlbT10aGlzWzBdLF9ldmVudHM9ZXZlbnRzLnNwbGl0KFwiIFwiKSxlbmR4PTA7ZW5keDxfZXZlbnRzLmxlbmd0aDtlbmR4Kyspe3ZhciBuc0V2ZW50PV9ldmVudHNbZW5keF0uc3BsaXQoXCIuXCIpLGV2PW5zRXZlbnRbMF0sbmFtZXNwYWNlPW5zRXZlbnRbMV18fFwiZ2xvYmFsXCI7YWRkRXZlbnQoZXYsbmFtZXNwYWNlKX1yZXR1cm4gdGhpc31mdW5jdGlvbiBvZmYoZXZlbnRzLGhhbmRsZXIpe3ZhciBldmVudFJlZ2lzdHJ5LGVsZW07ZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZXYsbmFtZXNwYWNlLGhhbmRsZXIpe2lmKGV2IGluIGV2ZW50UmVnaXN0cnk9PSEwKWlmKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXYsaGFuZGxlciwhMSk6ZWxlbS5kZXRhY2hFdmVudCYmZWxlbS5kZXRhY2hFdmVudChcIm9uXCIrZXYsaGFuZGxlciksXCJnbG9iYWxcIj09PW5hbWVzcGFjZSlmb3IodmFyIG5tc3AgaW4gZXZlbnRSZWdpc3RyeVtldl0pZXZlbnRSZWdpc3RyeVtldl1bbm1zcF0uc3BsaWNlKGV2ZW50UmVnaXN0cnlbZXZdW25tc3BdLmluZGV4T2YoaGFuZGxlciksMSk7ZWxzZSBldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdLnNwbGljZShldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdLmluZGV4T2YoaGFuZGxlciksMSl9ZnVuY3Rpb24gcmVzb2x2ZU5hbWVzcGFjZShldixuYW1lc3BhY2Upe3ZhciBldnRzPVtdLGhuZHgsaG5kTDtpZigwPGV2Lmxlbmd0aClpZih2b2lkIDA9PT1oYW5kbGVyKWZvcihobmR4PTAsaG5kTD1ldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdLmxlbmd0aDtobmR4PGhuZEw7aG5keCsrKWV2dHMucHVzaCh7ZXY6ZXYsbmFtZXNwYWNlOm5hbWVzcGFjZSYmMDxuYW1lc3BhY2UubGVuZ3RoP25hbWVzcGFjZTpcImdsb2JhbFwiLGhhbmRsZXI6ZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXVtobmR4XX0pO2Vsc2UgZXZ0cy5wdXNoKHtldjpldixuYW1lc3BhY2U6bmFtZXNwYWNlJiYwPG5hbWVzcGFjZS5sZW5ndGg/bmFtZXNwYWNlOlwiZ2xvYmFsXCIsaGFuZGxlcjpoYW5kbGVyfSk7ZWxzZSBpZigwPG5hbWVzcGFjZS5sZW5ndGgpZm9yKHZhciBldk5keCBpbiBldmVudFJlZ2lzdHJ5KWZvcih2YXIgbm1zcCBpbiBldmVudFJlZ2lzdHJ5W2V2TmR4XSlpZihubXNwPT09bmFtZXNwYWNlKWlmKHZvaWQgMD09PWhhbmRsZXIpZm9yKGhuZHg9MCxobmRMPWV2ZW50UmVnaXN0cnlbZXZOZHhdW25tc3BdLmxlbmd0aDtobmR4PGhuZEw7aG5keCsrKWV2dHMucHVzaCh7ZXY6ZXZOZHgsbmFtZXNwYWNlOm5tc3AsaGFuZGxlcjpldmVudFJlZ2lzdHJ5W2V2TmR4XVtubXNwXVtobmR4XX0pO2Vsc2UgZXZ0cy5wdXNoKHtldjpldk5keCxuYW1lc3BhY2U6bm1zcCxoYW5kbGVyOmhhbmRsZXJ9KTtyZXR1cm4gZXZ0c31pZihpc1ZhbGlkRWxlbWVudCh0aGlzWzBdKSYmZXZlbnRzKXtldmVudFJlZ2lzdHJ5PXRoaXNbMF0uZXZlbnRSZWdpc3RyeSxlbGVtPXRoaXNbMF07Zm9yKHZhciBfZXZlbnRzPWV2ZW50cy5zcGxpdChcIiBcIiksZW5keD0wO2VuZHg8X2V2ZW50cy5sZW5ndGg7ZW5keCsrKWZvcih2YXIgbnNFdmVudD1fZXZlbnRzW2VuZHhdLnNwbGl0KFwiLlwiKSxvZmZFdmVudHM9cmVzb2x2ZU5hbWVzcGFjZShuc0V2ZW50WzBdLG5zRXZlbnRbMV0pLGk9MCxvZmZFdmVudHNMPW9mZkV2ZW50cy5sZW5ndGg7aTxvZmZFdmVudHNMO2krKylyZW1vdmVFdmVudChvZmZFdmVudHNbaV0uZXYsb2ZmRXZlbnRzW2ldLm5hbWVzcGFjZSxvZmZFdmVudHNbaV0uaGFuZGxlcil9cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJpZ2dlcihldmVudHMpe2lmKGlzVmFsaWRFbGVtZW50KHRoaXNbMF0pKWZvcih2YXIgZXZlbnRSZWdpc3RyeT10aGlzWzBdLmV2ZW50UmVnaXN0cnksZWxlbT10aGlzWzBdLF9ldmVudHM9XCJzdHJpbmdcIj09dHlwZW9mIGV2ZW50cz9ldmVudHMuc3BsaXQoXCIgXCIpOltldmVudHMudHlwZV0sZW5keD0wO2VuZHg8X2V2ZW50cy5sZW5ndGg7ZW5keCsrKXt2YXIgbnNFdmVudD1fZXZlbnRzW2VuZHhdLnNwbGl0KFwiLlwiKSxldj1uc0V2ZW50WzBdLG5hbWVzcGFjZT1uc0V2ZW50WzFdfHxcImdsb2JhbFwiO2lmKHZvaWQgMCE9PWRvY3VtZW50JiZcImdsb2JhbFwiPT09bmFtZXNwYWNlKXt2YXIgZXZudCxpLHBhcmFtcz17YnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGRldGFpbDphcmd1bWVudHNbMV19O2lmKGRvY3VtZW50LmNyZWF0ZUV2ZW50KXt0cnl7c3dpdGNoKGV2KXtjYXNlXCJpbnB1dFwiOmV2bnQ9bmV3IElucHV0RXZlbnQoZXYscGFyYW1zKTticmVhaztkZWZhdWx0OmV2bnQ9bmV3IEN1c3RvbUV2ZW50KGV2LHBhcmFtcyl9fWNhdGNoKGUpe2V2bnQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKSxldm50LmluaXRDdXN0b21FdmVudChldixwYXJhbXMuYnViYmxlcyxwYXJhbXMuY2FuY2VsYWJsZSxwYXJhbXMuZGV0YWlsKX1ldmVudHMudHlwZSYmKDAsX2V4dGVuZC5kZWZhdWx0KShldm50LGV2ZW50cyksZWxlbS5kaXNwYXRjaEV2ZW50KGV2bnQpfWVsc2UgZXZudD1kb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpLGV2bnQuZXZlbnRUeXBlPWV2LGV2bnQuZGV0YWlsPWFyZ3VtZW50c1sxXSxldmVudHMudHlwZSYmKDAsX2V4dGVuZC5kZWZhdWx0KShldm50LGV2ZW50cyksZWxlbS5maXJlRXZlbnQoXCJvblwiK2V2bnQuZXZlbnRUeXBlLGV2bnQpfWVsc2UgaWYodm9pZCAwIT09ZXZlbnRSZWdpc3RyeVtldl0paWYoYXJndW1lbnRzWzBdPWFyZ3VtZW50c1swXS50eXBlP2FyZ3VtZW50c1swXTpfaW5wdXRtYXNrLmRlZmF1bHQuRXZlbnQoYXJndW1lbnRzWzBdKSxhcmd1bWVudHNbMF0uZGV0YWlsPWFyZ3VtZW50cy5zbGljZSgxKSxcImdsb2JhbFwiPT09bmFtZXNwYWNlKWZvcih2YXIgbm1zcCBpbiBldmVudFJlZ2lzdHJ5W2V2XSlmb3IoaT0wO2k8ZXZlbnRSZWdpc3RyeVtldl1bbm1zcF0ubGVuZ3RoO2krKylldmVudFJlZ2lzdHJ5W2V2XVtubXNwXVtpXS5hcHBseShlbGVtLGFyZ3VtZW50cyk7ZWxzZSBmb3IoaT0wO2k8ZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXS5sZW5ndGg7aSsrKWV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV1baV0uYXBwbHkoZWxlbSxhcmd1bWVudHMpfXJldHVybiB0aGlzfWV4cG9ydHMuRXZlbnQ9RXZlbnQsXCJmdW5jdGlvblwiPT10eXBlb2YgX3dpbmRvdy5kZWZhdWx0LkN1c3RvbUV2ZW50P2V4cG9ydHMuRXZlbnQ9RXZlbnQ9X3dpbmRvdy5kZWZhdWx0LkN1c3RvbUV2ZW50Ol9jYW5Vc2VET00uZGVmYXVsdCYmKGV4cG9ydHMuRXZlbnQ9RXZlbnQ9ZnVuY3Rpb24gRXZlbnQoZXZlbnQscGFyYW1zKXtwYXJhbXM9cGFyYW1zfHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBldnQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gZXZ0LmluaXRDdXN0b21FdmVudChldmVudCxwYXJhbXMuYnViYmxlcyxwYXJhbXMuY2FuY2VsYWJsZSxwYXJhbXMuZGV0YWlsKSxldnR9LEV2ZW50LnByb3RvdHlwZT1fd2luZG93LmRlZmF1bHQuRXZlbnQucHJvdG90eXBlKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5nZW5lcmF0ZU1hc2tTZXQ9Z2VuZXJhdGVNYXNrU2V0LGV4cG9ydHMuYW5hbHlzZU1hc2s9YW5hbHlzZU1hc2s7dmFyIF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIGdlbmVyYXRlTWFza1NldChvcHRzLG5vY2FjaGUpe3ZhciBtcztmdW5jdGlvbiBnZW5lcmF0ZU1hc2sobWFzayxtZXRhZGF0YSxvcHRzKXt2YXIgcmVnZXhNYXNrPSExLG1hc2tzZXREZWZpbml0aW9uLG1hc2tkZWZLZXk7aWYobnVsbCE9PW1hc2smJlwiXCIhPT1tYXNrfHwocmVnZXhNYXNrPW51bGwhPT1vcHRzLnJlZ2V4LG1hc2s9cmVnZXhNYXNrPyhtYXNrPW9wdHMucmVnZXgsbWFzay5yZXBsYWNlKC9eKFxcXikoLiopKFxcJCkkLyxcIiQyXCIpKToocmVnZXhNYXNrPSEwLFwiLipcIikpLDE9PT1tYXNrLmxlbmd0aCYmITE9PT1vcHRzLmdyZWVkeSYmMCE9PW9wdHMucmVwZWF0JiYob3B0cy5wbGFjZWhvbGRlcj1cIlwiKSwwPG9wdHMucmVwZWF0fHxcIipcIj09PW9wdHMucmVwZWF0fHxcIitcIj09PW9wdHMucmVwZWF0KXt2YXIgcmVwZWF0U3RhcnQ9XCIqXCI9PT1vcHRzLnJlcGVhdD8wOlwiK1wiPT09b3B0cy5yZXBlYXQ/MTpvcHRzLnJlcGVhdDttYXNrPW9wdHMuZ3JvdXBtYXJrZXJbMF0rbWFzaytvcHRzLmdyb3VwbWFya2VyWzFdK29wdHMucXVhbnRpZmllcm1hcmtlclswXStyZXBlYXRTdGFydCtcIixcIitvcHRzLnJlcGVhdCtvcHRzLnF1YW50aWZpZXJtYXJrZXJbMV19cmV0dXJuIG1hc2tkZWZLZXk9cmVnZXhNYXNrP1wicmVnZXhfXCIrb3B0cy5yZWdleDpvcHRzLm51bWVyaWNJbnB1dD9tYXNrLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpOm1hc2ssITEhPT1vcHRzLmtlZXBTdGF0aWMmJihtYXNrZGVmS2V5PVwia3NfXCIrbWFza2RlZktleSksdm9pZCAwPT09SW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tkZWZLZXldfHwhMD09PW5vY2FjaGU/KG1hc2tzZXREZWZpbml0aW9uPXttYXNrOm1hc2ssbWFza1Rva2VuOklucHV0bWFzay5wcm90b3R5cGUuYW5hbHlzZU1hc2sobWFzayxyZWdleE1hc2ssb3B0cyksdmFsaWRQb3NpdGlvbnM6e30sX2J1ZmZlcjp2b2lkIDAsYnVmZmVyOnZvaWQgMCx0ZXN0czp7fSxleGNsdWRlczp7fSxtZXRhZGF0YTptZXRhZGF0YSxtYXNrTGVuZ3RoOnZvaWQgMCxqaXRPZmZzZXQ6e319LCEwIT09bm9jYWNoZSYmKElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrZGVmS2V5XT1tYXNrc2V0RGVmaW5pdGlvbixtYXNrc2V0RGVmaW5pdGlvbj1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLHt9LElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrZGVmS2V5XSkpKTptYXNrc2V0RGVmaW5pdGlvbj1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLHt9LElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrZGVmS2V5XSksbWFza3NldERlZmluaXRpb259aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5tYXNrJiYob3B0cy5tYXNrPW9wdHMubWFzayhvcHRzKSksQXJyYXkuaXNBcnJheShvcHRzLm1hc2spKXtpZigxPG9wdHMubWFzay5sZW5ndGgpe251bGw9PT1vcHRzLmtlZXBTdGF0aWMmJihvcHRzLmtlZXBTdGF0aWM9ITApO3ZhciBhbHRNYXNrPW9wdHMuZ3JvdXBtYXJrZXJbMF07cmV0dXJuKG9wdHMuaXNSVEw/b3B0cy5tYXNrLnJldmVyc2UoKTpvcHRzLm1hc2spLmZvckVhY2goZnVuY3Rpb24obXNrKXsxPGFsdE1hc2subGVuZ3RoJiYoYWx0TWFzays9b3B0cy5ncm91cG1hcmtlclsxXStvcHRzLmFsdGVybmF0b3JtYXJrZXIrb3B0cy5ncm91cG1hcmtlclswXSksdm9pZCAwIT09bXNrLm1hc2smJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG1zay5tYXNrP2FsdE1hc2srPW1zay5tYXNrOmFsdE1hc2srPW1za30pLGFsdE1hc2srPW9wdHMuZ3JvdXBtYXJrZXJbMV0sZ2VuZXJhdGVNYXNrKGFsdE1hc2ssb3B0cy5tYXNrLG9wdHMpfW9wdHMubWFzaz1vcHRzLm1hc2sucG9wKCl9cmV0dXJuIG51bGw9PT1vcHRzLmtlZXBTdGF0aWMmJihvcHRzLmtlZXBTdGF0aWM9ITEpLG1zPW9wdHMubWFzayYmdm9pZCAwIT09b3B0cy5tYXNrLm1hc2smJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG9wdHMubWFzay5tYXNrP2dlbmVyYXRlTWFzayhvcHRzLm1hc2subWFzayxvcHRzLm1hc2ssb3B0cyk6Z2VuZXJhdGVNYXNrKG9wdHMubWFzayxvcHRzLm1hc2ssb3B0cyksbXN9ZnVuY3Rpb24gYW5hbHlzZU1hc2sobWFzayxyZWdleE1hc2ssb3B0cyl7dmFyIHRva2VuaXplcj0vKD86Wz8qK118XFx7WzAtOSsqXSsoPzosWzAtOSsqXSopPyg/OlxcfFswLTkrKl0qKT9cXH0pfFteLj8qK14ke1tdKCl8XFxcXF0rfC4vZyxyZWdleFRva2VuaXplcj0vXFxbXFxeP10/KD86W15cXFxcXFxdXSt8XFxcXFtcXFNcXHNdPykqXT98XFxcXCg/OjAoPzpbMC0zXVswLTddezAsMn18WzQtN11bMC03XT8pP3xbMS05XVswLTldKnx4WzAtOUEtRmEtZl17Mn18dVswLTlBLUZhLWZdezR9fGNbQS1aYS16XXxbXFxTXFxzXT8pfFxcKCg/OlxcP1s6PSFdPyk/fCg/Ols/KitdfFxce1swLTldKyg/OixbMC05XSopP1xcfSlcXD8/fFteLj8qK14ke1soKXxcXFxcXSt8Li9nLGVzY2FwZWQ9ITEsY3VycmVudFRva2VuPW5ldyBNYXNrVG9rZW4sbWF0Y2gsbSxvcGVuZW5pbmdzPVtdLG1hc2tUb2tlbnM9W10sb3BlbmluZ1Rva2VuLGN1cnJlbnRPcGVuaW5nVG9rZW4sYWx0ZXJuYXRvcixsYXN0TWF0Y2gsY2xvc2VSZWdleEdyb3VwPSExO2Z1bmN0aW9uIE1hc2tUb2tlbihpc0dyb3VwLGlzT3B0aW9uYWwsaXNRdWFudGlmaWVyLGlzQWx0ZXJuYXRvcil7dGhpcy5tYXRjaGVzPVtdLHRoaXMub3Blbkdyb3VwPWlzR3JvdXB8fCExLHRoaXMuYWx0ZXJuYXRvckdyb3VwPSExLHRoaXMuaXNHcm91cD1pc0dyb3VwfHwhMSx0aGlzLmlzT3B0aW9uYWw9aXNPcHRpb25hbHx8ITEsdGhpcy5pc1F1YW50aWZpZXI9aXNRdWFudGlmaWVyfHwhMSx0aGlzLmlzQWx0ZXJuYXRvcj1pc0FsdGVybmF0b3J8fCExLHRoaXMucXVhbnRpZmllcj17bWluOjEsbWF4OjF9fWZ1bmN0aW9uIGluc2VydFRlc3REZWZpbml0aW9uKG10b2tlbixlbGVtZW50LHBvc2l0aW9uKXtwb3NpdGlvbj12b2lkIDAhPT1wb3NpdGlvbj9wb3NpdGlvbjptdG9rZW4ubWF0Y2hlcy5sZW5ndGg7dmFyIHByZXZNYXRjaD1tdG9rZW4ubWF0Y2hlc1twb3NpdGlvbi0xXTtpZihyZWdleE1hc2spMD09PWVsZW1lbnQuaW5kZXhPZihcIltcIil8fGVzY2FwZWQmJi9cXFxcZHxcXFxcc3xcXFxcd10vaS50ZXN0KGVsZW1lbnQpfHxcIi5cIj09PWVsZW1lbnQ/bXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssMCx7Zm46bmV3IFJlZ0V4cChlbGVtZW50LG9wdHMuY2FzaW5nP1wiaVwiOlwiXCIpLHN0YXRpYzohMSxvcHRpb25hbGl0eTohMSxuZXdCbG9ja01hcmtlcjp2b2lkIDA9PT1wcmV2TWF0Y2g/XCJtYXN0ZXJcIjpwcmV2TWF0Y2guZGVmIT09ZWxlbWVudCxjYXNpbmc6bnVsbCxkZWY6ZWxlbWVudCxwbGFjZWhvbGRlcjp2b2lkIDAsbmF0aXZlRGVmOmVsZW1lbnR9KTooZXNjYXBlZCYmKGVsZW1lbnQ9ZWxlbWVudFtlbGVtZW50Lmxlbmd0aC0xXSksZWxlbWVudC5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKGxtbnQsbmR4KXtwcmV2TWF0Y2g9bXRva2VuLm1hdGNoZXNbcG9zaXRpb24tMV0sbXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssMCx7Zm46L1thLXpdL2kudGVzdChvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGxtbnQpP25ldyBSZWdFeHAoXCJbXCIrKG9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8bG1udCkrXCJdXCIsb3B0cy5jYXNpbmc/XCJpXCI6XCJcIik6bnVsbCxzdGF0aWM6ITAsb3B0aW9uYWxpdHk6ITEsbmV3QmxvY2tNYXJrZXI6dm9pZCAwPT09cHJldk1hdGNoP1wibWFzdGVyXCI6cHJldk1hdGNoLmRlZiE9PWxtbnQmJiEwIT09cHJldk1hdGNoLnN0YXRpYyxjYXNpbmc6bnVsbCxkZWY6b3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxsbW50LHBsYWNlaG9sZGVyOnZvaWQgMCE9PW9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbD9sbW50OnZvaWQgMCxuYXRpdmVEZWY6KGVzY2FwZWQ/XCInXCI6XCJcIikrbG1udH0pfSkpLGVzY2FwZWQ9ITE7ZWxzZXt2YXIgbWFza2RlZj1vcHRzLmRlZmluaXRpb25zJiZvcHRzLmRlZmluaXRpb25zW2VsZW1lbnRdfHxvcHRzLnVzZVByb3RvdHlwZURlZmluaXRpb25zJiZJbnB1dG1hc2sucHJvdG90eXBlLmRlZmluaXRpb25zW2VsZW1lbnRdO21hc2tkZWYmJiFlc2NhcGVkP210b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLDAse2ZuOm1hc2tkZWYudmFsaWRhdG9yP1wic3RyaW5nXCI9PXR5cGVvZiBtYXNrZGVmLnZhbGlkYXRvcj9uZXcgUmVnRXhwKG1hc2tkZWYudmFsaWRhdG9yLG9wdHMuY2FzaW5nP1wiaVwiOlwiXCIpOm5ldyBmdW5jdGlvbigpe3RoaXMudGVzdD1tYXNrZGVmLnZhbGlkYXRvcn06bmV3IFJlZ0V4cChcIi5cIiksc3RhdGljOm1hc2tkZWYuc3RhdGljfHwhMSxvcHRpb25hbGl0eTohMSxuZXdCbG9ja01hcmtlcjp2b2lkIDA9PT1wcmV2TWF0Y2g/XCJtYXN0ZXJcIjpwcmV2TWF0Y2guZGVmIT09KG1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbHx8ZWxlbWVudCksY2FzaW5nOm1hc2tkZWYuY2FzaW5nLGRlZjptYXNrZGVmLmRlZmluaXRpb25TeW1ib2x8fGVsZW1lbnQscGxhY2Vob2xkZXI6bWFza2RlZi5wbGFjZWhvbGRlcixuYXRpdmVEZWY6ZWxlbWVudCxnZW5lcmF0ZWQ6bWFza2RlZi5nZW5lcmF0ZWR9KToobXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssMCx7Zm46L1thLXpdL2kudGVzdChvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGVsZW1lbnQpP25ldyBSZWdFeHAoXCJbXCIrKG9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8ZWxlbWVudCkrXCJdXCIsb3B0cy5jYXNpbmc/XCJpXCI6XCJcIik6bnVsbCxzdGF0aWM6ITAsb3B0aW9uYWxpdHk6ITEsbmV3QmxvY2tNYXJrZXI6dm9pZCAwPT09cHJldk1hdGNoP1wibWFzdGVyXCI6cHJldk1hdGNoLmRlZiE9PWVsZW1lbnQmJiEwIT09cHJldk1hdGNoLnN0YXRpYyxjYXNpbmc6bnVsbCxkZWY6b3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxlbGVtZW50LHBsYWNlaG9sZGVyOnZvaWQgMCE9PW9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbD9lbGVtZW50OnZvaWQgMCxuYXRpdmVEZWY6KGVzY2FwZWQ/XCInXCI6XCJcIikrZWxlbWVudH0pLGVzY2FwZWQ9ITEpfX1mdW5jdGlvbiB2ZXJpZnlHcm91cE1hcmtlcihtYXNrVG9rZW4pe21hc2tUb2tlbiYmbWFza1Rva2VuLm1hdGNoZXMmJm1hc2tUb2tlbi5tYXRjaGVzLmZvckVhY2goZnVuY3Rpb24odG9rZW4sbmR4KXt2YXIgbmV4dFRva2VuPW1hc2tUb2tlbi5tYXRjaGVzW25keCsxXTsodm9pZCAwPT09bmV4dFRva2VufHx2b2lkIDA9PT1uZXh0VG9rZW4ubWF0Y2hlc3x8ITE9PT1uZXh0VG9rZW4uaXNRdWFudGlmaWVyKSYmdG9rZW4mJnRva2VuLmlzR3JvdXAmJih0b2tlbi5pc0dyb3VwPSExLHJlZ2V4TWFza3x8KGluc2VydFRlc3REZWZpbml0aW9uKHRva2VuLG9wdHMuZ3JvdXBtYXJrZXJbMF0sMCksITAhPT10b2tlbi5vcGVuR3JvdXAmJmluc2VydFRlc3REZWZpbml0aW9uKHRva2VuLG9wdHMuZ3JvdXBtYXJrZXJbMV0pKSksdmVyaWZ5R3JvdXBNYXJrZXIodG9rZW4pfSl9ZnVuY3Rpb24gZGVmYXVsdENhc2UoKXtpZigwPG9wZW5lbmluZ3MubGVuZ3RoKXtpZihjdXJyZW50T3BlbmluZ1Rva2VuPW9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGgtMV0saW5zZXJ0VGVzdERlZmluaXRpb24oY3VycmVudE9wZW5pbmdUb2tlbixtKSxjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcil7YWx0ZXJuYXRvcj1vcGVuZW5pbmdzLnBvcCgpO2Zvcih2YXIgbW5keD0wO21uZHg8YWx0ZXJuYXRvci5tYXRjaGVzLmxlbmd0aDttbmR4KyspYWx0ZXJuYXRvci5tYXRjaGVzW21uZHhdLmlzR3JvdXAmJihhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cD0hMSk7MDxvcGVuZW5pbmdzLmxlbmd0aD8oY3VycmVudE9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoLTFdLGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpKTpjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpfX1lbHNlIGluc2VydFRlc3REZWZpbml0aW9uKGN1cnJlbnRUb2tlbixtKX1mdW5jdGlvbiByZXZlcnNlVG9rZW5zKG1hc2tUb2tlbil7ZnVuY3Rpb24gcmV2ZXJzZVN0YXRpYyhzdCl7cmV0dXJuIHN0PT09b3B0cy5vcHRpb25hbG1hcmtlclswXT9zdD1vcHRzLm9wdGlvbmFsbWFya2VyWzFdOnN0PT09b3B0cy5vcHRpb25hbG1hcmtlclsxXT9zdD1vcHRzLm9wdGlvbmFsbWFya2VyWzBdOnN0PT09b3B0cy5ncm91cG1hcmtlclswXT9zdD1vcHRzLmdyb3VwbWFya2VyWzFdOnN0PT09b3B0cy5ncm91cG1hcmtlclsxXSYmKHN0PW9wdHMuZ3JvdXBtYXJrZXJbMF0pLHN0fWZvcih2YXIgbWF0Y2ggaW4gbWFza1Rva2VuLm1hdGNoZXM9bWFza1Rva2VuLm1hdGNoZXMucmV2ZXJzZSgpLG1hc2tUb2tlbi5tYXRjaGVzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXNrVG9rZW4ubWF0Y2hlcyxtYXRjaCkpe3ZhciBpbnRNYXRjaD1wYXJzZUludChtYXRjaCk7aWYobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdLmlzUXVhbnRpZmllciYmbWFza1Rva2VuLm1hdGNoZXNbaW50TWF0Y2grMV0mJm1hc2tUb2tlbi5tYXRjaGVzW2ludE1hdGNoKzFdLmlzR3JvdXApe3ZhciBxdD1tYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF07bWFza1Rva2VuLm1hdGNoZXMuc3BsaWNlKG1hdGNoLDEpLG1hc2tUb2tlbi5tYXRjaGVzLnNwbGljZShpbnRNYXRjaCsxLDAscXQpfXZvaWQgMCE9PW1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXS5tYXRjaGVzP21hc2tUb2tlbi5tYXRjaGVzW21hdGNoXT1yZXZlcnNlVG9rZW5zKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSk6bWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdPXJldmVyc2VTdGF0aWMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKX1yZXR1cm4gbWFza1Rva2VufWZ1bmN0aW9uIGdyb3VwaWZ5KG1hdGNoZXMpe3ZhciBncm91cFRva2VuPW5ldyBNYXNrVG9rZW4oITApO3JldHVybiBncm91cFRva2VuLm9wZW5Hcm91cD0hMSxncm91cFRva2VuLm1hdGNoZXM9bWF0Y2hlcyxncm91cFRva2VufWZ1bmN0aW9uIGNsb3NlR3JvdXAoKXtpZihvcGVuaW5nVG9rZW49b3BlbmVuaW5ncy5wb3AoKSxvcGVuaW5nVG9rZW4ub3Blbkdyb3VwPSExLHZvaWQgMCE9PW9wZW5pbmdUb2tlbilpZigwPG9wZW5lbmluZ3MubGVuZ3RoKXtpZihjdXJyZW50T3BlbmluZ1Rva2VuPW9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGgtMV0sY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKSxjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcil7YWx0ZXJuYXRvcj1vcGVuZW5pbmdzLnBvcCgpO2Zvcih2YXIgbW5keD0wO21uZHg8YWx0ZXJuYXRvci5tYXRjaGVzLmxlbmd0aDttbmR4KyspYWx0ZXJuYXRvci5tYXRjaGVzW21uZHhdLmlzR3JvdXA9ITEsYWx0ZXJuYXRvci5tYXRjaGVzW21uZHhdLmFsdGVybmF0b3JHcm91cD0hMTswPG9wZW5lbmluZ3MubGVuZ3RoPyhjdXJyZW50T3BlbmluZ1Rva2VuPW9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGgtMV0sY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcikpOmN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcil9fWVsc2UgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pO2Vsc2UgZGVmYXVsdENhc2UoKX1mdW5jdGlvbiBncm91cFF1YW50aWZpZXIobWF0Y2hlcyl7dmFyIGxhc3RNYXRjaD1tYXRjaGVzLnBvcCgpO3JldHVybiBsYXN0TWF0Y2guaXNRdWFudGlmaWVyJiYobGFzdE1hdGNoPWdyb3VwaWZ5KFttYXRjaGVzLnBvcCgpLGxhc3RNYXRjaF0pKSxsYXN0TWF0Y2h9Zm9yKHJlZ2V4TWFzayYmKG9wdHMub3B0aW9uYWxtYXJrZXJbMF09dm9pZCAwLG9wdHMub3B0aW9uYWxtYXJrZXJbMV09dm9pZCAwKTttYXRjaD1yZWdleE1hc2s/cmVnZXhUb2tlbml6ZXIuZXhlYyhtYXNrKTp0b2tlbml6ZXIuZXhlYyhtYXNrKTspe2lmKG09bWF0Y2hbMF0scmVnZXhNYXNrKXN3aXRjaChtLmNoYXJBdCgwKSl7Y2FzZVwiP1wiOm09XCJ7MCwxfVwiO2JyZWFrO2Nhc2VcIitcIjpjYXNlXCIqXCI6bT1cIntcIittK1wifVwiO2JyZWFrO2Nhc2VcInxcIjppZigwPT09b3BlbmVuaW5ncy5sZW5ndGgpe3ZhciBhbHRSZWdleEdyb3VwPWdyb3VwaWZ5KGN1cnJlbnRUb2tlbi5tYXRjaGVzKTthbHRSZWdleEdyb3VwLm9wZW5Hcm91cD0hMCxvcGVuZW5pbmdzLnB1c2goYWx0UmVnZXhHcm91cCksY3VycmVudFRva2VuLm1hdGNoZXM9W10sY2xvc2VSZWdleEdyb3VwPSEwfWJyZWFrfWlmKGVzY2FwZWQpZGVmYXVsdENhc2UoKTtlbHNlIHN3aXRjaChtLmNoYXJBdCgwKSl7Y2FzZVwiJFwiOmNhc2VcIl5cIjpyZWdleE1hc2t8fGRlZmF1bHRDYXNlKCk7YnJlYWs7Y2FzZVwiKD89XCI6YnJlYWs7Y2FzZVwiKD8hXCI6YnJlYWs7Y2FzZVwiKD88PVwiOmJyZWFrO2Nhc2VcIig/PCFcIjpicmVhaztjYXNlIG9wdHMuZXNjYXBlQ2hhcjplc2NhcGVkPSEwLHJlZ2V4TWFzayYmZGVmYXVsdENhc2UoKTticmVhaztjYXNlIG9wdHMub3B0aW9uYWxtYXJrZXJbMV06Y2FzZSBvcHRzLmdyb3VwbWFya2VyWzFdOmNsb3NlR3JvdXAoKTticmVhaztjYXNlIG9wdHMub3B0aW9uYWxtYXJrZXJbMF06b3BlbmVuaW5ncy5wdXNoKG5ldyBNYXNrVG9rZW4oITEsITApKTticmVhaztjYXNlIG9wdHMuZ3JvdXBtYXJrZXJbMF06b3BlbmVuaW5ncy5wdXNoKG5ldyBNYXNrVG9rZW4oITApKTticmVhaztjYXNlIG9wdHMucXVhbnRpZmllcm1hcmtlclswXTp2YXIgcXVhbnRpZmllcj1uZXcgTWFza1Rva2VuKCExLCExLCEwKTttPW0ucmVwbGFjZSgvW3t9XS9nLFwiXCIpO3ZhciBtcWo9bS5zcGxpdChcInxcIiksbXE9bXFqWzBdLnNwbGl0KFwiLFwiKSxtcTA9aXNOYU4obXFbMF0pP21xWzBdOnBhcnNlSW50KG1xWzBdKSxtcTE9MT09PW1xLmxlbmd0aD9tcTA6aXNOYU4obXFbMV0pP21xWzFdOnBhcnNlSW50KG1xWzFdKTtcIipcIiE9PW1xMCYmXCIrXCIhPT1tcTB8fChtcTA9XCIqXCI9PT1tcTE/MDoxKSxxdWFudGlmaWVyLnF1YW50aWZpZXI9e21pbjptcTAsbWF4Om1xMSxqaXQ6bXFqWzFdfTt2YXIgbWF0Y2hlcz0wPG9wZW5lbmluZ3MubGVuZ3RoP29wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGgtMV0ubWF0Y2hlczpjdXJyZW50VG9rZW4ubWF0Y2hlcztpZihtYXRjaD1tYXRjaGVzLnBvcCgpLG1hdGNoLmlzQWx0ZXJuYXRvcil7bWF0Y2hlcy5wdXNoKG1hdGNoKSxtYXRjaGVzPW1hdGNoLm1hdGNoZXM7dmFyIGdyb3VwVG9rZW49bmV3IE1hc2tUb2tlbighMCksdG1wTWF0Y2g9bWF0Y2hlcy5wb3AoKTttYXRjaGVzLnB1c2goZ3JvdXBUb2tlbiksbWF0Y2hlcz1ncm91cFRva2VuLm1hdGNoZXMsbWF0Y2g9dG1wTWF0Y2h9bWF0Y2guaXNHcm91cHx8KG1hdGNoPWdyb3VwaWZ5KFttYXRjaF0pKSxtYXRjaGVzLnB1c2gobWF0Y2gpLG1hdGNoZXMucHVzaChxdWFudGlmaWVyKTticmVhaztjYXNlIG9wdHMuYWx0ZXJuYXRvcm1hcmtlcjppZigwPG9wZW5lbmluZ3MubGVuZ3RoKXtjdXJyZW50T3BlbmluZ1Rva2VuPW9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGgtMV07dmFyIHN1YlRva2VuPWN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlc1tjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMubGVuZ3RoLTFdO2xhc3RNYXRjaD1jdXJyZW50T3BlbmluZ1Rva2VuLm9wZW5Hcm91cCYmKHZvaWQgMD09PXN1YlRva2VuLm1hdGNoZXN8fCExPT09c3ViVG9rZW4uaXNHcm91cCYmITE9PT1zdWJUb2tlbi5pc0FsdGVybmF0b3IpP29wZW5lbmluZ3MucG9wKCk6Z3JvdXBRdWFudGlmaWVyKGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcyl9ZWxzZSBsYXN0TWF0Y2g9Z3JvdXBRdWFudGlmaWVyKGN1cnJlbnRUb2tlbi5tYXRjaGVzKTtpZihsYXN0TWF0Y2guaXNBbHRlcm5hdG9yKW9wZW5lbmluZ3MucHVzaChsYXN0TWF0Y2gpO2Vsc2UgaWYobGFzdE1hdGNoLmFsdGVybmF0b3JHcm91cD8oYWx0ZXJuYXRvcj1vcGVuZW5pbmdzLnBvcCgpLGxhc3RNYXRjaC5hbHRlcm5hdG9yR3JvdXA9ITEpOmFsdGVybmF0b3I9bmV3IE1hc2tUb2tlbighMSwhMSwhMSwhMCksYWx0ZXJuYXRvci5tYXRjaGVzLnB1c2gobGFzdE1hdGNoKSxvcGVuZW5pbmdzLnB1c2goYWx0ZXJuYXRvciksbGFzdE1hdGNoLm9wZW5Hcm91cCl7bGFzdE1hdGNoLm9wZW5Hcm91cD0hMTt2YXIgYWx0ZXJuYXRvckdyb3VwPW5ldyBNYXNrVG9rZW4oITApO2FsdGVybmF0b3JHcm91cC5hbHRlcm5hdG9yR3JvdXA9ITAsb3BlbmVuaW5ncy5wdXNoKGFsdGVybmF0b3JHcm91cCl9YnJlYWs7ZGVmYXVsdDpkZWZhdWx0Q2FzZSgpfX1mb3IoY2xvc2VSZWdleEdyb3VwJiZjbG9zZUdyb3VwKCk7MDxvcGVuZW5pbmdzLmxlbmd0aDspb3BlbmluZ1Rva2VuPW9wZW5lbmluZ3MucG9wKCksY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pO3JldHVybiAwPGN1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCYmKHZlcmlmeUdyb3VwTWFya2VyKGN1cnJlbnRUb2tlbiksbWFza1Rva2Vucy5wdXNoKGN1cnJlbnRUb2tlbikpLChvcHRzLm51bWVyaWNJbnB1dHx8b3B0cy5pc1JUTCkmJnJldmVyc2VUb2tlbnMobWFza1Rva2Vuc1swXSksbWFza1Rva2Vuc319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDA7dmFyIF9kZWZhdWx0PXs5Ont2YWxpZGF0b3I6XCJbMC05XFx1ZmYxMC1cXHVmZjE5XVwiLGRlZmluaXRpb25TeW1ib2w6XCIqXCJ9LGE6e3ZhbGlkYXRvcjpcIltBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsZGVmaW5pdGlvblN5bWJvbDpcIipcIn0sXCIqXCI6e3ZhbGlkYXRvcjpcIlswLTlcXHVmZjEwLVxcdWZmMTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCJ9fTtleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDA7dmFyIF9kZWZhdWx0PXtfbWF4VGVzdFBvczo1MDAscGxhY2Vob2xkZXI6XCJfXCIsb3B0aW9uYWxtYXJrZXI6W1wiW1wiLFwiXVwiXSxxdWFudGlmaWVybWFya2VyOltcIntcIixcIn1cIl0sZ3JvdXBtYXJrZXI6W1wiKFwiLFwiKVwiXSxhbHRlcm5hdG9ybWFya2VyOlwifFwiLGVzY2FwZUNoYXI6XCJcXFxcXCIsbWFzazpudWxsLHJlZ2V4Om51bGwsb25jb21wbGV0ZTpmdW5jdGlvbiBvbmNvbXBsZXRlKCl7fSxvbmluY29tcGxldGU6ZnVuY3Rpb24gb25pbmNvbXBsZXRlKCl7fSxvbmNsZWFyZWQ6ZnVuY3Rpb24gb25jbGVhcmVkKCl7fSxyZXBlYXQ6MCxncmVlZHk6ITEsYXV0b1VubWFzazohMSxyZW1vdmVNYXNrT25TdWJtaXQ6ITEsY2xlYXJNYXNrT25Mb3N0Rm9jdXM6ITAsaW5zZXJ0TW9kZTohMCxpbnNlcnRNb2RlVmlzdWFsOiEwLGNsZWFySW5jb21wbGV0ZTohMSxhbGlhczpudWxsLG9uS2V5RG93bjpmdW5jdGlvbiBvbktleURvd24oKXt9LG9uQmVmb3JlTWFzazpudWxsLG9uQmVmb3JlUGFzdGU6ZnVuY3Rpb24gb25CZWZvcmVQYXN0ZShwYXN0ZWRWYWx1ZSxvcHRzKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLm9uQmVmb3JlTWFzaz9vcHRzLm9uQmVmb3JlTWFzay5jYWxsKHRoaXMscGFzdGVkVmFsdWUsb3B0cyk6cGFzdGVkVmFsdWV9LG9uQmVmb3JlV3JpdGU6bnVsbCxvblVuTWFzazpudWxsLHNob3dNYXNrT25Gb2N1czohMCxzaG93TWFza09uSG92ZXI6ITAsb25LZXlWYWxpZGF0aW9uOmZ1bmN0aW9uIG9uS2V5VmFsaWRhdGlvbigpe30sc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjpcIiBcIixudW1lcmljSW5wdXQ6ITEscmlnaHRBbGlnbjohMSx1bmRvT25Fc2NhcGU6ITAscmFkaXhQb2ludDpcIlwiLF9yYWRpeERhbmNlOiExLGdyb3VwU2VwYXJhdG9yOlwiXCIsa2VlcFN0YXRpYzpudWxsLHBvc2l0aW9uQ2FyZXRPblRhYjohMCx0YWJUaHJvdWdoOiExLHN1cHBvcnRzSW5wdXRUeXBlOltcInRleHRcIixcInRlbFwiLFwidXJsXCIsXCJwYXNzd29yZFwiLFwic2VhcmNoXCJdLGlnbm9yYWJsZXM6WzgsOSwxOSwyNywzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0NSw0Niw5MywxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywwLDIyOV0saXNDb21wbGV0ZTpudWxsLHByZVZhbGlkYXRpb246bnVsbCxwb3N0VmFsaWRhdGlvbjpudWxsLHN0YXRpY0RlZmluaXRpb25TeW1ib2w6dm9pZCAwLGppdE1hc2tpbmc6ITEsbnVsbGFibGU6ITAsaW5wdXRFdmVudE9ubHk6ITEsbm9WYWx1ZVBhdGNoaW5nOiExLHBvc2l0aW9uQ2FyZXRPbkNsaWNrOlwibHZwXCIsY2FzaW5nOm51bGwsaW5wdXRtb2RlOlwidGV4dFwiLGltcG9ydERhdGFBdHRyaWJ1dGVzOiEwLHNoaWZ0UG9zaXRpb25zOiEwLHVzZVByb3RvdHlwZURlZmluaXRpb25zOiEwfTtleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyKSksX2tleWNvZGU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfZXNjYXBlUmVnZXg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSksX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSk7ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9LF90eXBlb2Yob2JqKX1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyICQ9X2lucHV0bWFzay5kZWZhdWx0LmRlcGVuZGVuY3lMaWIsY3VycmVudFllYXI9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLGZvcm1hdENvZGU9e2Q6W1wiWzEtOV18WzEyXVswLTldfDNbMDFdXCIsRGF0ZS5wcm90b3R5cGUuc2V0RGF0ZSxcImRheVwiLERhdGUucHJvdG90eXBlLmdldERhdGVdLGRkOltcIjBbMS05XXxbMTJdWzAtOV18M1swMV1cIixEYXRlLnByb3RvdHlwZS5zZXREYXRlLFwiZGF5XCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldERhdGUuY2FsbCh0aGlzKSwyKX1dLGRkZDpbXCJcIl0sZGRkZDpbXCJcIl0sbTpbXCJbMS05XXwxWzAxMl1cIixEYXRlLnByb3RvdHlwZS5zZXRNb250aCxcIm1vbnRoXCIsZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUuZ2V0TW9udGguY2FsbCh0aGlzKSsxfV0sbW06W1wiMFsxLTldfDFbMDEyXVwiLERhdGUucHJvdG90eXBlLnNldE1vbnRoLFwibW9udGhcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TW9udGguY2FsbCh0aGlzKSsxLDIpfV0sbW1tOltcIlwiXSxtbW1tOltcIlwiXSx5eTpbXCJbMC05XXsyfVwiLERhdGUucHJvdG90eXBlLnNldEZ1bGxZZWFyLFwieWVhclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRGdWxsWWVhci5jYWxsKHRoaXMpLDIpfV0seXl5eTpbXCJbMC05XXs0fVwiLERhdGUucHJvdG90eXBlLnNldEZ1bGxZZWFyLFwieWVhclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRGdWxsWWVhci5jYWxsKHRoaXMpLDQpfV0saDpbXCJbMS05XXwxWzAtMl1cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnNdLGhoOltcIjBbMS05XXwxWzAtMl1cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEhvdXJzLmNhbGwodGhpcyksMil9XSxoeDpbZnVuY3Rpb24oeCl7cmV0dXJuXCJbMC05XXtcIi5jb25jYXQoeCxcIn1cIil9LERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixmdW5jdGlvbih4KXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnN9XSxIOltcIjE/WzAtOV18MlswLTNdXCIsRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLERhdGUucHJvdG90eXBlLmdldEhvdXJzXSxISDpbXCIwWzAtOV18MVswLTldfDJbMC0zXVwiLERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnMuY2FsbCh0aGlzKSwyKX1dLEh4OltmdW5jdGlvbih4KXtyZXR1cm5cIlswLTlde1wiLmNvbmNhdCh4LFwifVwiKX0sRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLGZ1bmN0aW9uKHgpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnMuY2FsbCh0aGlzKSx4KX19XSxNOltcIlsxLTVdP1swLTldXCIsRGF0ZS5wcm90b3R5cGUuc2V0TWludXRlcyxcIm1pbnV0ZXNcIixEYXRlLnByb3RvdHlwZS5nZXRNaW51dGVzXSxNTTpbXCIwWzAtOV18MVswLTldfDJbMC05XXwzWzAtOV18NFswLTldfDVbMC05XVwiLERhdGUucHJvdG90eXBlLnNldE1pbnV0ZXMsXCJtaW51dGVzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldE1pbnV0ZXMuY2FsbCh0aGlzKSwyKX1dLHM6W1wiWzEtNV0/WzAtOV1cIixEYXRlLnByb3RvdHlwZS5zZXRTZWNvbmRzLFwic2Vjb25kc1wiLERhdGUucHJvdG90eXBlLmdldFNlY29uZHNdLHNzOltcIjBbMC05XXwxWzAtOV18MlswLTldfDNbMC05XXw0WzAtOV18NVswLTldXCIsRGF0ZS5wcm90b3R5cGUuc2V0U2Vjb25kcyxcInNlY29uZHNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0U2Vjb25kcy5jYWxsKHRoaXMpLDIpfV0sbDpbXCJbMC05XXszfVwiLERhdGUucHJvdG90eXBlLnNldE1pbGxpc2Vjb25kcyxcIm1pbGxpc2Vjb25kc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRNaWxsaXNlY29uZHMuY2FsbCh0aGlzKSwzKX1dLEw6W1wiWzAtOV17Mn1cIixEYXRlLnByb3RvdHlwZS5zZXRNaWxsaXNlY29uZHMsXCJtaWxsaXNlY29uZHNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TWlsbGlzZWNvbmRzLmNhbGwodGhpcyksMil9XSx0OltcIlthcF1cIl0sdHQ6W1wiW2FwXW1cIl0sVDpbXCJbQVBdXCJdLFRUOltcIltBUF1NXCJdLFo6W1wiXCJdLG86W1wiXCJdLFM6W1wiXCJdfSxmb3JtYXRBbGlhcz17aXNvRGF0ZTpcInl5eXktbW0tZGRcIixpc29UaW1lOlwiSEg6TU06c3NcIixpc29EYXRlVGltZTpcInl5eXktbW0tZGQnVCdISDpNTTpzc1wiLGlzb1V0Y0RhdGVUaW1lOlwiVVRDOnl5eXktbW0tZGQnVCdISDpNTTpzcydaJ1wifTtmdW5jdGlvbiBmb3JtYXRjb2RlKG1hdGNoKXt2YXIgZHluTWF0Y2hlcz1uZXcgUmVnRXhwKFwiXFxcXGQrJFwiKS5leGVjKG1hdGNoWzBdKTtpZihkeW5NYXRjaGVzJiZ2b2lkIDAhPT1keW5NYXRjaGVzWzBdKXt2YXIgZmNvZGU9Zm9ybWF0Q29kZVttYXRjaFswXVswXStcInhcIl0uc2xpY2UoXCJcIik7cmV0dXJuIGZjb2RlWzBdPWZjb2RlWzBdKGR5bk1hdGNoZXNbMF0pLGZjb2RlWzNdPWZjb2RlWzNdKGR5bk1hdGNoZXNbMF0pLGZjb2RlfWlmKGZvcm1hdENvZGVbbWF0Y2hbMF1dKXJldHVybiBmb3JtYXRDb2RlW21hdGNoWzBdXX1mdW5jdGlvbiBnZXRUb2tlbml6ZXIob3B0cyl7aWYoIW9wdHMudG9rZW5pemVyKXt2YXIgdG9rZW5zPVtdLGR5bnRva2Vucz1bXTtmb3IodmFyIG5keCBpbiBmb3JtYXRDb2RlKWlmKC9cXC4qeCQvLnRlc3QobmR4KSl7dmFyIGR5blRva2VuPW5keFswXStcIlxcXFxkK1wiOy0xPT09ZHludG9rZW5zLmluZGV4T2YoZHluVG9rZW4pJiZkeW50b2tlbnMucHVzaChkeW5Ub2tlbil9ZWxzZS0xPT09dG9rZW5zLmluZGV4T2YobmR4WzBdKSYmdG9rZW5zLnB1c2gobmR4WzBdKTtvcHRzLnRva2VuaXplcj1cIihcIisoMDxkeW50b2tlbnMubGVuZ3RoP2R5bnRva2Vucy5qb2luKFwifFwiKStcInxcIjpcIlwiKSt0b2tlbnMuam9pbihcIit8XCIpK1wiKSs/fC5cIixvcHRzLnRva2VuaXplcj1uZXcgUmVnRXhwKG9wdHMudG9rZW5pemVyLFwiZ1wiKX1yZXR1cm4gb3B0cy50b2tlbml6ZXJ9ZnVuY3Rpb24gcHJlZmlsbFllYXIoZGF0ZVBhcnRzLGN1cnJlbnRSZXN1bHQsb3B0cyl7aWYoZGF0ZVBhcnRzLnllYXIhPT1kYXRlUGFydHMucmF3eWVhcil7dmFyIGNycm50eWVhcj1jdXJyZW50WWVhci50b1N0cmluZygpLGVudGVyZWRQYXJ0PWRhdGVQYXJ0cy5yYXd5ZWFyLnJlcGxhY2UoL1teMC05XS9nLFwiXCIpLGN1cnJlbnRZZWFyUGFydD1jcnJudHllYXIuc2xpY2UoMCxlbnRlcmVkUGFydC5sZW5ndGgpLGN1cnJlbnRZZWFyTmV4dFBhcnQ9Y3JybnR5ZWFyLnNsaWNlKGVudGVyZWRQYXJ0Lmxlbmd0aCk7aWYoMj09PWVudGVyZWRQYXJ0Lmxlbmd0aCYmZW50ZXJlZFBhcnQ9PT1jdXJyZW50WWVhclBhcnQpe3ZhciBlbnRyeUN1cnJlbnRZZWFyPW5ldyBEYXRlKGN1cnJlbnRZZWFyLGRhdGVQYXJ0cy5tb250aC0xLGRhdGVQYXJ0cy5kYXkpO2RhdGVQYXJ0cy5kYXk9PWVudHJ5Q3VycmVudFllYXIuZ2V0RGF0ZSgpJiYoIW9wdHMubWF4fHxvcHRzLm1heC5kYXRlLmdldFRpbWUoKT49ZW50cnlDdXJyZW50WWVhci5nZXRUaW1lKCkpJiYoZGF0ZVBhcnRzLmRhdGUuc2V0RnVsbFllYXIoY3VycmVudFllYXIpLGRhdGVQYXJ0cy55ZWFyPWNycm50eWVhcixjdXJyZW50UmVzdWx0Lmluc2VydD1be3BvczpjdXJyZW50UmVzdWx0LnBvcysxLGM6Y3VycmVudFllYXJOZXh0UGFydFswXX0se3BvczpjdXJyZW50UmVzdWx0LnBvcysyLGM6Y3VycmVudFllYXJOZXh0UGFydFsxXX1dKX19cmV0dXJuIGN1cnJlbnRSZXN1bHR9ZnVuY3Rpb24gaXNWYWxpZERhdGUoZGF0ZVBhcnRzLGN1cnJlbnRSZXN1bHQsb3B0cyl7aWYodm9pZCAwPT09ZGF0ZVBhcnRzLnJhd2RheXx8IWlzRmluaXRlKGRhdGVQYXJ0cy5yYXdkYXkpJiZuZXcgRGF0ZShkYXRlUGFydHMuZGF0ZS5nZXRGdWxsWWVhcigpLGlzRmluaXRlKGRhdGVQYXJ0cy5yYXdtb250aCk/ZGF0ZVBhcnRzLm1vbnRoOmRhdGVQYXJ0cy5kYXRlLmdldE1vbnRoKCkrMSwwKS5nZXREYXRlKCk+PWRhdGVQYXJ0cy5kYXl8fFwiMjlcIj09ZGF0ZVBhcnRzLmRheSYmIWlzRmluaXRlKGRhdGVQYXJ0cy5yYXd5ZWFyKXx8bmV3IERhdGUoZGF0ZVBhcnRzLmRhdGUuZ2V0RnVsbFllYXIoKSxpc0Zpbml0ZShkYXRlUGFydHMucmF3bW9udGgpP2RhdGVQYXJ0cy5tb250aDpkYXRlUGFydHMuZGF0ZS5nZXRNb250aCgpKzEsMCkuZ2V0RGF0ZSgpPj1kYXRlUGFydHMuZGF5KXJldHVybiBjdXJyZW50UmVzdWx0O2lmKFwiMjlcIj09ZGF0ZVBhcnRzLmRheSl7dmFyIHRva2VuTWF0Y2g9Z2V0VG9rZW5NYXRjaChjdXJyZW50UmVzdWx0LnBvcyxvcHRzKTtpZihcInl5eXlcIj09PXRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0mJmN1cnJlbnRSZXN1bHQucG9zLXRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleD09MilyZXR1cm4gY3VycmVudFJlc3VsdC5yZW1vdmU9Y3VycmVudFJlc3VsdC5wb3MrMSxjdXJyZW50UmVzdWx0fWVsc2UgaWYoXCIwMlwiPT1kYXRlUGFydHMubW9udGgmJlwiMzBcIj09ZGF0ZVBhcnRzLmRheSlyZXR1cm4gZGF0ZVBhcnRzLmRheT1cIjAzXCIsZGF0ZVBhcnRzLmRhdGUuc2V0RGF0ZSgzKSxkYXRlUGFydHMuZGF0ZS5zZXRNb250aCgxKSxjdXJyZW50UmVzdWx0Lmluc2VydD1be3BvczpjdXJyZW50UmVzdWx0LnBvcyxjOlwiMFwifSx7cG9zOmN1cnJlbnRSZXN1bHQucG9zKzEsYzpjdXJyZW50UmVzdWx0LmN9XSxjdXJyZW50UmVzdWx0LmNhcmV0PV9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKHRoaXMsY3VycmVudFJlc3VsdC5wb3MrMSksY3VycmVudFJlc3VsdDtyZXR1cm4hMX1mdW5jdGlvbiBpc0RhdGVJblJhbmdlKGRhdGVQYXJ0cyxyZXN1bHQsb3B0cyxtYXNrc2V0LGZyb21DaGVja3ZhbCl7aWYoIXJlc3VsdClyZXR1cm4gcmVzdWx0O2lmKG9wdHMubWluKXtpZihkYXRlUGFydHMucmF3eWVhcil7dmFyIHJhd1llYXI9ZGF0ZVBhcnRzLnJhd3llYXIucmVwbGFjZSgvW14wLTldL2csXCJcIiksbWluWWVhcj1vcHRzLm1pbi55ZWFyLnN1YnN0cigwLHJhd1llYXIubGVuZ3RoKSxtYXhZZWFyO2lmKHJhd1llYXI8bWluWWVhcil7dmFyIHRva2VuTWF0Y2g9Z2V0VG9rZW5NYXRjaChyZXN1bHQucG9zLG9wdHMpO2lmKHJhd1llYXI9ZGF0ZVBhcnRzLnJhd3llYXIuc3Vic3RyKDAscmVzdWx0LnBvcy10b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXgrMSkucmVwbGFjZSgvW14wLTldL2csXCIwXCIpLG1pblllYXI9b3B0cy5taW4ueWVhci5zdWJzdHIoMCxyYXdZZWFyLmxlbmd0aCksbWluWWVhcjw9cmF3WWVhcilyZXR1cm4gcmVzdWx0LnJlbW92ZT10b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXgrcmF3WWVhci5sZW5ndGgscmVzdWx0O2lmKHJhd1llYXI9XCJ5eXl5XCI9PT10b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdP2RhdGVQYXJ0cy5yYXd5ZWFyLnN1YnN0cigxLDEpOmRhdGVQYXJ0cy5yYXd5ZWFyLnN1YnN0cigwLDEpLG1pblllYXI9b3B0cy5taW4ueWVhci5zdWJzdHIoMiwxKSxtYXhZZWFyPW9wdHMubWF4P29wdHMubWF4LnllYXIuc3Vic3RyKDIsMSk6cmF3WWVhciwxPT09cmF3WWVhci5sZW5ndGgmJm1pblllYXI8PXJhd1llYXImJnJhd1llYXI8PW1heFllYXImJiEwIT09ZnJvbUNoZWNrdmFsKXJldHVyblwieXl5eVwiPT09dG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXT8ocmVzdWx0Lmluc2VydD1be3BvczpyZXN1bHQucG9zKzEsYzpyYXdZZWFyLHN0cmljdDohMH1dLHJlc3VsdC5jYXJldD1yZXN1bHQucG9zKzIsbWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXS5pbnB1dD1vcHRzLm1pbi55ZWFyWzFdKToocmVzdWx0Lmluc2VydD1be3BvczpyZXN1bHQucG9zKzEsYzpvcHRzLm1pbi55ZWFyWzFdLHN0cmljdDohMH0se3BvczpyZXN1bHQucG9zKzIsYzpyYXdZZWFyLHN0cmljdDohMH1dLHJlc3VsdC5jYXJldD1yZXN1bHQucG9zKzMsbWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXS5pbnB1dD1vcHRzLm1pbi55ZWFyWzBdKSxyZXN1bHQ7cmVzdWx0PSExfX1yZXN1bHQmJmRhdGVQYXJ0cy55ZWFyJiZkYXRlUGFydHMueWVhcj09PWRhdGVQYXJ0cy5yYXd5ZWFyJiZvcHRzLm1pbi5kYXRlLmdldFRpbWUoKT09b3B0cy5taW4uZGF0ZS5nZXRUaW1lKCkmJihyZXN1bHQ9b3B0cy5taW4uZGF0ZS5nZXRUaW1lKCk8PWRhdGVQYXJ0cy5kYXRlLmdldFRpbWUoKSl9cmV0dXJuIHJlc3VsdCYmb3B0cy5tYXgmJm9wdHMubWF4LmRhdGUuZ2V0VGltZSgpPT1vcHRzLm1heC5kYXRlLmdldFRpbWUoKSYmKHJlc3VsdD1vcHRzLm1heC5kYXRlLmdldFRpbWUoKT49ZGF0ZVBhcnRzLmRhdGUuZ2V0VGltZSgpKSxyZXN1bHR9ZnVuY3Rpb24gcGFyc2UoZm9ybWF0LGRhdGVPYmpWYWx1ZSxvcHRzLHJhdyl7dmFyIG1hc2s9XCJcIixtYXRjaCxmY29kZTtmb3IoZ2V0VG9rZW5pemVyKG9wdHMpLmxhc3RJbmRleD0wO21hdGNoPWdldFRva2VuaXplcihvcHRzKS5leGVjKGZvcm1hdCk7KWlmKHZvaWQgMD09PWRhdGVPYmpWYWx1ZSlpZihmY29kZT1mb3JtYXRjb2RlKG1hdGNoKSltYXNrKz1cIihcIitmY29kZVswXStcIilcIjtlbHNlIHN3aXRjaChtYXRjaFswXSl7Y2FzZVwiW1wiOm1hc2srPVwiKFwiO2JyZWFrO2Nhc2VcIl1cIjptYXNrKz1cIik/XCI7YnJlYWs7ZGVmYXVsdDptYXNrKz0oMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkobWF0Y2hbMF0pfWVsc2UgaWYoZmNvZGU9Zm9ybWF0Y29kZShtYXRjaCkpaWYoITAhPT1yYXcmJmZjb2RlWzNdKXt2YXIgZ2V0Rm49ZmNvZGVbM107bWFzays9Z2V0Rm4uY2FsbChkYXRlT2JqVmFsdWUuZGF0ZSl9ZWxzZSBmY29kZVsyXT9tYXNrKz1kYXRlT2JqVmFsdWVbXCJyYXdcIitmY29kZVsyXV06bWFzays9bWF0Y2hbMF07ZWxzZSBtYXNrKz1tYXRjaFswXTtyZXR1cm4gbWFza31mdW5jdGlvbiBwYWQodmFsLGxlbil7Zm9yKHZhbD1TdHJpbmcodmFsKSxsZW49bGVufHwyO3ZhbC5sZW5ndGg8bGVuOyl2YWw9XCIwXCIrdmFsO3JldHVybiB2YWx9ZnVuY3Rpb24gYW5hbHlzZU1hc2sobWFza1N0cmluZyxmb3JtYXQsb3B0cyl7dmFyIGRhdGVPYmo9e2RhdGU6bmV3IERhdGUoMSwwLDEpfSx0YXJnZXRQcm9wLG1hc2s9bWFza1N0cmluZyxtYXRjaCxkYXRlT3BlcmF0aW9uO2Z1bmN0aW9uIHNldFZhbHVlKGRhdGVPYmosdmFsdWUsb3B0cyl7aWYoZGF0ZU9ialt0YXJnZXRQcm9wXT12YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZyxcIjBcIiksZGF0ZU9ialtcInJhd1wiK3RhcmdldFByb3BdPXZhbHVlLHZvaWQgMCE9PWRhdGVPcGVyYXRpb24pe3ZhciBkYXRhdmFsdWU9ZGF0ZU9ialt0YXJnZXRQcm9wXTtcImRheVwiPT09dGFyZ2V0UHJvcCYmMD09PXBhcnNlSW50KGRhdGF2YWx1ZSkmJihkYXRhdmFsdWU9MSksXCJtb250aFwiPT09dGFyZ2V0UHJvcCYmKGRhdGF2YWx1ZT1wYXJzZUludChkYXRhdmFsdWUpLDA8ZGF0YXZhbHVlKSYmKGRhdGF2YWx1ZS09MSksZGF0ZU9wZXJhdGlvbi5jYWxsKGRhdGVPYmouZGF0ZSxkYXRhdmFsdWUpfX1pZihcInN0cmluZ1wiPT10eXBlb2YgbWFzayl7Zm9yKGdldFRva2VuaXplcihvcHRzKS5sYXN0SW5kZXg9MDttYXRjaD1nZXRUb2tlbml6ZXIob3B0cykuZXhlYyhmb3JtYXQpOyl7dmFyIGR5bk1hdGNoZXM9bmV3IFJlZ0V4cChcIlxcXFxkKyRcIikuZXhlYyhtYXRjaFswXSksZmNvZGU9ZHluTWF0Y2hlcz9tYXRjaFswXVswXStcInhcIjptYXRjaFswXSx2YWx1ZT12b2lkIDA7aWYoZHluTWF0Y2hlcyl7dmFyIGxhc3RJbmRleD1nZXRUb2tlbml6ZXIob3B0cykubGFzdEluZGV4LHRva2FuTWF0Y2g9Z2V0VG9rZW5NYXRjaChtYXRjaC5pbmRleCxvcHRzKTtnZXRUb2tlbml6ZXIob3B0cykubGFzdEluZGV4PWxhc3RJbmRleCx2YWx1ZT1tYXNrLnNsaWNlKDAsbWFzay5pbmRleE9mKHRva2FuTWF0Y2gubmV4dE1hdGNoWzBdKSl9ZWxzZSB2YWx1ZT1tYXNrLnNsaWNlKDAsZmNvZGUubGVuZ3RoKTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZm9ybWF0Q29kZSxmY29kZSkmJih0YXJnZXRQcm9wPWZvcm1hdENvZGVbZmNvZGVdWzJdLGRhdGVPcGVyYXRpb249Zm9ybWF0Q29kZVtmY29kZV1bMV0sc2V0VmFsdWUoZGF0ZU9iaix2YWx1ZSxvcHRzKSksbWFzaz1tYXNrLnNsaWNlKHZhbHVlLmxlbmd0aCl9cmV0dXJuIGRhdGVPYmp9aWYobWFzayYmXCJvYmplY3RcIj09PV90eXBlb2YobWFzaykmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXNrLFwiZGF0ZVwiKSlyZXR1cm4gbWFza31mdW5jdGlvbiBpbXBvcnREYXRlKGRhdGVPYmosb3B0cyl7cmV0dXJuIHBhcnNlKG9wdHMuaW5wdXRGb3JtYXQse2RhdGU6ZGF0ZU9ian0sb3B0cyl9ZnVuY3Rpb24gZ2V0VG9rZW5NYXRjaChwb3Msb3B0cyl7dmFyIGNhbGNQb3M9MCx0YXJnZXRNYXRjaCxtYXRjaCxtYXRjaExlbmd0aD0wO2ZvcihnZXRUb2tlbml6ZXIob3B0cykubGFzdEluZGV4PTA7bWF0Y2g9Z2V0VG9rZW5pemVyKG9wdHMpLmV4ZWMob3B0cy5pbnB1dEZvcm1hdCk7KXt2YXIgZHluTWF0Y2hlcz1uZXcgUmVnRXhwKFwiXFxcXGQrJFwiKS5leGVjKG1hdGNoWzBdKTtpZihtYXRjaExlbmd0aD1keW5NYXRjaGVzP3BhcnNlSW50KGR5bk1hdGNoZXNbMF0pOm1hdGNoWzBdLmxlbmd0aCxjYWxjUG9zKz1tYXRjaExlbmd0aCxwb3M8PWNhbGNQb3Mpe3RhcmdldE1hdGNoPW1hdGNoLG1hdGNoPWdldFRva2VuaXplcihvcHRzKS5leGVjKG9wdHMuaW5wdXRGb3JtYXQpO2JyZWFrfX1yZXR1cm57dGFyZ2V0TWF0Y2hJbmRleDpjYWxjUG9zLW1hdGNoTGVuZ3RoLG5leHRNYXRjaDptYXRjaCx0YXJnZXRNYXRjaDp0YXJnZXRNYXRjaH19X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZEFsaWFzZXMoe2RhdGV0aW1lOnttYXNrOmZ1bmN0aW9uIG1hc2sob3B0cyl7cmV0dXJuIG9wdHMubnVtZXJpY0lucHV0PSExLGZvcm1hdENvZGUuUz1vcHRzLmkxOG4ub3JkaW5hbFN1ZmZpeC5qb2luKFwifFwiKSxvcHRzLmlucHV0Rm9ybWF0PWZvcm1hdEFsaWFzW29wdHMuaW5wdXRGb3JtYXRdfHxvcHRzLmlucHV0Rm9ybWF0LG9wdHMuZGlzcGxheUZvcm1hdD1mb3JtYXRBbGlhc1tvcHRzLmRpc3BsYXlGb3JtYXRdfHxvcHRzLmRpc3BsYXlGb3JtYXR8fG9wdHMuaW5wdXRGb3JtYXQsb3B0cy5vdXRwdXRGb3JtYXQ9Zm9ybWF0QWxpYXNbb3B0cy5vdXRwdXRGb3JtYXRdfHxvcHRzLm91dHB1dEZvcm1hdHx8b3B0cy5pbnB1dEZvcm1hdCxvcHRzLnBsYWNlaG9sZGVyPVwiXCIhPT1vcHRzLnBsYWNlaG9sZGVyP29wdHMucGxhY2Vob2xkZXI6b3B0cy5pbnB1dEZvcm1hdC5yZXBsYWNlKC9bW1xcXV0vLFwiXCIpLG9wdHMucmVnZXg9cGFyc2Uob3B0cy5pbnB1dEZvcm1hdCx2b2lkIDAsb3B0cyksb3B0cy5taW49YW5hbHlzZU1hc2sob3B0cy5taW4sb3B0cy5pbnB1dEZvcm1hdCxvcHRzKSxvcHRzLm1heD1hbmFseXNlTWFzayhvcHRzLm1heCxvcHRzLmlucHV0Rm9ybWF0LG9wdHMpLG51bGx9LHBsYWNlaG9sZGVyOlwiXCIsaW5wdXRGb3JtYXQ6XCJpc29EYXRlVGltZVwiLGRpc3BsYXlGb3JtYXQ6dm9pZCAwLG91dHB1dEZvcm1hdDp2b2lkIDAsbWluOm51bGwsbWF4Om51bGwsc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjpcIlwiLGkxOG46e2RheU5hbWVzOltcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIixcIlN1blwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCIsXCJTdW5kYXlcIl0sbW9udGhOYW1lczpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCIsXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sb3JkaW5hbFN1ZmZpeDpbXCJzdFwiLFwibmRcIixcInJkXCIsXCJ0aFwiXX0scHJlVmFsaWRhdGlvbjpmdW5jdGlvbiBwcmVWYWxpZGF0aW9uKGJ1ZmZlcixwb3MsYyxpc1NlbGVjdGlvbixvcHRzLG1hc2tzZXQsY2FyZXRQb3Msc3RyaWN0KXtpZihzdHJpY3QpcmV0dXJuITA7aWYoaXNOYU4oYykmJmJ1ZmZlcltwb3NdIT09Yyl7dmFyIHRva2VuTWF0Y2g9Z2V0VG9rZW5NYXRjaChwb3Msb3B0cyk7aWYodG9rZW5NYXRjaC5uZXh0TWF0Y2gmJnRva2VuTWF0Y2gubmV4dE1hdGNoWzBdPT09YyYmMTx0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdLmxlbmd0aCl7dmFyIHZhbGlkYXRvcj1mb3JtYXRDb2RlW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF1dWzBdO2lmKG5ldyBSZWdFeHAodmFsaWRhdG9yKS50ZXN0KFwiMFwiK2J1ZmZlcltwb3MtMV0pKXJldHVybiBidWZmZXJbcG9zXT1idWZmZXJbcG9zLTFdLGJ1ZmZlcltwb3MtMV09XCIwXCIse2Z1enp5OiEwLGJ1ZmZlcjpidWZmZXIscmVmcmVzaEZyb21CdWZmZXI6e3N0YXJ0OnBvcy0xLGVuZDpwb3MrMX0scG9zOnBvcysxfX19cmV0dXJuITB9LHBvc3RWYWxpZGF0aW9uOmZ1bmN0aW9uIHBvc3RWYWxpZGF0aW9uKGJ1ZmZlcixwb3MsYyxjdXJyZW50UmVzdWx0LG9wdHMsbWFza3NldCxzdHJpY3QsZnJvbUNoZWNrdmFsKXt2YXIgaW5wdXRtYXNrPXRoaXMsdG9rZW5NYXRjaCx2YWxpZGF0b3I7aWYoc3RyaWN0KXJldHVybiEwO2lmKCExPT09Y3VycmVudFJlc3VsdCYmKHRva2VuTWF0Y2g9Z2V0VG9rZW5NYXRjaChwb3MrMSxvcHRzKSx0b2tlbk1hdGNoLnRhcmdldE1hdGNoJiZ0b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXg9PT1wb3MmJjE8dG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXS5sZW5ndGgmJnZvaWQgMCE9PWZvcm1hdENvZGVbdG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXV0mJih2YWxpZGF0b3I9Zm9ybWF0Q29kZVt0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdXVswXSx2b2lkIDAhPT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3BvcysxXSYmbmV3IFJlZ0V4cCh2YWxpZGF0b3IpLnRlc3QoYytcIjBcIik/KGJ1ZmZlcltwb3NdPWMsYnVmZmVyW3BvcysxXT1cIjBcIixjdXJyZW50UmVzdWx0PXtwb3M6cG9zKzIsY2FyZXQ6cG9zfSk6bmV3IFJlZ0V4cCh2YWxpZGF0b3IpLnRlc3QoXCIwXCIrYykmJihidWZmZXJbcG9zXT1cIjBcIixidWZmZXJbcG9zKzFdPWMsY3VycmVudFJlc3VsdD17cG9zOnBvcysyfSkpLCExPT09Y3VycmVudFJlc3VsdCkpcmV0dXJuIGN1cnJlbnRSZXN1bHQ7aWYoY3VycmVudFJlc3VsdC5mdXp6eSYmKGJ1ZmZlcj1jdXJyZW50UmVzdWx0LmJ1ZmZlcixwb3M9Y3VycmVudFJlc3VsdC5wb3MpLHRva2VuTWF0Y2g9Z2V0VG9rZW5NYXRjaChwb3Msb3B0cyksdG9rZW5NYXRjaC50YXJnZXRNYXRjaCYmdG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXSYmdm9pZCAwIT09Zm9ybWF0Q29kZVt0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdXSl7dmFsaWRhdG9yPWZvcm1hdENvZGVbdG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXV1bMF07dmFyIHBhcnQ9YnVmZmVyLnNsaWNlKHRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleCx0b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXgrdG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXS5sZW5ndGgpOyExPT09bmV3IFJlZ0V4cCh2YWxpZGF0b3IpLnRlc3QocGFydC5qb2luKFwiXCIpKSYmMj09PXRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0ubGVuZ3RoJiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleF0mJm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4KzFdJiYobWFza3NldC52YWxpZFBvc2l0aW9uc1t0b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXgrMV0uaW5wdXQ9XCIwXCIpfXZhciByZXN1bHQ9Y3VycmVudFJlc3VsdCxkYXRlUGFydHM9YW5hbHlzZU1hc2soYnVmZmVyLmpvaW4oXCJcIiksb3B0cy5pbnB1dEZvcm1hdCxvcHRzKTtyZXR1cm4gcmVzdWx0JiZkYXRlUGFydHMuZGF0ZS5nZXRUaW1lKCk9PWRhdGVQYXJ0cy5kYXRlLmdldFRpbWUoKSYmKHJlc3VsdD1wcmVmaWxsWWVhcihkYXRlUGFydHMscmVzdWx0LG9wdHMpLHJlc3VsdD1pc1ZhbGlkRGF0ZS5jYWxsKHRoaXMsZGF0ZVBhcnRzLHJlc3VsdCxvcHRzKSxyZXN1bHQ9aXNEYXRlSW5SYW5nZShkYXRlUGFydHMscmVzdWx0LG9wdHMsbWFza3NldCxmcm9tQ2hlY2t2YWwpKSxwb3MmJnJlc3VsdCYmY3VycmVudFJlc3VsdC5wb3MhPT1wb3M/e2J1ZmZlcjpwYXJzZShvcHRzLmlucHV0Rm9ybWF0LGRhdGVQYXJ0cyxvcHRzKS5zcGxpdChcIlwiKSxyZWZyZXNoRnJvbUJ1ZmZlcjp7c3RhcnQ6cG9zLGVuZDpjdXJyZW50UmVzdWx0LnBvc30scG9zOmN1cnJlbnRSZXN1bHQuY2FyZXR8fGN1cnJlbnRSZXN1bHQucG9zfTpyZXN1bHR9LG9uS2V5RG93bjpmdW5jdGlvbiBvbktleURvd24oZSxidWZmZXIsY2FyZXRQb3Msb3B0cyl7dmFyIGlucHV0PXRoaXM7ZS5jdHJsS2V5JiZlLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LlJJR0hUJiYodGhpcy5pbnB1dG1hc2suX3ZhbHVlU2V0KGltcG9ydERhdGUobmV3IERhdGUsb3B0cykpLCQodGhpcykudHJpZ2dlcihcInNldHZhbHVlXCIpKX0sb25Vbk1hc2s6ZnVuY3Rpb24gb25Vbk1hc2sobWFza2VkVmFsdWUsdW5tYXNrZWRWYWx1ZSxvcHRzKXtyZXR1cm4gdW5tYXNrZWRWYWx1ZT9wYXJzZShvcHRzLm91dHB1dEZvcm1hdCxhbmFseXNlTWFzayhtYXNrZWRWYWx1ZSxvcHRzLmlucHV0Rm9ybWF0LG9wdHMpLG9wdHMsITApOnVubWFza2VkVmFsdWV9LGNhc2luZzpmdW5jdGlvbiBjYXNpbmcoZWxlbSx0ZXN0LHBvcyx2YWxpZFBvc2l0aW9ucyl7cmV0dXJuIDA9PXRlc3QubmF0aXZlRGVmLmluZGV4T2YoXCJbYXBdXCIpP2VsZW0udG9Mb3dlckNhc2UoKTowPT10ZXN0Lm5hdGl2ZURlZi5pbmRleE9mKFwiW0FQXVwiKT9lbGVtLnRvVXBwZXJDYXNlKCk6ZWxlbX0sb25CZWZvcmVNYXNrOmZ1bmN0aW9uIG9uQmVmb3JlTWFzayhpbml0aWFsVmFsdWUsb3B0cyl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5pdGlhbFZhbHVlKSYmKGluaXRpYWxWYWx1ZT1pbXBvcnREYXRlKGluaXRpYWxWYWx1ZSxvcHRzKSksaW5pdGlhbFZhbHVlfSxpbnNlcnRNb2RlOiExLHNoaWZ0UG9zaXRpb25zOiExLGtlZXBTdGF0aWM6ITEsaW5wdXRtb2RlOlwibnVtZXJpY1wifX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMikpLF9rZXljb2RlPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygwKSksX2VzY2FwZVJlZ2V4PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMykpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgJD1faW5wdXRtYXNrLmRlZmF1bHQuZGVwZW5kZW5jeUxpYjtmdW5jdGlvbiBhdXRvRXNjYXBlKHR4dCxvcHRzKXtmb3IodmFyIGVzY2FwZWRUeHQ9XCJcIixpPTA7aTx0eHQubGVuZ3RoO2krKylfaW5wdXRtYXNrLmRlZmF1bHQucHJvdG90eXBlLmRlZmluaXRpb25zW3R4dC5jaGFyQXQoaSldfHxvcHRzLmRlZmluaXRpb25zW3R4dC5jaGFyQXQoaSldfHxvcHRzLm9wdGlvbmFsbWFya2VyWzBdPT09dHh0LmNoYXJBdChpKXx8b3B0cy5vcHRpb25hbG1hcmtlclsxXT09PXR4dC5jaGFyQXQoaSl8fG9wdHMucXVhbnRpZmllcm1hcmtlclswXT09PXR4dC5jaGFyQXQoaSl8fG9wdHMucXVhbnRpZmllcm1hcmtlclsxXT09PXR4dC5jaGFyQXQoaSl8fG9wdHMuZ3JvdXBtYXJrZXJbMF09PT10eHQuY2hhckF0KGkpfHxvcHRzLmdyb3VwbWFya2VyWzFdPT09dHh0LmNoYXJBdChpKXx8b3B0cy5hbHRlcm5hdG9ybWFya2VyPT09dHh0LmNoYXJBdChpKT9lc2NhcGVkVHh0Kz1cIlxcXFxcIit0eHQuY2hhckF0KGkpOmVzY2FwZWRUeHQrPXR4dC5jaGFyQXQoaSk7cmV0dXJuIGVzY2FwZWRUeHR9ZnVuY3Rpb24gYWxpZ25EaWdpdHMoYnVmZmVyLGRpZ2l0cyxvcHRzLGZvcmNlKXtpZigwPGJ1ZmZlci5sZW5ndGgmJjA8ZGlnaXRzJiYoIW9wdHMuZGlnaXRzT3B0aW9uYWx8fGZvcmNlKSl7dmFyIHJhZGl4UG9zaXRpb249YnVmZmVyLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KSxuZWdhdGlvbkJhY2s9ITE7b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrPT09YnVmZmVyW2J1ZmZlci5sZW5ndGgtMV0mJihuZWdhdGlvbkJhY2s9ITAsYnVmZmVyLmxlbmd0aC0tKSwtMT09PXJhZGl4UG9zaXRpb24mJihidWZmZXIucHVzaChvcHRzLnJhZGl4UG9pbnQpLHJhZGl4UG9zaXRpb249YnVmZmVyLmxlbmd0aC0xKTtmb3IodmFyIGk9MTtpPD1kaWdpdHM7aSsrKWlzRmluaXRlKGJ1ZmZlcltyYWRpeFBvc2l0aW9uK2ldKXx8KGJ1ZmZlcltyYWRpeFBvc2l0aW9uK2ldPVwiMFwiKX1yZXR1cm4gbmVnYXRpb25CYWNrJiZidWZmZXIucHVzaChvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spLGJ1ZmZlcn1mdW5jdGlvbiBmaW5kVmFsaWRhdG9yKHN5bWJvbCxtYXNrc2V0KXt2YXIgcG9zTmR4PTA7aWYoXCIrXCI9PT1zeW1ib2wpe2Zvcihwb3NOZHggaW4gbWFza3NldC52YWxpZFBvc2l0aW9ucyk7cG9zTmR4PXBhcnNlSW50KHBvc05keCl9Zm9yKHZhciB0c3ROZHggaW4gbWFza3NldC50ZXN0cylpZih0c3ROZHg9cGFyc2VJbnQodHN0TmR4KSxwb3NOZHg8PXRzdE5keClmb3IodmFyIG5keD0wLG5keGw9bWFza3NldC50ZXN0c1t0c3ROZHhdLmxlbmd0aDtuZHg8bmR4bDtuZHgrKylpZigodm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1t0c3ROZHhdfHxcIi1cIj09PXN5bWJvbCkmJm1hc2tzZXQudGVzdHNbdHN0TmR4XVtuZHhdLm1hdGNoLmRlZj09PXN5bWJvbClyZXR1cm4gdHN0TmR4Kyh2b2lkIDAhPT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3RzdE5keF0mJlwiLVwiIT09c3ltYm9sPzE6MCk7cmV0dXJuIHBvc05keH1mdW5jdGlvbiBmaW5kVmFsaWQoc3ltYm9sLG1hc2tzZXQpe3ZhciByZXQ9LTE7Zm9yKHZhciBuZHggaW4gbWFza3NldC52YWxpZFBvc2l0aW9ucyl7dmFyIHRzdD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW25keF07aWYodHN0JiZ0c3QubWF0Y2guZGVmPT09c3ltYm9sKXtyZXQ9cGFyc2VJbnQobmR4KTticmVha319cmV0dXJuIHJldH1mdW5jdGlvbiBwYXJzZU1pbk1heE9wdGlvbnMob3B0cyl7dm9pZCAwPT09b3B0cy5wYXJzZU1pbk1heE9wdGlvbnMmJihudWxsIT09b3B0cy5taW4mJihvcHRzLm1pbj1vcHRzLm1pbi50b1N0cmluZygpLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5ncm91cFNlcGFyYXRvciksXCJnXCIpLFwiXCIpLFwiLFwiPT09b3B0cy5yYWRpeFBvaW50JiYob3B0cy5taW49b3B0cy5taW4ucmVwbGFjZShvcHRzLnJhZGl4UG9pbnQsXCIuXCIpKSxvcHRzLm1pbj1pc0Zpbml0ZShvcHRzLm1pbik/cGFyc2VGbG9hdChvcHRzLm1pbik6TmFOLGlzTmFOKG9wdHMubWluKSYmKG9wdHMubWluPU51bWJlci5NSU5fVkFMVUUpKSxudWxsIT09b3B0cy5tYXgmJihvcHRzLm1heD1vcHRzLm1heC50b1N0cmluZygpLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5ncm91cFNlcGFyYXRvciksXCJnXCIpLFwiXCIpLFwiLFwiPT09b3B0cy5yYWRpeFBvaW50JiYob3B0cy5tYXg9b3B0cy5tYXgucmVwbGFjZShvcHRzLnJhZGl4UG9pbnQsXCIuXCIpKSxvcHRzLm1heD1pc0Zpbml0ZShvcHRzLm1heCk/cGFyc2VGbG9hdChvcHRzLm1heCk6TmFOLGlzTmFOKG9wdHMubWF4KSYmKG9wdHMubWF4PU51bWJlci5NQVhfVkFMVUUpKSxvcHRzLnBhcnNlTWluTWF4T3B0aW9ucz1cImRvbmVcIil9ZnVuY3Rpb24gZ2VuTWFzayhvcHRzKXtvcHRzLnJlcGVhdD0wLG9wdHMuZ3JvdXBTZXBhcmF0b3I9PT1vcHRzLnJhZGl4UG9pbnQmJm9wdHMuZGlnaXRzJiZcIjBcIiE9PW9wdHMuZGlnaXRzJiYoXCIuXCI9PT1vcHRzLnJhZGl4UG9pbnQ/b3B0cy5ncm91cFNlcGFyYXRvcj1cIixcIjpcIixcIj09PW9wdHMucmFkaXhQb2ludD9vcHRzLmdyb3VwU2VwYXJhdG9yPVwiLlwiOm9wdHMuZ3JvdXBTZXBhcmF0b3I9XCJcIiksXCIgXCI9PT1vcHRzLmdyb3VwU2VwYXJhdG9yJiYob3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPXZvaWQgMCksMTxvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCYmKG9wdHMucGxhY2Vob2xkZXI9b3B0cy5wbGFjZWhvbGRlci5jaGFyQXQoMCkpLFwicmFkaXhGb2N1c1wiPT09b3B0cy5wb3NpdGlvbkNhcmV0T25DbGljayYmXCJcIj09PW9wdHMucGxhY2Vob2xkZXImJihvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrPVwibHZwXCIpO3ZhciBkZWNpbWFsRGVmPVwiMFwiLHJhZGl4UG9pbnREZWY9b3B0cy5yYWRpeFBvaW50OyEwPT09b3B0cy5udW1lcmljSW5wdXQmJnZvaWQgMD09PW9wdHMuX19maW5hbmNlSW5wdXQ/KGRlY2ltYWxEZWY9XCIxXCIsb3B0cy5wb3NpdGlvbkNhcmV0T25DbGljaz1cInJhZGl4Rm9jdXNcIj09PW9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2s/XCJsdnBcIjpvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrLG9wdHMuZGlnaXRzT3B0aW9uYWw9ITEsaXNOYU4ob3B0cy5kaWdpdHMpJiYob3B0cy5kaWdpdHM9Miksb3B0cy5fcmFkaXhEYW5jZT0hMSxyYWRpeFBvaW50RGVmPVwiLFwiPT09b3B0cy5yYWRpeFBvaW50P1wiP1wiOlwiIVwiLFwiXCIhPT1vcHRzLnJhZGl4UG9pbnQmJnZvaWQgMD09PW9wdHMuZGVmaW5pdGlvbnNbcmFkaXhQb2ludERlZl0mJihvcHRzLmRlZmluaXRpb25zW3JhZGl4UG9pbnREZWZdPXt9LG9wdHMuZGVmaW5pdGlvbnNbcmFkaXhQb2ludERlZl0udmFsaWRhdG9yPVwiW1wiK29wdHMucmFkaXhQb2ludCtcIl1cIixvcHRzLmRlZmluaXRpb25zW3JhZGl4UG9pbnREZWZdLnBsYWNlaG9sZGVyPW9wdHMucmFkaXhQb2ludCxvcHRzLmRlZmluaXRpb25zW3JhZGl4UG9pbnREZWZdLnN0YXRpYz0hMCxvcHRzLmRlZmluaXRpb25zW3JhZGl4UG9pbnREZWZdLmdlbmVyYXRlZD0hMCkpOihvcHRzLl9fZmluYW5jZUlucHV0PSExLG9wdHMubnVtZXJpY0lucHV0PSEwKTt2YXIgbWFzaz1cIlsrXVwiLGFsdE1hc2s7aWYobWFzays9YXV0b0VzY2FwZShvcHRzLnByZWZpeCxvcHRzKSxcIlwiIT09b3B0cy5ncm91cFNlcGFyYXRvcj8odm9pZCAwPT09b3B0cy5kZWZpbml0aW9uc1tvcHRzLmdyb3VwU2VwYXJhdG9yXSYmKG9wdHMuZGVmaW5pdGlvbnNbb3B0cy5ncm91cFNlcGFyYXRvcl09e30sb3B0cy5kZWZpbml0aW9uc1tvcHRzLmdyb3VwU2VwYXJhdG9yXS52YWxpZGF0b3I9XCJbXCIrb3B0cy5ncm91cFNlcGFyYXRvcitcIl1cIixvcHRzLmRlZmluaXRpb25zW29wdHMuZ3JvdXBTZXBhcmF0b3JdLnBsYWNlaG9sZGVyPW9wdHMuZ3JvdXBTZXBhcmF0b3Isb3B0cy5kZWZpbml0aW9uc1tvcHRzLmdyb3VwU2VwYXJhdG9yXS5zdGF0aWM9ITAsb3B0cy5kZWZpbml0aW9uc1tvcHRzLmdyb3VwU2VwYXJhdG9yXS5nZW5lcmF0ZWQ9ITApLG1hc2srPW9wdHMuX21hc2sob3B0cykpOm1hc2srPVwiOXsrfVwiLHZvaWQgMCE9PW9wdHMuZGlnaXRzJiYwIT09b3B0cy5kaWdpdHMpe3ZhciBkcT1vcHRzLmRpZ2l0cy50b1N0cmluZygpLnNwbGl0KFwiLFwiKTtpc0Zpbml0ZShkcVswXSkmJmRxWzFdJiZpc0Zpbml0ZShkcVsxXSk/bWFzays9cmFkaXhQb2ludERlZitkZWNpbWFsRGVmK1wie1wiK29wdHMuZGlnaXRzK1wifVwiOihpc05hTihvcHRzLmRpZ2l0cyl8fDA8cGFyc2VJbnQob3B0cy5kaWdpdHMpKSYmKG9wdHMuZGlnaXRzT3B0aW9uYWw/KGFsdE1hc2s9bWFzaytyYWRpeFBvaW50RGVmK2RlY2ltYWxEZWYrXCJ7MCxcIitvcHRzLmRpZ2l0cytcIn1cIixvcHRzLmtlZXBTdGF0aWM9ITApOm1hc2srPXJhZGl4UG9pbnREZWYrZGVjaW1hbERlZitcIntcIitvcHRzLmRpZ2l0cytcIn1cIil9cmV0dXJuIG1hc2srPWF1dG9Fc2NhcGUob3B0cy5zdWZmaXgsb3B0cyksbWFzays9XCJbLV1cIixhbHRNYXNrJiYobWFzaz1bYWx0TWFzaythdXRvRXNjYXBlKG9wdHMuc3VmZml4LG9wdHMpK1wiWy1dXCIsbWFza10pLG9wdHMuZ3JlZWR5PSExLHBhcnNlTWluTWF4T3B0aW9ucyhvcHRzKSxtYXNrfWZ1bmN0aW9uIGhhbm5kbGVSYWRpeERhbmNlKHBvcyxjLHJhZGl4UG9zLG1hc2tzZXQsb3B0cyl7cmV0dXJuIG9wdHMuX3JhZGl4RGFuY2UmJm9wdHMubnVtZXJpY0lucHV0JiZjIT09b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrJiZwb3M8PXJhZGl4UG9zJiYoMDxyYWRpeFBvc3x8Yz09b3B0cy5yYWRpeFBvaW50KSYmKHZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zLTFdfHxtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvcy0xXS5pbnB1dCE9PW9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykmJihwb3MtPTEpLHBvc31mdW5jdGlvbiBkZWNpbWFsVmFsaWRhdG9yKGNocnMsbWFza3NldCxwb3Msc3RyaWN0LG9wdHMpe3ZhciByYWRpeFBvcz1tYXNrc2V0LmJ1ZmZlcj9tYXNrc2V0LmJ1ZmZlci5pbmRleE9mKG9wdHMucmFkaXhQb2ludCk6LTEscmVzdWx0PS0xIT09cmFkaXhQb3MmJm5ldyBSZWdFeHAoXCJbMC05XFx1ZmYxMS1cXHVmZjE5XVwiKS50ZXN0KGNocnMpO3JldHVybiBvcHRzLl9yYWRpeERhbmNlJiZyZXN1bHQmJm51bGw9PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmFkaXhQb3NdP3tpbnNlcnQ6e3BvczpyYWRpeFBvcz09PXBvcz9yYWRpeFBvcysxOnJhZGl4UG9zLGM6b3B0cy5yYWRpeFBvaW50fSxwb3M6cG9zfTpyZXN1bHR9ZnVuY3Rpb24gY2hlY2tGb3JMZWFkaW5nWmVyb2VzKGJ1ZmZlcixvcHRzKXt2YXIgbnVtYmVyTWF0Y2hlcz1uZXcgUmVnRXhwKFwiKF5cIisoXCJcIiE9PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQ/KDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpK1wiP1wiOlwiXCIpKygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLnByZWZpeCkrXCIpKC4qKShcIisoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5zdWZmaXgpKyhcIlwiIT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2s/KDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykrXCI/XCI6XCJcIikrXCIkKVwiKS5leGVjKGJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpKSxudW1iZXI9bnVtYmVyTWF0Y2hlcz9udW1iZXJNYXRjaGVzWzJdOlwiXCIsbGVhZGluZ3plcm9lcz0hMTtyZXR1cm4gbnVtYmVyJiYobnVtYmVyPW51bWJlci5zcGxpdChvcHRzLnJhZGl4UG9pbnQuY2hhckF0KDApKVswXSxsZWFkaW5nemVyb2VzPW5ldyBSZWdFeHAoXCJeWzBcIitvcHRzLmdyb3VwU2VwYXJhdG9yK1wiXSpcIikuZXhlYyhudW1iZXIpKSwhKCFsZWFkaW5nemVyb2VzfHwhKDE8bGVhZGluZ3plcm9lc1swXS5sZW5ndGh8fDA8bGVhZGluZ3plcm9lc1swXS5sZW5ndGgmJmxlYWRpbmd6ZXJvZXNbMF0ubGVuZ3RoPG51bWJlci5sZW5ndGgpKSYmbGVhZGluZ3plcm9lc31faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kQWxpYXNlcyh7bnVtZXJpYzp7bWFzazpnZW5NYXNrLF9tYXNrOmZ1bmN0aW9uIF9tYXNrKG9wdHMpe3JldHVyblwiKFwiK29wdHMuZ3JvdXBTZXBhcmF0b3IrXCI5OTkpeyt8MX1cIn0sZGlnaXRzOlwiKlwiLGRpZ2l0c09wdGlvbmFsOiEwLGVuZm9yY2VEaWdpdHNPbkJsdXI6ITEscmFkaXhQb2ludDpcIi5cIixwb3NpdGlvbkNhcmV0T25DbGljazpcInJhZGl4Rm9jdXNcIixfcmFkaXhEYW5jZTohMCxncm91cFNlcGFyYXRvcjpcIlwiLGFsbG93TWludXM6ITAsbmVnYXRpb25TeW1ib2w6e2Zyb250OlwiLVwiLGJhY2s6XCJcIn0scHJlZml4OlwiXCIsc3VmZml4OlwiXCIsbWluOm51bGwsbWF4Om51bGwsU2V0TWF4T25PdmVyZmxvdzohMSxzdGVwOjEsaW5wdXRUeXBlOlwidGV4dFwiLHVubWFza0FzTnVtYmVyOiExLHJvdW5kaW5nRk46TWF0aC5yb3VuZCxpbnB1dG1vZGU6XCJudW1lcmljXCIsc2hvcnRjdXRzOntrOlwiMDAwXCIsbTpcIjAwMDAwMFwifSxwbGFjZWhvbGRlcjpcIjBcIixncmVlZHk6ITEscmlnaHRBbGlnbjohMCxpbnNlcnRNb2RlOiEwLGF1dG9Vbm1hc2s6ITEsc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjpcIlwiLGRlZmluaXRpb25zOnswOnt2YWxpZGF0b3I6ZGVjaW1hbFZhbGlkYXRvcn0sMTp7dmFsaWRhdG9yOmRlY2ltYWxWYWxpZGF0b3IsZGVmaW5pdGlvblN5bWJvbDpcIjlcIn0sXCIrXCI6e3ZhbGlkYXRvcjpmdW5jdGlvbiB2YWxpZGF0b3IoY2hycyxtYXNrc2V0LHBvcyxzdHJpY3Qsb3B0cyl7cmV0dXJuIG9wdHMuYWxsb3dNaW51cyYmKFwiLVwiPT09Y2hyc3x8Y2hycz09PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpfX0sXCItXCI6e3ZhbGlkYXRvcjpmdW5jdGlvbiB2YWxpZGF0b3IoY2hycyxtYXNrc2V0LHBvcyxzdHJpY3Qsb3B0cyl7cmV0dXJuIG9wdHMuYWxsb3dNaW51cyYmY2hycz09PW9wdHMubmVnYXRpb25TeW1ib2wuYmFja319fSxwcmVWYWxpZGF0aW9uOmZ1bmN0aW9uIHByZVZhbGlkYXRpb24oYnVmZmVyLHBvcyxjLGlzU2VsZWN0aW9uLG9wdHMsbWFza3NldCxjYXJldFBvcyxzdHJpY3Qpe2lmKCExIT09b3B0cy5fX2ZpbmFuY2VJbnB1dCYmYz09PW9wdHMucmFkaXhQb2ludClyZXR1cm4hMTt2YXIgcGF0dGVybjtpZihwYXR0ZXJuPW9wdHMuc2hvcnRjdXRzJiZvcHRzLnNob3J0Y3V0c1tjXSl7aWYoMTxwYXR0ZXJuLmxlbmd0aClmb3IodmFyIGluc2VydHM9W10saT0wO2k8cGF0dGVybi5sZW5ndGg7aSsrKWluc2VydHMucHVzaCh7cG9zOnBvcytpLGM6cGF0dGVybltpXSxzdHJpY3Q6ITF9KTtyZXR1cm57aW5zZXJ0Omluc2VydHN9fXZhciByYWRpeFBvcz1idWZmZXIuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpLGluaXRQb3M9cG9zO2lmKHBvcz1oYW5uZGxlUmFkaXhEYW5jZShwb3MsYyxyYWRpeFBvcyxtYXNrc2V0LG9wdHMpLFwiLVwiPT09Y3x8Yz09PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpe2lmKCEwIT09b3B0cy5hbGxvd01pbnVzKXJldHVybiExO3ZhciBpc05lZ2F0aXZlPSExLGZyb250PWZpbmRWYWxpZChcIitcIixtYXNrc2V0KSxiYWNrPWZpbmRWYWxpZChcIi1cIixtYXNrc2V0KTtyZXR1cm4tMSE9PWZyb250JiYoaXNOZWdhdGl2ZT1bZnJvbnQsYmFja10pLCExIT09aXNOZWdhdGl2ZT97cmVtb3ZlOmlzTmVnYXRpdmUsY2FyZXQ6aW5pdFBvcy1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250Lmxlbmd0aH06e2luc2VydDpbe3BvczpmaW5kVmFsaWRhdG9yKFwiK1wiLG1hc2tzZXQpLGM6b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCxmcm9tSXNWYWxpZDohMH0se3BvczpmaW5kVmFsaWRhdG9yKFwiLVwiLG1hc2tzZXQpLGM6b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrLGZyb21Jc1ZhbGlkOnZvaWQgMH1dLGNhcmV0OmluaXRQb3Mrb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrLmxlbmd0aH19aWYoYz09PW9wdHMuZ3JvdXBTZXBhcmF0b3IpcmV0dXJue2NhcmV0OmluaXRQb3N9O2lmKHN0cmljdClyZXR1cm4hMDtpZigtMSE9PXJhZGl4UG9zJiYhMD09PW9wdHMuX3JhZGl4RGFuY2UmJiExPT09aXNTZWxlY3Rpb24mJmM9PT1vcHRzLnJhZGl4UG9pbnQmJnZvaWQgMCE9PW9wdHMuZGlnaXRzJiYoaXNOYU4ob3B0cy5kaWdpdHMpfHwwPHBhcnNlSW50KG9wdHMuZGlnaXRzKSkmJnJhZGl4UG9zIT09cG9zKXJldHVybntjYXJldDpvcHRzLl9yYWRpeERhbmNlJiZwb3M9PT1yYWRpeFBvcy0xP3JhZGl4UG9zKzE6cmFkaXhQb3N9O2lmKCExPT09b3B0cy5fX2ZpbmFuY2VJbnB1dClpZihpc1NlbGVjdGlvbil7aWYob3B0cy5kaWdpdHNPcHRpb25hbClyZXR1cm57cmV3cml0ZVBvc2l0aW9uOmNhcmV0UG9zLmVuZH07aWYoIW9wdHMuZGlnaXRzT3B0aW9uYWwpe2lmKGNhcmV0UG9zLmJlZ2luPnJhZGl4UG9zJiZjYXJldFBvcy5lbmQ8PXJhZGl4UG9zKXJldHVybiBjPT09b3B0cy5yYWRpeFBvaW50P3tpbnNlcnQ6e3BvczpyYWRpeFBvcysxLGM6XCIwXCIsZnJvbUlzVmFsaWQ6ITB9LHJld3JpdGVQb3NpdGlvbjpyYWRpeFBvc306e3Jld3JpdGVQb3NpdGlvbjpyYWRpeFBvcysxfTtpZihjYXJldFBvcy5iZWdpbjxyYWRpeFBvcylyZXR1cm57cmV3cml0ZVBvc2l0aW9uOmNhcmV0UG9zLmJlZ2luLTF9fX1lbHNlIGlmKCFvcHRzLnNob3dNYXNrT25Ib3ZlciYmIW9wdHMuc2hvd01hc2tPbkZvY3VzJiYhb3B0cy5kaWdpdHNPcHRpb25hbCYmMDxvcHRzLmRpZ2l0cyYmXCJcIj09PXRoaXMuX192YWx1ZUdldC5jYWxsKHRoaXMuZWwpKXJldHVybntyZXdyaXRlUG9zaXRpb246cmFkaXhQb3N9O3JldHVybntyZXdyaXRlUG9zaXRpb246cG9zfX0scG9zdFZhbGlkYXRpb246ZnVuY3Rpb24gcG9zdFZhbGlkYXRpb24oYnVmZmVyLHBvcyxjLGN1cnJlbnRSZXN1bHQsb3B0cyxtYXNrc2V0LHN0cmljdCl7aWYoITE9PT1jdXJyZW50UmVzdWx0KXJldHVybiBjdXJyZW50UmVzdWx0O2lmKHN0cmljdClyZXR1cm4hMDtpZihudWxsIT09b3B0cy5taW58fG51bGwhPT1vcHRzLm1heCl7dmFyIHVubWFza2VkPW9wdHMub25Vbk1hc2soYnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIiksdm9pZCAwLCQuZXh0ZW5kKHt9LG9wdHMse3VubWFza0FzTnVtYmVyOiEwfSkpO2lmKG51bGwhPT1vcHRzLm1pbiYmdW5tYXNrZWQ8b3B0cy5taW4mJih1bm1hc2tlZC50b1N0cmluZygpLmxlbmd0aD5vcHRzLm1pbi50b1N0cmluZygpLmxlbmd0aHx8dW5tYXNrZWQ8MCkpcmV0dXJuITE7aWYobnVsbCE9PW9wdHMubWF4JiZ1bm1hc2tlZD5vcHRzLm1heClyZXR1cm4hIW9wdHMuU2V0TWF4T25PdmVyZmxvdyYme3JlZnJlc2hGcm9tQnVmZmVyOiEwLGJ1ZmZlcjphbGlnbkRpZ2l0cyhvcHRzLm1heC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsb3B0cy5yYWRpeFBvaW50KS5zcGxpdChcIlwiKSxvcHRzLmRpZ2l0cyxvcHRzKS5yZXZlcnNlKCl9fXJldHVybiBjdXJyZW50UmVzdWx0fSxvblVuTWFzazpmdW5jdGlvbiBvblVuTWFzayhtYXNrZWRWYWx1ZSx1bm1hc2tlZFZhbHVlLG9wdHMpe2lmKFwiXCI9PT11bm1hc2tlZFZhbHVlJiYhMD09PW9wdHMubnVsbGFibGUpcmV0dXJuIHVubWFza2VkVmFsdWU7dmFyIHByb2Nlc3NWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LFwiXCIpO3JldHVybiBwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsXCJcIikscHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMuZ3JvdXBTZXBhcmF0b3IpLFwiZ1wiKSxcIlwiKSxcIlwiIT09b3B0cy5wbGFjZWhvbGRlci5jaGFyQXQoMCkmJihwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSxcImdcIiksXCIwXCIpKSxvcHRzLnVubWFza0FzTnVtYmVyPyhcIlwiIT09b3B0cy5yYWRpeFBvaW50JiYtMSE9PXByb2Nlc3NWYWx1ZS5pbmRleE9mKG9wdHMucmFkaXhQb2ludCkmJihwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2UoX2VzY2FwZVJlZ2V4LmRlZmF1bHQuY2FsbCh0aGlzLG9wdHMucmFkaXhQb2ludCksXCIuXCIpKSxwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIisoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkpLFwiLVwiKSxwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKStcIiRcIiksXCJcIiksTnVtYmVyKHByb2Nlc3NWYWx1ZSkpOnByb2Nlc3NWYWx1ZX0saXNDb21wbGV0ZTpmdW5jdGlvbiBpc0NvbXBsZXRlKGJ1ZmZlcixvcHRzKXt2YXIgbWFza2VkVmFsdWU9KG9wdHMubnVtZXJpY0lucHV0P2J1ZmZlci5zbGljZSgpLnJldmVyc2UoKTpidWZmZXIpLmpvaW4oXCJcIik7cmV0dXJuIG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIisoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkpLFwiLVwiKSxtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykrXCIkXCIpLFwiXCIpLG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5wcmVmaXgsXCJcIiksbWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnN1ZmZpeCxcIlwiKSxtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMuZ3JvdXBTZXBhcmF0b3IpK1wiKFswLTldezN9KVwiLFwiZ1wiKSxcIiQxXCIpLFwiLFwiPT09b3B0cy5yYWRpeFBvaW50JiYobWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZSgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5yYWRpeFBvaW50KSxcIi5cIikpLGlzRmluaXRlKG1hc2tlZFZhbHVlKX0sb25CZWZvcmVNYXNrOmZ1bmN0aW9uIG9uQmVmb3JlTWFzayhpbml0aWFsVmFsdWUsb3B0cyl7dmFyIHJhZGl4UG9pbnQ9b3B0cy5yYWRpeFBvaW50fHxcIixcIjtpc0Zpbml0ZShvcHRzLmRpZ2l0cykmJihvcHRzLmRpZ2l0cz1wYXJzZUludChvcHRzLmRpZ2l0cykpLFwibnVtYmVyXCIhPXR5cGVvZiBpbml0aWFsVmFsdWUmJlwibnVtYmVyXCIhPT1vcHRzLmlucHV0VHlwZXx8XCJcIj09PXJhZGl4UG9pbnR8fChpbml0aWFsVmFsdWU9aW5pdGlhbFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixyYWRpeFBvaW50KSk7dmFyIGlzTmFndGl2ZT1cIi1cIj09PWluaXRpYWxWYWx1ZS5jaGFyQXQoMCl8fGluaXRpYWxWYWx1ZS5jaGFyQXQoMCk9PT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250LHZhbHVlUGFydHM9aW5pdGlhbFZhbHVlLnNwbGl0KHJhZGl4UG9pbnQpLGludGVnZXJQYXJ0PXZhbHVlUGFydHNbMF0ucmVwbGFjZSgvW15cXC0wLTldL2csXCJcIiksZGVjaW1hbFBhcnQ9MTx2YWx1ZVBhcnRzLmxlbmd0aD92YWx1ZVBhcnRzWzFdLnJlcGxhY2UoL1teMC05XS9nLFwiXCIpOlwiXCIsZm9yY2VEaWdpdHM9MTx2YWx1ZVBhcnRzLmxlbmd0aDtpbml0aWFsVmFsdWU9aW50ZWdlclBhcnQrKFwiXCIhPT1kZWNpbWFsUGFydD9yYWRpeFBvaW50K2RlY2ltYWxQYXJ0OmRlY2ltYWxQYXJ0KTt2YXIgZGlnaXRzPTA7aWYoXCJcIiE9PXJhZGl4UG9pbnQmJihkaWdpdHM9b3B0cy5kaWdpdHNPcHRpb25hbD9vcHRzLmRpZ2l0czxkZWNpbWFsUGFydC5sZW5ndGg/b3B0cy5kaWdpdHM6ZGVjaW1hbFBhcnQubGVuZ3RoOm9wdHMuZGlnaXRzLFwiXCIhPT1kZWNpbWFsUGFydHx8IW9wdHMuZGlnaXRzT3B0aW9uYWwpKXt2YXIgZGlnaXRzRmFjdG9yPU1hdGgucG93KDEwLGRpZ2l0c3x8MSk7aW5pdGlhbFZhbHVlPWluaXRpYWxWYWx1ZS5yZXBsYWNlKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShyYWRpeFBvaW50KSxcIi5cIiksaXNOYU4ocGFyc2VGbG9hdChpbml0aWFsVmFsdWUpKXx8KGluaXRpYWxWYWx1ZT0ob3B0cy5yb3VuZGluZ0ZOKHBhcnNlRmxvYXQoaW5pdGlhbFZhbHVlKSpkaWdpdHNGYWN0b3IpL2RpZ2l0c0ZhY3RvcikudG9GaXhlZChkaWdpdHMpKSxpbml0aWFsVmFsdWU9aW5pdGlhbFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixyYWRpeFBvaW50KX1pZigwPT09b3B0cy5kaWdpdHMmJi0xIT09aW5pdGlhbFZhbHVlLmluZGV4T2YocmFkaXhQb2ludCkmJihpbml0aWFsVmFsdWU9aW5pdGlhbFZhbHVlLnN1YnN0cmluZygwLGluaXRpYWxWYWx1ZS5pbmRleE9mKHJhZGl4UG9pbnQpKSksbnVsbCE9PW9wdHMubWlufHxudWxsIT09b3B0cy5tYXgpe3ZhciBudW1iZXJWYWx1ZT1pbml0aWFsVmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKHJhZGl4UG9pbnQsXCIuXCIpO251bGwhPT1vcHRzLm1pbiYmbnVtYmVyVmFsdWU8b3B0cy5taW4/aW5pdGlhbFZhbHVlPW9wdHMubWluLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixyYWRpeFBvaW50KTpudWxsIT09b3B0cy5tYXgmJm51bWJlclZhbHVlPm9wdHMubWF4JiYoaW5pdGlhbFZhbHVlPW9wdHMubWF4LnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixyYWRpeFBvaW50KSl9cmV0dXJuIGlzTmFndGl2ZSYmXCItXCIhPT1pbml0aWFsVmFsdWUuY2hhckF0KDApJiYoaW5pdGlhbFZhbHVlPVwiLVwiK2luaXRpYWxWYWx1ZSksYWxpZ25EaWdpdHMoaW5pdGlhbFZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoXCJcIiksZGlnaXRzLG9wdHMsZm9yY2VEaWdpdHMpLmpvaW4oXCJcIil9LG9uQmVmb3JlV3JpdGU6ZnVuY3Rpb24gb25CZWZvcmVXcml0ZShlLGJ1ZmZlcixjYXJldFBvcyxvcHRzKXtmdW5jdGlvbiBzdHJpcEJ1ZmZlcihidWZmZXIsc3RyaXBSYWRpeCl7aWYoITEhPT1vcHRzLl9fZmluYW5jZUlucHV0fHxzdHJpcFJhZGl4KXt2YXIgcG9zaXRpb249YnVmZmVyLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KTstMSE9PXBvc2l0aW9uJiZidWZmZXIuc3BsaWNlKHBvc2l0aW9uLDEpfWlmKFwiXCIhPT1vcHRzLmdyb3VwU2VwYXJhdG9yKWZvcig7LTEhPT0ocG9zaXRpb249YnVmZmVyLmluZGV4T2Yob3B0cy5ncm91cFNlcGFyYXRvcikpOylidWZmZXIuc3BsaWNlKHBvc2l0aW9uLDEpO3JldHVybiBidWZmZXJ9dmFyIHJlc3VsdCxsZWFkaW5nemVyb2VzPWNoZWNrRm9yTGVhZGluZ1plcm9lcyhidWZmZXIsb3B0cyk7aWYobGVhZGluZ3plcm9lcylmb3IodmFyIGNhcmV0TmR4PWJ1ZmZlci5qb2luKFwiXCIpLmxhc3RJbmRleE9mKGxlYWRpbmd6ZXJvZXNbMF0uc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikpLShsZWFkaW5nemVyb2VzWzBdPT1sZWFkaW5nemVyb2VzLmlucHV0PzA6MSksb2Zmc2V0PWxlYWRpbmd6ZXJvZXNbMF09PWxlYWRpbmd6ZXJvZXMuaW5wdXQ/MTowLGk9bGVhZGluZ3plcm9lc1swXS5sZW5ndGgtb2Zmc2V0OzA8aTtpLS0pZGVsZXRlIHRoaXMubWFza3NldC52YWxpZFBvc2l0aW9uc1tjYXJldE5keCtpXSxkZWxldGUgYnVmZmVyW2NhcmV0TmR4K2ldO2lmKGUpc3dpdGNoKGUudHlwZSl7Y2FzZVwiYmx1clwiOmNhc2VcImNoZWNrdmFsXCI6aWYobnVsbCE9PW9wdHMubWluKXt2YXIgdW5tYXNrZWQ9b3B0cy5vblVuTWFzayhidWZmZXIuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSx2b2lkIDAsJC5leHRlbmQoe30sb3B0cyx7dW5tYXNrQXNOdW1iZXI6ITB9KSk7aWYobnVsbCE9PW9wdHMubWluJiZ1bm1hc2tlZDxvcHRzLm1pbilyZXR1cm57cmVmcmVzaEZyb21CdWZmZXI6ITAsYnVmZmVyOmFsaWduRGlnaXRzKG9wdHMubWluLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixvcHRzLnJhZGl4UG9pbnQpLnNwbGl0KFwiXCIpLG9wdHMuZGlnaXRzLG9wdHMpLnJldmVyc2UoKX19aWYoYnVmZmVyW2J1ZmZlci5sZW5ndGgtMV09PT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KXt2YXIgbm1ick10Y2hzPW5ldyBSZWdFeHAoXCIoXlwiKyhcIlwiIT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250PygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KStcIj9cIjpcIlwiKSsoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5wcmVmaXgpK1wiKSguKikoXCIrKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMuc3VmZml4KSsoXCJcIiE9b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrPygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spK1wiP1wiOlwiXCIpK1wiJClcIikuZXhlYyhzdHJpcEJ1ZmZlcihidWZmZXIuc2xpY2UoKSwhMCkucmV2ZXJzZSgpLmpvaW4oXCJcIikpLG51bWJlcj1ubWJyTXRjaHM/bm1ick10Y2hzWzJdOlwiXCI7MD09bnVtYmVyJiYocmVzdWx0PXtyZWZyZXNoRnJvbUJ1ZmZlcjohMCxidWZmZXI6WzBdfSl9ZWxzZVwiXCIhPT1vcHRzLnJhZGl4UG9pbnQmJmJ1ZmZlclswXT09PW9wdHMucmFkaXhQb2ludCYmKHJlc3VsdCYmcmVzdWx0LmJ1ZmZlcj9yZXN1bHQuYnVmZmVyLnNoaWZ0KCk6KGJ1ZmZlci5zaGlmdCgpLHJlc3VsdD17cmVmcmVzaEZyb21CdWZmZXI6ITAsYnVmZmVyOnN0cmlwQnVmZmVyKGJ1ZmZlcil9KSk7aWYob3B0cy5lbmZvcmNlRGlnaXRzT25CbHVyKXtyZXN1bHQ9cmVzdWx0fHx7fTt2YXIgYmZmcj1yZXN1bHQmJnJlc3VsdC5idWZmZXJ8fGJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKTtyZXN1bHQucmVmcmVzaEZyb21CdWZmZXI9ITAscmVzdWx0LmJ1ZmZlcj1hbGlnbkRpZ2l0cyhiZmZyLG9wdHMuZGlnaXRzLG9wdHMsITApLnJldmVyc2UoKX19cmV0dXJuIHJlc3VsdH0sb25LZXlEb3duOmZ1bmN0aW9uIG9uS2V5RG93bihlLGJ1ZmZlcixjYXJldFBvcyxvcHRzKXt2YXIgJGlucHV0PSQodGhpcyksYmZmcjtpZihlLmN0cmxLZXkpc3dpdGNoKGUua2V5Q29kZSl7Y2FzZSBfa2V5Y29kZS5kZWZhdWx0LlVQOnJldHVybiB0aGlzLmlucHV0bWFzay5fX3ZhbHVlU2V0LmNhbGwodGhpcyxwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSkrcGFyc2VJbnQob3B0cy5zdGVwKSksJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiKSwhMTtjYXNlIF9rZXljb2RlLmRlZmF1bHQuRE9XTjpyZXR1cm4gdGhpcy5pbnB1dG1hc2suX192YWx1ZVNldC5jYWxsKHRoaXMscGFyc2VGbG9hdCh0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkpLXBhcnNlSW50KG9wdHMuc3RlcCkpLCRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIiksITF9aWYoIWUuc2hpZnRLZXkmJihlLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURXx8ZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0V8fGUua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFX1NBRkFSSSkmJmNhcmV0UG9zLmJlZ2luIT09YnVmZmVyLmxlbmd0aCl7aWYoYnVmZmVyW2Uua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFP2NhcmV0UG9zLmJlZ2luLTE6Y2FyZXRQb3MuZW5kXT09PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpcmV0dXJuIGJmZnI9YnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLFwiXCIhPT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250JiZiZmZyLnNoaWZ0KCksXCJcIiE9PW9wdHMubmVnYXRpb25TeW1ib2wuYmFjayYmYmZmci5wb3AoKSwkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlXCIsW2JmZnIuam9pbihcIlwiKSxjYXJldFBvcy5iZWdpbl0pLCExO2lmKCEwPT09b3B0cy5fcmFkaXhEYW5jZSl7dmFyIHJhZGl4UG9zPWJ1ZmZlci5pbmRleE9mKG9wdHMucmFkaXhQb2ludCk7aWYob3B0cy5kaWdpdHNPcHRpb25hbCl7aWYoMD09PXJhZGl4UG9zKXJldHVybiBiZmZyPWJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKSxiZmZyLnBvcCgpLCRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIixbYmZmci5qb2luKFwiXCIpLGNhcmV0UG9zLmJlZ2luPj1iZmZyLmxlbmd0aD9iZmZyLmxlbmd0aDpjYXJldFBvcy5iZWdpbl0pLCExfWVsc2UgaWYoLTEhPT1yYWRpeFBvcyYmKGNhcmV0UG9zLmJlZ2luPHJhZGl4UG9zfHxjYXJldFBvcy5lbmQ8cmFkaXhQb3N8fGUua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFJiZjYXJldFBvcy5iZWdpbj09PXJhZGl4UG9zKSlyZXR1cm4gY2FyZXRQb3MuYmVnaW4hPT1jYXJldFBvcy5lbmR8fGUua2V5Q29kZSE9PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFJiZlLmtleUNvZGUhPT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRV9TQUZBUkl8fGNhcmV0UG9zLmJlZ2luKyssYmZmcj1idWZmZXIuc2xpY2UoKS5yZXZlcnNlKCksYmZmci5zcGxpY2UoYmZmci5sZW5ndGgtY2FyZXRQb3MuYmVnaW4sY2FyZXRQb3MuYmVnaW4tY2FyZXRQb3MuZW5kKzEpLGJmZnI9YWxpZ25EaWdpdHMoYmZmcixvcHRzLmRpZ2l0cyxvcHRzKS5qb2luKFwiXCIpLCRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIixbYmZmcixjYXJldFBvcy5iZWdpbj49YmZmci5sZW5ndGg/cmFkaXhQb3MrMTpjYXJldFBvcy5iZWdpbl0pLCExfX19fSxjdXJyZW5jeTp7cHJlZml4OlwiXCIsZ3JvdXBTZXBhcmF0b3I6XCIsXCIsYWxpYXM6XCJudW1lcmljXCIsZGlnaXRzOjIsZGlnaXRzT3B0aW9uYWw6ITF9LGRlY2ltYWw6e2FsaWFzOlwibnVtZXJpY1wifSxpbnRlZ2VyOnthbGlhczpcIm51bWVyaWNcIixkaWdpdHM6MH0scGVyY2VudGFnZTp7YWxpYXM6XCJudW1lcmljXCIsbWluOjAsbWF4OjEwMCxzdWZmaXg6XCIgJVwiLGRpZ2l0czowLGFsbG93TWludXM6ITF9LGluZGlhbm5zOnthbGlhczpcIm51bWVyaWNcIixfbWFzazpmdW5jdGlvbiBfbWFzayhvcHRzKXtyZXR1cm5cIihcIitvcHRzLmdyb3VwU2VwYXJhdG9yK1wiOTkpeyp8MX0oXCIrb3B0cy5ncm91cFNlcGFyYXRvcitcIjk5OSl7MXwxfVwifSxncm91cFNlcGFyYXRvcjpcIixcIixyYWRpeFBvaW50OlwiLlwiLHBsYWNlaG9sZGVyOlwiMFwiLGRpZ2l0czoyLGRpZ2l0c09wdGlvbmFsOiExfX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX3dpbmRvdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNSkpLF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSxfY2FuVXNlRE9NPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2KSk7ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9LF90eXBlb2Yob2JqKX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3Msd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJl9zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKX1mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCl7dmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3Q9X2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpO3JldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpe3ZhciBTdXBlcj1fZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCkscmVzdWx0O2lmKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3Qpe3ZhciBOZXdUYXJnZXQ9X2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO3Jlc3VsdD1SZWZsZWN0LmNvbnN0cnVjdChTdXBlcixhcmd1bWVudHMsTmV3VGFyZ2V0KX1lbHNlIHJlc3VsdD1TdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMscmVzdWx0KX19ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9PV90eXBlb2YoY2FsbCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/X2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTpjYWxsfWZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZil7aWYodm9pZCAwPT09c2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHNlbGZ9ZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyl7dmFyIF9jYWNoZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIF93cmFwTmF0aXZlU3VwZXI9ZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyl7aWYobnVsbD09PUNsYXNzfHwhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKXJldHVybiBDbGFzcztpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIF9jYWNoZSl7aWYoX2NhY2hlLmhhcyhDbGFzcykpcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO19jYWNoZS5zZXQoQ2xhc3MsV3JhcHBlcil9ZnVuY3Rpb24gV3JhcHBlcigpe3JldHVybiBfY29uc3RydWN0KENsYXNzLGFyZ3VtZW50cyxfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpfXJldHVybiBXcmFwcGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOldyYXBwZXIsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsQ2xhc3MpfSxfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKX1mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCxhcmdzLENsYXNzKXtyZXR1cm4gX2NvbnN0cnVjdD1faXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk/UmVmbGVjdC5jb25zdHJ1Y3Q6ZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsYXJncyxDbGFzcyl7dmFyIGE9W251bGxdO2EucHVzaC5hcHBseShhLGFyZ3MpO3ZhciBDb25zdHJ1Y3Rvcj1GdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCxhKSxpbnN0YW5jZT1uZXcgQ29uc3RydWN0b3I7cmV0dXJuIENsYXNzJiZfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsQ2xhc3MucHJvdG90eXBlKSxpbnN0YW5jZX0sX2NvbnN0cnVjdC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pe3JldHVybi0xIT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIil9ZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8scCl7cmV0dXJuIF9zZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLHApe3JldHVybiBvLl9fcHJvdG9fXz1wLG99LF9zZXRQcm90b3R5cGVPZihvLHApfWZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKXtyZXR1cm4gX2dldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pe3JldHVybiBvLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKG8pfSxfZ2V0UHJvdG90eXBlT2Yobyl9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciBkb2N1bWVudD1fd2luZG93LmRlZmF1bHQuZG9jdW1lbnQ7aWYoX2NhblVzZURPTS5kZWZhdWx0JiZkb2N1bWVudCYmZG9jdW1lbnQuaGVhZCYmZG9jdW1lbnQuaGVhZC5hdHRhY2hTaGFkb3cmJl93aW5kb3cuZGVmYXVsdC5jdXN0b21FbGVtZW50cyYmdm9pZCAwPT09X3dpbmRvdy5kZWZhdWx0LmN1c3RvbUVsZW1lbnRzLmdldChcImlucHV0LW1hc2tcIikpe3ZhciBJbnB1dG1hc2tFbGVtZW50PWZ1bmN0aW9uKF9IVE1MRWxlbWVudCl7X2luaGVyaXRzKElucHV0bWFza0VsZW1lbnQsX0hUTUxFbGVtZW50KTt2YXIgX3N1cGVyPV9jcmVhdGVTdXBlcihJbnB1dG1hc2tFbGVtZW50KTtmdW5jdGlvbiBJbnB1dG1hc2tFbGVtZW50KCl7dmFyIF90aGlzO19jbGFzc0NhbGxDaGVjayh0aGlzLElucHV0bWFza0VsZW1lbnQpLF90aGlzPV9zdXBlci5jYWxsKHRoaXMpO3ZhciBhdHRyaWJ1dGVOYW1lcz1fdGhpcy5nZXRBdHRyaWJ1dGVOYW1lcygpLHNoYWRvdz1fdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6XCJjbG9zZWRcIn0pLGlucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtmb3IodmFyIGF0dHIgaW4gaW5wdXQudHlwZT1cInRleHRcIixzaGFkb3cuYXBwZW5kQ2hpbGQoaW5wdXQpLGF0dHJpYnV0ZU5hbWVzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdHRyaWJ1dGVOYW1lcyxhdHRyKSYmaW5wdXQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWVzW2F0dHJdLF90aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lc1thdHRyXSkpO3ZhciBpbT1uZXcgX2lucHV0bWFzay5kZWZhdWx0O3JldHVybiBpbS5kYXRhQXR0cmlidXRlPVwiXCIsaW0ubWFzayhpbnB1dCksaW5wdXQuaW5wdXRtYXNrLnNoYWRvd1Jvb3Q9c2hhZG93LF90aGlzfXJldHVybiBJbnB1dG1hc2tFbGVtZW50fShfd3JhcE5hdGl2ZVN1cGVyKEhUTUxFbGVtZW50KSk7X3dpbmRvdy5kZWZhdWx0LmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImlucHV0LW1hc2tcIixJbnB1dG1hc2tFbGVtZW50KX19XSxpbnN0YWxsZWRNb2R1bGVzPXt9LF9fd2VicGFja19yZXF1aXJlX18ubT1tb2R1bGVzLF9fd2VicGFja19yZXF1aXJlX18uYz1pbnN0YWxsZWRNb2R1bGVzLF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbihleHBvcnRzLG5hbWUsZ2V0dGVyKXtfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cyxuYW1lKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsbmFtZSx7ZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnQ9ZnVuY3Rpb24odmFsdWUsbW9kZSl7aWYoMSZtb2RlJiYodmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSkpLDgmbW9kZSlyZXR1cm4gdmFsdWU7aWYoNCZtb2RlJiZcIm9iamVjdFwiPT10eXBlb2YgdmFsdWUmJnZhbHVlJiZ2YWx1ZS5fX2VzTW9kdWxlKXJldHVybiB2YWx1ZTt2YXIgbnM9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp2YWx1ZX0pLDImbW9kZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHZhbHVlKWZvcih2YXIga2V5IGluIHZhbHVlKV9fd2VicGFja19yZXF1aXJlX18uZChucyxrZXksZnVuY3Rpb24oa2V5KXtyZXR1cm4gdmFsdWVba2V5XX0uYmluZChudWxsLGtleSkpO3JldHVybiBuc30sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uIGdldERlZmF1bHQoKXtyZXR1cm4gbW9kdWxlLmRlZmF1bHR9OmZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKXtyZXR1cm4gbW9kdWxlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlcixcImFcIixnZXR0ZXIpLGdldHRlcn0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QscHJvcGVydHkpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0xNCk7ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c312YXIgbW9kdWxlcyxpbnN0YWxsZWRNb2R1bGVzfSk7IiwiLyohIGpzLWNvb2tpZSB2My4wLjAtcmMuMSB8IE1JVCAqL1xuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9ZXx8c2VsZixmdW5jdGlvbigpe3ZhciBuPWUuQ29va2llcyxyPWUuQ29va2llcz10KCk7ci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGUuQ29va2llcz1uLHJ9fSgpKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKWVbcl09bltyXX1yZXR1cm4gZX12YXIgdD17cmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8oJVtcXGRBLUZdezJ9KSsvZ2ksZGVjb2RlVVJJQ29tcG9uZW50KX0sd3JpdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lKDJbMzQ2QkZdfDNbQUMtRl18NDB8NVtCREVdfDYwfDdbQkNEXSkvZyxkZWNvZGVVUklDb21wb25lbnQpfX07cmV0dXJuIGZ1bmN0aW9uIG4ocixvKXtmdW5jdGlvbiBpKHQsbixpKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQpe1wibnVtYmVyXCI9PXR5cGVvZihpPWUoe30sbyxpKSkuZXhwaXJlcyYmKGkuZXhwaXJlcz1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1KmkuZXhwaXJlcykpLGkuZXhwaXJlcyYmKGkuZXhwaXJlcz1pLmV4cGlyZXMudG9VVENTdHJpbmcoKSksdD1lbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvJSgyWzM0NkJdfDVFfDYwfDdDKS9nLGRlY29kZVVSSUNvbXBvbmVudCkucmVwbGFjZSgvWygpXS9nLGVzY2FwZSksbj1yLndyaXRlKG4sdCk7dmFyIGM9XCJcIjtmb3IodmFyIHUgaW4gaSlpW3VdJiYoYys9XCI7IFwiK3UsITAhPT1pW3VdJiYoYys9XCI9XCIraVt1XS5zcGxpdChcIjtcIilbMF0pKTtyZXR1cm4gZG9jdW1lbnQuY29va2llPXQrXCI9XCIrbitjfX1yZXR1cm4gT2JqZWN0LmNyZWF0ZSh7c2V0OmksZ2V0OmZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKCFhcmd1bWVudHMubGVuZ3RofHxlKSl7Zm9yKHZhciBuPWRvY3VtZW50LmNvb2tpZT9kb2N1bWVudC5jb29raWUuc3BsaXQoXCI7IFwiKTpbXSxvPXt9LGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIGM9bltpXS5zcGxpdChcIj1cIiksdT1jLnNsaWNlKDEpLmpvaW4oXCI9XCIpOydcIic9PT11WzBdJiYodT11LnNsaWNlKDEsLTEpKTt0cnl7dmFyIGY9dC5yZWFkKGNbMF0pO2lmKG9bZl09ci5yZWFkKHUsZiksZT09PWYpYnJlYWt9Y2F0Y2goZSl7fX1yZXR1cm4gZT9vW2VdOm99fSxyZW1vdmU6ZnVuY3Rpb24odCxuKXtpKHQsXCJcIixlKHt9LG4se2V4cGlyZXM6LTF9KSl9LHdpdGhBdHRyaWJ1dGVzOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMuY29udmVydGVyLGUoe30sdGhpcy5hdHRyaWJ1dGVzLHQpKX0sd2l0aENvbnZlcnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gbihlKHt9LHRoaXMuY29udmVydGVyLHQpLHRoaXMuYXR0cmlidXRlcyl9fSx7YXR0cmlidXRlczp7dmFsdWU6T2JqZWN0LmZyZWV6ZShvKX0sY29udmVydGVyOnt2YWx1ZTpPYmplY3QuZnJlZXplKHIpfX0pfSh0LHtwYXRoOlwiL1wifSl9KTtcbiIsIi8qXG4gMEJTRFxuKi9cbihmdW5jdGlvbihGLHkpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHkpOlwib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz15KCk6Ri5waWNrbWV1cD15KCl9KSh0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRihhLGMsYil7Yj1ifHxbXTtpZihhIGluc3RhbmNlb2YgRWxlbWVudCljLmFwcGx5KGMsW2FdLmNvbmNhdChiKSk7ZWxzZXt2YXIgZDt2YXIgZT1hLmxlbmd0aDtmb3IoZD0wO2Q8ZTsrK2QpYy5hcHBseShjLFthW2RdXS5jb25jYXQoYikpfX1mdW5jdGlvbiB5KGEpe0YoYSxmdW5jdGlvbihhKXthLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoYSl9KX1mdW5jdGlvbiBKKGEsYyl7ZG8gYT1hLnBhcmVudEVsZW1lbnQ7d2hpbGUoYSYmIUIoYSxjKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQihhLGMpe3JldHVybihhLm1hdGNoZXN8fGEud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxhLm1zTWF0Y2hlc1NlbGVjdG9yKS5jYWxsKGEsXG5jKX1mdW5jdGlvbiBrKGEsYyl7cmV0dXJuIGEmJmEuY2xhc3NMaXN0LmNvbnRhaW5zKGMpfWZ1bmN0aW9uIGwoYSxjKXthLmNsYXNzTGlzdC5hZGQoYyl9ZnVuY3Rpb24gcShhLGMsYixkKXtpZigtMSE9PWIuaW5kZXhPZihcIiBcIikpe2I9Yi5zcGxpdChcIiBcIik7dmFyIGU9Yi5sZW5ndGgsaDtmb3IoaD0wO2g8ZTsrK2gpcShhLGMsYltoXSxkKX1lbHNlIGEuX19waWNrbWV1cC5ldmVudHMucHVzaChbYyxiLGRdKSxjLmFkZEV2ZW50TGlzdGVuZXIoYixkKX1mdW5jdGlvbiB6KGEsYyxiLGQpe3ZhciBlO2lmKGImJi0xIT09Yi5pbmRleE9mKFwiIFwiKSl7dmFyIGg9Yi5zcGxpdChcIiBcIik7dmFyIGw9aC5sZW5ndGg7Zm9yKGU9MDtlPGw7KytlKXooYSxjLGhbZV0sZCl9ZWxzZSBmb3IoaD1hLl9fcGlja21ldXAuZXZlbnRzLGw9aC5sZW5ndGgsZT0wO2U8bDsrK2UpYyYmYyE9PWhbZV1bMF18fGImJmIhPT1oW2VdWzFdfHxkJiZkIT09aFtlXVsyXXx8aFtlXVswXS5yZW1vdmVFdmVudExpc3RlbmVyKGhbZV1bMV0sXG5oW2VdWzJdKX1mdW5jdGlvbiBNKGEpe2E9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57dG9wOmEudG9wK3dpbmRvdy5wYWdlWU9mZnNldC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wLGxlZnQ6YS5sZWZ0K3dpbmRvdy5wYWdlWE9mZnNldC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50TGVmdH19ZnVuY3Rpb24gQyhhLGMsYil7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtiJiYoZC5kZXRhaWw9Yik7ZC5pbml0RXZlbnQoXCJwaWNrbWV1cC1cIitjLCExLCEwKTtyZXR1cm4gYS5kaXNwYXRjaEV2ZW50KGQpfWZ1bmN0aW9uIEsoYSl7YT1uZXcgRGF0ZShhKTtmb3IodmFyIGM9MjgsYj1hLmdldE1vbnRoKCk7YS5nZXRNb250aCgpPT09YjspKytjLGEuc2V0RGF0ZShjKTtyZXR1cm4gYy0xfWZ1bmN0aW9uIEEoYSxjKXthLnNldERhdGUoYS5nZXREYXRlKCkrYyl9ZnVuY3Rpb24gcChhLGMpe3ZhciBiPWEuZ2V0RGF0ZSgpO2Euc2V0RGF0ZSgxKTtcbmEuc2V0TW9udGgoYS5nZXRNb250aCgpK2MpO2Euc2V0RGF0ZShNYXRoLm1pbihiLEsoYSkpKX1mdW5jdGlvbiB1KGEsYyl7dmFyIGI9YS5nZXREYXRlKCk7YS5zZXREYXRlKDEpO2Euc2V0RnVsbFllYXIoYS5nZXRGdWxsWWVhcigpK2MpO2Euc2V0RGF0ZShNYXRoLm1pbihiLEsoYSkpKX1mdW5jdGlvbiBOKGEpe3ZhciBjPWEuX19waWNrbWV1cC5lbGVtZW50LGI9YS5fX3BpY2ttZXVwLm9wdGlvbnMsZD1NYXRoLmZsb29yKGIuY2FsZW5kYXJzLzIpLGU9Yi5kYXRlLGg9Yi5jdXJyZW50LG09Yi5taW4/bmV3IERhdGUoYi5taW4pOm51bGwsdj1iLm1heD9uZXcgRGF0ZShiLm1heCk6bnVsbDttJiYobS5zZXREYXRlKDEpLHAobSwxKSxBKG0sLTEpKTt2JiYodi5zZXREYXRlKDEpLHAodiwxKSxBKHYsLTEpKTt5KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGMucXVlcnlTZWxlY3RvckFsbChcIi5wbXUtaW5zdGFuY2UgPiA6bm90KG5hdilcIikpKTtmb3IodmFyIHc9MDt3PGIuY2FsZW5kYXJzO3crKyl7dmFyIGY9XG5uZXcgRGF0ZShoKTt4KGYpO3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGMucXVlcnlTZWxlY3RvckFsbChcIi5wbXUtaW5zdGFuY2VcIikpW3ddO2lmKGsoYyxcInBtdS12aWV3LXllYXJzXCIpKXt1KGYsMTIqKHctZCkpO3ZhciBHPWYuZ2V0RnVsbFllYXIoKS02K1wiIC0gXCIrKGYuZ2V0RnVsbFllYXIoKSs1KX1lbHNlIGsoYyxcInBtdS12aWV3LW1vbnRoc1wiKT8odShmLHctZCksRz1mLmdldEZ1bGxZZWFyKCkpOmsoYyxcInBtdS12aWV3LWRheXNcIikmJihwKGYsdy1kKSxHPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBiLnRpdGxlX2Zvcm1hdD9iLnRpdGxlX2Zvcm1hdChmLGIubG9jYWxlc1tiLmxvY2FsZV0pOkQoZixiLnRpdGxlX2Zvcm1hdCxiLmxvY2FsZXNbYi5sb2NhbGVdKSk7aWYoIXImJnYpe3ZhciByPW5ldyBEYXRlKGYpO2Iuc2VsZWN0X2RheT9wKHIsYi5jYWxlbmRhcnMtMSk6Yi5zZWxlY3RfbW9udGg/dShyLGIuY2FsZW5kYXJzLTEpOnUociwxMiooYi5jYWxlbmRhcnMtMSkpO1xuaWYocj52KXstLXc7cChoLC0xKTtyPXZvaWQgMDtjb250aW51ZX19cj1uZXcgRGF0ZShmKTtpZighZyl7dmFyIGc9bmV3IERhdGUoZik7Zy5zZXREYXRlKDEpO3AoZywxKTtBKGcsLTEpO2lmKG0mJm0+Zyl7LS13O3AoaCwxKTtnPXZvaWQgMDtjb250aW51ZX19bi5xdWVyeVNlbGVjdG9yKFwiLnBtdS1tb250aFwiKS5pbm5lckhUTUw9Rzt2YXIgcT1mdW5jdGlvbihhKXtyZXR1cm5cInJhbmdlXCI9PT1iLm1vZGUmJmE+PShuZXcgRGF0ZShlWzBdKSkuZ2V0RnVsbFllYXIoKSYmYTw9KG5ldyBEYXRlKGVbMV0pKS5nZXRGdWxsWWVhcigpfHxcIm11bHRpcGxlXCI9PT1iLm1vZGUmJi0xIT09ZS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXthLnB1c2goKG5ldyBEYXRlKGIpKS5nZXRGdWxsWWVhcigpKTtyZXR1cm4gYX0sW10pLmluZGV4T2YoYSl8fChuZXcgRGF0ZShlKSkuZ2V0RnVsbFllYXIoKT09PWF9LHQ9ZnVuY3Rpb24oYSxjKXt2YXIgZD0obmV3IERhdGUoZVswXSkpLmdldEZ1bGxZZWFyKCksZj0obmV3IERhdGUoZVsxXSkpLmdldEZ1bGxZZWFyKCksXG5oPShuZXcgRGF0ZShlWzBdKSkuZ2V0TW9udGgoKSxnPShuZXcgRGF0ZShlWzFdKSkuZ2V0TW9udGgoKTtyZXR1cm5cInJhbmdlXCI9PT1iLm1vZGUmJihhPmQmJmE8Znx8YT5kJiZhPT09ZiYmYzw9Z3x8YT09PWQmJmE8ZiYmYz49aHx8YT09PWQmJmE9PT1mJiZjPj1oJiZjPD1nKXx8XCJtdWx0aXBsZVwiPT09Yi5tb2RlJiYtMSE9PWUucmVkdWNlKGZ1bmN0aW9uKGEsYil7Yj1uZXcgRGF0ZShiKTthLnB1c2goYi5nZXRGdWxsWWVhcigpK1wiLVwiK2IuZ2V0TW9udGgoKSk7cmV0dXJuIGF9LFtdKS5pbmRleE9mKGErXCItXCIrYyl8fChuZXcgRGF0ZShlKSkuZ2V0RnVsbFllYXIoKT09PWEmJihuZXcgRGF0ZShlKSkuZ2V0TW9udGgoKT09PWN9OyhmdW5jdGlvbigpe3ZhciBhPVtdLGM9Zi5nZXRGdWxsWWVhcigpLTYsZD0obmV3IERhdGUoYi5taW4pKS5nZXRGdWxsWWVhcigpLGU9KG5ldyBEYXRlKGIubWF4KSkuZ2V0RnVsbFllYXIoKSxoO2ZvcihoPTA7MTI+aDsrK2gpe3ZhciBnPWMraDt2YXIgbT1cbmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bS50ZXh0Q29udGVudD1nO20uX19waWNrbWV1cF95ZWFyPWc7Yi5taW4mJmc8ZHx8Yi5tYXgmJmc+ZT9sKG0sXCJwbXUtZGlzYWJsZWRcIik6cShnKSYmbChtLFwicG11LXNlbGVjdGVkXCIpO2EucHVzaChtKX1uLmFwcGVuZENoaWxkKGIuaW5zdGFuY2VfY29udGVudF90ZW1wbGF0ZShhLFwicG11LXllYXJzXCIpKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9W10sYz1mLmdldEZ1bGxZZWFyKCksZD0obmV3IERhdGUoYi5taW4pKS5nZXRGdWxsWWVhcigpLGU9KG5ldyBEYXRlKGIubWluKSkuZ2V0TW9udGgoKSxnPShuZXcgRGF0ZShiLm1heCkpLmdldEZ1bGxZZWFyKCksaD0obmV3IERhdGUoYi5tYXgpKS5nZXRNb250aCgpLG07Zm9yKG09MDsxMj5tOysrbSl7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtrLnRleHRDb250ZW50PWIubG9jYWxlc1tiLmxvY2FsZV0ubW9udGhzU2hvcnRbbV07ay5fX3BpY2ttZXVwX21vbnRoPW07XG5rLl9fcGlja21ldXBfeWVhcj1jO2IubWluJiYoYzxkfHxtPGUmJmM9PT1kKXx8Yi5tYXgmJihjPmd8fG0+aCYmYz49Zyk/bChrLFwicG11LWRpc2FibGVkXCIpOnQoYyxtKSYmbChrLFwicG11LXNlbGVjdGVkXCIpO2EucHVzaChrKX1uLmFwcGVuZENoaWxkKGIuaW5zdGFuY2VfY29udGVudF90ZW1wbGF0ZShhLFwicG11LW1vbnRoc1wiKSl9KSgpOyhmdW5jdGlvbigpe3ZhciBhPVtdLGM9Zi5nZXRNb250aCgpLGQ9eChuZXcgRGF0ZSkudmFsdWVPZigpLGU7KGZ1bmN0aW9uKCl7Zi5zZXREYXRlKDEpO3ZhciBhPShmLmdldERheSgpLWIuZmlyc3RfZGF5KSU3O0EoZiwtKGErKDA+YT83OjApKSl9KSgpO2ZvcihlPTA7NDI+ZTsrK2Upe3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zy50ZXh0Q29udGVudD1mLmdldERhdGUoKTtnLl9fcGlja21ldXBfZGF5PWYuZ2V0RGF0ZSgpO2cuX19waWNrbWV1cF9tb250aD1mLmdldE1vbnRoKCk7Zy5fX3BpY2ttZXVwX3llYXI9Zi5nZXRGdWxsWWVhcigpO1xuYyE9PWYuZ2V0TW9udGgoKSYmbChnLFwicG11LW5vdC1pbi1tb250aFwiKTswPT09Zi5nZXREYXkoKT9sKGcsXCJwbXUtc3VuZGF5XCIpOjY9PT1mLmdldERheSgpJiZsKGcsXCJwbXUtc2F0dXJkYXlcIik7dmFyIGg9Yi5yZW5kZXIobmV3IERhdGUoZikpfHx7fTt2YXIgbT14KG5ldyBEYXRlKGYpKS52YWx1ZU9mKCk7dmFyIGs9Yi5taW4mJmIubWluPmZ8fGIubWF4JiZiLm1heDxmO3ZhciB2PWIuZGF0ZS52YWx1ZU9mKCk9PT1tfHxiLmRhdGUgaW5zdGFuY2VvZiBBcnJheSYmYi5kYXRlLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhfHxtPT09Yi52YWx1ZU9mKCl9LCExKXx8XCJyYW5nZVwiPT09Yi5tb2RlJiZtPj1iLmRhdGVbMF0mJm08PWIuZGF0ZVsxXTtoLmRpc2FibGVkfHwhKFwiZGlzYWJsZWRcImluIGgpJiZrP2woZyxcInBtdS1kaXNhYmxlZFwiKTooaC5zZWxlY3RlZHx8IShcInNlbGVjdGVkXCJpbiBoKSYmdikmJmwoZyxcInBtdS1zZWxlY3RlZFwiKTttPT09ZCYmbChnLFwicG11LXRvZGF5XCIpO1xuaC5jbGFzc19uYW1lJiZoLmNsYXNzX25hbWUuc3BsaXQoXCIgXCIpLmZvckVhY2gobC5iaW5kKGcsZykpO2EucHVzaChnKTtBKGYsMSl9bi5hcHBlbmRDaGlsZChiLmluc3RhbmNlX2NvbnRlbnRfdGVtcGxhdGUoYSxcInBtdS1kYXlzXCIpKX0pKCl9Zy5zZXREYXRlKDEpO3Iuc2V0RGF0ZSgxKTtwKHIsMSk7QShyLC0xKTtkPWMucXVlcnlTZWxlY3RvcihcIi5wbXUtcHJldlwiKTtjPWMucXVlcnlTZWxlY3RvcihcIi5wbXUtbmV4dFwiKTtkJiYoZC5zdHlsZS52aXNpYmlsaXR5PWIubWluJiZiLm1pbj49Zz9cImhpZGRlblwiOlwidmlzaWJsZVwiKTtjJiYoYy5zdHlsZS52aXNpYmlsaXR5PWIubWF4JiZiLm1heDw9cj9cImhpZGRlblwiOlwidmlzaWJsZVwiKTtDKGEsXCJmaWxsXCIpfWZ1bmN0aW9uIHQoYSxjKXt2YXIgYj1jLmZvcm1hdCxkPWMuc2VwYXJhdG9yLGU9Yy5sb2NhbGVzW2MubG9jYWxlXTtpZihhIGluc3RhbmNlb2YgRGF0ZXx8XCJudW1iZXJcIj09PXR5cGVvZiBhKXJldHVybiB4KG5ldyBEYXRlKGEpKTtcbmlmKCFhKXJldHVybiB4KG5ldyBEYXRlKTtpZihhIGluc3RhbmNlb2YgQXJyYXkpe2E9YS5zbGljZSgpO2ZvcihiPTA7YjxhLmxlbmd0aDsrK2IpYVtiXT10KGFbYl0sYyk7cmV0dXJuIGF9ZD1hLnNwbGl0KGQpO2lmKDE8ZC5sZW5ndGgpcmV0dXJuIGQuZm9yRWFjaChmdW5jdGlvbihhLGIsZCl7ZFtiXT10KGEudHJpbSgpLGMpfSksZDtkPVtdLmNvbmNhdChlLmRheXNTaG9ydCxlLmRheXNNaW4sZS5kYXlzLGUubW9udGhzU2hvcnQsZS5tb250aHMpO2Q9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuXCIoXCIrYStcIilcIn0pO2Q9bmV3IFJlZ0V4cChcIlteMC05YS16QS1aXCIrZC5qb2luKFwiXCIpK1wiXStcIik7YT1hLnNwbGl0KGQpO2Q9Yi5zcGxpdChkKTt2YXIgaD1uZXcgRGF0ZTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKXN3aXRjaChkW2JdKXtjYXNlIFwiYlwiOnZhciBtPWUubW9udGhzU2hvcnQuaW5kZXhPZihhW2JdKTticmVhaztjYXNlIFwiQlwiOm09ZS5tb250aHMuaW5kZXhPZihhW2JdKTticmVhaztcbmNhc2UgXCJkXCI6Y2FzZSBcImVcIjp2YXIgbD1wYXJzZUludChhW2JdLDEwKTticmVhaztjYXNlIFwibVwiOm09cGFyc2VJbnQoYVtiXSwxMCktMTticmVhaztjYXNlIFwiWVwiOmNhc2UgXCJ5XCI6dmFyIGs9cGFyc2VJbnQoYVtiXSwxMCk7ays9MTAwPGs/MDoyOT5rPzJFMzoxOTAwO2JyZWFrO2Nhc2UgXCJIXCI6Y2FzZSBcIklcIjpjYXNlIFwia1wiOmNhc2UgXCJsXCI6dmFyIGY9cGFyc2VJbnQoYVtiXSwxMCk7YnJlYWs7Y2FzZSBcIlBcIjpjYXNlIFwicFwiOi9wbS9pLnRlc3QoYVtiXSkmJjEyPmY/Zis9MTI6L2FtL2kudGVzdChhW2JdKSYmMTI8PWYmJihmLT0xMik7YnJlYWs7Y2FzZSBcIk1cIjp2YXIgbj1wYXJzZUludChhW2JdLDEwKX1lPW5ldyBEYXRlKHZvaWQgMD09PWs/aC5nZXRGdWxsWWVhcigpOmssdm9pZCAwPT09bT9oLmdldE1vbnRoKCk6bSx2b2lkIDA9PT1sP2guZ2V0RGF0ZSgpOmwsdm9pZCAwPT09Zj9oLmdldEhvdXJzKCk6Zix2b2lkIDA9PT1uP2guZ2V0TWludXRlcygpOm4sMCk7aXNOYU4oMSplKSYmXG4oZT1uZXcgRGF0ZSk7cmV0dXJuIHgoZSl9ZnVuY3Rpb24geChhKXthLnNldEhvdXJzKDAsMCwwLDApO3JldHVybiBhfWZ1bmN0aW9uIEQoYSxjLGIpe3ZhciBkPWEuZ2V0TW9udGgoKSxlPWEuZ2V0RGF0ZSgpLGg9YS5nZXRGdWxsWWVhcigpLG09YS5nZXREYXkoKSxrPWEuZ2V0SG91cnMoKSxsPTEyPD1rLGY9bD9rLTEyOms7dmFyIG49bmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLGEuZ2V0TW9udGgoKSxhLmdldERhdGUoKSwwLDAsMCk7dmFyIHA9bmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLDAsMCwwLDAsMCk7bj1NYXRoLmZsb29yKChuLXApLzg2NEU1KTswPT09ZiYmKGY9MTIpO3A9YS5nZXRNaW51dGVzKCk7dmFyIHI9YS5nZXRTZWNvbmRzKCk7Yz1jLnNwbGl0KFwiXCIpO2Zvcih2YXIgZyxxPTA7cTxjLmxlbmd0aDtxKyspe2c9Y1txXTtzd2l0Y2goZyl7Y2FzZSBcImFcIjpnPWIuZGF5c1Nob3J0W21dO2JyZWFrO2Nhc2UgXCJBXCI6Zz1iLmRheXNbbV07YnJlYWs7Y2FzZSBcImJcIjpnPWIubW9udGhzU2hvcnRbZF07XG5icmVhaztjYXNlIFwiQlwiOmc9Yi5tb250aHNbZF07YnJlYWs7Y2FzZSBcIkNcIjpnPTErTWF0aC5mbG9vcihoLzEwMCk7YnJlYWs7Y2FzZSBcImRcIjpnPTEwPmU/XCIwXCIrZTplO2JyZWFrO2Nhc2UgXCJlXCI6Zz1lO2JyZWFrO2Nhc2UgXCJIXCI6Zz0xMD5rP1wiMFwiK2s6azticmVhaztjYXNlIFwiSVwiOmc9MTA+Zj9cIjBcIitmOmY7YnJlYWs7Y2FzZSBcImpcIjpnPTEwMD5uPzEwPm4/XCIwMFwiK246XCIwXCIrbjpuO2JyZWFrO2Nhc2UgXCJrXCI6Zz1rO2JyZWFrO2Nhc2UgXCJsXCI6Zz1mO2JyZWFrO2Nhc2UgXCJtXCI6Zz05PmQ/XCIwXCIrKDErZCk6MStkO2JyZWFrO2Nhc2UgXCJNXCI6Zz0xMD5wP1wiMFwiK3A6cDticmVhaztjYXNlIFwicFwiOmNhc2UgXCJQXCI6Zz1sP1wiUE1cIjpcIkFNXCI7YnJlYWs7Y2FzZSBcInNcIjpnPU1hdGguZmxvb3IoYS5nZXRUaW1lKCkvMUUzKTticmVhaztjYXNlIFwiU1wiOmc9MTA+cj9cIjBcIityOnI7YnJlYWs7Y2FzZSBcInVcIjpnPW0rMTticmVhaztjYXNlIFwid1wiOmc9bTticmVhaztjYXNlIFwieVwiOmc9KFwiXCIraCkuc3Vic3RyKDIsXG4yKTticmVhaztjYXNlIFwiWVwiOmc9aH1jW3FdPWd9cmV0dXJuIGMuam9pbihcIlwiKX1mdW5jdGlvbiBPKGEsYyl7dmFyIGI9YS5fX3BpY2ttZXVwLm9wdGlvbnMsZDt4KGMpO2E6c3dpdGNoKGIubW9kZSl7Y2FzZSBcIm11bHRpcGxlXCI6dmFyIGU9Yy52YWx1ZU9mKCk7Zm9yKGQ9MDtkPGIuZGF0ZS5sZW5ndGg7KytkKWlmKGIuZGF0ZVtkXS52YWx1ZU9mKCk9PT1lKXtiLmRhdGUuc3BsaWNlKGQsMSk7YnJlYWsgYX1iLmRhdGUucHVzaChjKTticmVhaztjYXNlIFwicmFuZ2VcIjpiLmxhc3RTZWx8fChiLmRhdGVbMF09Yyk7Yzw9Yi5kYXRlWzBdPyhiLmRhdGVbMV09Yi5kYXRlWzBdLGIuZGF0ZVswXT1jKTpiLmRhdGVbMV09YztiLmxhc3RTZWw9IWIubGFzdFNlbDticmVhaztkZWZhdWx0OmIuZGF0ZT1jLnZhbHVlT2YoKX1jPUgoYik7QihhLFwiaW5wdXRcIikmJihhLnZhbHVlPVwic2luZ2xlXCI9PT1iLm1vZGU/Yy5mb3JtYXR0ZWRfZGF0ZTpjLmZvcm1hdHRlZF9kYXRlLmpvaW4oYi5zZXBhcmF0b3IpKTtcbkMoYSxcImNoYW5nZVwiLGMpO2IuZmxhdHx8IWIuaGlkZV9vbl9zZWxlY3R8fFwicmFuZ2VcIj09PWIubW9kZSYmYi5sYXN0U2VsfHxiLmJvdW5kLmhpZGUoKX1mdW5jdGlvbiBQKGEsYyl7dmFyIGI9Yy50YXJnZXQ7ayhiLFwicG11LWJ1dHRvblwiKXx8KGI9SihiLFwiLnBtdS1idXR0b25cIikpO2lmKCFrKGIsXCJwbXUtYnV0dG9uXCIpfHxrKGIsXCJwbXUtZGlzYWJsZWRcIikpcmV0dXJuITE7Yy5wcmV2ZW50RGVmYXVsdCgpO2Muc3RvcFByb3BhZ2F0aW9uKCk7YT1hLl9fcGlja21ldXAub3B0aW9uczt2YXIgZD1KKGIsXCIucG11LWluc3RhbmNlXCIpO2M9ZC5wYXJlbnRFbGVtZW50O2Q9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYy5xdWVyeVNlbGVjdG9yQWxsKFwiLnBtdS1pbnN0YW5jZVwiKSkuaW5kZXhPZihkKTtCKGIucGFyZW50RWxlbWVudCxcIm5hdlwiKT9rKGIsXCJwbXUtbW9udGhcIik/KHAoYS5jdXJyZW50LGQtTWF0aC5mbG9vcihhLmNhbGVuZGFycy8yKSksayhjLFwicG11LXZpZXcteWVhcnNcIik/XG4oYS5jdXJyZW50PVwic2luZ2xlXCIhPT1hLm1vZGU/bmV3IERhdGUoYS5kYXRlW2EuZGF0ZS5sZW5ndGgtMV0pOm5ldyBEYXRlKGEuZGF0ZSksYS5zZWxlY3RfZGF5PyhjLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtdmlldy15ZWFyc1wiKSxsKGMsXCJwbXUtdmlldy1kYXlzXCIpKTphLnNlbGVjdF9tb250aCYmKGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LXllYXJzXCIpLGwoYyxcInBtdS12aWV3LW1vbnRoc1wiKSkpOmsoYyxcInBtdS12aWV3LW1vbnRoc1wiKT9hLnNlbGVjdF95ZWFyPyhjLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtdmlldy1tb250aHNcIiksbChjLFwicG11LXZpZXcteWVhcnNcIikpOmEuc2VsZWN0X2RheSYmKGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LW1vbnRoc1wiKSxsKGMsXCJwbXUtdmlldy1kYXlzXCIpKTprKGMsXCJwbXUtdmlldy1kYXlzXCIpJiYoYS5zZWxlY3RfbW9udGg/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LWRheXNcIiksbChjLFwicG11LXZpZXctbW9udGhzXCIpKTpcbmEuc2VsZWN0X3llYXImJihjLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtdmlldy1kYXlzXCIpLGwoYyxcInBtdS12aWV3LXllYXJzXCIpKSkpOmsoYixcInBtdS1wcmV2XCIpP2EuYm91bmQucHJldighMSk6YS5ib3VuZC5uZXh0KCExKTprKGMsXCJwbXUtdmlldy15ZWFyc1wiKT8oYS5jdXJyZW50LnNldEZ1bGxZZWFyKGIuX19waWNrbWV1cF95ZWFyKSxhLnNlbGVjdF9tb250aD8oYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXcteWVhcnNcIiksbChjLFwicG11LXZpZXctbW9udGhzXCIpKTphLnNlbGVjdF9kYXk/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LXllYXJzXCIpLGwoYyxcInBtdS12aWV3LWRheXNcIikpOmEuYm91bmQudXBkYXRlX2RhdGUoYS5jdXJyZW50KSk6ayhjLFwicG11LXZpZXctbW9udGhzXCIpPyhhLmN1cnJlbnQuc2V0TW9udGgoYi5fX3BpY2ttZXVwX21vbnRoKSxhLmN1cnJlbnQuc2V0RnVsbFllYXIoYi5fX3BpY2ttZXVwX3llYXIpLGEuc2VsZWN0X2RheT8oYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXctbW9udGhzXCIpLFxubChjLFwicG11LXZpZXctZGF5c1wiKSk6YS5ib3VuZC51cGRhdGVfZGF0ZShhLmN1cnJlbnQpLHAoYS5jdXJyZW50LE1hdGguZmxvb3IoYS5jYWxlbmRhcnMvMiktZCkpOihjPW5ldyBEYXRlKGEuY3VycmVudCksYy5zZXRZZWFyKGIuX19waWNrbWV1cF95ZWFyKSxjLnNldE1vbnRoKGIuX19waWNrbWV1cF9tb250aCksYy5zZXREYXRlKGIuX19waWNrbWV1cF9kYXkpLGEuYm91bmQudXBkYXRlX2RhdGUoYykpO2EuYm91bmQuZmlsbCgpO3JldHVybiEwfWZ1bmN0aW9uIEgoYSl7aWYoXCJzaW5nbGVcIj09PWEubW9kZSl7dmFyIGM9bmV3IERhdGUoYS5kYXRlKTtyZXR1cm57Zm9ybWF0dGVkX2RhdGU6RChjLGEuZm9ybWF0LGEubG9jYWxlc1thLmxvY2FsZV0pLGRhdGU6Y319Yz17Zm9ybWF0dGVkX2RhdGU6W10sZGF0ZTpbXX07YS5kYXRlLmZvckVhY2goZnVuY3Rpb24oYil7Yj1uZXcgRGF0ZShiKTtjLmZvcm1hdHRlZF9kYXRlLnB1c2goRChiLGEuZm9ybWF0LGEubG9jYWxlc1thLmxvY2FsZV0pKTtcbmMuZGF0ZS5wdXNoKGIpfSk7cmV0dXJuIGN9ZnVuY3Rpb24gSShhLGMpe3ZhciBiPWEuX19waWNrbWV1cC5lbGVtZW50O2lmKGN8fGsoYixcInBtdS1oaWRkZW5cIikpe3ZhciBkPWEuX19waWNrbWV1cC5vcHRpb25zLGU9TShhKSxoPXdpbmRvdy5wYWdlWE9mZnNldCxtPXdpbmRvdy5wYWdlWU9mZnNldCxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxwPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsZj1lLnRvcCxuPWUubGVmdDtkLmJvdW5kLmZpbGwoKTtCKGEsXCJpbnB1dFwiKSYmKChjPWEudmFsdWUpJiZkLmJvdW5kLnNldF9kYXRlKGMpLHEoYSxhLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpezk9PT1hLndoaWNoJiZkLmJvdW5kLmhpZGUoKX0pLGQubGFzdFNlbD0hMSk7aWYoQyhhLFwic2hvd1wiKSYmIWQuZmxhdCl7Yi5jbGFzc0xpc3QucmVtb3ZlKFwicG11LWhpZGRlblwiKTtpZihkLnBvc2l0aW9uIGluc3RhbmNlb2YgRnVuY3Rpb24pZT1kLnBvc2l0aW9uLmNhbGwoYSksXG5uPWUubGVmdCxmPWUudG9wO2Vsc2V7c3dpdGNoKGQucG9zaXRpb24pe2Nhc2UgXCJ0b3BcIjpmLT1iLm9mZnNldEhlaWdodDticmVhaztjYXNlIFwibGVmdFwiOm4tPWIub2Zmc2V0V2lkdGg7YnJlYWs7Y2FzZSBcInJpZ2h0XCI6bis9YS5vZmZzZXRXaWR0aDticmVhaztjYXNlIFwiYm90dG9tXCI6Zis9YS5vZmZzZXRIZWlnaHR9ZitiLm9mZnNldEhlaWdodD5tK3AmJihmPWUudG9wLWIub2Zmc2V0SGVpZ2h0KTtmPG0mJihmPWUudG9wK2Eub2Zmc2V0SGVpZ2h0KTtuK2Iub2Zmc2V0V2lkdGg+aCtsJiYobj1lLmxlZnQtYi5vZmZzZXRXaWR0aCk7bjxoJiYobj1lLmxlZnQrYS5vZmZzZXRXaWR0aCk7bis9XCJweFwiO2YrPVwicHhcIn1iLnN0eWxlLmxlZnQ9bjtiLnN0eWxlLnRvcD1mO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtxKGEsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFwiY2xpY2tcIixkLmJvdW5kLmhpZGUpO3EoYSx3aW5kb3csXCJyZXNpemVcIixkLmJvdW5kLmZvcmNlZF9zaG93KX0pfX19ZnVuY3Rpb24gUShhLFxuYyl7dmFyIGI9YS5fX3BpY2ttZXVwLmVsZW1lbnQsZD1hLl9fcGlja21ldXAub3B0aW9ucztjJiZjLnRhcmdldCYmKGMudGFyZ2V0PT09YXx8Yi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihjLnRhcmdldCkmMTYpfHwhQyhhLFwiaGlkZVwiKXx8KGwoYixcInBtdS1oaWRkZW5cIikseihhLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcImNsaWNrXCIsZC5ib3VuZC5oaWRlKSx6KGEsd2luZG93LFwicmVzaXplXCIsZC5ib3VuZC5mb3JjZWRfc2hvdyksZC5sYXN0U2VsPSExKX1mdW5jdGlvbiBSKGEpe3ZhciBjPWEuX19waWNrbWV1cC5vcHRpb25zO3ooYSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXCJjbGlja1wiLGMuYm91bmQuaGlkZSk7eihhLHdpbmRvdyxcInJlc2l6ZVwiLGMuYm91bmQuZm9yY2VkX3Nob3cpO2MuYm91bmQuZm9yY2VkX3Nob3coKX1mdW5jdGlvbiBTKGEpe2E9YS5fX3BpY2ttZXVwLm9wdGlvbnM7XCJzaW5nbGVcIiE9PWEubW9kZSYmKGEuZGF0ZT1bXSxhLmxhc3RTZWw9ITEsYS5ib3VuZC5maWxsKCkpfVxuZnVuY3Rpb24gVChhLGMpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBjJiYoYz0hMCk7dmFyIGI9YS5fX3BpY2ttZXVwLmVsZW1lbnQ7YT1hLl9fcGlja21ldXAub3B0aW9ucztrKGIsXCJwbXUtdmlldy15ZWFyc1wiKT91KGEuY3VycmVudCwtMTIpOmsoYixcInBtdS12aWV3LW1vbnRoc1wiKT91KGEuY3VycmVudCwtMSk6ayhiLFwicG11LXZpZXctZGF5c1wiKSYmcChhLmN1cnJlbnQsLTEpO2MmJmEuYm91bmQuZmlsbCgpfWZ1bmN0aW9uIFUoYSxjKXtcInVuZGVmaW5lZFwiPT10eXBlb2YgYyYmKGM9ITApO3ZhciBiPWEuX19waWNrbWV1cC5lbGVtZW50O2E9YS5fX3BpY2ttZXVwLm9wdGlvbnM7ayhiLFwicG11LXZpZXcteWVhcnNcIik/dShhLmN1cnJlbnQsMTIpOmsoYixcInBtdS12aWV3LW1vbnRoc1wiKT91KGEuY3VycmVudCwxKTprKGIsXCJwbXUtdmlldy1kYXlzXCIpJiZwKGEuY3VycmVudCwxKTtjJiZhLmJvdW5kLmZpbGwoKX1mdW5jdGlvbiBWKGEsYyl7dmFyIGI9YS5fX3BpY2ttZXVwLm9wdGlvbnM7YT1cbkgoYik7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBjPyhhPWEuZGF0ZSxhIGluc3RhbmNlb2YgRGF0ZT9EKGEsYyxiLmxvY2FsZXNbYi5sb2NhbGVdKTphLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gRChhLGMsYi5sb2NhbGVzW2IubG9jYWxlXSl9KSk6YVtjP1wiZm9ybWF0dGVkX2RhdGVcIjpcImRhdGVcIl19ZnVuY3Rpb24gVyhhLGMsYil7dmFyIGQ9YS5fX3BpY2ttZXVwLm9wdGlvbnM7aWYoIShjIGluc3RhbmNlb2YgQXJyYXkpfHwwPGMubGVuZ3RoKWlmKGQuZGF0ZT10KGMsZCksXCJzaW5nbGVcIiE9PWQubW9kZSlmb3IoZC5kYXRlIGluc3RhbmNlb2YgQXJyYXk/KGQuZGF0ZVswXT1kLmRhdGVbMF18fHQobmV3IERhdGUsZCksXCJyYW5nZVwiPT09ZC5tb2RlJiYoZC5kYXRlWzFdPWQuZGF0ZVsxXXx8dChkLmRhdGVbMF0sZCkpKTooZC5kYXRlPVtkLmRhdGVdLFwicmFuZ2VcIj09PWQubW9kZSYmZC5kYXRlLnB1c2godChkLmRhdGVbMF0sZCkpKSxjPTA7YzxkLmRhdGUubGVuZ3RoOysrYylkLmRhdGVbY109XG5MKGQuZGF0ZVtjXSxkLm1pbixkLm1heCk7ZWxzZSBkLmRhdGUgaW5zdGFuY2VvZiBBcnJheSYmKGQuZGF0ZT1kLmRhdGVbMF0pLGQuZGF0ZT1MKGQuZGF0ZSxkLm1pbixkLm1heCk7ZWxzZSBkLmRhdGU9W107aWYoIWQuc2VsZWN0X2RheSlpZihkLmRhdGUgaW5zdGFuY2VvZiBBcnJheSlmb3IoYz0wO2M8ZC5kYXRlLmxlbmd0aDsrK2MpZC5kYXRlW2NdLnNldERhdGUoMSk7ZWxzZSBkLmRhdGUuc2V0RGF0ZSgxKTtpZihcIm11bHRpcGxlXCI9PT1kLm1vZGUpZm9yKGM9MDtjPGQuZGF0ZS5sZW5ndGg7KytjKWQuZGF0ZS5pbmRleE9mKGQuZGF0ZVtjXSkhPT1jJiYoZC5kYXRlLnNwbGljZShjLDEpLC0tYyk7Yj9kLmN1cnJlbnQ9dChiLGQpOihiPVwic2luZ2xlXCI9PT1kLm1vZGU/ZC5kYXRlOmQuZGF0ZVtkLmRhdGUubGVuZ3RoLTFdLGQuY3VycmVudD1iP25ldyBEYXRlKGIpOm5ldyBEYXRlKTtkLmN1cnJlbnQuc2V0RGF0ZSgxKTtkLmJvdW5kLmZpbGwoKTtCKGEsXCJpbnB1dFwiKSYmITEhPT1cbmQuZGVmYXVsdF9kYXRlJiYoYj1IKGQpLGM9YS52YWx1ZSxkPVwic2luZ2xlXCI9PT1kLm1vZGU/Yi5mb3JtYXR0ZWRfZGF0ZTpiLmZvcm1hdHRlZF9kYXRlLmpvaW4oZC5zZXBhcmF0b3IpLGN8fEMoYSxcImNoYW5nZVwiLGIpLGMhPT1kJiYoYS52YWx1ZT1kKSl9ZnVuY3Rpb24gWChhKXt2YXIgYz1hLl9fcGlja21ldXAuZWxlbWVudDt6KGEpO3koYyk7ZGVsZXRlIGEuX19waWNrbWV1cH1mdW5jdGlvbiBMKGEsYyxiKXtyZXR1cm4gYyYmYz5hP25ldyBEYXRlKGMpOmImJmI8YT9uZXcgRGF0ZShiKTphfWZ1bmN0aW9uIEUoYSxjKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKSk7aWYoIWEpcmV0dXJuIG51bGw7aWYoIWEuX19waWNrbWV1cCl7dmFyIGIsZD17fTtjPWN8fHt9O2ZvcihiIGluIEUuZGVmYXVsdHMpZFtiXT1iIGluIGM/Y1tiXTpFLmRlZmF1bHRzW2JdO2ZvcihiIGluIGQpYz1hLmdldEF0dHJpYnV0ZShcImRhdGEtcG11LVwiK2IpLG51bGwhPT1cbmMmJihkW2JdPWMpO1wiZGF5c1wiIT09ZC52aWV3fHxkLnNlbGVjdF9kYXl8fChkLnZpZXc9XCJtb250aHNcIik7XCJtb250aHNcIiE9PWQudmlld3x8ZC5zZWxlY3RfbW9udGh8fChkLnZpZXc9XCJ5ZWFyc1wiKTtcInllYXJzXCIhPT1kLnZpZXd8fGQuc2VsZWN0X3llYXJ8fChkLnZpZXc9XCJkYXlzXCIpO1wiZGF5c1wiIT09ZC52aWV3fHxkLnNlbGVjdF9kYXl8fChkLnZpZXc9XCJtb250aHNcIik7ZC5jYWxlbmRhcnM9TWF0aC5tYXgoMSxwYXJzZUludChkLmNhbGVuZGFycywxMCl8fDEpO2QubW9kZT0vc2luZ2xlfG11bHRpcGxlfHJhbmdlLy50ZXN0KGQubW9kZSk/ZC5tb2RlOlwic2luZ2xlXCI7ZC5taW4mJihkLm1pbj10KGQubWluLGQpLGQuc2VsZWN0X2RheXx8ZC5taW4uc2V0RGF0ZSgxKSk7ZC5tYXgmJihkLm1heD10KGQubWF4LGQpLGQuc2VsZWN0X2RheXx8ZC5tYXguc2V0RGF0ZSgxKSk7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EuX19waWNrbWV1cD17b3B0aW9uczpkLGV2ZW50czpbXSxcbmVsZW1lbnQ6Y307Yy5fX3BpY2ttZXVwX3RhcmdldD1hO2woYyxcInBpY2ttZXVwXCIpO2QuY2xhc3NfbmFtZSYmbChjLGQuY2xhc3NfbmFtZSk7ZC5ib3VuZD17ZmlsbDpOLmJpbmQoYSxhKSx1cGRhdGVfZGF0ZTpPLmJpbmQoYSxhKSxjbGljazpQLmJpbmQoYSxhKSxzaG93OkkuYmluZChhLGEpLGZvcmNlZF9zaG93OkkuYmluZChhLGEsITApLGhpZGU6US5iaW5kKGEsYSksdXBkYXRlOlIuYmluZChhLGEpLGNsZWFyOlMuYmluZChhLGEpLHByZXY6VC5iaW5kKGEsYSksbmV4dDpVLmJpbmQoYSxhKSxnZXRfZGF0ZTpWLmJpbmQoYSxhKSxzZXRfZGF0ZTpXLmJpbmQoYSxhKSxkZXN0cm95OlguYmluZChhLGEpfTtsKGMsXCJwbXUtdmlldy1cIitkLnZpZXcpO3ZhciBlPWQuaW5zdGFuY2VfdGVtcGxhdGUoZCksaD1cIlwiO2ZvcihiPTA7YjxkLmNhbGVuZGFyczsrK2IpaCs9ZTtjLmlubmVySFRNTD1oO3EoYSxjLFwiY2xpY2tcIixkLmJvdW5kLmNsaWNrKTtxKGEsYyxcIm9uc2VsZWN0c3RhcnRcImluIEVsZW1lbnQucHJvdG90eXBlP1xuXCJzZWxlY3RzdGFydFwiOlwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSk7ZC5mbGF0PyhsKGMsXCJwbXUtZmxhdFwiKSxhLmFwcGVuZENoaWxkKGMpKToobChjLFwicG11LWhpZGRlblwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpLHEoYSxhLFwiY2xpY2tcIixJLmJpbmQoYSxhLCExKSkscShhLGEsXCJpbnB1dFwiLGQuYm91bmQudXBkYXRlKSxxKGEsYSxcImNoYW5nZVwiLGQuYm91bmQudXBkYXRlKSk7ZC5ib3VuZC5zZXRfZGF0ZShkLmRhdGUsZC5jdXJyZW50KX1kPWEuX19waWNrbWV1cC5vcHRpb25zO3JldHVybntoaWRlOmQuYm91bmQuaGlkZSxzaG93OmQuYm91bmQuc2hvdyxjbGVhcjpkLmJvdW5kLmNsZWFyLHVwZGF0ZTpkLmJvdW5kLnVwZGF0ZSxwcmV2OmQuYm91bmQucHJldixuZXh0OmQuYm91bmQubmV4dCxnZXRfZGF0ZTpkLmJvdW5kLmdldF9kYXRlLHNldF9kYXRlOmQuYm91bmQuc2V0X2RhdGUsZGVzdHJveTpkLmJvdW5kLmRlc3Ryb3l9fUUuZGVmYXVsdHM9XG57Y3VycmVudDpudWxsLGRhdGU6bmV3IERhdGUsZGVmYXVsdF9kYXRlOm5ldyBEYXRlLGZsYXQ6ITEsZmlyc3RfZGF5OjEscHJldjpcIiYjOTY2NDtcIixuZXh0OlwiJiM5NjU0O1wiLG1vZGU6XCJzaW5nbGVcIixzZWxlY3RfeWVhcjohMCxzZWxlY3RfbW9udGg6ITAsc2VsZWN0X2RheTohMCx2aWV3OlwiZGF5c1wiLGNhbGVuZGFyczoxLGZvcm1hdDpcImQtbS1ZXCIsdGl0bGVfZm9ybWF0OlwiQiwgWVwiLHBvc2l0aW9uOlwiYm90dG9tXCIsY2xhc3NfbmFtZTpcIlwiLHNlcGFyYXRvcjpcIiAtIFwiLGhpZGVfb25fc2VsZWN0OiExLG1pbjpudWxsLG1heDpudWxsLHJlbmRlcjpmdW5jdGlvbigpe30sbG9jYWxlOlwiZW5cIixsb2NhbGVzOntlbjp7ZGF5czpcIlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5XCIuc3BsaXQoXCIgXCIpLGRheXNTaG9ydDpcIlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdFwiLnNwbGl0KFwiIFwiKSxkYXlzTWluOlwiU3UgTW8gVHUgV2UgVGggRnIgU2FcIi5zcGxpdChcIiBcIiksXG5tb250aHM6XCJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyXCIuc3BsaXQoXCIgXCIpLG1vbnRoc1Nob3J0OlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIil9fSxpbnN0YW5jZV90ZW1wbGF0ZTpmdW5jdGlvbihhKXt2YXIgYz1hLmxvY2FsZXNbYS5sb2NhbGVdLmRheXNNaW4uc2xpY2UoKTthLmZpcnN0X2RheSYmYy5wdXNoKGMuc2hpZnQoKSk7cmV0dXJuJzxkaXYgY2xhc3M9XCJwbXUtaW5zdGFuY2VcIj48bmF2PjxkaXYgY2xhc3M9XCJwbXUtcHJldiBwbXUtYnV0dG9uXCI+JythLnByZXYrJzwvZGl2PjxkaXYgY2xhc3M9XCJwbXUtbW9udGggcG11LWJ1dHRvblwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwbXUtbmV4dCBwbXUtYnV0dG9uXCI+JythLm5leHQrJzwvZGl2PjwvbmF2PjxuYXYgY2xhc3M9XCJwbXUtZGF5LW9mLXdlZWtcIj48ZGl2PicrXG5jLmpvaW4oXCI8L2Rpdj48ZGl2PlwiKStcIjwvZGl2PjwvbmF2PjwvZGl2PlwifSxpbnN0YW5jZV9jb250ZW50X3RlbXBsYXRlOmZ1bmN0aW9uKGEsYyl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtsKGIsYyk7Zm9yKGM9MDtjPGEubGVuZ3RoOysrYylsKGFbY10sXCJwbXUtYnV0dG9uXCIpLGIuYXBwZW5kQ2hpbGQoYVtjXSk7cmV0dXJuIGJ9fTtyZXR1cm4gRX0pO1xuIiwiLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMCwyMDExLDIwMTIsMjAxMywyMDE0IE1vcmdhbiBSb2RlcmljayBodHRwOi8vcm9kZXJpY2suZGtcclxuICogTGljZW5zZTogTUlUIC0gaHR0cDovL21yZ25yZHJjay5taXQtbGljZW5zZS5vcmdcclxuICpcclxuICogaHR0cHM6Ly9naXRodWIuY29tL21yb2Rlcmljay9QdWJTdWJKU1xyXG4gKi9cclxuIWZ1bmN0aW9uKG4sdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e307bi5QdWJTdWI9cjt2YXIgZT1uLmRlZmluZTshZnVuY3Rpb24obil7dmFyIHQ9e30scj0tMTtmdW5jdGlvbiBlKG4pe3ZhciB0O2Zvcih0IGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBvKG4sdCxyKXt0cnl7bih0LHIpfWNhdGNoKG4pe3NldFRpbWVvdXQoZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgbn19KG4pLDApfX1mdW5jdGlvbiBpKG4sdCxyKXtuKHQscil9ZnVuY3Rpb24gdShuLHIsZSx1KXt2YXIgZixzPXRbcl0sYz11P2k6bztpZih0Lmhhc093blByb3BlcnR5KHIpKWZvcihmIGluIHMpcy5oYXNPd25Qcm9wZXJ0eShmKSYmYyhzW2ZdLG4sZSl9ZnVuY3Rpb24gZihuLHIsbyxpKXt2YXIgZj1mdW5jdGlvbihuLHQscil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9U3RyaW5nKG4pLG89ZS5sYXN0SW5kZXhPZihcIi5cIik7Zm9yKHUobixuLHQscik7LTEhPT1vOyllPWUuc3Vic3RyKDAsbyksbz1lLmxhc3RJbmRleE9mKFwiLlwiKSx1KG4sZSx0LHIpfX0obj1cInN5bWJvbFwiPT10eXBlb2Ygbj9uLnRvU3RyaW5nKCk6bixyLGkpLHM9ZnVuY3Rpb24obil7dmFyIHI9U3RyaW5nKG4pLG89Qm9vbGVhbih0Lmhhc093blByb3BlcnR5KHIpJiZlKHRbcl0pKSxpPXIubGFzdEluZGV4T2YoXCIuXCIpO2Zvcig7IW8mJi0xIT09aTspcj1yLnN1YnN0cigwLGkpLGk9ci5sYXN0SW5kZXhPZihcIi5cIiksbz1Cb29sZWFuKHQuaGFzT3duUHJvcGVydHkocikmJmUodFtyXSkpO3JldHVybiBvfShuKTtyZXR1cm4hIXMmJighMD09PW8/ZigpOnNldFRpbWVvdXQoZiwwKSwhMCl9bi5wdWJsaXNoPWZ1bmN0aW9uKHQscil7cmV0dXJuIGYodCxyLCExLG4uaW1tZWRpYXRlRXhjZXB0aW9ucyl9LG4ucHVibGlzaFN5bmM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZih0LHIsITAsbi5pbW1lZGlhdGVFeGNlcHRpb25zKX0sbi5zdWJzY3JpYmU9ZnVuY3Rpb24obixlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiExO249XCJzeW1ib2xcIj09dHlwZW9mIG4/bi50b1N0cmluZygpOm4sdC5oYXNPd25Qcm9wZXJ0eShuKXx8KHRbbl09e30pO3ZhciBvPVwidWlkX1wiK1N0cmluZygrK3IpO3JldHVybiB0W25dW29dPWUsb30sbi5zdWJzY3JpYmVPbmNlPWZ1bmN0aW9uKHQscil7dmFyIGU9bi5zdWJzY3JpYmUodCxmdW5jdGlvbigpe24udW5zdWJzY3JpYmUoZSksci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtyZXR1cm4gbn0sbi5jbGVhckFsbFN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24oKXt0PXt9fSxuLmNsZWFyU3Vic2NyaXB0aW9ucz1mdW5jdGlvbihuKXt2YXIgcjtmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJjA9PT1yLmluZGV4T2YobikmJmRlbGV0ZSB0W3JdfSxuLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKHIpe3ZhciBlLG8saSx1PVwic3RyaW5nXCI9PXR5cGVvZiByJiYodC5oYXNPd25Qcm9wZXJ0eShyKXx8ZnVuY3Rpb24obil7dmFyIHI7Zm9yKHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpJiYwPT09ci5pbmRleE9mKG4pKXJldHVybiEwO3JldHVybiExfShyKSksZj0hdSYmXCJzdHJpbmdcIj09dHlwZW9mIHIscz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByLGM9ITE7aWYoIXUpe2ZvcihlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSl7aWYobz10W2VdLGYmJm9bcl0pe2RlbGV0ZSBvW3JdLGM9cjticmVha31pZihzKWZvcihpIGluIG8pby5oYXNPd25Qcm9wZXJ0eShpKSYmb1tpXT09PXImJihkZWxldGUgb1tpXSxjPSEwKX1yZXR1cm4gY31uLmNsZWFyU3Vic2NyaXB0aW9ucyhyKX19KHIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUuYW1kP2UoZnVuY3Rpb24oKXtyZXR1cm4gcn0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiYodm9pZCAwIT09bW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9ciksZXhwb3J0cy5QdWJTdWI9cixtb2R1bGUuZXhwb3J0cz1leHBvcnRzPXIpfShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fHRoaXMpOyIsIi8qISBVVEYtOFxyXG5cclxuwqkga292cmlnaW5cclxu0JLRgdC1INC/0YDQsNCy0LAg0YDQsNC30YDQtdGI0LXQvdGLXHJcbtC60YDQsNGB0LjQstGL0Lkg0LTQuNC30LDQudC9INC00L7Qu9C20LXQvSDQuNC80LXRgtGMINC60YDQsNGB0LjQstGL0Lkg0LrQvtC0wq5cclxuXHJcbmh0dHBzOi8vZ2l0aHViLmNvbS9odG1scGx1c2Nzcy9cclxuXHJcbiovXHJcblxyXG4oICgpID0+IHtcclxuXHJcblx0d2luZG93LklOVEkgPSB7fTtcclxuXHRJTlRJLnJlc2l6ZVRpbWVvdXQgPSBudWxsO1xyXG5cdElOVEkud2luZG93V2lkdGhPTGQgPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG5cclxuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG5cclxuXHRcdFx0aWYgKCFJTlRJLnJlc2l6ZVRpbWVvdXQpIHtcclxuXHJcblx0XHRcdFx0SU5USS5yZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiAge1xyXG5cclxuXHRcdFx0XHRcdElOVEkucmVzaXplVGltZW91dCA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0aWYoSU5USS53aW5kb3dXaWR0aE9MZCAhPT0gd2luZG93LmlubmVyV2lkdGgpIHtcclxuXHJcblx0XHRcdFx0XHRcdElOVEkud2luZG93V2lkdGhPTGQgPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHJcblx0XHRcdFx0XHRcdFB1YlN1Yi5wdWJsaXNoKCd3aW5kb3dXaWR0aFJlc2l6ZScpO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fSwgMTAwKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuXHJcblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuXHJcblx0XHRcdFB1YlN1Yi5wdWJsaXNoKCd3aW5kb3dTY3JvbGwnKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcblxyXG5cdFx0UHViU3ViLnB1Ymxpc2goJ0RPTUNvbnRlbnRMb2FkZWQnKTtcclxuXHJcblx0fSk7XHJcblxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcblxyXG5cdFx0UHViU3ViLnB1Ymxpc2goJ3BhZ2VMb2FkJyk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHQvLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQsNC90LjQvNCw0YbQuNC5XHJcblx0SU5USS5jc3NBbmltYXRpb24gPSBhPT57bGV0IGIsYyxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjc3NhbmltYXRpb25cIik7c3dpdGNoKGEpe2Nhc2UnYW5pbWF0aW9uJzpiPXtcImFuaW1hdGlvblwiOlwiYW5pbWF0aW9uZW5kXCIsXCJPQW5pbWF0aW9uXCI6XCJvQW5pbWF0aW9uRW5kXCIsXCJNb3pBbmltYXRpb25cIjpcImFuaW1hdGlvbmVuZFwiLFwiV2Via2l0QW5pbWF0aW9uXCI6XCJ3ZWJraXRBbmltYXRpb25FbmRcIn07YnJlYWs7Y2FzZSd0cmFuc2l0aW9uJzpiPXtcInRyYW5zaXRpb25cIjpcInRyYW5zaXRpb25lbmRcIixcIk9UcmFuc2l0aW9uXCI6XCJvVHJhbnNpdGlvbkVuZFwiLFwiTW96VHJhbnNpdGlvblwiOlwidHJhbnNpdGlvbmVuZFwiLFwiV2Via2l0VHJhbnNpdGlvblwiOlwid2Via2l0VHJhbnNpdGlvbkVuZFwifX1mb3IoYyBpbiBiKWlmKGQuc3R5bGVbY10hPT11bmRlZmluZWQpcmV0dXJuIGJbY119XHJcblxyXG5cdC8vIERldGVybWluZSBpZiBhbiBlbGVtZW50IGlzIGluIHRoZSB2aXNpYmxlIHZpZXdwb3J0XHJcblx0SU5USS5pc0luVmlld3BvcnQgPSBlbCA9PiB7XHJcblx0XHRjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0XHRyZXR1cm4gKHJlY3QudG9wID49IDAgJiYgcmVjdC5ib3R0b20gPD0gd2luZG93LmlubmVySGVpZ2h0KTtcclxuXHR9XHJcblxyXG59KSgpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdEFycmF5LmZyb20oaXRlbXMsIGFjY29yZGlvbiA9PiB7XHJcblxyXG5cdFx0bGV0IGFuaW1hdGVPbiA9IGZhbHNlO1xyXG5cclxuXHRcdGNvbnN0IGJ0bnMgPSBhY2NvcmRpb24ucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbl9fYnRuJyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShidG5zLCBidG4gPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgaXRlbSA9IGJ0bi5jbG9zZXN0KCcuYWNjb3JkaW9uX19pdGVtJyksXHJcblx0XHRcdFx0ICBoZWFkID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19oZWFkJyksXHJcblx0XHRcdFx0ICBib2R5ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19ib2R5Jyk7XHJcblxyXG5cdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblxyXG5cdFx0XHRcdGFuaW1hdGVPbiA9IHRydWU7XHJcblxyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnYWNjb3JkaW9uX19pdGVtLS1vcGVuJyk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGJvZHkuYWRkRXZlbnRMaXN0ZW5lcihJTlRJLmNzc0FuaW1hdGlvbigndHJhbnNpdGlvbicpLCAoKSA9PiB7XHJcblxyXG5cdFx0XHRcdGlmKGFuaW1hdGVPbiAmJiAhSU5USS5pc0luVmlld3BvcnQoaGVhZCkpe1xyXG5cclxuXHRcdFx0XHRcdGhlYWQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW5pbWF0ZU9uID0gZmFsc2U7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uJykpOyIsIiggYmxvY2sgPT4ge1xyXG5cclxuXHRpZihibG9jayAmJiBibG9jay5xdWVyeVNlbGVjdG9yQWxsKCcuY2VydGlmaWNhdGlvbi1jaGFuZ2UtZGF0ZS10aW1lX19pbnB1dCcpLmxlbmd0aCkge1xyXG5cclxuXHRcdGNvbnN0IGlucHV0ID0gYmxvY2sucXVlcnlTZWxlY3RvckFsbCgnLmNlcnRpZmljYXRpb24tY2hhbmdlLWRhdGUtdGltZV9faW5wdXQnKSxcclxuXHRcdFx0ICBkYXRlID0gYmxvY2sucXVlcnlTZWxlY3RvcignLmNlcnRpZmljYXRpb24tY2hhbmdlLWRhdGUtdGltZV9faW5wdXQtLWRhdGUnKSxcclxuXHRcdFx0ICB0aW1lID0gYmxvY2sucXVlcnlTZWxlY3RvcignLmNlcnRpZmljYXRpb24tY2hhbmdlLWRhdGUtdGltZV9faW5wdXQtLXRpbWUnKSxcclxuXHRcdFx0ICBkYXRlRGVmYXVsdCA9IGRhdGUudmFsdWUsXHJcblx0XHRcdCAgdGltZURlZmF1bHQgPSB0aW1lLnZhbHVlLFxyXG5cdFx0XHQgIHJlc2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pdGVtLS1jZXJ0aWZpY2F0aW9uLWRhdGUtY2hhbmdlJyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShpbnB1dCwgZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcblxyXG5cdFx0XHRibG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2RhbD1cImNlcnRpZmljYXRpb24tZGF0ZVwiXScpLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuXHRcdFx0YmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kYWw9XCJjZXJ0aWZpY2F0aW9uLWRhdGUtY2hhbmdlXCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG5cclxuXHRcdH0pKTtcclxuXHJcblx0XHRyZXNldC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xyXG5cclxuXHRcdFx0ZGF0ZS52YWx1ZSA9IGRhdGVEZWZhdWx0O1xyXG5cdFx0XHR0aW1lLnZhbHVlID0gdGltZURlZmF1bHQ7XHJcblxyXG5cdFx0XHRkYXRlLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2hhbmdlXCIpKTtcclxuXHRcdFx0dGltZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiKSk7XHJcblxyXG5cdFx0XHRtb2RhbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImhpZGVcIikpO1xyXG5cclxuXHRcdFx0YmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kYWw9XCJjZXJ0aWZpY2F0aW9uLWRhdGVcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcblx0XHRcdGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZGFsPVwiY2VydGlmaWNhdGlvbi1kYXRlLWNoYW5nZVwiXScpLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fVxyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlcnRpZmljYXRpb24tY2hhbmdlLWRhdGUtdGltZScpKTsiLCIoIHNlbGVjdCA9PiB7XHJcblxyXG5cdGlmKCFzZWxlY3QpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0c2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG5cclxuXHRcdGlmKHNlbGVjdC52YWx1ZSA9PT0gJ3NoaXBwaW5nJykge1xyXG5cclxuXHRcdFx0Y29uc3QgZXZlbnRNb2RhbFNob3cgPSBuZXcgQ3VzdG9tRXZlbnQoXCJtb2RhbFNob3dcIiwge1xyXG5cdFx0XHRcdGRldGFpbDoge1xyXG5cdFx0XHRcdFx0c2VsZWN0b3I6IFwiY2VydGlmaWNhdGlvbi1kZWxpdmVyeS1pbnRpXCJcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0d2luZG93Lm1vZGFsLmRpc3BhdGNoRXZlbnQoZXZlbnRNb2RhbFNob3cpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRzZWxlY3QuY2xvc2VzdCgnLmZvcm0nKS5zZXRBdHRyaWJ1dGUoJ25vdmFsaWRhdGUnLCdub3ZhbGlkYXRlJyk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlcnRpZmljYXRpb24tZGVsaXZlcnktc2VsZWN0JykpOyIsIiggZm9ybSA9PiB7XHJcblxyXG5cdGlmKCFmb3JtKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdGNvbnN0IGJ0biA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmNlcnRpZmljYXRpb24tbW9kYWwtZGF0ZS1jYW5jZWxlZF9fYnRuLXNob3cnKSxcclxuXHRcdCAgYmxvY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLW1vZGFsLWRhdGUtY2FuY2VsZWRfX2JveC1kYXRlLXRpbWUnKSxcclxuXHRcdCAgaW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZXJ0aWZpY2F0aW9uLW1vZGFsLWRhdGUtY2FuY2VsZWRfX2lucHV0Jyk7XHJcblxyXG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cclxuXHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcblx0XHRibG9jay5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHRBcnJheS5mcm9tKGlucHV0LCBlbCA9PlxyXG5cdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PlxyXG5cdFx0XHRmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uLWNoYW5nZScpKSkpO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlcnRpZmljYXRpb24tbW9kYWwtZGF0ZS1jYW5jZWxlZCcpKTtcclxuIiwiKCBpdGVtcyA9PiB7XHJcblxyXG5cdGlmKCFpdGVtcy5sZW5ndGgpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgZm9ybSA9PiB7XHJcblxyXG5cdFx0Y29uc3QgZm9ybUVuYWJsZWQgPSAoKSA9PiB7XHJcblxyXG5cdFx0XHRmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmb3JtRW5hYmxlZCk7XHJcblxyXG5cdFx0XHRBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybV9fZGlzYWJsZWQnKSwgZWwgPT4gZWwuZGlzYWJsZWQgPSBmYWxzZSk7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmb3JtRW5hYmxlZCk7XHJcblxyXG5cdFx0Ly8g0L7RgtC/0YDQsNCy0LrQsCDRhNC+0YDQvNGLXHJcblx0XHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRmZXRjaChmb3JtLmdldEF0dHJpYnV0ZSgnYWN0aW9uJyksIHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRib2R5OiBuZXcgRm9ybURhdGEoZm9ybSlcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gZGF0YS1yYWRpby10b2dnbGVcclxuXHRcdGNvbnN0IGJ0blJhZGlvID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1yYWRpby10b2dnbGVdJyksXHJcblx0XHRcdCAgaXRlbXMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYW55LWZvcm1fX3JhZGlvLXRvZ2dsZS1pdGVtJyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShidG5SYWRpbywgYnRuID0+XHJcblx0XHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+XHJcblx0XHRcdFx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT5cclxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUnLCBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXJhZGlvLXRvZ2dsZScpID09PSAnaGlkZScpKSkpO1xyXG5cclxuXHRcdC8vIHJlbW92ZVxyXG5cdFx0Y29uc3QgYnRuUmVtb3ZlID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuY29tcGFueS1mb3JtX19yZW1vdmUnKTtcclxuXHJcblx0XHRidG5SZW1vdmUgJiYgYnRuUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgaXRlbSA9IGJ0blJlbW92ZS5jbG9zZXN0KCcuYWNjb3JkaW9uX19pdGVtJyk7XHJcblxyXG5cdFx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoSU5USS5jc3NBbmltYXRpb24oJ3RyYW5zaXRpb24nKSwgKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRpdGVtLnJlbW92ZSgpO1xyXG5cdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21wYW55X19hZGQnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWNjb3JkaW9uX19pdGVtLS1vcGVuJyk7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KCAoKSA9PiB7XHJcblxyXG5cdFx0XHRcdGl0ZW0uc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG5cdFx0XHR9LCAxMDAwKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG5cdC8vIENPREUgc21zXHJcblx0Y29uc3QgZm9ybUNvZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcGFueS1mb3JtLS1jb2RlJyk7XHJcblxyXG5cdC8vINC+0YLQv9GA0LDQstC60LAg0YTQvtGA0LzRiyBjb2RlXHJcblx0Zm9ybUNvZGUuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0ZmV0Y2goZm9ybUNvZGUuZ2V0QXR0cmlidXRlKCdhY3Rpb24nKSwge1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0Ym9keTogbmV3IEZvcm1EYXRhKGZvcm1Db2RlKVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gc3RhdGUgc21zINC+0YLQv9GA0LDQstC70LXQvdC+XHJcblxyXG5cdFx0Zm9ybUNvZGUucXVlcnlTZWxlY3RvcignW25hbWU9XCJzZW5kLWNvZGVcIl0nKS52YWx1ZSA9IDE7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShmb3JtQ29kZS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFueS1mb3JtX19jb2RlLWhpZGUnKSwgZWwgPT4gZWwuY2xhc3NMaXN0LmFkZCgnaGlkZScpKTtcclxuXHRcdEFycmF5LmZyb20oZm9ybUNvZGUucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybV9fY29kZS1zaG93JyksIGVsID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKSk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHQvLyByZXNldCDRhNC+0YDQvNGLIGNvZGVcclxuXHRmb3JtQ29kZS5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsIGV2ZW50ID0+IHtcclxuXHJcblx0XHQvLyBzdGF0ZSBzbXMg0L7RgtC/0YDQsNCy0LvQtdC90L5cclxuXHJcblx0XHRmb3JtQ29kZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cInNlbmQtY29kZVwiXScpLnZhbHVlID0gMDtcclxuXHJcblx0XHRBcnJheS5mcm9tKGZvcm1Db2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYW55LWZvcm1fX2NvZGUtaGlkZScpLCBlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJykpO1xyXG5cdFx0QXJyYXkuZnJvbShmb3JtQ29kZS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFueS1mb3JtX19jb2RlLXNob3cnKSwgZWwgPT4gZWwuY2xhc3NMaXN0LmFkZCgnaGlkZScpKTtcclxuXHJcblx0fSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFueS1mb3JtJykpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdGNvbnN0IGhhbmRsZXIgPSAoZWwsIGNsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpKSA9PiB7XHJcblxyXG5cdFx0Y29uc3QgYnRuID0gZWwucXVlcnlTZWxlY3RvcignLmZpbGUtaW5wdXRfX2J0bicpLFxyXG5cdFx0XHQgIGlucHV0ID0gZWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImZpbGVcIl0nKTtcclxuXHJcblx0XHRsZXQgZ3JvdXAgPSBlbC5jbG9zZXN0KCcuZmlsZS1pbnB1dC1ncm91cCcpO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0YnRuLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7XHJcblx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoJ2ZpbGUtaW5wdXQtLXZhbHVlJyk7XHJcblxyXG5cdFx0XHRpZihncm91cCkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBfY2xvbmUgPSBjbG9uZS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG5cdFx0XHRcdGdyb3VwLmFwcGVuZENoaWxkKF9jbG9uZSk7XHJcblxyXG5cdFx0XHRcdF9jbG9uZS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpLnNldEF0dHJpYnV0ZSgnbmFtZScsIF9jbG9uZS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpLmdldEF0dHJpYnV0ZSgnbmFtZScpICsgJy0nICsgZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnLmZpbGUtaW5wdXQnKS5sZW5ndGgpO1xyXG5cclxuXHRcdFx0XHRoYW5kbGVyKF9jbG9uZSwgY2xvbmUpO1xyXG5cclxuXHRcdFx0XHRncm91cCA9IG51bGw7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH07XHJcblxyXG5cdEFycmF5LmZyb20oaXRlbXMsIGVsID0+IGhhbmRsZXIoZWwpKTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlLWlucHV0JykpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdEFycmF5LmZyb20oaXRlbXMsIGZvcm0gPT4ge1xyXG5cclxuXHRcdGNvbnN0IGl0ZW0gPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLXJlcXVpcmVkX19pdGVtJyksXHJcblx0XHRcdCAgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybS1yZXF1aXJlZF9fc3VibWl0Jyk7XHJcblxyXG5cdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuXHJcblx0XHRcdGxldCBmYWxpZCA9IHRydWU7XHJcblxyXG5cdFx0XHRBcnJheS5mcm9tKGl0ZW0sIGVsID0+IHtcclxuXHJcblx0XHRcdFx0aWYoZWwudmFsdWUgPT09ICdub25lJykge1xyXG5cclxuXHRcdFx0XHRcdGZhbGlkID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aWYoZmFsaWQpIHtcclxuXHJcblx0XHRcdFx0c3VibWl0LmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tcmVxdWlyZWQnKSk7IiwiKCBlbGVtcyA9PiB7XHJcblxyXG5cdGlmKCFlbGVtcy5sZW5ndGgpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0QXJyYXkuZnJvbShlbGVtcywgZWwgPT4ge1xyXG5cclxuXHRcdGxldCBtYXNrSW5wdXQ7XHJcblxyXG5cdFx0Y29uc3QgcGxhY2Vob2xkZXIgPSBlbC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJykgPyBlbC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJykgOiBudWxsO1xyXG5cclxuXHRcdGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRtYXNrLS1waG9uZScpKSB7XHJcblxyXG5cdFx0XHRtYXNrSW5wdXQgPSBuZXcgSW5wdXRtYXNrKHtcclxuXHRcdFx0XHRtYXNrOiBcIis3IDk5OSA5OTkgOTkgOTlcIixcclxuXHRcdFx0XHRzaG93TWFza09uSG92ZXI6IGZhbHNlLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciA/IHBsYWNlaG9sZGVyIDogXCIrNyBfX18gX19fIF9fIF9fXCJcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0bWFzay0tZGF0ZScpKSB7XHJcblxyXG5cdFx0XHRtYXNrSW5wdXQgPSBuZXcgSW5wdXRtYXNrKHtcclxuXHRcdFx0XHRhbGlhczogXCJkYXRldGltZVwiLFxyXG5cdFx0XHRcdHNob3dNYXNrT25Ib3ZlcjogZmFsc2UsXHJcblx0XHRcdFx0aW5wdXRGb3JtYXQ6IFwiZGQvbW0veXl5eVwiLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciA/IHBsYWNlaG9sZGVyIDogXCJfXy9fXy9fX19fXCJcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0bWFzay0tdGltZScpKSB7XHJcblxyXG5cdFx0XHRtYXNrSW5wdXQgPSBuZXcgSW5wdXRtYXNrKHtcclxuXHRcdFx0XHRtYXNrOiBcIjk5Ojk5XCIsXHJcblx0XHRcdFx0c2hvd01hc2tPbkhvdmVyOiBmYWxzZSxcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIgPyBwbGFjZWhvbGRlciA6IFwiX186X19cIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0bWFza0lucHV0Lm1hc2soZWwpO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dG1hc2snKSk7IiwiKCBtb2RhbCA9PiB7XHJcblxyXG5cdGlmKCFtb2RhbCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBpdGVtcyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbF9faXRlbScpLFxyXG5cdFx0ICBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kYWxdJyksXHJcblx0XHQgIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpO1xyXG5cclxuXHRsZXQgYWN0aXZlTW9kYWwgPSBudWxsLFxyXG5cdFx0d2luZG93U2Nyb2xsID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG5cclxuXHRtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdoaWRlJywgKCkgPT4ge1xyXG5cclxuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtc2hvdycpO1xyXG5cdFx0d3JhcHBlci5zdHlsZS50b3AgPSAwO1xyXG5cdFx0d2luZG93LnNjcm9sbFRvKDAsd2luZG93U2Nyb2xsKTtcclxuXHRcdGFjdGl2ZU1vZGFsID0gZmFsc2U7XHJcblxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBtb2RhbFNob3cgPSBzZWxlY3RvciA9PiB7XHJcblxyXG5cdFx0aWYoIWFjdGl2ZU1vZGFsKXtcclxuXHJcblx0XHRcdHdpbmRvd1Njcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0YWN0aXZlTW9kYWwgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2l0ZW0tLScgKyBzZWxlY3Rvcik7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZSgndmlzdWFsbHloaWRkZW4nLCBlbCAhPT0gYWN0aXZlTW9kYWwpKTtcclxuXHJcblx0XHR3cmFwcGVyLnN0eWxlLnRvcCA9IC13aW5kb3dTY3JvbGwgKyAncHgnO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1zaG93Jyk7XHJcblx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcclxuXHJcblx0XHRhY3RpdmVNb2RhbC5mb2N1cygpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbCcpIHx8IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2Nsb3NlJykpe1xyXG5cclxuXHRcdFx0bW9kYWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJoaWRlXCIpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHRBcnJheS5mcm9tKGJ0bnMsIGJ0biA9PlxyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cclxuXHRcdFx0bW9kYWxTaG93KGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kYWwnKSkpKTtcclxuXHJcblx0bW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignbW9kYWxTaG93JywgZXZlbnQgPT4gbW9kYWxTaG93KGV2ZW50LmRldGFpbC5zZWxlY3RvcikpO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJykpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdHBpY2ttZXVwLmRlZmF1bHRzLmxvY2FsZXNbJ3J1J10gPSB7XHJcblx0XHRkYXlzOiBbJ9CS0L7RgdC60YDQtdGB0LXQvdGM0LUnLCAn0J/QvtC90LXQtNC10LvRjNC90LjQuicsICfQktGC0L7RgNC90LjQuicsICfQodGA0LXQtNCwJywgJ9Cn0LXRgtCy0LXRgNCzJywgJ9Cf0Y/RgtC90LjRhtCwJywgJ9Ch0YPQsdCx0L7RgtCwJ10sXHJcblx0XHRkYXlzU2hvcnQ6IFsn0JLRgScsICfQn9C9JywgJ9CS0YInLCAn0KHRgCcsICfQp9GCJywgJ9Cf0YInLCAn0KHQsSddLFxyXG5cdFx0ZGF5c01pbjogWyfQktGBJywgJ9Cf0L0nLCAn0JLRgicsICfQodGAJywgJ9Cn0YInLCAn0J/RgicsICfQodCxJ10sXHJcblx0XHRtb250aHM6IFsn0K/QvdCy0LDRgNGMJywgJ9Ck0LXQstGA0LDQu9GMJywgJ9Cc0LDRgNGCJywgJ9CQ0L/RgNC10LvRjCcsICfQnNCw0LknLCAn0JjRjtC90YwnLCAn0JjRjtC70YwnLCAn0JDQstCz0YPRgdGCJywgJ9Ch0LXQvdGC0Y/QsdGA0YwnLCAn0J7QutGC0Y/QsdGA0YwnLCAn0J3QvtGP0LHRgNGMJywgJ9CU0LXQutCw0LHRgNGMJ10sXHJcblx0XHRtb250aHNTaG9ydDogWyfQr9C90LInLCAn0KTQtdCyJywgJ9Cc0LDRgCcsICfQkNC/0YAnLCAn0JzQsNC5JywgJ9CY0Y7QvScsICfQmNGO0LsnLCAn0JDQstCzJywgJ9Ch0LXQvScsICfQntC60YInLCAn0J3QvtGPJywgJ9CU0LXQuiddXHJcblx0fTtcclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4ge1xyXG5cclxuXHRcdGxldCBidG5JbnB1dCxcclxuXHRcdFx0aW5wdXRGb2N1cyA9IGZhbHNlO1xyXG5cclxuXHRcdGNvbnN0IGJ0biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1kYXRlX19idG4nKSxcclxuXHRcdFx0ICBpbnB1dCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1kYXRlX19pbnB1dCcpO1xyXG5cclxuXHRcdGlmKGlucHV0LmRpc2FibGVkKSB7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGJ0bklucHV0ID0gcGlja21ldXAoYnRuLCB7XHJcblxyXG5cdFx0XHRwb3NpdGlvbjogKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcblx0XHRcdFx0XHQgIHRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCArIHJlY3QuYm90dG9tICsgJ3B4JztcclxuXHRcdFx0XHRcdCAgbGVmdCA9IHJlY3QubGVmdCArICdweCc7XHJcblxyXG5cdFx0XHRcdHJldHVybiB7dG9wOiB0b3AsIGxlZnQ6IGxlZnR9XHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkYXRlOiBpbnB1dC52YWx1ZSxcclxuXHRcdFx0aGlkZV9vbl9zZWxlY3QgOiB0cnVlLFxyXG5cdFx0XHR0aXRsZV9mb3JtYXQ6ICdCIFknLFxyXG5cdFx0XHRmb3JtYXQ6ICdkL20vWScsXHJcblx0XHRcdGxvY2FsZTogJ3J1JyxcclxuXHRcdFx0cHJldjogJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNOSAxMWw0LjYtNC42QS45OS45OSAwIDExMTUgNy44bC0zLjkgMy45IDMuOSAzLjlhLjk5Ljk5IDAgMDEtMS40IDEuNEw5IDEyLjQxQTEgMSAwIDAxOSAxMXpcIi8+PC9zdmc+JyxcclxuXHRcdFx0bmV4dDogJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTUgMTFhMSAxIDAgMDEwIDEuNEwxMC40IDE3QS45OS45OSAwIDAxOSAxNS42bDMuOS0zLjlMOSA3LjhhLjk5Ljk5IDAgMDExLjQtMS40TDE1IDExelwiLz48L3N2Zz4nXHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3BpY2ttZXVwLWNoYW5nZScsICgpID0+IHtcclxuXHJcblx0XHRcdGlucHV0LmJsdXIoKTtcclxuXHJcblx0XHRcdGlmKGlucHV0LnZhbHVlICE9PSBidG5JbnB1dC5nZXRfZGF0ZSh0cnVlKSl7XHJcblxyXG5cdFx0XHRcdGlucHV0LnZhbHVlID0gYnRuSW5wdXQuZ2V0X2RhdGUodHJ1ZSk7XHJcblx0XHRcdFx0aW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIikpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdwaWNrbWV1cC1oaWRlJywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0aWYoaW5wdXRGb2N1cykge1xyXG5cclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRpZihldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAyNykge1xyXG5cclxuXHRcdFx0XHRpbnB1dC5ibHVyKCk7XHJcblx0XHRcdFx0YnRuSW5wdXQuaGlkZSgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xyXG5cclxuXHRcdFx0aW5wdXRGb2N1cyA9IHRydWU7XHJcblxyXG5cdFx0XHRidG5JbnB1dC5zaG93KCk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHJcblx0XHRcdGlucHV0Rm9jdXMgPSBmYWxzZTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHJcblx0XHRcdGJ0bklucHV0LnNob3coKTtcclxuXHRcdFx0YnRuSW5wdXQuc2V0X2RhdGUoaW5wdXQudmFsdWUpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC1kYXRlJykpOyIsIiggc2VsZWN0cyA9PiB7XHJcblxyXG5cdGlmKCFzZWxlY3RzLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBDdXN0b21FdmVudENoYW5nZSA9IG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiLCB7XHJcblx0XHRkZXRhaWw6IHtcclxuXHRcdFx0aGF6Y2hlZXNlYnVyZ2VyOiB0cnVlXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdEFycmF5LmZyb20oc2VsZWN0cywgc2VsZWN0ID0+IHtcclxuXHJcblx0XHRpZihzZWxlY3QucXVlcnlTZWxlY3RvcignLnNlbGVjdF9fbGlzdCcpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRjb25zdCB2YWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG5cdFx0XHQgIGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLFxyXG5cdFx0XHQgIGNvbG9yID0gc2VsZWN0LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LS1jb2xvcicpO1xyXG5cclxuXHRcdGFycm93LmlubmVySFRNTCA9ICc8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTguMyAxMC4zYTEgMSAwIDAwMCAxLjQxbDIuOTMgMi45N2MuMjIuMjEuNS4zMi43OC4zMnMuNTYtLjEuNzctLjMybDIuOTMtMi45NmExLjAxIDEuMDEgMCAwMC0uMzItMS42My45OS45OSAwIDAwLTEuMDkuMjFMMTIgMTIuNjJsLTIuMy0yLjMzYTEgMSAwIDAwLTEuNCAwelwiLz48L3N2Zz4nO1xyXG5cclxuXHRcdHZhbHVlLmNsYXNzTmFtZSA9ICdzZWxlY3RfX3ZhbHVlJztcclxuXHRcdHZhbHVlLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInNlbGVjdF9fdmFsdWUtaW5uZXJcIj48L3NwYW4+JztcclxuXHJcblx0XHR2YWx1ZS5hcHBlbmRDaGlsZChhcnJvdyk7XHJcblx0XHRzZWxlY3QuYXBwZW5kQ2hpbGQodmFsdWUpO1xyXG5cclxuXHRcdGNvbnN0IGZvcm0gPSBzZWxlY3QuY2xvc2VzdCgnZm9ybScpLFxyXG5cdFx0XHRjb250cm9sID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpLFxyXG5cdFx0XHRvcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJyksXHJcblx0XHRcdHZhbHVlVGV4dCA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0X192YWx1ZS1pbm5lcicpLFxyXG5cdFx0XHRsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdFx0bGlzdC5jbGFzc05hbWUgPSAnc2VsZWN0X19saXN0JztcclxuXHJcblx0XHRsZXQgc2VsZWN0ZWQgPSBjb250cm9sLnF1ZXJ5U2VsZWN0b3IoJ1t2YWx1ZT1cIicgKyBjb250cm9sLnZhbHVlICsgJ1wiXScpO1xyXG5cclxuXHRcdGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcblxyXG5cdFx0XHRzZWxlY3RlZCA9IGNvbnRyb2wucXVlcnlTZWxlY3RvcignW3ZhbHVlPVwiJyArIGNvbnRyb2wudmFsdWUgKyAnXCJdJyk7XHJcblxyXG5cdFx0XHR2YWx1ZVRleHQudGV4dENvbnRlbnQgPSBzZWxlY3RlZC50ZXh0Q29udGVudDtcclxuXHJcblx0XHRcdHNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3QtLWRlZmF1bHQnKTtcclxuXHJcblx0XHRcdGlmIChjb2xvcikge1xyXG5cclxuXHRcdFx0XHR2YWx1ZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InLCBzZWxlY3RlZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKSk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYoY29udHJvbC5kaXNhYmxlZCl7XHJcblxyXG5cdFx0XHRzZWxlY3QuY2xhc3NMaXN0LmFkZCgnc2VsZWN0LS1kaXNhYmxlZCcpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZihjb250cm9sLnZhbHVlID09PSAnbm9uZScpe1xyXG5cclxuXHRcdFx0c2VsZWN0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdC0tZGVmYXVsdCcpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR2YWx1ZVRleHQudGV4dENvbnRlbnQgPSBzZWxlY3QucXVlcnlTZWxlY3Rvcignb3B0aW9uW3ZhbHVlPVwiJyArIGNvbnRyb2wudmFsdWUgKyAnXCJdJykudGV4dENvbnRlbnQ7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShvcHRpb24sIGVsID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHJcblx0XHRcdG8uY2xhc3NOYW1lID0gJ2J1dHRvbiBzZWxlY3RfX2xpc3QtaXRlbSc7XHJcblxyXG5cdFx0XHRvLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuXHRcdFx0by5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZWwuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKTtcclxuXHJcblx0XHRcdG8udGV4dENvbnRlbnQgPSBlbC50ZXh0Q29udGVudDtcclxuXHJcblx0XHRcdGxpc3QuYXBwZW5kQ2hpbGQobyk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RfX2xpc3QtaXRlbScpKXtcclxuXHJcblx0XHRcdFx0Y29udHJvbC52YWx1ZSA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XHJcblxyXG5cdFx0XHRcdGNvbnRyb2wuZGlzcGF0Y2hFdmVudChDdXN0b21FdmVudENoYW5nZSk7XHJcblxyXG5cdFx0XHRcdGlmKGZvcm0pIHtcclxuXHJcblx0XHRcdFx0XHRmb3JtLmRpc3BhdGNoRXZlbnQoQ3VzdG9tRXZlbnRDaGFuZ2UpO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2VsZWN0LmFwcGVuZENoaWxkKGxpc3QpO1xyXG5cclxuXHRcdC8vIGNvbG9yXHJcblx0XHRpZiAoY29sb3IpIHtcclxuXHJcblx0XHRcdHZhbHVlLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicsIHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRjb25zdCBpc1NlbGVjdCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuc2VsZWN0Jyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShzZWxlY3RzLCBzZWxlY3QgPT4ge1xyXG5cclxuXHRcdFx0c2VsZWN0LmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdC0tb3BlbicsIHNlbGVjdCA9PT0gaXNTZWxlY3QgJiYgIWlzU2VsZWN0LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LS1vcGVuJykpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3QnKSk7IiwiKCB0YWJzID0+IHtcclxuXHJcblx0aWYoIXRhYnMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdC8vINC/0YDQvtCy0LXRgNGP0LXQvCBoYXNoXHJcblx0Y29uc3QgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XHJcblxyXG5cdGNvbnN0IGJ0bkhhc2ggPSAoYnRucyxpdGVtcykgPT4ge1xyXG5cclxuXHRcdEFycmF5LmZyb20oYnRucywgKF9idG4sIGluZGV4KSA9PiBzZXRBY3RpdmUoX2J0biwgaXRlbXNbaW5kZXhdLCBfYnRuLmhyZWYgPT09IGxvY2F0aW9uLmhyZWYpKTtcclxuXHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc2V0QWN0aXZlID0gKGJ0biwgaXRlbSwgdG9nZ2xlKSA9PiB7XHJcblxyXG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScsIHRvZ2dsZSk7XHJcblx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScsIHRvZ2dsZSk7XHJcblxyXG5cdH1cclxuXHJcblx0QXJyYXkuZnJvbSh0YWJzLCB0YWIgPT4ge1xyXG5cclxuXHRcdGNvbnN0IGJ0bnMgPSB0YWIucXVlcnlTZWxlY3RvckFsbCgnLnRhYnNfX2J0bicpLFxyXG5cdFx0XHQgIGl0ZW1zID0gdGFiLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzX19pdGVtJyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShidG5zLCBidG4gPT5cclxuXHRcdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT5cclxuXHRcdFx0XHRBcnJheS5mcm9tKGJ0bnMsIChfYnRuLCBpbmRleCkgPT5cclxuXHRcdFx0XHRcdHNldEFjdGl2ZShfYnRuLCBpdGVtc1tpbmRleF0sIF9idG4gPT09IGJ0bikpKSk7XHJcblxyXG5cdFx0aWYoaGFzaCkge1xyXG5cclxuXHRcdFx0YnRuSGFzaChidG5zLGl0ZW1zKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAoKSA9PiBidG5IYXNoKGJ0bnMsaXRlbXMpKTtcclxuXHJcblx0fSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicycpKTsiLCIoIGl0ZW1zID0+IHtcclxuXHJcblx0aWYoIWl0ZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRBcnJheS5mcm9tKGl0ZW1zLCBlbCA9PiB7XHJcblxyXG5cdFx0Y29uc3QgYnRuID0gZWwucXVlcnlTZWxlY3RvcignLmlucHV0LXRpbWVfX2J0bicpLFxyXG5cdFx0XHQgIGlucHV0ID0gZWwucXVlcnlTZWxlY3RvcignLmlucHV0LXRpbWVfX2lucHV0JyksXHJcblx0XHRcdCAgZGF0YWxpc3QgPSBlbC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQtdGltZV9fZGF0YWxpc3QnKTtcclxuXHJcblx0XHRpZihpbnB1dC5kaXNhYmxlZCkge1xyXG5cclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRBcnJheS5mcm9tKGRhdGFsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXZhbHVlXScpLCBlbCA9PiB7XHJcblxyXG5cdFx0XHRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC10aW1lLS1vcGVuJyk7XHJcblxyXG5cdFx0XHRcdGlmKGlucHV0LnZhbHVlICE9PSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSl7XHJcblxyXG5cdFx0XHRcdFx0aW5wdXQudmFsdWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcclxuXHRcdFx0XHRcdGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2hhbmdlXCIpKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRcdGlmKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XHJcblxyXG5cdFx0XHRcdGlucHV0LmJsdXIoKTtcclxuXHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC10aW1lLS1vcGVuJyk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRjb25zdCBpc0lucHV0VGltZSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuaW5wdXQtdGltZScpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oaXRlbXMsIGVsID0+IHtcclxuXHJcblx0XHRcdGVsLmNsYXNzTGlzdC50b2dnbGUoJ2lucHV0LXRpbWUtLW9wZW4nLCBlbCA9PT0gaXNJbnB1dFRpbWUgJiYgIWlzSW5wdXRUaW1lLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXQtdGltZS0tb3BlbicpKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQtdGltZScpKTsiLCIoIHRvb2x0aXBzID0+IHtcclxuXHJcblx0aWYodG9vbHRpcHMubGVuZ3RoKXtcclxuXHJcblx0XHRBcnJheS5mcm9tKHRvb2x0aXBzLCB0b29sdGlwID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cclxuXHRcdFx0dGl0bGUuY2xhc3NOYW1lID0gJ3Rvb2x0aXAtdGl0bGVfX2lubmVyJztcclxuXHJcblx0XHRcdHRpdGxlLnRleHRDb250ZW50ID0gdG9vbHRpcC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcblx0XHRcdHRvb2x0aXAuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG5cdFx0XHR0b29sdGlwLnJlbW92ZUF0dHJpYnV0ZSgndGl0bGUnKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fVxyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAtdGl0bGUnKSk7XHJcblxyXG4oIHRvb2x0aXBzID0+IHtcclxuXHJcblx0aWYodG9vbHRpcHMubGVuZ3RoKXtcclxuXHJcblx0XHRjb25zdCBpY28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksXHJcblx0XHRcdCAgaWNvQ2hhdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcblx0XHRpY28uaW5uZXJIVE1MID0gJzxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0yMCAxMmE4IDggMCAxMS0xNiAwIDggOCAwIDAxMTYgMHptLTUuNzQtMy44N2EzLjE4IDMuMTggMCAwMS41NiAzLjc4Yy0uMzguNy0xIDEuMjItMS43NCAxLjQ5YS40LjQgMCAwMC0uMjguMzh2LjYyYS44LjggMCAwMS0xLjYgMFYxMi44QS44LjggMCAwMTEyIDEyYy44OCAwIDEuNi0uNzIgMS42LTEuNmExLjYgMS42IDAgMDAtMy4yIDAgLjguOCAwIDAxLTEuNTkuMDhsLS4wMS0uMTJjLjAxLTIgMS44Ni0zLjU1IDMuOTUtMy4wNy41Ny4xMyAxLjEuNDIgMS41MS44NHpNMTIuOCAxNi44YS44LjggMCAxMS0xLjYgMCAuOC44IDAgMDExLjYgMHpcIi8+PC9zdmc+JztcclxuXHJcblx0XHRpY29DaGF0LmlubmVySFRNTCA9ICc8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTE1IDE2aDRWNkg1djEwaDcuMzNMMTUgMTh2LTJ6bTIgMnYyYTEgMSAwIDAxLTEuNi44TDExLjY3IDE4SDVhMiAyIDAgMDEtMi0yVjZhMiAyIDAgMDEyLTJoMTRhMiAyIDAgMDEyIDJ2MTBhMiAyIDAgMDEtMiAyaC0yelwiLz48cGF0aCBkPVwiTTcgMTBoMTBWOEg3djJ6bTAgNGg2di0ySDd2MnpcIi8+PC9zdmc+JztcclxuXHJcblx0XHRsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvblJlY29yZHMgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgdCA9IG11dGF0aW9uUmVjb3Jkc1swXS50YXJnZXQsXHJcblx0XHRcdFx0ICByZWN0ID0gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKHJlY3QubGVmdCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCk7XHJcbi8qXHJcblx0XHRcdGlmKHQub3Blbikge1xyXG5cclxuXHRcdFx0XHRjb25zdCBpbm5lciA9IHQucXVlcnlTZWxlY3RvcignLmFza19faW5uZXInKTtcclxuXHJcblx0XHRcdFx0aWYocmVjdC5sZWZ0ID4gd2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0KSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8g0L/RgNCw0LLQtdC1XHJcblxyXG5cdFx0XHRcdFx0aW5uZXIuc3R5bGUubGVmdCA9ICdhdXRvJztcclxuXHRcdFx0XHRcdGlubmVyLnN0eWxlLnJpZ2h0ID0gMDtcclxuXHRcdFx0XHRcdGlubmVyLnN0eWxlLndpZHRoID0gcmVjdC5sZWZ0ICsgJ3B4JztcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdC8vINC70LXQstC10LVcclxuXHJcblx0XHRcdFx0XHRpbm5lci5zdHlsZS5yaWdodCA9ICdhdXRvJztcclxuXHRcdFx0XHRcdGlubmVyLnN0eWxlLmxlZnQgPSAwO1xyXG5cdFx0XHRcdFx0aW5uZXIuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHJlY3QucmlnaHQgKyAncHgnO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG4qL1x0XHR9KTtcclxuXHJcblx0XHRBcnJheS5mcm9tKHRvb2x0aXBzLCB0b29sdGlwID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGJ0biA9IHRvb2x0aXAucXVlcnlTZWxlY3RvcignLnRvb2x0aXAtaGVscF9fYnRuJyk7XHJcblxyXG5cdFx0XHRpZih0b29sdGlwLmNsYXNzTGlzdC5jb250YWlucygndG9vbHRpcC1oZWxwLS1jaGF0JykpIHtcclxuXHJcblx0XHRcdFx0YnRuLmFwcGVuZENoaWxkKGljb0NoYXQuY2xvbmVOb2RlKHRydWUpKTtcclxuXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdGJ0bi5hcHBlbmRDaGlsZChpY28uY2xvbmVOb2RlKHRydWUpKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG9ic2VydmVyLm9ic2VydmUodG9vbHRpcCwge1xyXG5cclxuXHRcdFx0XHRhdHRyaWJ1dGVzIDogdHJ1ZVxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLnRvb2x0aXAtaGVscCcpO1xyXG5cclxuXHRcdFx0QXJyYXkuZnJvbSh0b29sdGlwcywgdG9vbHRpcCA9PiB7XHJcblxyXG5cdFx0XHRcdGlmKHRhcmdldCAhPT0gdG9vbHRpcCkge1xyXG5cclxuXHRcdFx0XHRcdHRvb2x0aXAub3BlbiA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fVxyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAtaGVscCcpKTsiXX0=
