/*!
 * dist/inputmask.min
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2021 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.6-beta.29
 */
!function webpackUniversalModuleDefinition(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return modules=[function(module){module.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"CONTROL":17,"KEY_229":229}')},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.caret=caret,exports.determineLastRequiredPosition=determineLastRequiredPosition,exports.determineNewCaretPosition=determineNewCaretPosition,exports.getBuffer=getBuffer,exports.getBufferTemplate=getBufferTemplate,exports.getLastValidPosition=getLastValidPosition,exports.isMask=isMask,exports.resetMaskSet=resetMaskSet,exports.seekNext=seekNext,exports.seekPrevious=seekPrevious,exports.translatePosition=translatePosition;var _validationTests=__webpack_require__(3),_validation=__webpack_require__(4);function caret(input,begin,end,notranslate,isDelete){var inputmask=this,opts=this.opts,range;if(void 0===begin)return"selectionStart"in input&&"selectionEnd"in input?(begin=input.selectionStart,end=input.selectionEnd):window.getSelection?(range=window.getSelection().getRangeAt(0),range.commonAncestorContainer.parentNode!==input&&range.commonAncestorContainer!==input||(begin=range.startOffset,end=range.endOffset)):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-input.inputmask._valueGet().length),end=begin+range.text.length),{begin:notranslate?begin:translatePosition.call(this,begin),end:notranslate?end:translatePosition.call(this,end)};if(Array.isArray(begin)&&(end=this.isRTL?begin[0]:begin[1],begin=this.isRTL?begin[1]:begin[0]),void 0!==begin.begin&&(end=this.isRTL?begin.begin:begin.end,begin=this.isRTL?begin.end:begin.begin),"number"==typeof begin){begin=notranslate?begin:translatePosition.call(this,begin),end=notranslate?end:translatePosition.call(this,end),end="number"==typeof end?end:begin;var scrollCalc=parseInt(((input.ownerDocument.defaultView||window).getComputedStyle?(input.ownerDocument.defaultView||window).getComputedStyle(input,null):input.currentStyle).fontSize)*end;if(input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0,input.inputmask.caretPos={begin:begin,end:end},opts.insertModeVisual&&!1===opts.insertMode&&begin===end&&(isDelete||end++),input===(input.inputmask.shadowRoot||document).activeElement)if("setSelectionRange"in input)input.setSelectionRange(begin,end);else if(window.getSelection){if(range=document.createRange(),void 0===input.firstChild||null===input.firstChild){var textNode=document.createTextNode("");input.appendChild(textNode)}range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length),range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length),range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else input.createTextRange&&(range=input.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select())}}function determineLastRequiredPosition(returnDefinition){var inputmask=this,maskset=this.maskset,$=this.dependencyLib,buffer=_validationTests.getMaskTemplate.call(this,!0,getLastValidPosition.call(this),!0,!0),bl=buffer.length,pos,lvp=getLastValidPosition.call(this),positions={},lvTest=maskset.validPositions[lvp],ndxIntlzr=void 0!==lvTest?lvTest.locator.slice():void 0,testPos;for(pos=lvp+1;pos<buffer.length;pos++)testPos=_validationTests.getTestTemplate.call(this,pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);var lvTestAlt=lvTest&&void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation]:void 0;for(pos=bl-1;lvp<pos&&(testPos=positions[pos],(testPos.match.optionality||testPos.match.optionalQuantifier&&testPos.match.newBlockMarker||lvTestAlt&&(lvTestAlt!==positions[pos].locator[lvTest.alternation]&&1!=testPos.match.static||!0===testPos.match.static&&testPos.locator[lvTest.alternation]&&_validation.checkAlternationMatch.call(this,testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&""!==_validationTests.getTests.call(this,pos)[0].def))&&buffer[pos]===_validationTests.getPlaceholder.call(this,pos,testPos.match));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function determineNewCaretPosition(selectedCaret,tabbed){var inputmask=this,maskset=this.maskset,opts=this.opts;function doRadixFocus(clickPos){if(""!==opts.radixPoint&&0!==opts.digits){var vps=maskset.validPositions;if(void 0===vps[clickPos]||vps[clickPos].input===_validationTests.getPlaceholder.call(inputmask,clickPos)){if(clickPos<seekNext.call(inputmask,-1))return!0;var radixPos=getBuffer.call(inputmask).indexOf(opts.radixPoint);if(-1!==radixPos){for(var vp in vps)if(vps[vp]&&radixPos<vp&&vps[vp].input!==_validationTests.getPlaceholder.call(inputmask,vp))return!1;return!0}}}return!1}if(tabbed&&(inputmask.isRTL?selectedCaret.end=selectedCaret.begin:selectedCaret.begin=selectedCaret.end),selectedCaret.begin===selectedCaret.end){switch(opts.positionCaretOnClick){case"none":break;case"select":selectedCaret={begin:0,end:getBuffer.call(inputmask).length};break;case"ignore":selectedCaret.end=selectedCaret.begin=seekNext.call(inputmask,getLastValidPosition.call(inputmask));break;case"radixFocus":if(doRadixFocus(selectedCaret.begin)){var radixPos=getBuffer.call(inputmask).join("").indexOf(opts.radixPoint);selectedCaret.end=selectedCaret.begin=opts.numericInput?seekNext.call(inputmask,radixPos):radixPos;break}default:var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition.call(inputmask,clickPosition,!0),lastPosition=seekNext.call(inputmask,-1!==lvclickPosition||isMask.call(inputmask,0)?lvclickPosition:-1);if(clickPosition<=lastPosition)selectedCaret.end=selectedCaret.begin=isMask.call(inputmask,clickPosition,!1,!0)?clickPosition:seekNext.call(inputmask,clickPosition);else{var lvp=maskset.validPositions[lvclickPosition],tt=_validationTests.getTestTemplate.call(inputmask,lastPosition,lvp?lvp.match.locator:void 0,lvp),placeholder=_validationTests.getPlaceholder.call(inputmask,lastPosition,tt.match);if(""!==placeholder&&getBuffer.call(inputmask)[lastPosition]!==placeholder&&!0!==tt.match.optionalQuantifier&&!0!==tt.match.newBlockMarker||!isMask.call(inputmask,lastPosition,opts.keepStatic,!0)&&tt.match.def===placeholder){var newPos=seekNext.call(inputmask,lastPosition);(newPos<=clickPosition||clickPosition===lastPosition)&&(lastPosition=newPos)}selectedCaret.end=selectedCaret.begin=lastPosition}}return selectedCaret}}function getBuffer(noCache){var inputmask=this,maskset=this.maskset;return void 0!==maskset.buffer&&!0!==noCache||(maskset.buffer=_validationTests.getMaskTemplate.call(this,!0,getLastValidPosition.call(this),!0),void 0===maskset._buffer&&(maskset._buffer=maskset.buffer.slice())),maskset.buffer}function getBufferTemplate(){var inputmask=this,maskset=this.maskset;return void 0===maskset._buffer&&(maskset._buffer=_validationTests.getMaskTemplate.call(this,!1,1),void 0===maskset.buffer&&(maskset.buffer=maskset._buffer.slice())),maskset._buffer}function getLastValidPosition(closestTo,strict,validPositions){var maskset=this.maskset,before=-1,after=-1,valids=validPositions||maskset.validPositions;for(var posNdx in void 0===closestTo&&(closestTo=-1),valids){var psNdx=parseInt(posNdx);valids[psNdx]&&(strict||!0!==valids[psNdx].generatedInput)&&(psNdx<=closestTo&&(before=psNdx),closestTo<=psNdx&&(after=psNdx))}return-1===before||before==closestTo?after:-1==after?before:closestTo-before<after-closestTo?before:after}function isMask(pos,strict,fuzzy){var inputmask=this,maskset=this.maskset,test=_validationTests.getTestTemplate.call(this,pos).match;if(""===test.def&&(test=_validationTests.getTest.call(this,pos).match),!0!==test.static)return test.fn;if(!0===fuzzy&&void 0!==maskset.validPositions[pos]&&!0!==maskset.validPositions[pos].generatedInput)return!0;if(!0!==strict&&-1<pos){if(fuzzy){var tests=_validationTests.getTests.call(this,pos);return tests.length>1+(""===tests[tests.length-1].match.def?1:0)}var testTemplate=_validationTests.determineTestTemplate.call(this,pos,_validationTests.getTests.call(this,pos)),testPlaceHolder=_validationTests.getPlaceholder.call(this,pos,testTemplate.match);return testTemplate.match.def!==testPlaceHolder}return!1}function resetMaskSet(soft){var maskset=this.maskset;maskset.buffer=void 0,!0!==soft&&(maskset.validPositions={},maskset.p=0)}function seekNext(pos,newBlock,fuzzy){var inputmask=this;void 0===fuzzy&&(fuzzy=!0);for(var position=pos+1;""!==_validationTests.getTest.call(this,position).match.def&&(!0===newBlock&&(!0!==_validationTests.getTest.call(this,position).match.newBlockMarker||!isMask.call(this,position,void 0,!0))||!0!==newBlock&&!isMask.call(this,position,void 0,fuzzy));)position++;return position}function seekPrevious(pos,newBlock){var inputmask=this,position=pos-1;if(pos<=0)return 0;for(;0<position&&(!0===newBlock&&(!0!==_validationTests.getTest.call(this,position).match.newBlockMarker||!isMask.call(this,position,void 0,!0))||!0!==newBlock&&!isMask.call(this,position,void 0,!0));)position--;return position}function translatePosition(pos){var inputmask=this,opts=this.opts,el=this.el;return!this.isRTL||"number"!=typeof pos||opts.greedy&&""===opts.placeholder||!el||(pos=Math.abs(this._valueGet().length-pos)),pos}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(16),__webpack_require__(17);var _mask=__webpack_require__(18),_inputmask=_interopRequireDefault(__webpack_require__(10)),_window=_interopRequireDefault(__webpack_require__(5)),_maskLexer=__webpack_require__(21),_validationTests=__webpack_require__(3),_positioning=__webpack_require__(1),_validation=__webpack_require__(4),_inputHandling=__webpack_require__(7),_eventruler=__webpack_require__(11),_definitions=_interopRequireDefault(__webpack_require__(22)),_defaults=_interopRequireDefault(__webpack_require__(23)),_canUseDOM=_interopRequireDefault(__webpack_require__(6));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document,dataKey="_inputmask_opts";function Inputmask(alias,options,internal){if(_canUseDOM.default){if(!(this instanceof Inputmask))return new Inputmask(alias,options,internal);this.dependencyLib=_inputmask.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==internal&&("[object Object]"===Object.prototype.toString.call(alias)?options=alias:(options=options||{},alias&&(options.alias=alias)),this.opts=_inputmask.default.extend(!0,{},this.defaults,options),this.noMasksCache=options&&void 0!==options.definitions,this.userOptions=options||{},resolveAlias(this.opts.alias,options,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.originalPlaceholder=void 0,this.isComposing=!1}}function resolveAlias(aliasStr,options,opts){var aliasDefinition=Inputmask.prototype.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),_inputmask.default.extend(!0,opts,aliasDefinition),_inputmask.default.extend(!0,opts,options),!0):(null===opts.mask&&(opts.mask=aliasStr),!1)}function importAttributeOptions(npt,opts,userOptions,dataAttribute){function importOption(option,optionData){var attrOption=""===dataAttribute?option:dataAttribute+"-"+option;optionData=void 0!==optionData?optionData:npt.getAttribute(attrOption),null!==optionData&&("string"==typeof optionData&&(0===option.indexOf("on")?optionData=_window.default[optionData]:"false"===optionData?optionData=!1:"true"===optionData&&(optionData=!0)),userOptions[option]=optionData)}if(!0===opts.importDataAttributes){var attrOptions=npt.getAttribute(dataAttribute),option,dataoptions,optionData,p;if(attrOptions&&""!==attrOptions&&(attrOptions=attrOptions.replace(/'/g,'"'),dataoptions=JSON.parse("{"+attrOptions+"}")),dataoptions)for(p in optionData=void 0,dataoptions)if("alias"===p.toLowerCase()){optionData=dataoptions[p];break}for(option in importOption("alias",optionData),userOptions.alias&&resolveAlias(userOptions.alias,userOptions,opts),opts){if(dataoptions)for(p in optionData=void 0,dataoptions)if(p.toLowerCase()===option.toLowerCase()){optionData=dataoptions[p];break}importOption(option,optionData)}}return _inputmask.default.extend(!0,opts,userOptions),"rtl"!==npt.dir&&!opts.rightAlign||(npt.style.textAlign="right"),"rtl"!==npt.dir&&!opts.numericInput||(npt.dir="ltr",npt.removeAttribute("dir"),opts.isRTL=!0),Object.keys(userOptions).length}Inputmask.prototype={dataAttribute:"data-inputmask",defaults:_defaults.default,definitions:_definitions.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function mask(elems){var that=this;return"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:Array.isArray(elems)?elems:Array.from(elems),elems.forEach(function(el,ndx){var scopedOpts=_inputmask.default.extend(!0,{},that.opts);if(importAttributeOptions(el,scopedOpts,_inputmask.default.extend(!0,{},that.userOptions),that.dataAttribute)){var maskset=(0,_maskLexer.generateMaskSet)(scopedOpts,that.noMasksCache);void 0!==maskset&&(void 0!==el.inputmask&&(el.inputmask.opts.autoUnmask=!0,el.inputmask.remove()),el.inputmask=new Inputmask(void 0,void 0,!0),el.inputmask.opts=scopedOpts,el.inputmask.noMasksCache=that.noMasksCache,el.inputmask.userOptions=_inputmask.default.extend(!0,{},that.userOptions),el.inputmask.el=el,el.inputmask.$el=(0,_inputmask.default)(el),el.inputmask.maskset=maskset,_inputmask.default.data(el,dataKey,that.userOptions),_mask.mask.call(el.inputmask))}}),elems&&elems[0]&&elems[0].inputmask||this},option:function option(options,noremask){return"string"==typeof options?this.opts[options]:"object"===_typeof(options)?(_inputmask.default.extend(this.userOptions,options),this.el&&!0!==noremask&&this.mask(this.el),this):void 0},unmaskedvalue:function unmaskedvalue(value){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==value){var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!1,!1,valueBuffer),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,_positioning.getBuffer.call(this),0,this.opts)}return _inputHandling.unmaskedvalue.call(this,this.el)},remove:function remove(){if(this.el){_inputmask.default.data(this.el,dataKey,null);var cv=this.opts.autoUnmask?(0,_inputHandling.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask),valueProperty;cv!==_positioning.getBufferTemplate.call(this).join("")?this._valueSet(cv,this.opts.autoUnmask):this._valueSet(""),_eventruler.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(valueProperty=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value"),valueProperty&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0})):document.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function getemptymask(){return this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),_positioning.getBufferTemplate.call(this).join("")},hasMaskedValue:function hasMaskedValue(){return!this.opts.autoUnmask},isComplete:function isComplete(){return this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),_validation.isComplete.call(this,_positioning.getBuffer.call(this))},getmetadata:function getmetadata(){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var maskTarget=_validationTests.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach(function(mtdt){return mtdt.mask!==maskTarget||(maskTarget=mtdt,!1)}),maskTarget}return this.maskset.metadata},isValid:function isValid(value){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),value){var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!0,!1,valueBuffer)}else value=this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join("");for(var buffer=_positioning.getBuffer.call(this),rl=_positioning.determineLastRequiredPosition.call(this),lmib=buffer.length-1;rl<lmib&&!_positioning.isMask.call(this,lmib);lmib--);return buffer.splice(rl,lmib+1-rl),_validation.isComplete.call(this,buffer)&&value===(this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join(""))},format:function format(value,metadata){this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache);var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!0,!1,valueBuffer);var formattedValue=this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join("");return metadata?{value:formattedValue,metadata:this.getmetadata()}:formattedValue},setValue:function setValue(value){this.el&&(0,_inputmask.default)(this.el).trigger("setvalue",[value])},analyseMask:_maskLexer.analyseMask},Inputmask.extendDefaults=function(options){_inputmask.default.extend(!0,Inputmask.prototype.defaults,options)},Inputmask.extendDefinitions=function(definition){_inputmask.default.extend(!0,Inputmask.prototype.definitions,definition)},Inputmask.extendAliases=function(alias){_inputmask.default.extend(!0,Inputmask.prototype.aliases,alias)},Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata)},Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value)},Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value)},Inputmask.remove=function(elems){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,elems.forEach(function(el){el.inputmask&&el.inputmask.remove()})},Inputmask.setValue=function(elems,value){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,elems.forEach(function(el){el.inputmask?el.inputmask.setValue(value):(0,_inputmask.default)(el).trigger("setvalue",[value])})},Inputmask.dependencyLib=_inputmask.default,_window.default.Inputmask=Inputmask;var _default=Inputmask;exports.default=_default},function(module,exports,__webpack_require__){"use strict";function getLocator(tst,align){var locator=(null!=tst.alternation?tst.mloc[getDecisionTaker(tst)]:tst.locator).join("");if(""!==locator)for(;locator.length<align;)locator+="0";return locator}function getDecisionTaker(tst){var decisionTaker=tst.locator[tst.alternation];return"string"==typeof decisionTaker&&0<decisionTaker.length&&(decisionTaker=decisionTaker.split(",")[0]),void 0!==decisionTaker?decisionTaker.toString():""}function getPlaceholder(pos,test,returnPL){var inputmask=this,opts=this.opts,maskset=this.maskset;if(test=test||getTest.call(this,pos).match,void 0!==test.placeholder||!0===returnPL)return"function"==typeof test.placeholder?test.placeholder(opts):test.placeholder;if(!0!==test.static)return opts.placeholder.charAt(pos%opts.placeholder.length);if(-1<pos&&void 0===maskset.validPositions[pos]){var tests=getTests.call(this,pos),staticAlternations=[],prevTest;if(tests.length>1+(""===tests[tests.length-1].match.def?1:0))for(var i=0;i<tests.length;i++)if(""!==tests[i].match.def&&!0!==tests[i].match.optionality&&!0!==tests[i].match.optionalQuantifier&&(!0===tests[i].match.static||void 0===prevTest||!1!==tests[i].match.fn.test(prevTest.match.def,maskset,pos,!0,opts))&&(staticAlternations.push(tests[i]),!0===tests[i].match.static&&(prevTest=tests[i]),1<staticAlternations.length&&/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)))return opts.placeholder.charAt(pos%opts.placeholder.length)}return test.def}function getMaskTemplate(baseOnInput,minimalPos,includeMode,noJit,clearOptionalTail){var inputmask=this,opts=this.opts,maskset=this.maskset,greedy=opts.greedy;clearOptionalTail&&(opts.greedy=!1),minimalPos=minimalPos||0;var maskTemplate=[],ndxIntlzr,pos=0,test,testPos,jitRenderStatic;do{if(!0===baseOnInput&&maskset.validPositions[pos])testPos=clearOptionalTail&&!0===maskset.validPositions[pos].match.optionality&&void 0===maskset.validPositions[pos+1]&&(!0===maskset.validPositions[pos].generatedInput||maskset.validPositions[pos].input==opts.skipOptionalPartCharacter&&0<pos)?determineTestTemplate.call(this,pos,getTests.call(this,pos,ndxIntlzr,pos-1)):maskset.validPositions[pos],test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(!0===includeMode?testPos.input:!1===includeMode?test.nativeDef:getPlaceholder.call(this,pos,test));else{testPos=getTestTemplate.call(this,pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice();var jitMasking=!0!==noJit&&(!1!==opts.jitMasking?opts.jitMasking:test.jit);jitRenderStatic=(jitRenderStatic&&test.static&&test.def!==opts.groupSeparator&&null===test.fn||maskset.validPositions[pos-1]&&test.static&&test.def!==opts.groupSeparator&&null===test.fn)&&maskset.tests[pos]&&1===maskset.tests[pos].length,jitRenderStatic||!1===jitMasking||void 0===jitMasking||"number"==typeof jitMasking&&isFinite(jitMasking)&&pos<jitMasking?maskTemplate.push(!1===includeMode?test.nativeDef:getPlaceholder.call(this,pos,test)):jitRenderStatic=!1}pos++}while((void 0===this.maxLength||pos<this.maxLength)&&(!0!==test.static||""!==test.def)||pos<minimalPos);return""===maskTemplate[maskTemplate.length-1]&&maskTemplate.pop(),!1===includeMode&&void 0!==maskset.maskLength||(maskset.maskLength=pos-1),opts.greedy=greedy,maskTemplate}function getTestTemplate(pos,ndxIntlzr,tstPs){var inputmask=this,maskset=this.maskset;return maskset.validPositions[pos]||determineTestTemplate.call(this,pos,getTests.call(this,pos,ndxIntlzr?ndxIntlzr.slice():ndxIntlzr,tstPs))}function determineTestTemplate(pos,tests){var inputmask=this,opts=this.opts;pos=0<pos?pos-1:0;for(var altTest=getTest.call(this,pos),targetLocator=getLocator(altTest),tstLocator,closest,bestMatch,ndx=0;ndx<tests.length;ndx++){var tst=tests[ndx];tstLocator=getLocator(tst,targetLocator.length);var distance=Math.abs(tstLocator-targetLocator);(void 0===closest||""!==tstLocator&&distance<closest||bestMatch&&!opts.greedy&&bestMatch.match.optionality&&"master"===bestMatch.match.newBlockMarker&&(!tst.match.optionality||!tst.match.newBlockMarker)||bestMatch&&bestMatch.match.optionalQuantifier&&!tst.match.optionalQuantifier)&&(closest=distance,bestMatch=tst)}return bestMatch}function getTest(pos,tests){var inputmask=this,maskset=this.maskset;return maskset.validPositions[pos]?maskset.validPositions[pos]:(tests||getTests.call(this,pos))[0]}function isSubsetOf(source,target,opts){function expand(pattern){for(var expanded=[],start=-1,end,i=0,l=pattern.length;i<l;i++)if("-"===pattern.charAt(i))for(end=pattern.charCodeAt(i+1);++start<end;)expanded.push(String.fromCharCode(start));else start=pattern.charCodeAt(i),expanded.push(pattern.charAt(i));return expanded.join("")}return source.match.def===target.match.nativeDef||!(!(opts.regex||source.match.fn instanceof RegExp&&target.match.fn instanceof RegExp)||!0===source.match.static||!0===target.match.static)&&-1!==expand(target.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(expand(source.match.fn.toString().replace(/[[\]/]/g,"")))}function getTests(pos,ndxIntlzr,tstPs){var inputmask=this,$=this.dependencyLib,maskset=this.maskset,opts=this.opts,el=this.el,maskTokens=maskset.maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr?ndxIntlzr.slice():[0],matches=[],insertStop=!1,latestMatch,cacheDependency=ndxIntlzr?ndxIntlzr.join(""):"";function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){function isFirstMatch(latestMatch,tokenGroup){var firstMatch=0===tokenGroup.matches.indexOf(latestMatch);return firstMatch||tokenGroup.matches.every(function(match,ndx){return!0===match.isQuantifier?firstMatch=isFirstMatch(latestMatch,tokenGroup.matches[ndx-1]):Object.prototype.hasOwnProperty.call(match,"matches")&&(firstMatch=isFirstMatch(latestMatch,match)),!firstMatch}),firstMatch}function resolveNdxInitializer(pos,alternateNdx,targetAlternation){var bestMatch,indexPos;if((maskset.tests[pos]||maskset.validPositions[pos])&&(maskset.tests[pos]||[maskset.validPositions[pos]]).every(function(lmnt,ndx){if(lmnt.mloc[alternateNdx])return bestMatch=lmnt,!1;var alternation=void 0!==targetAlternation?targetAlternation:lmnt.alternation,ndxPos=void 0!==lmnt.locator[alternation]?lmnt.locator[alternation].toString().indexOf(alternateNdx):-1;return(void 0===indexPos||ndxPos<indexPos)&&-1!==ndxPos&&(bestMatch=lmnt,indexPos=ndxPos),!0}),bestMatch){var bestMatchAltIndex=bestMatch.locator[bestMatch.alternation],locator=bestMatch.mloc[alternateNdx]||bestMatch.mloc[bestMatchAltIndex]||bestMatch.locator;return locator.slice((void 0!==targetAlternation?targetAlternation:bestMatch.alternation)+1)}return void 0!==targetAlternation?resolveNdxInitializer(pos,alternateNdx):void 0}function staticCanMatchDefinition(source,target){return!0===source.match.static&&!0!==target.match.static&&target.match.fn.test(source.match.def,maskset,pos,!1,opts,!1)}function setMergeLocators(targetMatch,altMatch){var alternationNdx=targetMatch.alternation,shouldMerge=void 0===altMatch||alternationNdx===altMatch.alternation&&-1===targetMatch.locator[alternationNdx].toString().indexOf(altMatch.locator[alternationNdx]);if(!shouldMerge&&alternationNdx>altMatch.alternation)for(var i=altMatch.alternation;i<alternationNdx;i++)if(targetMatch.locator[i]!==altMatch.locator[i]){alternationNdx=i,shouldMerge=!0;break}if(shouldMerge){targetMatch.mloc=targetMatch.mloc||{};var locNdx=targetMatch.locator[alternationNdx];if(void 0!==locNdx){if("string"==typeof locNdx&&(locNdx=locNdx.split(",")[0]),void 0===targetMatch.mloc[locNdx]&&(targetMatch.mloc[locNdx]=targetMatch.locator.slice()),void 0!==altMatch){for(var ndx in altMatch.mloc)"string"==typeof ndx&&(ndx=ndx.split(",")[0]),void 0===targetMatch.mloc[ndx]&&(targetMatch.mloc[ndx]=altMatch.mloc[ndx]);targetMatch.locator[alternationNdx]=Object.keys(targetMatch.mloc).join(",")}return!0}targetMatch.alternation=void 0}return!1}function isSameLevel(targetMatch,altMatch){if(targetMatch.locator.length!==altMatch.locator.length)return!1;for(var locNdx=targetMatch.alternation+1;locNdx<targetMatch.locator.length;locNdx++)if(targetMatch.locator[locNdx]!==altMatch.locator[locNdx])return!1;return!0}if(testPos>pos+opts._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+maskset.mask;if(testPos===pos&&void 0===match.matches)return matches.push({match:match,locator:loopNdx.reverse(),cd:cacheDependency,mloc:{}}),!0;if(void 0!==match.matches){if(match.isGroup&&quantifierRecurse!==match){if(match=handleMatch(maskToken.matches[maskToken.matches.indexOf(match)+1],loopNdx,quantifierRecurse),match)return!0}else if(match.isOptional){var optionalToken=match,mtchsNdx=matches.length;if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match){if(matches.forEach(function(mtch,ndx){mtchsNdx<=ndx&&(mtch.match.optionality=!0)}),latestMatch=matches[matches.length-1].match,void 0!==quantifierRecurse||!isFirstMatch(latestMatch,optionalToken))return!0;insertStop=!0,testPos=pos}}else if(match.isAlternator){var alternateToken=match,malternateMatches=[],maltMatches,currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,unMatchedAlternation=!1,altIndex=0<ndxInitializer.length?ndxInitializer.shift():-1;if(-1===altIndex||"string"==typeof altIndex){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[],amndx;if("string"==typeof altIndex)altIndexArr=altIndex.split(",");else for(amndx=0;amndx<alternateToken.matches.length;amndx++)altIndexArr.push(amndx.toString());if(void 0!==maskset.excludes[pos]){for(var altIndexArrClone=altIndexArr.slice(),i=0,exl=maskset.excludes[pos].length;i<exl;i++){var excludeSet=maskset.excludes[pos][i].toString().split(":");loopNdx.length==excludeSet[1]&&altIndexArr.splice(altIndexArr.indexOf(excludeSet[0]),1)}0===altIndexArr.length&&(delete maskset.excludes[pos],altIndexArr=altIndexArrClone)}(!0===opts.keepStatic||isFinite(parseInt(opts.keepStatic))&&currentPos>=opts.keepStatic)&&(altIndexArr=altIndexArr.slice(0,1));for(var ndx=0;ndx<altIndexArr.length;ndx++){amndx=parseInt(altIndexArr[ndx]),matches=[],ndxInitializer="string"==typeof altIndex&&resolveNdxInitializer(testPos,amndx,loopNdxCnt)||ndxInitializerClone.slice();var tokenMatch=alternateToken.matches[amndx];if(tokenMatch&&handleMatch(tokenMatch,[amndx].concat(loopNdx),quantifierRecurse))match=!0;else if(0===ndx&&(unMatchedAlternation=!0),tokenMatch&&tokenMatch.matches&&tokenMatch.matches.length>alternateToken.matches[0].matches.length)break;maltMatches=matches.slice(),testPos=currentPos,matches=[];for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1],dropMatch=!1;altMatch.match.jit=altMatch.match.jit||unMatchedAlternation,altMatch.alternation=altMatch.alternation||loopNdxCnt,setMergeLocators(altMatch);for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if("string"!=typeof altIndex||void 0!==altMatch.alternation&&altIndexArr.includes(altMatch.locator[altMatch.alternation].toString())){if(altMatch.match.nativeDef===altMatch2.match.nativeDef){dropMatch=!0,setMergeLocators(altMatch2,altMatch);break}if(isSubsetOf(altMatch,altMatch2,opts)){setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch));break}if(isSubsetOf(altMatch2,altMatch,opts)){setMergeLocators(altMatch2,altMatch);break}if(staticCanMatchDefinition(altMatch,altMatch2)){isSameLevel(altMatch,altMatch2)||void 0!==el.inputmask.userOptions.keepStatic?setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch)):opts.keepStatic=!0;break}}}dropMatch||malternateMatches.push(altMatch)}}matches=currentMatches.concat(malternateMatches),testPos=pos,insertStop=0<matches.length,match=0<malternateMatches.length,ndxInitializer=ndxInitializerClone.slice()}else match=handleMatch(alternateToken.matches[altIndex]||maskToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse);if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[maskToken.matches.indexOf(match)-1])for(var qt=match,qndx=0<ndxInitializer.length?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&testPos<=pos;qndx++){var tokenGroup=maskToken.matches[maskToken.matches.indexOf(qt)-1];if(match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup),match){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>=qt.quantifier.min,latestMatch.jit=(qndx||1)*tokenGroup.matches.indexOf(latestMatch)>=qt.quantifier.jit,latestMatch.optionalQuantifier&&isFirstMatch(latestMatch,tokenGroup)){insertStop=!0,testPos=pos;break}return latestMatch.jit&&(maskset.jitOffset[pos]=tokenGroup.matches.length-tokenGroup.matches.indexOf(latestMatch)),!0}}else if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match)return!0}else testPos++}for(var tndx=0<ndxInitializer.length?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(!0!==maskToken.matches[tndx].isQuantifier){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos)return match;if(pos<testPos)break}}function mergeLocators(pos,tests){var locator=[],alternation;return Array.isArray(tests)||(tests=[tests]),0<tests.length&&(void 0===tests[0].alternation||!0===opts.keepStatic?(locator=determineTestTemplate.call(inputmask,pos,tests.slice()).locator.slice(),0===locator.length&&(locator=tests[0].locator.slice())):tests.forEach(function(tst){""!==tst.def&&(0===locator.length?(alternation=tst.alternation,locator=tst.locator.slice()):tst.locator[alternation]&&-1===locator[alternation].toString().indexOf(tst.locator[alternation])&&(locator[alternation]+=","+tst.locator[alternation]))})),locator}if(-1<pos&&(void 0===inputmask.maxLength||pos<inputmask.maxLength)){if(void 0===ndxIntlzr){for(var previousPos=pos-1,test;void 0===(test=maskset.validPositions[previousPos]||maskset.tests[previousPos])&&-1<previousPos;)previousPos--;void 0!==test&&-1<previousPos&&(ndxInitializer=mergeLocators(previousPos,test),cacheDependency=ndxInitializer.join(""),testPos=previousPos)}if(maskset.tests[pos]&&maskset.tests[pos][0].cd===cacheDependency)return maskset.tests[pos];for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if(match&&testPos===pos||pos<testPos)break}}return 0!==matches.length&&!insertStop||matches.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:cacheDependency}),void 0!==ndxIntlzr&&maskset.tests[pos]?$.extend(!0,[],matches):(maskset.tests[pos]=$.extend(!0,[],matches),maskset.tests[pos])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.determineTestTemplate=determineTestTemplate,exports.getDecisionTaker=getDecisionTaker,exports.getMaskTemplate=getMaskTemplate,exports.getPlaceholder=getPlaceholder,exports.getTest=getTest,exports.getTests=getTests,exports.getTestTemplate=getTestTemplate,exports.isSubsetOf=isSubsetOf},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.alternate=alternate,exports.checkAlternationMatch=checkAlternationMatch,exports.isComplete=isComplete,exports.isValid=isValid,exports.refreshFromBuffer=refreshFromBuffer,exports.revalidateMask=revalidateMask,exports.handleRemove=handleRemove;var _validationTests=__webpack_require__(3),_keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function alternate(maskPos,c,strict,fromIsValid,rAltPos,selection){var inputmask=this,$=this.dependencyLib,opts=this.opts,maskset=this.maskset,validPsClone=$.extend(!0,{},maskset.validPositions),tstClone=$.extend(!0,{},maskset.tests),lastAlt,alternation,isValidRslt=!1,returnRslt=!1,altPos,prevAltPos,i,validPos,decisionPos,lAltPos=void 0!==rAltPos?rAltPos:_positioning.getLastValidPosition.call(this),nextPos,input,begin,end;if(selection&&(begin=selection.begin,end=selection.end,selection.begin>selection.end&&(begin=selection.end,end=selection.begin)),-1===lAltPos&&void 0===rAltPos)lastAlt=0,prevAltPos=_validationTests.getTest.call(this,lastAlt),alternation=prevAltPos.alternation;else for(;0<=lAltPos;lAltPos--)if(altPos=maskset.validPositions[lAltPos],altPos&&void 0!==altPos.alternation){if(prevAltPos&&prevAltPos.locator[altPos.alternation]!==altPos.locator[altPos.alternation])break;lastAlt=lAltPos,alternation=maskset.validPositions[lastAlt].alternation,prevAltPos=altPos}if(void 0!==alternation){decisionPos=parseInt(lastAlt),maskset.excludes[decisionPos]=maskset.excludes[decisionPos]||[],!0!==maskPos&&maskset.excludes[decisionPos].push((0,_validationTests.getDecisionTaker)(prevAltPos)+":"+prevAltPos.alternation);var validInputs=[],resultPos=-1;for(i=decisionPos;i<_positioning.getLastValidPosition.call(this,void 0,!0)+1;i++)-1===resultPos&&maskPos<=i&&void 0!==c&&(validInputs.push(c),resultPos=validInputs.length-1),validPos=maskset.validPositions[i],validPos&&!0!==validPos.generatedInput&&(void 0===selection||i<begin||end<=i)&&validInputs.push(validPos.input),delete maskset.validPositions[i];for(-1===resultPos&&void 0!==c&&(validInputs.push(c),resultPos=validInputs.length-1);void 0!==maskset.excludes[decisionPos]&&maskset.excludes[decisionPos].length<10;){for(maskset.tests={},_positioning.resetMaskSet.call(this,!0),isValidRslt=!0,i=0;i<validInputs.length&&(nextPos=isValidRslt.caret||_positioning.getLastValidPosition.call(this,void 0,!0)+1,input=validInputs[i],isValidRslt=isValid.call(this,nextPos,input,!1,fromIsValid,!0));i++)i===resultPos&&(returnRslt=isValidRslt),1==maskPos&&isValidRslt&&(returnRslt={caretPos:i});if(isValidRslt)break;if(_positioning.resetMaskSet.call(this),prevAltPos=_validationTests.getTest.call(this,decisionPos),maskset.validPositions=$.extend(!0,{},validPsClone),maskset.tests=$.extend(!0,{},tstClone),!maskset.excludes[decisionPos]){returnRslt=alternate.call(this,maskPos,c,strict,fromIsValid,decisionPos-1,selection);break}var decisionTaker=(0,_validationTests.getDecisionTaker)(prevAltPos);if(-1!==maskset.excludes[decisionPos].indexOf(decisionTaker+":"+prevAltPos.alternation)){returnRslt=alternate.call(this,maskPos,c,strict,fromIsValid,decisionPos-1,selection);break}for(maskset.excludes[decisionPos].push(decisionTaker+":"+prevAltPos.alternation),i=decisionPos;i<_positioning.getLastValidPosition.call(this,void 0,!0)+1;i++)delete maskset.validPositions[i]}}return returnRslt&&!1===opts.keepStatic||delete maskset.excludes[decisionPos],returnRslt}function casing(elem,test,pos){var opts=this.opts,maskset=this.maskset;switch(opts.casing||test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase();break;case"title":var posBefore=maskset.validPositions[pos-1];elem=0===pos||posBefore&&posBefore.input===String.fromCharCode(_keycode.default.SPACE)?elem.toUpperCase():elem.toLowerCase();break;default:if("function"==typeof opts.casing){var args=Array.prototype.slice.call(arguments);args.push(maskset.validPositions),elem=opts.casing.apply(this,args)}}return elem}function checkAlternationMatch(altArr1,altArr2,na){for(var opts=this.opts,altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,naArr=void 0!==na?na.split(","):[],naNdx,i=0;i<naArr.length;i++)-1!==(naNdx=altArr1.indexOf(naArr[i]))&&altArr1.splice(naNdx,1);for(var alndx=0;alndx<altArr1.length;alndx++)if(altArrC.includes(altArr1[alndx])){isMatch=!0;break}return isMatch}function handleRemove(input,k,pos,strict,fromIsValid){var inputmask=this,maskset=this.maskset,opts=this.opts;if((opts.numericInput||this.isRTL)&&(k===_keycode.default.BACKSPACE?k=_keycode.default.DELETE:k===_keycode.default.DELETE&&(k=_keycode.default.BACKSPACE),this.isRTL)){var pend=pos.end;pos.end=pos.begin,pos.begin=pend}var lvp=_positioning.getLastValidPosition.call(this,void 0,!0),offset;if(pos.end>=_positioning.getBuffer.call(this).length&&lvp>=pos.end&&(pos.end=lvp+1),k===_keycode.default.BACKSPACE?pos.end-pos.begin<1&&(pos.begin=_positioning.seekPrevious.call(this,pos.begin)):k===_keycode.default.DELETE&&pos.begin===pos.end&&(pos.end=_positioning.isMask.call(this,pos.end,!0,!0)?pos.end+1:_positioning.seekNext.call(this,pos.end)+1),!1!==(offset=revalidateMask.call(this,pos))){if(!0!==strict&&!1!==opts.keepStatic||null!==opts.regex&&-1!==_validationTests.getTest.call(this,pos.begin).match.def.indexOf("|")){var result=alternate.call(this,!0);if(result){var newPos=void 0!==result.caret?result.caret:result.pos?_positioning.seekNext.call(this,result.pos.begin?result.pos.begin:result.pos):_positioning.getLastValidPosition.call(this,-1,!0);(k!==_keycode.default.DELETE||pos.begin>newPos)&&pos.begin}}!0!==strict&&(maskset.p=k===_keycode.default.DELETE?pos.begin+offset:pos.begin)}}function isComplete(buffer){var inputmask=this,opts=this.opts,maskset=this.maskset;if("function"==typeof opts.isComplete)return opts.isComplete(buffer,opts);if("*"!==opts.repeat){var complete=!1,lrp=_positioning.determineLastRequiredPosition.call(this,!0),aml=_positioning.seekPrevious.call(this,lrp.l);if(void 0===lrp.def||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=!0;for(var i=0;i<=aml;i++){var test=_validationTests.getTestTemplate.call(this,i).match;if(!0!==test.static&&void 0===maskset.validPositions[i]&&!0!==test.optionality&&!0!==test.optionalQuantifier||!0===test.static&&buffer[i]!==_validationTests.getPlaceholder.call(this,i,test)){complete=!1;break}}}return complete}}function isValid(pos,c,strict,fromIsValid,fromAlternate,validateOnly,fromCheckval){var inputmask=this,$=this.dependencyLib,opts=this.opts,maskset=inputmask.maskset;function isSelection(posObj){return inputmask.isRTL?1<posObj.begin-posObj.end||posObj.begin-posObj.end==1:1<posObj.end-posObj.begin||posObj.end-posObj.begin==1}strict=!0===strict;var maskPos=pos;function processCommandObject(commandObj){if(void 0!==commandObj){if(void 0!==commandObj.remove&&(Array.isArray(commandObj.remove)||(commandObj.remove=[commandObj.remove]),commandObj.remove.sort(function(a,b){return b.pos-a.pos}).forEach(function(lmnt){revalidateMask.call(inputmask,{begin:lmnt,end:lmnt+1})}),commandObj.remove=void 0),void 0!==commandObj.insert&&(Array.isArray(commandObj.insert)||(commandObj.insert=[commandObj.insert]),commandObj.insert.sort(function(a,b){return a.pos-b.pos}).forEach(function(lmnt){""!==lmnt.c&&isValid.call(inputmask,lmnt.pos,lmnt.c,void 0===lmnt.strict||lmnt.strict,void 0!==lmnt.fromIsValid?lmnt.fromIsValid:fromIsValid)}),commandObj.insert=void 0),commandObj.refreshFromBuffer&&commandObj.buffer){var refresh=commandObj.refreshFromBuffer;refreshFromBuffer.call(inputmask,!0===refresh?refresh:refresh.start,refresh.end,commandObj.buffer),commandObj.refreshFromBuffer=void 0}void 0!==commandObj.rewritePosition&&(maskPos=commandObj.rewritePosition,commandObj=!0)}return commandObj}function _isValid(position,c,strict){var rslt=!1;return _validationTests.getTests.call(inputmask,position).every(function(tst,ndx){var test=tst.match;if(_positioning.getBuffer.call(inputmask,!0),rslt=null!=test.fn?test.fn.test(c,maskset,position,strict,opts,isSelection(pos)):(c===test.def||c===opts.skipOptionalPartCharacter)&&""!==test.def&&{c:_validationTests.getPlaceholder.call(inputmask,position,test,!0)||test.def,pos:position},!1===rslt)return!0;var elem=void 0!==rslt.c?rslt.c:c,validatedPos=position;return elem=elem===opts.skipOptionalPartCharacter&&!0===test.static?_validationTests.getPlaceholder.call(inputmask,position,test,!0)||test.def:elem,rslt=processCommandObject(rslt),!0!==rslt&&void 0!==rslt.pos&&rslt.pos!==position&&(validatedPos=rslt.pos),!0!==rslt&&void 0===rslt.pos&&void 0===rslt.c||!1===revalidateMask.call(inputmask,pos,$.extend({},tst,{input:casing.call(inputmask,elem,test,validatedPos)}),fromIsValid,validatedPos)&&(rslt=!1),!1}),rslt}void 0!==pos.begin&&(maskPos=inputmask.isRTL?pos.end:pos.begin);var result=!0,positionsClone=$.extend(!0,{},maskset.validPositions);if(!1===opts.keepStatic&&void 0!==maskset.excludes[maskPos]&&!0!==fromAlternate&&!0!==fromIsValid)for(var i=maskPos;i<(inputmask.isRTL?pos.begin:pos.end);i++)void 0!==maskset.excludes[i]&&(maskset.excludes[i]=void 0,delete maskset.tests[i]);if("function"==typeof opts.preValidation&&!0!==fromIsValid&&!0!==validateOnly&&(result=opts.preValidation.call(inputmask,_positioning.getBuffer.call(inputmask),maskPos,c,isSelection(pos),opts,maskset,pos,strict||fromAlternate),result=processCommandObject(result)),!0===result){if(void 0===inputmask.maxLength||maskPos<_positioning.translatePosition.call(inputmask,inputmask.maxLength)){if(result=_isValid(maskPos,c,strict),(!strict||!0===fromIsValid)&&!1===result&&!0!==validateOnly){var currentPosValid=maskset.validPositions[maskPos];if(!currentPosValid||!0!==currentPosValid.match.static||currentPosValid.match.def!==c&&c!==opts.skipOptionalPartCharacter){if(opts.insertMode||void 0===maskset.validPositions[_positioning.seekNext.call(inputmask,maskPos)]||pos.end>maskPos){var skip=!1;if(maskset.jitOffset[maskPos]&&void 0===maskset.validPositions[_positioning.seekNext.call(inputmask,maskPos)]&&(result=isValid.call(inputmask,maskPos+maskset.jitOffset[maskPos],c,!0),!1!==result&&(!0!==fromAlternate&&(result.caret=maskPos),skip=!0)),pos.end>maskPos&&(maskset.validPositions[maskPos]=void 0),!skip&&!_positioning.isMask.call(inputmask,maskPos,opts.keepStatic&&0===maskPos))for(var nPos=maskPos+1,snPos=_positioning.seekNext.call(inputmask,maskPos,!1,0!==maskPos);nPos<=snPos;nPos++)if(result=_isValid(nPos,c,strict),!1!==result){result=trackbackPositions.call(inputmask,maskPos,void 0!==result.pos?result.pos:nPos)||result,maskPos=nPos;break}}}else result={caret:_positioning.seekNext.call(inputmask,maskPos)}}}else result=!1;!1!==result||!opts.keepStatic||!isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&0!==maskPos||strict||!0===fromAlternate?isSelection(pos)&&maskset.tests[maskPos]&&1<maskset.tests[maskPos].length&&opts.keepStatic&&!strict&&!0!==fromAlternate&&(result=alternate.call(inputmask,!0)):result=alternate.call(inputmask,maskPos,c,strict,fromIsValid,void 0,pos),!0===result&&(result={pos:maskPos})}if("function"==typeof opts.postValidation&&!0!==fromIsValid&&!0!==validateOnly){var postResult=opts.postValidation.call(inputmask,_positioning.getBuffer.call(inputmask,!0),void 0!==pos.begin?inputmask.isRTL?pos.end:pos.begin:pos,c,result,opts,maskset,strict,fromCheckval);void 0!==postResult&&(result=!0===postResult?result:postResult)}result&&void 0===result.pos&&(result.pos=maskPos),!1===result||!0===validateOnly?(_positioning.resetMaskSet.call(inputmask,!0),maskset.validPositions=$.extend(!0,{},positionsClone)):trackbackPositions.call(inputmask,void 0,maskPos,!0);var endResult=processCommandObject(result);return endResult}function positionCanMatchDefinition(pos,testDefinition,opts){for(var inputmask=this,maskset=this.maskset,valid=!1,tests=_validationTests.getTests.call(this,pos),tndx=0;tndx<tests.length;tndx++){if(tests[tndx].match&&(tests[tndx].match.nativeDef===testDefinition.match[opts.shiftPositions?"def":"nativeDef"]&&(!opts.shiftPositions||!testDefinition.match.static)||tests[tndx].match.nativeDef===testDefinition.match.nativeDef||opts.regex&&!tests[tndx].match.static&&tests[tndx].match.fn.test(testDefinition.input))){valid=!0;break}if(tests[tndx].match&&tests[tndx].match.def===testDefinition.match.nativeDef){valid=void 0;break}}return!1===valid&&void 0!==maskset.jitOffset[pos]&&(valid=positionCanMatchDefinition.call(this,pos+maskset.jitOffset[pos],testDefinition,opts)),valid}function refreshFromBuffer(start,end,buffer){var inputmask=this,maskset=this.maskset,opts=this.opts,$=this.dependencyLib,el=this.el,i,p,skipOptionalPartCharacter=opts.skipOptionalPartCharacter,bffr=this.isRTL?buffer.slice().reverse():buffer;if(opts.skipOptionalPartCharacter="",!0===start)_positioning.resetMaskSet.call(this),maskset.tests={},start=0,end=buffer.length,p=_positioning.determineNewCaretPosition.call(this,{begin:0,end:0},!1).begin;else{for(i=start;i<end;i++)delete maskset.validPositions[i];p=start}var keypress=new $.Event("keypress");for(i=start;i<end;i++){keypress.which=bffr[i].toString().charCodeAt(0),this.ignorable=!1;var valResult=_eventhandlers.EventHandlers.keypressEvent.call(el,keypress,!0,!1,!1,p);!1!==valResult&&(p=valResult.forwardPosition)}opts.skipOptionalPartCharacter=skipOptionalPartCharacter}function trackbackPositions(originalPos,newPos,fillOnly){var inputmask=this,maskset=this.maskset,$=this.dependencyLib;if(void 0===originalPos)for(originalPos=newPos-1;0<originalPos&&!maskset.validPositions[originalPos];originalPos--);for(var ps=originalPos;ps<newPos;ps++)if(void 0===maskset.validPositions[ps]&&!_positioning.isMask.call(this,ps,!1)){var vp=0==ps?_validationTests.getTest.call(this,ps):maskset.validPositions[ps-1];if(vp){var tests=_validationTests.getTests.call(this,ps).slice();""===tests[tests.length-1].match.def&&tests.pop();var bestMatch=_validationTests.determineTestTemplate.call(this,ps,tests),np;if(bestMatch&&(!0!==bestMatch.match.jit||"master"===bestMatch.match.newBlockMarker&&(np=maskset.validPositions[ps+1])&&!0===np.match.optionalQuantifier)&&(bestMatch=$.extend({},bestMatch,{input:_validationTests.getPlaceholder.call(this,ps,bestMatch.match,!0)||bestMatch.match.def}),bestMatch.generatedInput=!0,revalidateMask.call(this,ps,bestMatch,!0),!0!==fillOnly)){var cvpInput=maskset.validPositions[newPos].input;return maskset.validPositions[newPos]=void 0,isValid.call(this,newPos,cvpInput,!0,!0)}}}}function revalidateMask(pos,validTest,fromIsValid,validatedPos){var inputmask=this,maskset=this.maskset,opts=this.opts,$=this.dependencyLib;function IsEnclosedStatic(pos,valids,selection){var posMatch=valids[pos];if(void 0===posMatch||!0!==posMatch.match.static||!0===posMatch.match.optionality||void 0!==valids[0]&&void 0!==valids[0].alternation)return!1;var prevMatch=selection.begin<=pos-1?valids[pos-1]&&!0===valids[pos-1].match.static&&valids[pos-1]:valids[pos-1],nextMatch=selection.end>pos+1?valids[pos+1]&&!0===valids[pos+1].match.static&&valids[pos+1]:valids[pos+1];return prevMatch&&nextMatch}var offset=0,begin=void 0!==pos.begin?pos.begin:pos,end=void 0!==pos.end?pos.end:pos;if(pos.begin>pos.end&&(begin=pos.end,end=pos.begin),validatedPos=void 0!==validatedPos?validatedPos:begin,begin!==end||opts.insertMode&&void 0!==maskset.validPositions[validatedPos]&&void 0===fromIsValid||void 0===validTest){var positionsClone=$.extend(!0,{},maskset.validPositions),lvp=_positioning.getLastValidPosition.call(this,void 0,!0),i;for(maskset.p=begin,i=lvp;begin<=i;i--)delete maskset.validPositions[i],void 0===validTest&&delete maskset.tests[i+1];var valid=!0,j=validatedPos,posMatch=j,t,canMatch;for(validTest&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest),posMatch++,j++),i=validTest?end:end-1;i<=lvp;i++){if(void 0!==(t=positionsClone[i])&&!0!==t.generatedInput&&(end<=i||begin<=i&&IsEnclosedStatic(i,positionsClone,{begin:begin,end:end}))){for(;""!==_validationTests.getTest.call(this,posMatch).match.def;){if(!1!==(canMatch=positionCanMatchDefinition.call(this,posMatch,t,opts))||"+"===t.match.def){"+"===t.match.def&&_positioning.getBuffer.call(this,!0);var result=isValid.call(this,posMatch,t.input,"+"!==t.match.def,"+"!==t.match.def);if(valid=!1!==result,j=(result.pos||posMatch)+1,!valid&&canMatch)break}else valid=!1;if(valid){void 0===validTest&&t.match.static&&i===pos.begin&&offset++;break}if(!valid&&posMatch>maskset.maskLength)break;posMatch++}""==_validationTests.getTest.call(this,posMatch).match.def&&(valid=!1),posMatch=j}if(!valid)break}if(!valid)return maskset.validPositions=$.extend(!0,{},positionsClone),_positioning.resetMaskSet.call(this,!0),!1}else validTest&&_validationTests.getTest.call(this,validatedPos).match.cd===validTest.match.cd&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest));return _positioning.resetMaskSet.call(this,!0),offset}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _canUseDOM=_interopRequireDefault(__webpack_require__(6));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=_canUseDOM.default?window:{};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),_default=canUseDOM;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyInputValue=applyInputValue,exports.clearOptionalTail=clearOptionalTail,exports.checkVal=checkVal,exports.HandleNativePlaceholder=HandleNativePlaceholder,exports.unmaskedvalue=unmaskedvalue,exports.writeBuffer=writeBuffer;var _keycode=_interopRequireDefault(__webpack_require__(0)),_validationTests=__webpack_require__(3),_positioning=__webpack_require__(1),_validation=__webpack_require__(4),_environment=__webpack_require__(9),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyInputValue(input,value){var inputmask=input?input.inputmask:this,opts=inputmask.opts;input.inputmask.refreshValue=!1,"function"==typeof opts.onBeforeMask&&(value=opts.onBeforeMask.call(inputmask,value,opts)||value),value=value.toString().split(""),checkVal(input,!0,!1,value),inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===_positioning.getBufferTemplate.call(inputmask).join("")&&-1===_positioning.getLastValidPosition.call(inputmask)&&input.inputmask._valueSet("")}function clearOptionalTail(buffer){var inputmask=this;buffer.length=0;for(var template=_validationTests.getMaskTemplate.call(this,!0,0,!0,void 0,!0),lmnt;void 0!==(lmnt=template.shift());)buffer.push(lmnt);return buffer}function checkVal(input,writeOut,strict,nptvl,initiatingEvent){var inputmask=input?input.inputmask:this,maskset=inputmask.maskset,opts=inputmask.opts,$=inputmask.dependencyLib,inputValue=nptvl.slice(),charCodes="",initialNdx=-1,result=void 0,skipOptionalPartCharacter=opts.skipOptionalPartCharacter;function isTemplateMatch(ndx,charCodes){for(var targetTemplate=_validationTests.getMaskTemplate.call(inputmask,!0,0).slice(ndx,_positioning.seekNext.call(inputmask,ndx,!1,!1)).join("").replace(/'/g,""),charCodeNdx=targetTemplate.indexOf(charCodes);0<charCodeNdx&&" "===targetTemplate[charCodeNdx-1];)charCodeNdx--;var match=0===charCodeNdx&&!_positioning.isMask.call(inputmask,ndx)&&(_validationTests.getTest.call(inputmask,ndx).match.nativeDef===charCodes.charAt(0)||!0===_validationTests.getTest.call(inputmask,ndx).match.static&&_validationTests.getTest.call(inputmask,ndx).match.nativeDef==="'"+charCodes.charAt(0)||" "===_validationTests.getTest.call(inputmask,ndx).match.nativeDef&&(_validationTests.getTest.call(inputmask,ndx+1).match.nativeDef===charCodes.charAt(0)||!0===_validationTests.getTest.call(inputmask,ndx+1).match.static&&_validationTests.getTest.call(inputmask,ndx+1).match.nativeDef==="'"+charCodes.charAt(0)));if(!match&&0<charCodeNdx&&!_positioning.isMask.call(inputmask,ndx,!1,!0)){var nextPos=_positioning.seekNext.call(inputmask,ndx);inputmask.caretPos.begin<nextPos&&(inputmask.caretPos={begin:nextPos})}return match}opts.skipOptionalPartCharacter="",_positioning.resetMaskSet.call(inputmask),maskset.tests={},initialNdx=opts.radixPoint?_positioning.determineNewCaretPosition.call(inputmask,{begin:0,end:0}).begin:0,maskset.p=initialNdx,inputmask.caretPos={begin:initialNdx};var staticMatches=[],prevCaretPos=inputmask.caretPos;if(inputValue.forEach(function(charCode,ndx){if(void 0!==charCode){var keypress=new $.Event("_checkval");keypress.which=charCode.toString().charCodeAt(0),charCodes+=charCode;var lvp=_positioning.getLastValidPosition.call(inputmask,void 0,!0);isTemplateMatch(initialNdx,charCodes)?result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,lvp+1):(result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,inputmask.caretPos.begin),result&&(initialNdx=inputmask.caretPos.begin+1,charCodes="")),result?(void 0!==result.pos&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static&&void 0===maskset.validPositions[result.pos].alternation&&(staticMatches.push(result.pos),inputmask.isRTL||(result.forwardPosition=result.pos+1)),writeBuffer.call(inputmask,void 0,_positioning.getBuffer.call(inputmask),result.forwardPosition,keypress,!1),inputmask.caretPos={begin:result.forwardPosition,end:result.forwardPosition},prevCaretPos=inputmask.caretPos):void 0===maskset.validPositions[ndx]&&inputValue[ndx]===_validationTests.getPlaceholder.call(inputmask,ndx)&&_positioning.isMask.call(inputmask,ndx,!0)?inputmask.caretPos.begin++:inputmask.caretPos=prevCaretPos}}),0<staticMatches.length){var sndx,validPos,nextValid=_positioning.seekNext.call(inputmask,-1,void 0,!1);if(!_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&staticMatches.length<=nextValid||_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&0<staticMatches.length&&staticMatches.length!==nextValid&&0===staticMatches[0])for(var nextSndx=nextValid;void 0!==(sndx=staticMatches.shift());){var keypress=new $.Event("_checkval");if(validPos=maskset.validPositions[sndx],validPos.generatedInput=!0,keypress.which=validPos.input.charCodeAt(0),result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,nextSndx),result&&void 0!==result.pos&&result.pos!==sndx&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static)staticMatches.push(result.pos);else if(!result)break;nextSndx++}}writeOut&&writeBuffer.call(inputmask,input,_positioning.getBuffer.call(inputmask),result?result.forwardPosition:inputmask.caretPos.begin,initiatingEvent||new $.Event("checkval"),initiatingEvent&&"input"===initiatingEvent.type&&inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")),opts.skipOptionalPartCharacter=skipOptionalPartCharacter}function HandleNativePlaceholder(npt,value){var inputmask=npt?npt.inputmask:this;if(_environment.ie){if(npt.inputmask._valueGet()!==value&&(npt.placeholder!==value||""===npt.placeholder)){var buffer=_positioning.getBuffer.call(inputmask).slice(),nptValue=npt.inputmask._valueGet();if(nptValue!==value){var lvp=_positioning.getLastValidPosition.call(inputmask);-1===lvp&&nptValue===_positioning.getBufferTemplate.call(inputmask).join("")?buffer=[]:-1!==lvp&&clearOptionalTail.call(inputmask,buffer),writeBuffer(npt,buffer)}}}else npt.placeholder!==value&&(npt.placeholder=value,""===npt.placeholder&&npt.removeAttribute("placeholder"))}function unmaskedvalue(input){var inputmask=input?input.inputmask:this,opts=inputmask.opts,maskset=inputmask.maskset;if(input){if(void 0===input.inputmask)return input.value;input.inputmask&&input.inputmask.refreshValue&&applyInputValue(input,input.inputmask._valueGet(!0))}var umValue=[],vps=maskset.validPositions;for(var pndx in vps)vps[pndx]&&vps[pndx].match&&(1!=vps[pndx].match.static||Array.isArray(maskset.metadata)&&!0!==vps[pndx].generatedInput)&&umValue.push(vps[pndx].input);var unmaskedValue=0===umValue.length?"":(inputmask.isRTL?umValue.reverse():umValue).join("");if("function"==typeof opts.onUnMask){var bufferValue=(inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice().reverse():_positioning.getBuffer.call(inputmask)).join("");unmaskedValue=opts.onUnMask.call(inputmask,bufferValue,unmaskedValue,opts)}return unmaskedValue}function writeBuffer(input,buffer,caretPos,event,triggerEvents){var inputmask=input?input.inputmask:this,opts=inputmask.opts,$=inputmask.dependencyLib;if(event&&"function"==typeof opts.onBeforeWrite){var result=opts.onBeforeWrite.call(inputmask,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;_validation.refreshFromBuffer.call(inputmask,!0===refresh?refresh:refresh.start,refresh.end,result.buffer||buffer),buffer=_positioning.getBuffer.call(inputmask,!0)}void 0!==caretPos&&(caretPos=void 0!==result.caret?result.caret:caretPos)}}if(void 0!==input&&(input.inputmask._valueSet(buffer.join("")),void 0===caretPos||void 0!==event&&"blur"===event.type||_positioning.caret.call(inputmask,input,caretPos,void 0,void 0,void 0!==event&&"keydown"===event.type&&(event.keyCode===_keycode.default.DELETE||event.keyCode===_keycode.default.BACKSPACE)),!0===triggerEvents)){var $input=$(input),nptVal=input.inputmask._valueGet();input.inputmask.skipInputEvent=!0,$input.trigger("input"),setTimeout(function(){nptVal===_positioning.getBufferTemplate.call(inputmask).join("")?$input.trigger("cleared"):!0===_validation.isComplete.call(inputmask,buffer)&&$input.trigger("complete")},0)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventHandlers=void 0;var _positioning=__webpack_require__(1),_keycode=_interopRequireDefault(__webpack_require__(0)),_environment=__webpack_require__(9),_validation=__webpack_require__(4),_inputHandling=__webpack_require__(7),_validationTests=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventHandlers={keydownEvent:function keydownEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib,maskset=inputmask.maskset,input=this,$input=$(input),k=e.keyCode,pos=_positioning.caret.call(inputmask,input),kdResult=opts.onKeyDown.call(this,e,_positioning.getBuffer.call(inputmask),pos,opts);if(void 0!==kdResult)return kdResult;if(k===_keycode.default.BACKSPACE||k===_keycode.default.DELETE||_environment.iphone&&k===_keycode.default.BACKSPACE_SAFARI||e.ctrlKey&&k===_keycode.default.X&&!("oncut"in input))e.preventDefault(),_validation.handleRemove.call(inputmask,input,k,pos),(0,_inputHandling.writeBuffer)(input,_positioning.getBuffer.call(inputmask,!0),maskset.p,e,input.inputmask._valueGet()!==_positioning.getBuffer.call(inputmask).join(""));else if(k===_keycode.default.END||k===_keycode.default.PAGE_DOWN){e.preventDefault();var caretPos=_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask));_positioning.caret.call(inputmask,input,e.shiftKey?pos.begin:caretPos,caretPos,!0)}else k===_keycode.default.HOME&&!e.shiftKey||k===_keycode.default.PAGE_UP?(e.preventDefault(),_positioning.caret.call(inputmask,input,0,e.shiftKey?pos.begin:0,!0)):(opts.undoOnEscape&&k===_keycode.default.ESCAPE||90===k&&e.ctrlKey)&&!0!==e.altKey?((0,_inputHandling.checkVal)(input,!0,!1,inputmask.undoValue.split("")),$input.trigger("click")):!0===opts.tabThrough&&k===_keycode.default.TAB?!0===e.shiftKey?(pos.end=_positioning.seekPrevious.call(inputmask,pos.end,!0),!0===_validationTests.getTest.call(inputmask,pos.end-1).match.static&&pos.end--,pos.begin=_positioning.seekPrevious.call(inputmask,pos.end,!0),0<=pos.begin&&0<pos.end&&(e.preventDefault(),_positioning.caret.call(inputmask,input,pos.begin,pos.end))):(pos.begin=_positioning.seekNext.call(inputmask,pos.begin,!0),pos.end=_positioning.seekNext.call(inputmask,pos.begin,!0),pos.end<maskset.maskLength&&pos.end--,pos.begin<=maskset.maskLength&&(e.preventDefault(),_positioning.caret.call(inputmask,input,pos.begin,pos.end))):e.shiftKey||opts.insertModeVisual&&!1===opts.insertMode&&(k===_keycode.default.RIGHT?setTimeout(function(){var caretPos=_positioning.caret.call(inputmask,input);_positioning.caret.call(inputmask,input,caretPos.begin)},0):k===_keycode.default.LEFT&&setTimeout(function(){var caretPos_begin=_positioning.translatePosition.call(inputmask,input.inputmask.caretPos.begin),caretPos_end=_positioning.translatePosition.call(inputmask,input.inputmask.caretPos.end);inputmask.isRTL?_positioning.caret.call(inputmask,input,caretPos_begin+(caretPos_begin===maskset.maskLength?0:1)):_positioning.caret.call(inputmask,input,caretPos_begin-(0===caretPos_begin?0:1))},0));inputmask.ignorable=opts.ignorables.includes(k)},keypressEvent:function keypressEvent(e,checkval,writeOut,strict,ndx){var inputmask=this.inputmask||this,opts=inputmask.opts,$=inputmask.dependencyLib,maskset=inputmask.maskset,input=inputmask.el,$input=$(input),k=e.which||e.charCode||e.keyCode;if(!(!0===checkval||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||inputmask.ignorable))return k===_keycode.default.ENTER&&inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&(inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),setTimeout(function(){$input.trigger("change")},0)),inputmask.skipInputEvent=!0,!0;if(k){44!==k&&46!==k||3!==e.location||""===opts.radixPoint||(k=opts.radixPoint.charCodeAt(0));var pos=checkval?{begin:ndx,end:ndx}:_positioning.caret.call(inputmask,input),forwardPosition,c=String.fromCharCode(k);maskset.writeOutBuffer=!0;var valResult=_validation.isValid.call(inputmask,pos,c,strict,void 0,void 0,void 0,checkval);if(!1!==valResult&&(_positioning.resetMaskSet.call(inputmask,!0),forwardPosition=void 0!==valResult.caret?valResult.caret:_positioning.seekNext.call(inputmask,valResult.pos.begin?valResult.pos.begin:valResult.pos),maskset.p=forwardPosition),forwardPosition=opts.numericInput&&void 0===valResult.caret?_positioning.seekPrevious.call(inputmask,forwardPosition):forwardPosition,!1!==writeOut&&(setTimeout(function(){opts.onKeyValidation.call(input,k,valResult)},0),maskset.writeOutBuffer&&!1!==valResult)){var buffer=_positioning.getBuffer.call(inputmask);(0,_inputHandling.writeBuffer)(input,buffer,forwardPosition,e,!0!==checkval)}if(e.preventDefault(),checkval)return!1!==valResult&&(valResult.forwardPosition=forwardPosition),valResult}},keyupEvent:function keyupEvent(e){var inputmask=this.inputmask;!inputmask.isComposing||e.keyCode!==_keycode.default.KEY_229&&e.keyCode!==_keycode.default.ENTER||inputmask.$el.trigger("input")},pasteEvent:function pasteEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,input=this,inputValue=inputmask._valueGet(!0),caretPos=_positioning.caret.call(inputmask,this),tempValue;inputmask.isRTL&&(tempValue=caretPos.end,caretPos.end=caretPos.begin,caretPos.begin=tempValue);var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);if(valueBeforeCaret==(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret==(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData)inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret;else{if(!e.clipboardData||!e.clipboardData.getData)return!0;inputValue=valueBeforeCaret+e.clipboardData.getData("text/plain")+valueAfterCaret}var pasteValue=inputValue;if("function"==typeof opts.onBeforePaste){if(pasteValue=opts.onBeforePaste.call(inputmask,inputValue,opts),!1===pasteValue)return e.preventDefault();pasteValue=pasteValue||inputValue}return(0,_inputHandling.checkVal)(this,!0,!1,pasteValue.toString().split(""),e),e.preventDefault()},inputFallBackEvent:function inputFallBackEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib;function ieMobileHandler(input,inputValue,caretPos){if(_environment.iemobile){var inputChar=inputValue.replace(_positioning.getBuffer.call(inputmask).join(""),"");if(1===inputChar.length){var iv=inputValue.split("");iv.splice(caretPos.begin,0,inputChar),inputValue=iv.join("")}}return inputValue}function analyseChanges(inputValue,buffer,caretPos){for(var frontPart=inputValue.substr(0,caretPos.begin).split(""),backPart=inputValue.substr(caretPos.begin).split(""),frontBufferPart=buffer.substr(0,caretPos.begin).split(""),backBufferPart=buffer.substr(caretPos.begin).split(""),fpl=frontPart.length>=frontBufferPart.length?frontPart.length:frontBufferPart.length,bpl=backPart.length>=backBufferPart.length?backPart.length:backBufferPart.length,bl,i,action="",data=[],marker="~",placeholder;frontPart.length<fpl;)frontPart.push("~");for(;frontBufferPart.length<fpl;)frontBufferPart.push("~");for(;backPart.length<bpl;)backPart.unshift("~");for(;backBufferPart.length<bpl;)backBufferPart.unshift("~");var newBuffer=frontPart.concat(backPart),oldBuffer=frontBufferPart.concat(backBufferPart);for(i=0,bl=newBuffer.length;i<bl;i++)switch(placeholder=_validationTests.getPlaceholder.call(inputmask,_positioning.translatePosition.call(inputmask,i)),action){case"insertText":oldBuffer[i-1]===newBuffer[i]&&caretPos.begin==newBuffer.length-1&&data.push(newBuffer[i]),i=bl;break;case"insertReplacementText":"~"===newBuffer[i]?caretPos.end++:i=bl;break;case"deleteContentBackward":"~"===newBuffer[i]?caretPos.end++:i=bl;break;default:newBuffer[i]!==oldBuffer[i]&&("~"!==newBuffer[i+1]&&newBuffer[i+1]!==placeholder&&void 0!==newBuffer[i+1]||(oldBuffer[i]!==placeholder||"~"!==oldBuffer[i+1])&&"~"!==oldBuffer[i]?"~"===oldBuffer[i+1]&&oldBuffer[i]===newBuffer[i+1]?(action="insertText",data.push(newBuffer[i]),caretPos.begin--,caretPos.end--):newBuffer[i]!==placeholder&&"~"!==newBuffer[i]&&("~"===newBuffer[i+1]||oldBuffer[i]!==newBuffer[i]&&oldBuffer[i+1]===newBuffer[i+1])?(action="insertReplacementText",data.push(newBuffer[i]),caretPos.begin--):"~"===newBuffer[i]?(action="deleteContentBackward",!_positioning.isMask.call(inputmask,_positioning.translatePosition.call(inputmask,i),!0)&&oldBuffer[i]!==opts.radixPoint||caretPos.end++):i=bl:(action="insertText",data.push(newBuffer[i]),caretPos.begin--,caretPos.end--));break}return{action:action,data:data,caret:caretPos}}var input=this,inputValue=input.inputmask._valueGet(!0),buffer=(inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice().reverse():_positioning.getBuffer.call(inputmask)).join(""),caretPos=_positioning.caret.call(inputmask,input,void 0,void 0,!0);if(buffer!==inputValue){inputValue=ieMobileHandler(input,inputValue,caretPos);var changes=analyseChanges(inputValue,buffer,caretPos);switch((input.inputmask.shadowRoot||document).activeElement!==input&&input.focus(),(0,_inputHandling.writeBuffer)(input,_positioning.getBuffer.call(inputmask)),_positioning.caret.call(inputmask,input,caretPos.begin,caretPos.end,!0),changes.action){case"insertText":case"insertReplacementText":changes.data.forEach(function(entry,ndx){var keypress=new $.Event("keypress");keypress.which=entry.charCodeAt(0),inputmask.ignorable=!1,EventHandlers.keypressEvent.call(input,keypress)}),setTimeout(function(){inputmask.$el.trigger("keyup")},0);break;case"deleteContentBackward":var keydown=new $.Event("keydown");keydown.keyCode=_keycode.default.BACKSPACE,EventHandlers.keydownEvent.call(input,keydown);break;default:(0,_inputHandling.applyInputValue)(input,inputValue);break}e.preventDefault()}},compositionendEvent:function compositionendEvent(e){var inputmask=this.inputmask;inputmask.isComposing=!1,inputmask.$el.trigger("input")},setValueEvent:function setValueEvent(e,argument_1,argument_2){var inputmask=this.inputmask,input=this,value=e&&e.detail?e.detail[0]:argument_1;void 0===value&&(value=this.inputmask._valueGet(!0)),(0,_inputHandling.applyInputValue)(this,value),(e.detail&&void 0!==e.detail[1]||void 0!==argument_2)&&_positioning.caret.call(inputmask,this,e.detail?e.detail[1]:argument_2)},focusEvent:function focusEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,input=this,nptValue=this.inputmask._valueGet();opts.showMaskOnFocus&&nptValue!==_positioning.getBuffer.call(inputmask).join("")&&(0,_inputHandling.writeBuffer)(this,_positioning.getBuffer.call(inputmask),_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask))),!0!==opts.positionCaretOnTab||!1!==inputmask.mouseEnter||_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&-1!==_positioning.getLastValidPosition.call(inputmask)||EventHandlers.clickEvent.apply(this,[e,!0]),inputmask.undoValue=_positioning.getBuffer.call(inputmask).join("")},invalidEvent:function invalidEvent(e){this.inputmask.validationEvent=!0},mouseleaveEvent:function mouseleaveEvent(){var inputmask=this.inputmask,opts=inputmask.opts,input=this;inputmask.mouseEnter=!1,opts.clearMaskOnLostFocus&&(this.inputmask.shadowRoot||document).activeElement!==this&&(0,_inputHandling.HandleNativePlaceholder)(this,inputmask.originalPlaceholder)},clickEvent:function clickEvent(e,tabbed){var inputmask=this.inputmask,input=this;if((this.inputmask.shadowRoot||document).activeElement===this){var newCaretPosition=_positioning.determineNewCaretPosition.call(inputmask,_positioning.caret.call(inputmask,this),tabbed);void 0!==newCaretPosition&&_positioning.caret.call(inputmask,this,newCaretPosition)}},cutEvent:function cutEvent(e){var inputmask=this.inputmask,maskset=inputmask.maskset,input=this,pos=_positioning.caret.call(inputmask,this),clipboardData=window.clipboardData||e.clipboardData,clipData=inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice(pos.end,pos.begin):_positioning.getBuffer.call(inputmask).slice(pos.begin,pos.end);clipboardData.setData("text",inputmask.isRTL?clipData.reverse().join(""):clipData.join("")),document.execCommand&&document.execCommand("copy"),_validation.handleRemove.call(inputmask,this,_keycode.default.DELETE,pos),(0,_inputHandling.writeBuffer)(this,_positioning.getBuffer.call(inputmask),maskset.p,e,inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join(""))},blurEvent:function blurEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib,$input=$(this),input=this;if(this.inputmask){(0,_inputHandling.HandleNativePlaceholder)(this,inputmask.originalPlaceholder);var nptValue=this.inputmask._valueGet(),buffer=_positioning.getBuffer.call(inputmask).slice();""!==nptValue&&(opts.clearMaskOnLostFocus&&(-1===_positioning.getLastValidPosition.call(inputmask)&&nptValue===_positioning.getBufferTemplate.call(inputmask).join("")?buffer=[]:_inputHandling.clearOptionalTail.call(inputmask,buffer)),!1===_validation.isComplete.call(inputmask,buffer)&&(setTimeout(function(){$input.trigger("incomplete")},0),opts.clearIncomplete&&(_positioning.resetMaskSet.call(inputmask),buffer=opts.clearMaskOnLostFocus?[]:_positioning.getBufferTemplate.call(inputmask).slice())),(0,_inputHandling.writeBuffer)(this,buffer,void 0,e)),inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&(inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),$input.trigger("change"))}},mouseenterEvent:function mouseenterEvent(){var inputmask=this.inputmask,opts=inputmask.opts,input=this;if(inputmask.mouseEnter=!0,(this.inputmask.shadowRoot||document).activeElement!==this){var bufferTemplate=(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).join("");inputmask.placeholder!==bufferTemplate&&this.placeholder!==inputmask.originalPlaceholder&&(inputmask.originalPlaceholder=this.placeholder),opts.showMaskOnHover&&(0,_inputHandling.HandleNativePlaceholder)(this,bufferTemplate)}},submitEvent:function submitEvent(){var inputmask=this.inputmask,opts=inputmask.opts;inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&inputmask.$el.trigger("change"),opts.clearMaskOnLostFocus&&-1===_positioning.getLastValidPosition.call(inputmask)&&inputmask._valueGet&&inputmask._valueGet()===_positioning.getBufferTemplate.call(inputmask).join("")&&inputmask._valueSet(""),opts.clearIncomplete&&!1===_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&inputmask._valueSet(""),opts.removeMaskOnSubmit&&(inputmask._valueSet(inputmask.unmaskedvalue(),!0),setTimeout(function(){(0,_inputHandling.writeBuffer)(inputmask.el,_positioning.getBuffer.call(inputmask))},0))},resetEvent:function resetEvent(){var inputmask=this.inputmask;inputmask.refreshValue=!0,setTimeout(function(){(0,_inputHandling.applyInputValue)(inputmask.el,inputmask._valueGet(!0))},0)}};exports.EventHandlers=EventHandlers},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iphone=exports.iemobile=exports.mobile=exports.ie=exports.ua=void 0;var _window=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ua=_window.default.navigator&&_window.default.navigator.userAgent||"",ie=0<ua.indexOf("MSIE ")||0<ua.indexOf("Trident/"),mobile="ontouchstart"in _window.default,iemobile=/iemobile/i.test(ua),iphone=/iphone/i.test(ua)&&!iemobile;exports.iphone=iphone,exports.iemobile=iemobile,exports.mobile=mobile,exports.ie=ie,exports.ua=ua},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extend=_interopRequireDefault(__webpack_require__(12)),_window=_interopRequireDefault(__webpack_require__(5)),_data=_interopRequireDefault(__webpack_require__(19)),_events=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document;function DependencyLib(elem){return elem instanceof DependencyLib?elem:this instanceof DependencyLib?void(null!=elem&&elem!==_window.default&&(this[0]=elem.nodeName?elem:void 0!==elem[0]&&elem[0].nodeName?elem[0]:document.querySelector(elem),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new DependencyLib(elem)}DependencyLib.prototype={on:_events.on,off:_events.off,trigger:_events.trigger},DependencyLib.extend=_extend.default,DependencyLib.data=_data.default,DependencyLib.Event=_events.Event;var _default=DependencyLib;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventRuler=void 0;var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_inputHandling=__webpack_require__(7);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventRuler={on:function on(input,eventName,eventHandler){var $=input.inputmask.dependencyLib,ev=function ev(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var that=this,args,inputmask=that.inputmask,opts=inputmask?inputmask.opts:void 0;if(void 0===inputmask&&"FORM"!==this.nodeName){var imOpts=$.data(that,"_inputmask_opts");$(that).off(),imOpts&&new _inputmask.default(imOpts).mask(that)}else{if(["submit","reset","setvalue"].includes(e.type)||"FORM"===this.nodeName||!(that.disabled||that.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===opts.tabThrough&&e.keyCode===_keycode.default.TAB))){switch(e.type){case"input":if(!0===inputmask.skipInputEvent||e.inputType&&"insertCompositionText"===e.inputType)return inputmask.skipInputEvent=!1,e.preventDefault();break;case"keydown":inputmask.skipKeyPressEvent=!1,inputmask.skipInputEvent=inputmask.isComposing=e.keyCode===_keycode.default.KEY_229;break;case"keyup":case"compositionend":inputmask.isComposing&&(inputmask.skipInputEvent=!1);break;case"keypress":if(!0===inputmask.skipKeyPressEvent)return e.preventDefault();inputmask.skipKeyPressEvent=!0;break;case"click":case"focus":return inputmask.validationEvent?(inputmask.validationEvent=!1,input.blur(),(0,_inputHandling.HandleNativePlaceholder)(input,(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).join("")),setTimeout(function(){input.focus()},3e3)):(args=arguments,setTimeout(function(){input.inputmask&&eventHandler.apply(that,args)},0)),!1}var returnVal=eventHandler.apply(that,arguments);return!1===returnVal&&(e.preventDefault(),e.stopPropagation()),returnVal}e.preventDefault()}};["submit","reset"].includes(eventName)?(ev=ev.bind(input),null!==input.form&&$(input.form).on(eventName,ev)):$(input).on(eventName,ev),input.inputmask.events[eventName]=input.inputmask.events[eventName]||[],input.inputmask.events[eventName].push(ev)},off:function off(input,event){if(input.inputmask&&input.inputmask.events){var $=input.inputmask.dependencyLib,events=input.inputmask.events;for(var eventName in event&&(events=[],events[event]=input.inputmask.events[event]),events){for(var evArr=events[eventName];0<evArr.length;){var ev=evArr.pop();["submit","reset"].includes(eventName)?null!==input.form&&$(input.form).off(eventName,ev):$(input).off(eventName,ev)}delete input.inputmask.events[eventName]}}}};exports.EventRuler=EventRuler},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"!==_typeof(target)&&"function"!=typeof target&&(target={});i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&("[object Object]"===Object.prototype.toString.call(copy)||(copyIsArray=Array.isArray(copy)))?(clone=copyIsArray?(copyIsArray=!1,src&&Array.isArray(src)?src:[]):src&&"[object Object]"===Object.prototype.toString.call(src)?src:{},target[name]=extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=extend},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var escapeRegexRegex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim");function _default(str){return str.replace(escapeRegexRegex,"\\$1")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(15),__webpack_require__(24),__webpack_require__(25),__webpack_require__(26);var _inputmask2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=_inputmask2.default;exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_positioning=__webpack_require__(1),_validationTests=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_inputmask.default.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var ipValidatorRegex=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function ipValidator(chrs,maskset,pos,strict,opts){return chrs=-1<pos-1&&"."!==maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,-1<pos-2&&"."!==maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):"00"+chrs,ipValidatorRegex.test(chrs)}_inputmask.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:ipValidator},j:{validator:ipValidator},k:{validator:ipValidator},l:{validator:ipValidator}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function onBeforePaste(pastedValue,opts){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict){var bffr=_validationTests.getMaskTemplate.call(this,!0,_positioning.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(bffr.join(""))}}})},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===_typeof("test".__proto__)?function(object){return object.__proto__}:function(object){return object.constructor.prototype})},function(module,exports,__webpack_require__){"use strict";Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function value(searchElement,fromIndex){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if(0==len)return!1;for(var n=0|fromIndex,k=Math.max(0<=n?n:len-Math.abs(n),0);k<len;){if(o[k]===searchElement)return!0;k++}return!1}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mask=mask;var _keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_inputHandling=__webpack_require__(7),_eventruler=__webpack_require__(11),_environment=__webpack_require__(9),_validation=__webpack_require__(4),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function mask(){var inputmask=this,opts=this.opts,el=this.el,$=this.dependencyLib;function isElementTypeSupported(input,opts){function patchValueProperty(npt){var valueGet,valueSet;function patchValhook(type){if($.valHooks&&(void 0===$.valHooks[type]||!0!==$.valHooks[type].inputmaskpatch)){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function get(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask)return elem.inputmask.unmaskedvalue();var result=valhookGet(elem);return-1!==_positioning.getLastValidPosition.call(inputmask,void 0,void 0,elem.inputmask.maskset.validPositions)||!0!==opts.nullable?result:""}return valhookGet(elem)},set:function set(elem,value){var result=valhookSet(elem,value);return elem.inputmask&&(0,_inputHandling.applyInputValue)(elem,value),result},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==_positioning.getLastValidPosition.call(inputmask)||!0!==opts.nullable?(this.inputmask.shadowRoot||document.activeElement)===this&&opts.clearMaskOnLostFocus?(inputmask.isRTL?_inputHandling.clearOptionalTail.call(inputmask,_positioning.getBuffer.call(inputmask).slice()).reverse():_inputHandling.clearOptionalTail.call(inputmask,_positioning.getBuffer.call(inputmask).slice())).join(""):valueGet.call(this):"":valueGet.call(this)}function setter(value){valueSet.call(this,value),this.inputmask&&(0,_inputHandling.applyInputValue)(this,value)}function installNativeValueSetFallback(npt){_eventruler.EventRuler.on(npt,"mouseenter",function(){var input=this,value=this.inputmask._valueGet(!0);value!==(inputmask.isRTL?_positioning.getBuffer.call(inputmask).reverse():_positioning.getBuffer.call(inputmask)).join("")&&(0,_inputHandling.applyInputValue)(this,value)})}if(!npt.inputmask.__valueGet){if(!0!==opts.noValuePatching){if(Object.getOwnPropertyDescriptor){var valueProperty=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt),"value"):void 0;valueProperty&&valueProperty.get&&valueProperty.set?(valueGet=valueProperty.get,valueSet=valueProperty.set,Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0})):"input"!==npt.tagName.toLowerCase()&&(valueGet=function valueGet(){return this.textContent},valueSet=function valueSet(value){this.textContent=value},Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0}))}else document.__lookupGetter__&&npt.__lookupGetter__("value")&&(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter));npt.inputmask.__valueGet=valueGet,npt.inputmask.__valueSet=valueSet}npt.inputmask._valueGet=function(overruleRTL){return inputmask.isRTL&&!0!==overruleRTL?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el)},npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,null==value?"":!0!==overruleRTL&&inputmask.isRTL?value.split("").reverse().join(""):value)},void 0===valueGet&&(valueGet=function valueGet(){return this.value},valueSet=function valueSet(value){this.value=value},patchValhook(npt.type),installNativeValueSetFallback(npt))}}"textarea"!==input.tagName.toLowerCase()&&opts.ignorables.push(_keycode.default.ENTER);var elementType=input.getAttribute("type"),isSupported="input"===input.tagName.toLowerCase()&&opts.supportsInputType.includes(elementType)||input.isContentEditable||"textarea"===input.tagName.toLowerCase();if(!isSupported)if("input"===input.tagName.toLowerCase()){var el=document.createElement("input");el.setAttribute("type",elementType),isSupported="text"===el.type,el=null}else isSupported="partial";return!1!==isSupported?patchValueProperty(input):input.inputmask=void 0,isSupported}_eventruler.EventRuler.off(el);var isSupported=isElementTypeSupported(el,opts);if(!1!==isSupported){inputmask.originalPlaceholder=el.placeholder,inputmask.maxLength=void 0!==el?el.maxLength:void 0,-1===inputmask.maxLength&&(inputmask.maxLength=void 0),"inputMode"in el&&null===el.getAttribute("inputmode")&&(el.inputMode=opts.inputmode,el.setAttribute("inputmode",opts.inputmode)),!0===isSupported&&(opts.showMaskOnFocus=opts.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(el.autocomplete),_environment.iphone&&(opts.insertModeVisual=!1),_eventruler.EventRuler.on(el,"submit",_eventhandlers.EventHandlers.submitEvent),_eventruler.EventRuler.on(el,"reset",_eventhandlers.EventHandlers.resetEvent),_eventruler.EventRuler.on(el,"blur",_eventhandlers.EventHandlers.blurEvent),_eventruler.EventRuler.on(el,"focus",_eventhandlers.EventHandlers.focusEvent),_eventruler.EventRuler.on(el,"invalid",_eventhandlers.EventHandlers.invalidEvent),_eventruler.EventRuler.on(el,"click",_eventhandlers.EventHandlers.clickEvent),_eventruler.EventRuler.on(el,"mouseleave",_eventhandlers.EventHandlers.mouseleaveEvent),_eventruler.EventRuler.on(el,"mouseenter",_eventhandlers.EventHandlers.mouseenterEvent),_eventruler.EventRuler.on(el,"paste",_eventhandlers.EventHandlers.pasteEvent),_eventruler.EventRuler.on(el,"cut",_eventhandlers.EventHandlers.cutEvent),_eventruler.EventRuler.on(el,"complete",opts.oncomplete),_eventruler.EventRuler.on(el,"incomplete",opts.onincomplete),_eventruler.EventRuler.on(el,"cleared",opts.oncleared),!0!==opts.inputEventOnly&&(_eventruler.EventRuler.on(el,"keydown",_eventhandlers.EventHandlers.keydownEvent),_eventruler.EventRuler.on(el,"keypress",_eventhandlers.EventHandlers.keypressEvent),_eventruler.EventRuler.on(el,"keyup",_eventhandlers.EventHandlers.keyupEvent)),(_environment.mobile||opts.inputEventOnly)&&el.removeAttribute("maxLength"),_eventruler.EventRuler.on(el,"input",_eventhandlers.EventHandlers.inputFallBackEvent),_eventruler.EventRuler.on(el,"compositionend",_eventhandlers.EventHandlers.compositionendEvent)),_eventruler.EventRuler.on(el,"setvalue",_eventhandlers.EventHandlers.setValueEvent),inputmask.undoValue=_positioning.getBufferTemplate.call(inputmask).join("");var activeElement=(el.inputmask.shadowRoot||document).activeElement;if(""!==el.inputmask._valueGet(!0)||!1===opts.clearMaskOnLostFocus||activeElement===el){(0,_inputHandling.applyInputValue)(el,el.inputmask._valueGet(!0),opts);var buffer=_positioning.getBuffer.call(inputmask).slice();!1===_validation.isComplete.call(inputmask,buffer)&&opts.clearIncomplete&&_positioning.resetMaskSet.call(inputmask),opts.clearMaskOnLostFocus&&activeElement!==el&&(-1===_positioning.getLastValidPosition.call(inputmask)?buffer=[]:_inputHandling.clearOptionalTail.call(inputmask,buffer)),(!1===opts.clearMaskOnLostFocus||opts.showMaskOnFocus&&activeElement===el||""!==el.inputmask._valueGet(!0))&&(0,_inputHandling.writeBuffer)(el,buffer),activeElement===el&&_positioning.caret.call(inputmask,el,_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask)))}}}},function(module,exports,__webpack_require__){"use strict";function _default(owner,key,value){if(void 0===value)return owner.__data?owner.__data[key]:null;owner.__data=owner.__data||{},owner.__data[key]=value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=on,exports.off=off,exports.trigger=trigger,exports.Event=void 0;var _extend=_interopRequireDefault(__webpack_require__(12)),_window=_interopRequireDefault(__webpack_require__(5)),_inputmask=_interopRequireDefault(__webpack_require__(10)),_canUseDOM=_interopRequireDefault(__webpack_require__(6)),Event;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isValidElement(elem){return elem instanceof Element}function on(events,handler){function addEvent(ev,namespace){elem.addEventListener?elem.addEventListener(ev,handler,!1):elem.attachEvent&&elem.attachEvent("on"+ev,handler),eventRegistry[ev]=eventRegistry[ev]||{},eventRegistry[ev][namespace]=eventRegistry[ev][namespace]||[],eventRegistry[ev][namespace].push(handler)}if(isValidElement(this[0]))for(var eventRegistry=this[0].eventRegistry,elem=this[0],_events=events.split(" "),endx=0;endx<_events.length;endx++){var nsEvent=_events[endx].split("."),ev=nsEvent[0],namespace=nsEvent[1]||"global";addEvent(ev,namespace)}return this}function off(events,handler){var eventRegistry,elem;function removeEvent(ev,namespace,handler){if(ev in eventRegistry==!0)if(elem.removeEventListener?elem.removeEventListener(ev,handler,!1):elem.detachEvent&&elem.detachEvent("on"+ev,handler),"global"===namespace)for(var nmsp in eventRegistry[ev])eventRegistry[ev][nmsp].splice(eventRegistry[ev][nmsp].indexOf(handler),1);else eventRegistry[ev][namespace].splice(eventRegistry[ev][namespace].indexOf(handler),1)}function resolveNamespace(ev,namespace){var evts=[],hndx,hndL;if(0<ev.length)if(void 0===handler)for(hndx=0,hndL=eventRegistry[ev][namespace].length;hndx<hndL;hndx++)evts.push({ev:ev,namespace:namespace&&0<namespace.length?namespace:"global",handler:eventRegistry[ev][namespace][hndx]});else evts.push({ev:ev,namespace:namespace&&0<namespace.length?namespace:"global",handler:handler});else if(0<namespace.length)for(var evNdx in eventRegistry)for(var nmsp in eventRegistry[evNdx])if(nmsp===namespace)if(void 0===handler)for(hndx=0,hndL=eventRegistry[evNdx][nmsp].length;hndx<hndL;hndx++)evts.push({ev:evNdx,namespace:nmsp,handler:eventRegistry[evNdx][nmsp][hndx]});else evts.push({ev:evNdx,namespace:nmsp,handler:handler});return evts}if(isValidElement(this[0])&&events){eventRegistry=this[0].eventRegistry,elem=this[0];for(var _events=events.split(" "),endx=0;endx<_events.length;endx++)for(var nsEvent=_events[endx].split("."),offEvents=resolveNamespace(nsEvent[0],nsEvent[1]),i=0,offEventsL=offEvents.length;i<offEventsL;i++)removeEvent(offEvents[i].ev,offEvents[i].namespace,offEvents[i].handler)}return this}function trigger(events){if(isValidElement(this[0]))for(var eventRegistry=this[0].eventRegistry,elem=this[0],_events="string"==typeof events?events.split(" "):[events.type],endx=0;endx<_events.length;endx++){var nsEvent=_events[endx].split("."),ev=nsEvent[0],namespace=nsEvent[1]||"global";if(void 0!==document&&"global"===namespace){var evnt,i,params={bubbles:!0,cancelable:!0,detail:arguments[1]};if(document.createEvent){try{switch(ev){case"input":evnt=new InputEvent(ev,params);break;default:evnt=new CustomEvent(ev,params)}}catch(e){evnt=document.createEvent("CustomEvent"),evnt.initCustomEvent(ev,params.bubbles,params.cancelable,params.detail)}events.type&&(0,_extend.default)(evnt,events),elem.dispatchEvent(evnt)}else evnt=document.createEventObject(),evnt.eventType=ev,evnt.detail=arguments[1],events.type&&(0,_extend.default)(evnt,events),elem.fireEvent("on"+evnt.eventType,evnt)}else if(void 0!==eventRegistry[ev])if(arguments[0]=arguments[0].type?arguments[0]:_inputmask.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1),"global"===namespace)for(var nmsp in eventRegistry[ev])for(i=0;i<eventRegistry[ev][nmsp].length;i++)eventRegistry[ev][nmsp][i].apply(elem,arguments);else for(i=0;i<eventRegistry[ev][namespace].length;i++)eventRegistry[ev][namespace][i].apply(elem,arguments)}return this}exports.Event=Event,"function"==typeof _window.default.CustomEvent?exports.Event=Event=_window.default.CustomEvent:_canUseDOM.default&&(exports.Event=Event=function Event(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt},Event.prototype=_window.default.Event.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateMaskSet=generateMaskSet,exports.analyseMask=analyseMask;var _inputmask=_interopRequireDefault(__webpack_require__(10));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function generateMaskSet(opts,nocache){var ms;function generateMask(mask,metadata,opts){var regexMask=!1,masksetDefinition,maskdefKey;if(null!==mask&&""!==mask||(regexMask=null!==opts.regex,mask=regexMask?(mask=opts.regex,mask.replace(/^(\^)(.*)(\$)$/,"$2")):(regexMask=!0,".*")),1===mask.length&&!1===opts.greedy&&0!==opts.repeat&&(opts.placeholder=""),0<opts.repeat||"*"===opts.repeat||"+"===opts.repeat){var repeatStart="*"===opts.repeat?0:"+"===opts.repeat?1:opts.repeat;mask=opts.groupmarker[0]+mask+opts.groupmarker[1]+opts.quantifiermarker[0]+repeatStart+","+opts.repeat+opts.quantifiermarker[1]}return maskdefKey=regexMask?"regex_"+opts.regex:opts.numericInput?mask.split("").reverse().join(""):mask,!1!==opts.keepStatic&&(maskdefKey="ks_"+maskdefKey),void 0===Inputmask.prototype.masksCache[maskdefKey]||!0===nocache?(masksetDefinition={mask:mask,maskToken:Inputmask.prototype.analyseMask(mask,regexMask,opts),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:metadata,maskLength:void 0,jitOffset:{}},!0!==nocache&&(Inputmask.prototype.masksCache[maskdefKey]=masksetDefinition,masksetDefinition=_inputmask.default.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]))):masksetDefinition=_inputmask.default.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]),masksetDefinition}if("function"==typeof opts.mask&&(opts.mask=opts.mask(opts)),Array.isArray(opts.mask)){if(1<opts.mask.length){null===opts.keepStatic&&(opts.keepStatic=!0);var altMask=opts.groupmarker[0];return(opts.isRTL?opts.mask.reverse():opts.mask).forEach(function(msk){1<altMask.length&&(altMask+=opts.groupmarker[1]+opts.alternatormarker+opts.groupmarker[0]),void 0!==msk.mask&&"function"!=typeof msk.mask?altMask+=msk.mask:altMask+=msk}),altMask+=opts.groupmarker[1],generateMask(altMask,opts.mask,opts)}opts.mask=opts.mask.pop()}return null===opts.keepStatic&&(opts.keepStatic=!1),ms=opts.mask&&void 0!==opts.mask.mask&&"function"!=typeof opts.mask.mask?generateMask(opts.mask.mask,opts.mask,opts):generateMask(opts.mask,opts.mask,opts),ms}function analyseMask(mask,regexMask,opts){var tokenizer=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,regexTokenizer=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,escaped=!1,currentToken=new MaskToken,match,m,openenings=[],maskTokens=[],openingToken,currentOpeningToken,alternator,lastMatch,closeRegexGroup=!1;function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[],this.openGroup=isGroup||!1,this.alternatorGroup=!1,this.isGroup=isGroup||!1,this.isOptional=isOptional||!1,this.isQuantifier=isQuantifier||!1,this.isAlternator=isAlternator||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){position=void 0!==position?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(regexMask)0===element.indexOf("[")||escaped&&/\\d|\\s|\\w]/i.test(element)||"."===element?mtoken.matches.splice(position++,0,{fn:new RegExp(element,opts.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element,casing:null,def:element,placeholder:void 0,nativeDef:element}):(escaped&&(element=element[element.length-1]),element.split("").forEach(function(lmnt,ndx){prevMatch=mtoken.matches[position-1],mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||lmnt)?new RegExp("["+(opts.staticDefinitionSymbol||lmnt)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==lmnt&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||lmnt,placeholder:void 0!==opts.staticDefinitionSymbol?lmnt:void 0,nativeDef:(escaped?"'":"")+lmnt})})),escaped=!1;else{var maskdef=opts.definitions&&opts.definitions[element]||opts.usePrototypeDefinitions&&Inputmask.prototype.definitions[element];maskdef&&!escaped?mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator,opts.casing?"i":""):new function(){this.test=maskdef.validator}:new RegExp("."),static:maskdef.static||!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,nativeDef:element,generated:maskdef.generated}):(mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||element)?new RegExp("["+(opts.staticDefinitionSymbol||element)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||element,placeholder:void 0!==opts.staticDefinitionSymbol?element:void 0,nativeDef:(escaped?"'":"")+element}),escaped=!1)}}function verifyGroupMarker(maskToken){maskToken&&maskToken.matches&&maskToken.matches.forEach(function(token,ndx){var nextToken=maskToken.matches[ndx+1];(void 0===nextToken||void 0===nextToken.matches||!1===nextToken.isQuantifier)&&token&&token.isGroup&&(token.isGroup=!1,regexMask||(insertTestDefinition(token,opts.groupmarker[0],0),!0!==token.openGroup&&insertTestDefinition(token,opts.groupmarker[1]))),verifyGroupMarker(token)})}function defaultCase(){if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],insertTestDefinition(currentOpeningToken,m),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup&&(alternator.matches[mndx].isGroup=!1);0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else insertTestDefinition(currentToken,m)}function reverseTokens(maskToken){function reverseStatic(st){return st===opts.optionalmarker[0]?st=opts.optionalmarker[1]:st===opts.optionalmarker[1]?st=opts.optionalmarker[0]:st===opts.groupmarker[0]?st=opts.groupmarker[1]:st===opts.groupmarker[1]&&(st=opts.groupmarker[0]),st}for(var match in maskToken.matches=maskToken.matches.reverse(),maskToken.matches)if(Object.prototype.hasOwnProperty.call(maskToken.matches,match)){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1),maskToken.matches.splice(intMatch+1,0,qt)}void 0!==maskToken.matches[match].matches?maskToken.matches[match]=reverseTokens(maskToken.matches[match]):maskToken.matches[match]=reverseStatic(maskToken.matches[match])}return maskToken}function groupify(matches){var groupToken=new MaskToken(!0);return groupToken.openGroup=!1,groupToken.matches=matches,groupToken}function closeGroup(){if(openingToken=openenings.pop(),openingToken.openGroup=!1,void 0!==openingToken)if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1,alternator.matches[mndx].alternatorGroup=!1;0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);else defaultCase()}function groupQuantifier(matches){var lastMatch=matches.pop();return lastMatch.isQuantifier&&(lastMatch=groupify([matches.pop(),lastMatch])),lastMatch}for(regexMask&&(opts.optionalmarker[0]=void 0,opts.optionalmarker[1]=void 0);match=regexMask?regexTokenizer.exec(mask):tokenizer.exec(mask);){if(m=match[0],regexMask)switch(m.charAt(0)){case"?":m="{0,1}";break;case"+":case"*":m="{"+m+"}";break;case"|":if(0===openenings.length){var altRegexGroup=groupify(currentToken.matches);altRegexGroup.openGroup=!0,openenings.push(altRegexGroup),currentToken.matches=[],closeRegexGroup=!0}break}if(escaped)defaultCase();else switch(m.charAt(0)){case"$":case"^":regexMask||defaultCase();break;case"(?=":break;case"(?!":break;case"(?<=":break;case"(?<!":break;case opts.escapeChar:escaped=!0,regexMask&&defaultCase();break;case opts.optionalmarker[1]:case opts.groupmarker[1]:closeGroup();break;case opts.optionalmarker[0]:openenings.push(new MaskToken(!1,!0));break;case opts.groupmarker[0]:openenings.push(new MaskToken(!0));break;case opts.quantifiermarker[0]:var quantifier=new MaskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mqj=m.split("|"),mq=mqj[0].split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);"*"!==mq0&&"+"!==mq0||(mq0="*"===mq1?0:1),quantifier.quantifier={min:mq0,max:mq1,jit:mqj[1]};var matches=0<openenings.length?openenings[openenings.length-1].matches:currentToken.matches;if(match=matches.pop(),match.isAlternator){matches.push(match),matches=match.matches;var groupToken=new MaskToken(!0),tmpMatch=matches.pop();matches.push(groupToken),matches=groupToken.matches,match=tmpMatch}match.isGroup||(match=groupify([match])),matches.push(match),matches.push(quantifier);break;case opts.alternatormarker:if(0<openenings.length){currentOpeningToken=openenings[openenings.length-1];var subToken=currentOpeningToken.matches[currentOpeningToken.matches.length-1];lastMatch=currentOpeningToken.openGroup&&(void 0===subToken.matches||!1===subToken.isGroup&&!1===subToken.isAlternator)?openenings.pop():groupQuantifier(currentOpeningToken.matches)}else lastMatch=groupQuantifier(currentToken.matches);if(lastMatch.isAlternator)openenings.push(lastMatch);else if(lastMatch.alternatorGroup?(alternator=openenings.pop(),lastMatch.alternatorGroup=!1):alternator=new MaskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator),lastMatch.openGroup){lastMatch.openGroup=!1;var alternatorGroup=new MaskToken(!0);alternatorGroup.alternatorGroup=!0,openenings.push(alternatorGroup)}break;default:defaultCase()}}for(closeRegexGroup&&closeGroup();0<openenings.length;)openingToken=openenings.pop(),currentToken.matches.push(openingToken);return 0<currentToken.matches.length&&(verifyGroupMarker(currentToken),maskTokens.push(currentToken)),(opts.numericInput||opts.isRTL)&&reverseTokens(maskTokens[0]),maskTokens}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={9:{validator:"[0-9\uff10-\uff19]",definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",definitionSymbol:"*"},"*":{validator:"[0-9\uff10-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]"}};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function oncomplete(){},onincomplete:function onincomplete(){},oncleared:function oncleared(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function onKeyDown(){},onBeforeMask:null,onBeforePaste:function onBeforePaste(pastedValue,opts){return"function"==typeof opts.onBeforeMask?opts.onBeforeMask.call(this,pastedValue,opts):pastedValue},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function onKeyValidation(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0};exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_escapeRegex=_interopRequireDefault(__webpack_require__(13)),_positioning=__webpack_require__(1);function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=_inputmask.default.dependencyLib,currentYear=(new Date).getFullYear(),formatCode={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return pad(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return pad(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],hx:[function(x){return"[0-9]{".concat(x,"}")},Date.prototype.setHours,"hours",function(x){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],Hx:[function(x){return"[0-9]{".concat(x,"}")},Date.prototype.setHours,"hours",function(x){return function(){return pad(Date.prototype.getHours.call(this),x)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return pad(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return pad(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},formatAlias={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function formatcode(match){var dynMatches=new RegExp("\\d+$").exec(match[0]);if(dynMatches&&void 0!==dynMatches[0]){var fcode=formatCode[match[0][0]+"x"].slice("");return fcode[0]=fcode[0](dynMatches[0]),fcode[3]=fcode[3](dynMatches[0]),fcode}if(formatCode[match[0]])return formatCode[match[0]]}function getTokenizer(opts){if(!opts.tokenizer){var tokens=[],dyntokens=[];for(var ndx in formatCode)if(/\.*x$/.test(ndx)){var dynToken=ndx[0]+"\\d+";-1===dyntokens.indexOf(dynToken)&&dyntokens.push(dynToken)}else-1===tokens.indexOf(ndx[0])&&tokens.push(ndx[0]);opts.tokenizer="("+(0<dyntokens.length?dyntokens.join("|")+"|":"")+tokens.join("+|")+")+?|.",opts.tokenizer=new RegExp(opts.tokenizer,"g")}return opts.tokenizer}function prefillYear(dateParts,currentResult,opts){if(dateParts.year!==dateParts.rawyear){var crrntyear=currentYear.toString(),enteredPart=dateParts.rawyear.replace(/[^0-9]/g,""),currentYearPart=crrntyear.slice(0,enteredPart.length),currentYearNextPart=crrntyear.slice(enteredPart.length);if(2===enteredPart.length&&enteredPart===currentYearPart){var entryCurrentYear=new Date(currentYear,dateParts.month-1,dateParts.day);dateParts.day==entryCurrentYear.getDate()&&(!opts.max||opts.max.date.getTime()>=entryCurrentYear.getTime())&&(dateParts.date.setFullYear(currentYear),dateParts.year=crrntyear,currentResult.insert=[{pos:currentResult.pos+1,c:currentYearNextPart[0]},{pos:currentResult.pos+2,c:currentYearNextPart[1]}])}}return currentResult}function isValidDate(dateParts,currentResult,opts){if(void 0===dateParts.rawday||!isFinite(dateParts.rawday)&&new Date(dateParts.date.getFullYear(),isFinite(dateParts.rawmonth)?dateParts.month:dateParts.date.getMonth()+1,0).getDate()>=dateParts.day||"29"==dateParts.day&&!isFinite(dateParts.rawyear)||new Date(dateParts.date.getFullYear(),isFinite(dateParts.rawmonth)?dateParts.month:dateParts.date.getMonth()+1,0).getDate()>=dateParts.day)return currentResult;if("29"==dateParts.day){var tokenMatch=getTokenMatch(currentResult.pos,opts);if("yyyy"===tokenMatch.targetMatch[0]&&currentResult.pos-tokenMatch.targetMatchIndex==2)return currentResult.remove=currentResult.pos+1,currentResult}else if("02"==dateParts.month&&"30"==dateParts.day)return dateParts.day="03",dateParts.date.setDate(3),dateParts.date.setMonth(1),currentResult.insert=[{pos:currentResult.pos,c:"0"},{pos:currentResult.pos+1,c:currentResult.c}],currentResult.caret=_positioning.seekNext.call(this,currentResult.pos+1),currentResult;return!1}function isDateInRange(dateParts,result,opts,maskset,fromCheckval){if(!result)return result;if(opts.min){if(dateParts.rawyear){var rawYear=dateParts.rawyear.replace(/[^0-9]/g,""),minYear=opts.min.year.substr(0,rawYear.length),maxYear;if(rawYear<minYear){var tokenMatch=getTokenMatch(result.pos,opts);if(rawYear=dateParts.rawyear.substr(0,result.pos-tokenMatch.targetMatchIndex+1).replace(/[^0-9]/g,"0"),minYear=opts.min.year.substr(0,rawYear.length),minYear<=rawYear)return result.remove=tokenMatch.targetMatchIndex+rawYear.length,result;if(rawYear="yyyy"===tokenMatch.targetMatch[0]?dateParts.rawyear.substr(1,1):dateParts.rawyear.substr(0,1),minYear=opts.min.year.substr(2,1),maxYear=opts.max?opts.max.year.substr(2,1):rawYear,1===rawYear.length&&minYear<=rawYear&&rawYear<=maxYear&&!0!==fromCheckval)return"yyyy"===tokenMatch.targetMatch[0]?(result.insert=[{pos:result.pos+1,c:rawYear,strict:!0}],result.caret=result.pos+2,maskset.validPositions[result.pos].input=opts.min.year[1]):(result.insert=[{pos:result.pos+1,c:opts.min.year[1],strict:!0},{pos:result.pos+2,c:rawYear,strict:!0}],result.caret=result.pos+3,maskset.validPositions[result.pos].input=opts.min.year[0]),result;result=!1}}result&&dateParts.year&&dateParts.year===dateParts.rawyear&&opts.min.date.getTime()==opts.min.date.getTime()&&(result=opts.min.date.getTime()<=dateParts.date.getTime())}return result&&opts.max&&opts.max.date.getTime()==opts.max.date.getTime()&&(result=opts.max.date.getTime()>=dateParts.date.getTime()),result}function parse(format,dateObjValue,opts,raw){var mask="",match,fcode;for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(format);)if(void 0===dateObjValue)if(fcode=formatcode(match))mask+="("+fcode[0]+")";else switch(match[0]){case"[":mask+="(";break;case"]":mask+=")?";break;default:mask+=(0,_escapeRegex.default)(match[0])}else if(fcode=formatcode(match))if(!0!==raw&&fcode[3]){var getFn=fcode[3];mask+=getFn.call(dateObjValue.date)}else fcode[2]?mask+=dateObjValue["raw"+fcode[2]]:mask+=match[0];else mask+=match[0];return mask}function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val}function analyseMask(maskString,format,opts){var dateObj={date:new Date(1,0,1)},targetProp,mask=maskString,match,dateOperation;function setValue(dateObj,value,opts){if(dateObj[targetProp]=value.replace(/[^0-9]/g,"0"),dateObj["raw"+targetProp]=value,void 0!==dateOperation){var datavalue=dateObj[targetProp];"day"===targetProp&&0===parseInt(datavalue)&&(datavalue=1),"month"===targetProp&&(datavalue=parseInt(datavalue),0<datavalue)&&(datavalue-=1),dateOperation.call(dateObj.date,datavalue)}}if("string"==typeof mask){for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(format);){var dynMatches=new RegExp("\\d+$").exec(match[0]),fcode=dynMatches?match[0][0]+"x":match[0],value=void 0;if(dynMatches){var lastIndex=getTokenizer(opts).lastIndex,tokanMatch=getTokenMatch(match.index,opts);getTokenizer(opts).lastIndex=lastIndex,value=mask.slice(0,mask.indexOf(tokanMatch.nextMatch[0]))}else value=mask.slice(0,fcode.length);Object.prototype.hasOwnProperty.call(formatCode,fcode)&&(targetProp=formatCode[fcode][2],dateOperation=formatCode[fcode][1],setValue(dateObj,value,opts)),mask=mask.slice(value.length)}return dateObj}if(mask&&"object"===_typeof(mask)&&Object.prototype.hasOwnProperty.call(mask,"date"))return mask}function importDate(dateObj,opts){return parse(opts.inputFormat,{date:dateObj},opts)}function getTokenMatch(pos,opts){var calcPos=0,targetMatch,match,matchLength=0;for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(opts.inputFormat);){var dynMatches=new RegExp("\\d+$").exec(match[0]);if(matchLength=dynMatches?parseInt(dynMatches[0]):match[0].length,calcPos+=matchLength,pos<=calcPos){targetMatch=match,match=getTokenizer(opts).exec(opts.inputFormat);break}}return{targetMatchIndex:calcPos-matchLength,nextMatch:match,targetMatch:targetMatch}}_inputmask.default.extendAliases({datetime:{mask:function mask(opts){return opts.numericInput=!1,formatCode.S=opts.i18n.ordinalSuffix.join("|"),opts.inputFormat=formatAlias[opts.inputFormat]||opts.inputFormat,opts.displayFormat=formatAlias[opts.displayFormat]||opts.displayFormat||opts.inputFormat,opts.outputFormat=formatAlias[opts.outputFormat]||opts.outputFormat||opts.inputFormat,opts.placeholder=""!==opts.placeholder?opts.placeholder:opts.inputFormat.replace(/[[\]]/,""),opts.regex=parse(opts.inputFormat,void 0,opts),opts.min=analyseMask(opts.min,opts.inputFormat,opts),opts.max=analyseMask(opts.max,opts.inputFormat,opts),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset,caretPos,strict){if(strict)return!0;if(isNaN(c)&&buffer[pos]!==c){var tokenMatch=getTokenMatch(pos,opts);if(tokenMatch.nextMatch&&tokenMatch.nextMatch[0]===c&&1<tokenMatch.targetMatch[0].length){var validator=formatCode[tokenMatch.targetMatch[0]][0];if(new RegExp(validator).test("0"+buffer[pos-1]))return buffer[pos]=buffer[pos-1],buffer[pos-1]="0",{fuzzy:!0,buffer:buffer,refreshFromBuffer:{start:pos-1,end:pos+1},pos:pos+1}}}return!0},postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict,fromCheckval){var inputmask=this,tokenMatch,validator;if(strict)return!0;if(!1===currentResult&&(tokenMatch=getTokenMatch(pos+1,opts),tokenMatch.targetMatch&&tokenMatch.targetMatchIndex===pos&&1<tokenMatch.targetMatch[0].length&&void 0!==formatCode[tokenMatch.targetMatch[0]]&&(validator=formatCode[tokenMatch.targetMatch[0]][0],void 0!==maskset.validPositions[pos+1]&&new RegExp(validator).test(c+"0")?(buffer[pos]=c,buffer[pos+1]="0",currentResult={pos:pos+2,caret:pos}):new RegExp(validator).test("0"+c)&&(buffer[pos]="0",buffer[pos+1]=c,currentResult={pos:pos+2})),!1===currentResult))return currentResult;if(currentResult.fuzzy&&(buffer=currentResult.buffer,pos=currentResult.pos),tokenMatch=getTokenMatch(pos,opts),tokenMatch.targetMatch&&tokenMatch.targetMatch[0]&&void 0!==formatCode[tokenMatch.targetMatch[0]]){validator=formatCode[tokenMatch.targetMatch[0]][0];var part=buffer.slice(tokenMatch.targetMatchIndex,tokenMatch.targetMatchIndex+tokenMatch.targetMatch[0].length);!1===new RegExp(validator).test(part.join(""))&&2===tokenMatch.targetMatch[0].length&&maskset.validPositions[tokenMatch.targetMatchIndex]&&maskset.validPositions[tokenMatch.targetMatchIndex+1]&&(maskset.validPositions[tokenMatch.targetMatchIndex+1].input="0")}var result=currentResult,dateParts=analyseMask(buffer.join(""),opts.inputFormat,opts);return result&&dateParts.date.getTime()==dateParts.date.getTime()&&(result=prefillYear(dateParts,result,opts),result=isValidDate.call(this,dateParts,result,opts),result=isDateInRange(dateParts,result,opts,maskset,fromCheckval)),pos&&result&&currentResult.pos!==pos?{buffer:parse(opts.inputFormat,dateParts,opts).split(""),refreshFromBuffer:{start:pos,end:currentResult.pos},pos:currentResult.caret||currentResult.pos}:result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var input=this;e.ctrlKey&&e.keyCode===_keycode.default.RIGHT&&(this.inputmask._valueSet(importDate(new Date,opts)),$(this).trigger("setvalue"))},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return unmaskedValue?parse(opts.outputFormat,analyseMask(maskedValue,opts.inputFormat,opts),opts,!0):unmaskedValue},casing:function casing(elem,test,pos,validPositions){return 0==test.nativeDef.indexOf("[ap]")?elem.toLowerCase():0==test.nativeDef.indexOf("[AP]")?elem.toUpperCase():elem},onBeforeMask:function onBeforeMask(initialValue,opts){return"[object Date]"===Object.prototype.toString.call(initialValue)&&(initialValue=importDate(initialValue,opts)),initialValue},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric"}})},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_escapeRegex=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=_inputmask.default.dependencyLib;function autoEscape(txt,opts){for(var escapedTxt="",i=0;i<txt.length;i++)_inputmask.default.prototype.definitions[txt.charAt(i)]||opts.definitions[txt.charAt(i)]||opts.optionalmarker[0]===txt.charAt(i)||opts.optionalmarker[1]===txt.charAt(i)||opts.quantifiermarker[0]===txt.charAt(i)||opts.quantifiermarker[1]===txt.charAt(i)||opts.groupmarker[0]===txt.charAt(i)||opts.groupmarker[1]===txt.charAt(i)||opts.alternatormarker===txt.charAt(i)?escapedTxt+="\\"+txt.charAt(i):escapedTxt+=txt.charAt(i);return escapedTxt}function alignDigits(buffer,digits,opts,force){if(0<buffer.length&&0<digits&&(!opts.digitsOptional||force)){var radixPosition=buffer.indexOf(opts.radixPoint),negationBack=!1;opts.negationSymbol.back===buffer[buffer.length-1]&&(negationBack=!0,buffer.length--),-1===radixPosition&&(buffer.push(opts.radixPoint),radixPosition=buffer.length-1);for(var i=1;i<=digits;i++)isFinite(buffer[radixPosition+i])||(buffer[radixPosition+i]="0")}return negationBack&&buffer.push(opts.negationSymbol.back),buffer}function findValidator(symbol,maskset){var posNdx=0;if("+"===symbol){for(posNdx in maskset.validPositions);posNdx=parseInt(posNdx)}for(var tstNdx in maskset.tests)if(tstNdx=parseInt(tstNdx),posNdx<=tstNdx)for(var ndx=0,ndxl=maskset.tests[tstNdx].length;ndx<ndxl;ndx++)if((void 0===maskset.validPositions[tstNdx]||"-"===symbol)&&maskset.tests[tstNdx][ndx].match.def===symbol)return tstNdx+(void 0!==maskset.validPositions[tstNdx]&&"-"!==symbol?1:0);return posNdx}function findValid(symbol,maskset){var ret=-1;for(var ndx in maskset.validPositions){var tst=maskset.validPositions[ndx];if(tst&&tst.match.def===symbol){ret=parseInt(ndx);break}}return ret}function parseMinMaxOptions(opts){void 0===opts.parseMinMaxOptions&&(null!==opts.min&&(opts.min=opts.min.toString().replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.min=opts.min.replace(opts.radixPoint,".")),opts.min=isFinite(opts.min)?parseFloat(opts.min):NaN,isNaN(opts.min)&&(opts.min=Number.MIN_VALUE)),null!==opts.max&&(opts.max=opts.max.toString().replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.max=opts.max.replace(opts.radixPoint,".")),opts.max=isFinite(opts.max)?parseFloat(opts.max):NaN,isNaN(opts.max)&&(opts.max=Number.MAX_VALUE)),opts.parseMinMaxOptions="done")}function genMask(opts){opts.repeat=0,opts.groupSeparator===opts.radixPoint&&opts.digits&&"0"!==opts.digits&&("."===opts.radixPoint?opts.groupSeparator=",":","===opts.radixPoint?opts.groupSeparator=".":opts.groupSeparator="")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),1<opts.placeholder.length&&(opts.placeholder=opts.placeholder.charAt(0)),"radixFocus"===opts.positionCaretOnClick&&""===opts.placeholder&&(opts.positionCaretOnClick="lvp");var decimalDef="0",radixPointDef=opts.radixPoint;!0===opts.numericInput&&void 0===opts.__financeInput?(decimalDef="1",opts.positionCaretOnClick="radixFocus"===opts.positionCaretOnClick?"lvp":opts.positionCaretOnClick,opts.digitsOptional=!1,isNaN(opts.digits)&&(opts.digits=2),opts._radixDance=!1,radixPointDef=","===opts.radixPoint?"?":"!",""!==opts.radixPoint&&void 0===opts.definitions[radixPointDef]&&(opts.definitions[radixPointDef]={},opts.definitions[radixPointDef].validator="["+opts.radixPoint+"]",opts.definitions[radixPointDef].placeholder=opts.radixPoint,opts.definitions[radixPointDef].static=!0,opts.definitions[radixPointDef].generated=!0)):(opts.__financeInput=!1,opts.numericInput=!0);var mask="[+]",altMask;if(mask+=autoEscape(opts.prefix,opts),""!==opts.groupSeparator?(void 0===opts.definitions[opts.groupSeparator]&&(opts.definitions[opts.groupSeparator]={},opts.definitions[opts.groupSeparator].validator="["+opts.groupSeparator+"]",opts.definitions[opts.groupSeparator].placeholder=opts.groupSeparator,opts.definitions[opts.groupSeparator].static=!0,opts.definitions[opts.groupSeparator].generated=!0),mask+=opts._mask(opts)):mask+="9{+}",void 0!==opts.digits&&0!==opts.digits){var dq=opts.digits.toString().split(",");isFinite(dq[0])&&dq[1]&&isFinite(dq[1])?mask+=radixPointDef+decimalDef+"{"+opts.digits+"}":(isNaN(opts.digits)||0<parseInt(opts.digits))&&(opts.digitsOptional?(altMask=mask+radixPointDef+decimalDef+"{0,"+opts.digits+"}",opts.keepStatic=!0):mask+=radixPointDef+decimalDef+"{"+opts.digits+"}")}return mask+=autoEscape(opts.suffix,opts),mask+="[-]",altMask&&(mask=[altMask+autoEscape(opts.suffix,opts)+"[-]",mask]),opts.greedy=!1,parseMinMaxOptions(opts),mask}function hanndleRadixDance(pos,c,radixPos,maskset,opts){return opts._radixDance&&opts.numericInput&&c!==opts.negationSymbol.back&&pos<=radixPos&&(0<radixPos||c==opts.radixPoint)&&(void 0===maskset.validPositions[pos-1]||maskset.validPositions[pos-1].input!==opts.negationSymbol.back)&&(pos-=1),pos}function decimalValidator(chrs,maskset,pos,strict,opts){var radixPos=maskset.buffer?maskset.buffer.indexOf(opts.radixPoint):-1,result=-1!==radixPos&&new RegExp("[0-9\uff11-\uff19]").test(chrs);return opts._radixDance&&result&&null==maskset.validPositions[radixPos]?{insert:{pos:radixPos===pos?radixPos+1:radixPos,c:opts.radixPoint},pos:pos}:result}function checkForLeadingZeroes(buffer,opts){var numberMatches=new RegExp("(^"+(""!==opts.negationSymbol.front?(0,_escapeRegex.default)(opts.negationSymbol.front)+"?":"")+(0,_escapeRegex.default)(opts.prefix)+")(.*)("+(0,_escapeRegex.default)(opts.suffix)+(""!=opts.negationSymbol.back?(0,_escapeRegex.default)(opts.negationSymbol.back)+"?":"")+"$)").exec(buffer.slice().reverse().join("")),number=numberMatches?numberMatches[2]:"",leadingzeroes=!1;return number&&(number=number.split(opts.radixPoint.charAt(0))[0],leadingzeroes=new RegExp("^[0"+opts.groupSeparator+"]*").exec(number)),!(!leadingzeroes||!(1<leadingzeroes[0].length||0<leadingzeroes[0].length&&leadingzeroes[0].length<number.length))&&leadingzeroes}_inputmask.default.extendAliases({numeric:{mask:genMask,_mask:function _mask(opts){return"("+opts.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"numeric",shortcuts:{k:"000",m:"000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",definitions:{0:{validator:decimalValidator},1:{validator:decimalValidator,definitionSymbol:"9"},"+":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&("-"===chrs||chrs===opts.negationSymbol.front)}},"-":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&chrs===opts.negationSymbol.back}}},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset,caretPos,strict){if(!1!==opts.__financeInput&&c===opts.radixPoint)return!1;var pattern;if(pattern=opts.shortcuts&&opts.shortcuts[c]){if(1<pattern.length)for(var inserts=[],i=0;i<pattern.length;i++)inserts.push({pos:pos+i,c:pattern[i],strict:!1});return{insert:inserts}}var radixPos=buffer.indexOf(opts.radixPoint),initPos=pos;if(pos=hanndleRadixDance(pos,c,radixPos,maskset,opts),"-"===c||c===opts.negationSymbol.front){if(!0!==opts.allowMinus)return!1;var isNegative=!1,front=findValid("+",maskset),back=findValid("-",maskset);return-1!==front&&(isNegative=[front,back]),!1!==isNegative?{remove:isNegative,caret:initPos-opts.negationSymbol.front.length}:{insert:[{pos:findValidator("+",maskset),c:opts.negationSymbol.front,fromIsValid:!0},{pos:findValidator("-",maskset),c:opts.negationSymbol.back,fromIsValid:void 0}],caret:initPos+opts.negationSymbol.back.length}}if(c===opts.groupSeparator)return{caret:initPos};if(strict)return!0;if(-1!==radixPos&&!0===opts._radixDance&&!1===isSelection&&c===opts.radixPoint&&void 0!==opts.digits&&(isNaN(opts.digits)||0<parseInt(opts.digits))&&radixPos!==pos)return{caret:opts._radixDance&&pos===radixPos-1?radixPos+1:radixPos};if(!1===opts.__financeInput)if(isSelection){if(opts.digitsOptional)return{rewritePosition:caretPos.end};if(!opts.digitsOptional){if(caretPos.begin>radixPos&&caretPos.end<=radixPos)return c===opts.radixPoint?{insert:{pos:radixPos+1,c:"0",fromIsValid:!0},rewritePosition:radixPos}:{rewritePosition:radixPos+1};if(caretPos.begin<radixPos)return{rewritePosition:caretPos.begin-1}}}else if(!opts.showMaskOnHover&&!opts.showMaskOnFocus&&!opts.digitsOptional&&0<opts.digits&&""===this.__valueGet.call(this.el))return{rewritePosition:radixPos};return{rewritePosition:pos}},postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict){if(!1===currentResult)return currentResult;if(strict)return!0;if(null!==opts.min||null!==opts.max){var unmasked=opts.onUnMask(buffer.slice().reverse().join(""),void 0,$.extend({},opts,{unmaskAsNumber:!0}));if(null!==opts.min&&unmasked<opts.min&&(unmasked.toString().length>opts.min.toString().length||unmasked<0))return!1;if(null!==opts.max&&unmasked>opts.max)return!!opts.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:alignDigits(opts.max.toString().replace(".",opts.radixPoint).split(""),opts.digits,opts).reverse()}}return currentResult},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){if(""===unmaskedValue&&!0===opts.nullable)return unmaskedValue;var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),""!==opts.placeholder.charAt(0)&&(processValue=processValue.replace(new RegExp(opts.placeholder.charAt(0),"g"),"0")),opts.unmaskAsNumber?(""!==opts.radixPoint&&-1!==processValue.indexOf(opts.radixPoint)&&(processValue=processValue.replace(_escapeRegex.default.call(this,opts.radixPoint),".")),processValue=processValue.replace(new RegExp("^"+(0,_escapeRegex.default)(opts.negationSymbol.front)),"-"),processValue=processValue.replace(new RegExp((0,_escapeRegex.default)(opts.negationSymbol.back)+"$"),""),Number(processValue)):processValue},isComplete:function isComplete(buffer,opts){var maskedValue=(opts.numericInput?buffer.slice().reverse():buffer).join("");return maskedValue=maskedValue.replace(new RegExp("^"+(0,_escapeRegex.default)(opts.negationSymbol.front)),"-"),maskedValue=maskedValue.replace(new RegExp((0,_escapeRegex.default)(opts.negationSymbol.back)+"$"),""),maskedValue=maskedValue.replace(opts.prefix,""),maskedValue=maskedValue.replace(opts.suffix,""),maskedValue=maskedValue.replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator)+"([0-9]{3})","g"),"$1"),","===opts.radixPoint&&(maskedValue=maskedValue.replace((0,_escapeRegex.default)(opts.radixPoint),".")),isFinite(maskedValue)},onBeforeMask:function onBeforeMask(initialValue,opts){var radixPoint=opts.radixPoint||",";isFinite(opts.digits)&&(opts.digits=parseInt(opts.digits)),"number"!=typeof initialValue&&"number"!==opts.inputType||""===radixPoint||(initialValue=initialValue.toString().replace(".",radixPoint));var isNagtive="-"===initialValue.charAt(0)||initialValue.charAt(0)===opts.negationSymbol.front,valueParts=initialValue.split(radixPoint),integerPart=valueParts[0].replace(/[^\-0-9]/g,""),decimalPart=1<valueParts.length?valueParts[1].replace(/[^0-9]/g,""):"",forceDigits=1<valueParts.length;initialValue=integerPart+(""!==decimalPart?radixPoint+decimalPart:decimalPart);var digits=0;if(""!==radixPoint&&(digits=opts.digitsOptional?opts.digits<decimalPart.length?opts.digits:decimalPart.length:opts.digits,""!==decimalPart||!opts.digitsOptional)){var digitsFactor=Math.pow(10,digits||1);initialValue=initialValue.replace((0,_escapeRegex.default)(radixPoint),"."),isNaN(parseFloat(initialValue))||(initialValue=(opts.roundingFN(parseFloat(initialValue)*digitsFactor)/digitsFactor).toFixed(digits)),initialValue=initialValue.toString().replace(".",radixPoint)}if(0===opts.digits&&-1!==initialValue.indexOf(radixPoint)&&(initialValue=initialValue.substring(0,initialValue.indexOf(radixPoint))),null!==opts.min||null!==opts.max){var numberValue=initialValue.toString().replace(radixPoint,".");null!==opts.min&&numberValue<opts.min?initialValue=opts.min.toString().replace(".",radixPoint):null!==opts.max&&numberValue>opts.max&&(initialValue=opts.max.toString().replace(".",radixPoint))}return isNagtive&&"-"!==initialValue.charAt(0)&&(initialValue="-"+initialValue),alignDigits(initialValue.toString().split(""),digits,opts,forceDigits).join("")},onBeforeWrite:function onBeforeWrite(e,buffer,caretPos,opts){function stripBuffer(buffer,stripRadix){if(!1!==opts.__financeInput||stripRadix){var position=buffer.indexOf(opts.radixPoint);-1!==position&&buffer.splice(position,1)}if(""!==opts.groupSeparator)for(;-1!==(position=buffer.indexOf(opts.groupSeparator));)buffer.splice(position,1);return buffer}var result,leadingzeroes=checkForLeadingZeroes(buffer,opts);if(leadingzeroes)for(var caretNdx=buffer.join("").lastIndexOf(leadingzeroes[0].split("").reverse().join(""))-(leadingzeroes[0]==leadingzeroes.input?0:1),offset=leadingzeroes[0]==leadingzeroes.input?1:0,i=leadingzeroes[0].length-offset;0<i;i--)delete this.maskset.validPositions[caretNdx+i],delete buffer[caretNdx+i];if(e)switch(e.type){case"blur":case"checkval":if(null!==opts.min){var unmasked=opts.onUnMask(buffer.slice().reverse().join(""),void 0,$.extend({},opts,{unmaskAsNumber:!0}));if(null!==opts.min&&unmasked<opts.min)return{refreshFromBuffer:!0,buffer:alignDigits(opts.min.toString().replace(".",opts.radixPoint).split(""),opts.digits,opts).reverse()}}if(buffer[buffer.length-1]===opts.negationSymbol.front){var nmbrMtchs=new RegExp("(^"+(""!=opts.negationSymbol.front?(0,_escapeRegex.default)(opts.negationSymbol.front)+"?":"")+(0,_escapeRegex.default)(opts.prefix)+")(.*)("+(0,_escapeRegex.default)(opts.suffix)+(""!=opts.negationSymbol.back?(0,_escapeRegex.default)(opts.negationSymbol.back)+"?":"")+"$)").exec(stripBuffer(buffer.slice(),!0).reverse().join("")),number=nmbrMtchs?nmbrMtchs[2]:"";0==number&&(result={refreshFromBuffer:!0,buffer:[0]})}else""!==opts.radixPoint&&buffer[0]===opts.radixPoint&&(result&&result.buffer?result.buffer.shift():(buffer.shift(),result={refreshFromBuffer:!0,buffer:stripBuffer(buffer)}));if(opts.enforceDigitsOnBlur){result=result||{};var bffr=result&&result.buffer||buffer.slice().reverse();result.refreshFromBuffer=!0,result.buffer=alignDigits(bffr,opts.digits,opts,!0).reverse()}}return result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var $input=$(this),bffr;if(e.ctrlKey)switch(e.keyCode){case _keycode.default.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(opts.step)),$input.trigger("setvalue"),!1;case _keycode.default.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(opts.step)),$input.trigger("setvalue"),!1}if(!e.shiftKey&&(e.keyCode===_keycode.default.DELETE||e.keyCode===_keycode.default.BACKSPACE||e.keyCode===_keycode.default.BACKSPACE_SAFARI)&&caretPos.begin!==buffer.length){if(buffer[e.keyCode===_keycode.default.DELETE?caretPos.begin-1:caretPos.end]===opts.negationSymbol.front)return bffr=buffer.slice().reverse(),""!==opts.negationSymbol.front&&bffr.shift(),""!==opts.negationSymbol.back&&bffr.pop(),$input.trigger("setvalue",[bffr.join(""),caretPos.begin]),!1;if(!0===opts._radixDance){var radixPos=buffer.indexOf(opts.radixPoint);if(opts.digitsOptional){if(0===radixPos)return bffr=buffer.slice().reverse(),bffr.pop(),$input.trigger("setvalue",[bffr.join(""),caretPos.begin>=bffr.length?bffr.length:caretPos.begin]),!1}else if(-1!==radixPos&&(caretPos.begin<radixPos||caretPos.end<radixPos||e.keyCode===_keycode.default.DELETE&&caretPos.begin===radixPos))return caretPos.begin!==caretPos.end||e.keyCode!==_keycode.default.BACKSPACE&&e.keyCode!==_keycode.default.BACKSPACE_SAFARI||caretPos.begin++,bffr=buffer.slice().reverse(),bffr.splice(bffr.length-caretPos.begin,caretPos.begin-caretPos.end+1),bffr=alignDigits(bffr,opts.digits,opts).join(""),$input.trigger("setvalue",[bffr,caretPos.begin>=bffr.length?radixPos+1:caretPos.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function _mask(opts){return"("+opts.groupSeparator+"99){*|1}("+opts.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},function(module,exports,__webpack_require__){"use strict";var _window=_interopRequireDefault(__webpack_require__(5)),_inputmask=_interopRequireDefault(__webpack_require__(2)),_canUseDOM=_interopRequireDefault(__webpack_require__(6));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!_isNativeFunction(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof _cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a),instance=new Constructor;return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document;if(_canUseDOM.default&&document&&document.head&&document.head.attachShadow&&_window.default.customElements&&void 0===_window.default.customElements.get("input-mask")){var InputmaskElement=function(_HTMLElement){_inherits(InputmaskElement,_HTMLElement);var _super=_createSuper(InputmaskElement);function InputmaskElement(){var _this;_classCallCheck(this,InputmaskElement),_this=_super.call(this);var attributeNames=_this.getAttributeNames(),shadow=_this.attachShadow({mode:"closed"}),input=document.createElement("input");for(var attr in input.type="text",shadow.appendChild(input),attributeNames)Object.prototype.hasOwnProperty.call(attributeNames,attr)&&input.setAttribute(attributeNames[attr],_this.getAttribute(attributeNames[attr]));var im=new _inputmask.default;return im.dataAttribute="",im.mask(input),input.inputmask.shadowRoot=shadow,_this}return InputmaskElement}(_wrapNativeSuper(HTMLElement));_window.default.customElements.define("input-mask",InputmaskElement)}}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=14);function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var modules,installedModules});
/*! js-cookie v3.0.0-rc.1 | MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,r=e.Cookies=t();r.noConflict=function(){return e.Cookies=n,r}}())}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function n(r,o){function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n=r.write(n,t);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+c}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var c=n[i].split("="),u=c.slice(1).join("=");'"'===u[0]&&(u=u.slice(1,-1));try{var f=t.read(c[0]);if(o[f]=r.read(u,f),e===f)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(r)}})}(t,{path:"/"})});

/*
 0BSD
*/
(function(F,y){"function"===typeof define&&define.amd?define(y):"object"===typeof exports?module.exports=y():F.pickmeup=y()})(this,function(){function F(a,c,b){b=b||[];if(a instanceof Element)c.apply(c,[a].concat(b));else{var d;var e=a.length;for(d=0;d<e;++d)c.apply(c,[a[d]].concat(b))}}function y(a){F(a,function(a){a.parentElement.removeChild(a)})}function J(a,c){do a=a.parentElement;while(a&&!B(a,c));return a}function B(a,c){return(a.matches||a.webkitMatchesSelector||a.msMatchesSelector).call(a,
c)}function k(a,c){return a&&a.classList.contains(c)}function l(a,c){a.classList.add(c)}function q(a,c,b,d){if(-1!==b.indexOf(" ")){b=b.split(" ");var e=b.length,h;for(h=0;h<e;++h)q(a,c,b[h],d)}else a.__pickmeup.events.push([c,b,d]),c.addEventListener(b,d)}function z(a,c,b,d){var e;if(b&&-1!==b.indexOf(" ")){var h=b.split(" ");var l=h.length;for(e=0;e<l;++e)z(a,c,h[e],d)}else for(h=a.__pickmeup.events,l=h.length,e=0;e<l;++e)c&&c!==h[e][0]||b&&b!==h[e][1]||d&&d!==h[e][2]||h[e][0].removeEventListener(h[e][1],
h[e][2])}function M(a){a=a.getBoundingClientRect();return{top:a.top+window.pageYOffset-document.documentElement.clientTop,left:a.left+window.pageXOffset-document.documentElement.clientLeft}}function C(a,c,b){var d=document.createEvent("Event");b&&(d.detail=b);d.initEvent("pickmeup-"+c,!1,!0);return a.dispatchEvent(d)}function K(a){a=new Date(a);for(var c=28,b=a.getMonth();a.getMonth()===b;)++c,a.setDate(c);return c-1}function A(a,c){a.setDate(a.getDate()+c)}function p(a,c){var b=a.getDate();a.setDate(1);
a.setMonth(a.getMonth()+c);a.setDate(Math.min(b,K(a)))}function u(a,c){var b=a.getDate();a.setDate(1);a.setFullYear(a.getFullYear()+c);a.setDate(Math.min(b,K(a)))}function N(a){var c=a.__pickmeup.element,b=a.__pickmeup.options,d=Math.floor(b.calendars/2),e=b.date,h=b.current,m=b.min?new Date(b.min):null,v=b.max?new Date(b.max):null;m&&(m.setDate(1),p(m,1),A(m,-1));v&&(v.setDate(1),p(v,1),A(v,-1));y(Array.prototype.slice.call(c.querySelectorAll(".pmu-instance > :not(nav)")));for(var w=0;w<b.calendars;w++){var f=
new Date(h);x(f);var n=Array.prototype.slice.call(c.querySelectorAll(".pmu-instance"))[w];if(k(c,"pmu-view-years")){u(f,12*(w-d));var G=f.getFullYear()-6+" - "+(f.getFullYear()+5)}else k(c,"pmu-view-months")?(u(f,w-d),G=f.getFullYear()):k(c,"pmu-view-days")&&(p(f,w-d),G="function"===typeof b.title_format?b.title_format(f,b.locales[b.locale]):D(f,b.title_format,b.locales[b.locale]));if(!r&&v){var r=new Date(f);b.select_day?p(r,b.calendars-1):b.select_month?u(r,b.calendars-1):u(r,12*(b.calendars-1));
if(r>v){--w;p(h,-1);r=void 0;continue}}r=new Date(f);if(!g){var g=new Date(f);g.setDate(1);p(g,1);A(g,-1);if(m&&m>g){--w;p(h,1);g=void 0;continue}}n.querySelector(".pmu-month").innerHTML=G;var q=function(a){return"range"===b.mode&&a>=(new Date(e[0])).getFullYear()&&a<=(new Date(e[1])).getFullYear()||"multiple"===b.mode&&-1!==e.reduce(function(a,b){a.push((new Date(b)).getFullYear());return a},[]).indexOf(a)||(new Date(e)).getFullYear()===a},t=function(a,c){var d=(new Date(e[0])).getFullYear(),f=(new Date(e[1])).getFullYear(),
h=(new Date(e[0])).getMonth(),g=(new Date(e[1])).getMonth();return"range"===b.mode&&(a>d&&a<f||a>d&&a===f&&c<=g||a===d&&a<f&&c>=h||a===d&&a===f&&c>=h&&c<=g)||"multiple"===b.mode&&-1!==e.reduce(function(a,b){b=new Date(b);a.push(b.getFullYear()+"-"+b.getMonth());return a},[]).indexOf(a+"-"+c)||(new Date(e)).getFullYear()===a&&(new Date(e)).getMonth()===c};(function(){var a=[],c=f.getFullYear()-6,d=(new Date(b.min)).getFullYear(),e=(new Date(b.max)).getFullYear(),h;for(h=0;12>h;++h){var g=c+h;var m=
document.createElement("div");m.textContent=g;m.__pickmeup_year=g;b.min&&g<d||b.max&&g>e?l(m,"pmu-disabled"):q(g)&&l(m,"pmu-selected");a.push(m)}n.appendChild(b.instance_content_template(a,"pmu-years"))})();(function(){var a=[],c=f.getFullYear(),d=(new Date(b.min)).getFullYear(),e=(new Date(b.min)).getMonth(),g=(new Date(b.max)).getFullYear(),h=(new Date(b.max)).getMonth(),m;for(m=0;12>m;++m){var k=document.createElement("div");k.textContent=b.locales[b.locale].monthsShort[m];k.__pickmeup_month=m;
k.__pickmeup_year=c;b.min&&(c<d||m<e&&c===d)||b.max&&(c>g||m>h&&c>=g)?l(k,"pmu-disabled"):t(c,m)&&l(k,"pmu-selected");a.push(k)}n.appendChild(b.instance_content_template(a,"pmu-months"))})();(function(){var a=[],c=f.getMonth(),d=x(new Date).valueOf(),e;(function(){f.setDate(1);var a=(f.getDay()-b.first_day)%7;A(f,-(a+(0>a?7:0)))})();for(e=0;42>e;++e){var g=document.createElement("div");g.textContent=f.getDate();g.__pickmeup_day=f.getDate();g.__pickmeup_month=f.getMonth();g.__pickmeup_year=f.getFullYear();
c!==f.getMonth()&&l(g,"pmu-not-in-month");0===f.getDay()?l(g,"pmu-sunday"):6===f.getDay()&&l(g,"pmu-saturday");var h=b.render(new Date(f))||{};var m=x(new Date(f)).valueOf();var k=b.min&&b.min>f||b.max&&b.max<f;var v=b.date.valueOf()===m||b.date instanceof Array&&b.date.reduce(function(a,b){return a||m===b.valueOf()},!1)||"range"===b.mode&&m>=b.date[0]&&m<=b.date[1];h.disabled||!("disabled"in h)&&k?l(g,"pmu-disabled"):(h.selected||!("selected"in h)&&v)&&l(g,"pmu-selected");m===d&&l(g,"pmu-today");
h.class_name&&h.class_name.split(" ").forEach(l.bind(g,g));a.push(g);A(f,1)}n.appendChild(b.instance_content_template(a,"pmu-days"))})()}g.setDate(1);r.setDate(1);p(r,1);A(r,-1);d=c.querySelector(".pmu-prev");c=c.querySelector(".pmu-next");d&&(d.style.visibility=b.min&&b.min>=g?"hidden":"visible");c&&(c.style.visibility=b.max&&b.max<=r?"hidden":"visible");C(a,"fill")}function t(a,c){var b=c.format,d=c.separator,e=c.locales[c.locale];if(a instanceof Date||"number"===typeof a)return x(new Date(a));
if(!a)return x(new Date);if(a instanceof Array){a=a.slice();for(b=0;b<a.length;++b)a[b]=t(a[b],c);return a}d=a.split(d);if(1<d.length)return d.forEach(function(a,b,d){d[b]=t(a.trim(),c)}),d;d=[].concat(e.daysShort,e.daysMin,e.days,e.monthsShort,e.months);d=d.map(function(a){return"("+a+")"});d=new RegExp("[^0-9a-zA-Z"+d.join("")+"]+");a=a.split(d);d=b.split(d);var h=new Date;for(b=0;b<a.length;b++)switch(d[b]){case "b":var m=e.monthsShort.indexOf(a[b]);break;case "B":m=e.months.indexOf(a[b]);break;
case "d":case "e":var l=parseInt(a[b],10);break;case "m":m=parseInt(a[b],10)-1;break;case "Y":case "y":var k=parseInt(a[b],10);k+=100<k?0:29>k?2E3:1900;break;case "H":case "I":case "k":case "l":var f=parseInt(a[b],10);break;case "P":case "p":/pm/i.test(a[b])&&12>f?f+=12:/am/i.test(a[b])&&12<=f&&(f-=12);break;case "M":var n=parseInt(a[b],10)}e=new Date(void 0===k?h.getFullYear():k,void 0===m?h.getMonth():m,void 0===l?h.getDate():l,void 0===f?h.getHours():f,void 0===n?h.getMinutes():n,0);isNaN(1*e)&&
(e=new Date);return x(e)}function x(a){a.setHours(0,0,0,0);return a}function D(a,c,b){var d=a.getMonth(),e=a.getDate(),h=a.getFullYear(),m=a.getDay(),k=a.getHours(),l=12<=k,f=l?k-12:k;var n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var p=new Date(a.getFullYear(),0,0,0,0,0);n=Math.floor((n-p)/864E5);0===f&&(f=12);p=a.getMinutes();var r=a.getSeconds();c=c.split("");for(var g,q=0;q<c.length;q++){g=c[q];switch(g){case "a":g=b.daysShort[m];break;case "A":g=b.days[m];break;case "b":g=b.monthsShort[d];
break;case "B":g=b.months[d];break;case "C":g=1+Math.floor(h/100);break;case "d":g=10>e?"0"+e:e;break;case "e":g=e;break;case "H":g=10>k?"0"+k:k;break;case "I":g=10>f?"0"+f:f;break;case "j":g=100>n?10>n?"00"+n:"0"+n:n;break;case "k":g=k;break;case "l":g=f;break;case "m":g=9>d?"0"+(1+d):1+d;break;case "M":g=10>p?"0"+p:p;break;case "p":case "P":g=l?"PM":"AM";break;case "s":g=Math.floor(a.getTime()/1E3);break;case "S":g=10>r?"0"+r:r;break;case "u":g=m+1;break;case "w":g=m;break;case "y":g=(""+h).substr(2,
2);break;case "Y":g=h}c[q]=g}return c.join("")}function O(a,c){var b=a.__pickmeup.options,d;x(c);a:switch(b.mode){case "multiple":var e=c.valueOf();for(d=0;d<b.date.length;++d)if(b.date[d].valueOf()===e){b.date.splice(d,1);break a}b.date.push(c);break;case "range":b.lastSel||(b.date[0]=c);c<=b.date[0]?(b.date[1]=b.date[0],b.date[0]=c):b.date[1]=c;b.lastSel=!b.lastSel;break;default:b.date=c.valueOf()}c=H(b);B(a,"input")&&(a.value="single"===b.mode?c.formatted_date:c.formatted_date.join(b.separator));
C(a,"change",c);b.flat||!b.hide_on_select||"range"===b.mode&&b.lastSel||b.bound.hide()}function P(a,c){var b=c.target;k(b,"pmu-button")||(b=J(b,".pmu-button"));if(!k(b,"pmu-button")||k(b,"pmu-disabled"))return!1;c.preventDefault();c.stopPropagation();a=a.__pickmeup.options;var d=J(b,".pmu-instance");c=d.parentElement;d=Array.prototype.slice.call(c.querySelectorAll(".pmu-instance")).indexOf(d);B(b.parentElement,"nav")?k(b,"pmu-month")?(p(a.current,d-Math.floor(a.calendars/2)),k(c,"pmu-view-years")?
(a.current="single"!==a.mode?new Date(a.date[a.date.length-1]):new Date(a.date),a.select_day?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-days")):a.select_month&&(c.classList.remove("pmu-view-years"),l(c,"pmu-view-months"))):k(c,"pmu-view-months")?a.select_year?(c.classList.remove("pmu-view-months"),l(c,"pmu-view-years")):a.select_day&&(c.classList.remove("pmu-view-months"),l(c,"pmu-view-days")):k(c,"pmu-view-days")&&(a.select_month?(c.classList.remove("pmu-view-days"),l(c,"pmu-view-months")):
a.select_year&&(c.classList.remove("pmu-view-days"),l(c,"pmu-view-years")))):k(b,"pmu-prev")?a.bound.prev(!1):a.bound.next(!1):k(c,"pmu-view-years")?(a.current.setFullYear(b.__pickmeup_year),a.select_month?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-months")):a.select_day?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-days")):a.bound.update_date(a.current)):k(c,"pmu-view-months")?(a.current.setMonth(b.__pickmeup_month),a.current.setFullYear(b.__pickmeup_year),a.select_day?(c.classList.remove("pmu-view-months"),
l(c,"pmu-view-days")):a.bound.update_date(a.current),p(a.current,Math.floor(a.calendars/2)-d)):(c=new Date(a.current),c.setYear(b.__pickmeup_year),c.setMonth(b.__pickmeup_month),c.setDate(b.__pickmeup_day),a.bound.update_date(c));a.bound.fill();return!0}function H(a){if("single"===a.mode){var c=new Date(a.date);return{formatted_date:D(c,a.format,a.locales[a.locale]),date:c}}c={formatted_date:[],date:[]};a.date.forEach(function(b){b=new Date(b);c.formatted_date.push(D(b,a.format,a.locales[a.locale]));
c.date.push(b)});return c}function I(a,c){var b=a.__pickmeup.element;if(c||k(b,"pmu-hidden")){var d=a.__pickmeup.options,e=M(a),h=window.pageXOffset,m=window.pageYOffset,l=document.documentElement.clientWidth,p=document.documentElement.clientHeight,f=e.top,n=e.left;d.bound.fill();B(a,"input")&&((c=a.value)&&d.bound.set_date(c),q(a,a,"keydown",function(a){9===a.which&&d.bound.hide()}),d.lastSel=!1);if(C(a,"show")&&!d.flat){b.classList.remove("pmu-hidden");if(d.position instanceof Function)e=d.position.call(a),
n=e.left,f=e.top;else{switch(d.position){case "top":f-=b.offsetHeight;break;case "left":n-=b.offsetWidth;break;case "right":n+=a.offsetWidth;break;case "bottom":f+=a.offsetHeight}f+b.offsetHeight>m+p&&(f=e.top-b.offsetHeight);f<m&&(f=e.top+a.offsetHeight);n+b.offsetWidth>h+l&&(n=e.left-b.offsetWidth);n<h&&(n=e.left+a.offsetWidth);n+="px";f+="px"}b.style.left=n;b.style.top=f;setTimeout(function(){q(a,document.documentElement,"click",d.bound.hide);q(a,window,"resize",d.bound.forced_show)})}}}function Q(a,
c){var b=a.__pickmeup.element,d=a.__pickmeup.options;c&&c.target&&(c.target===a||b.compareDocumentPosition(c.target)&16)||!C(a,"hide")||(l(b,"pmu-hidden"),z(a,document.documentElement,"click",d.bound.hide),z(a,window,"resize",d.bound.forced_show),d.lastSel=!1)}function R(a){var c=a.__pickmeup.options;z(a,document.documentElement,"click",c.bound.hide);z(a,window,"resize",c.bound.forced_show);c.bound.forced_show()}function S(a){a=a.__pickmeup.options;"single"!==a.mode&&(a.date=[],a.lastSel=!1,a.bound.fill())}
function T(a,c){"undefined"==typeof c&&(c=!0);var b=a.__pickmeup.element;a=a.__pickmeup.options;k(b,"pmu-view-years")?u(a.current,-12):k(b,"pmu-view-months")?u(a.current,-1):k(b,"pmu-view-days")&&p(a.current,-1);c&&a.bound.fill()}function U(a,c){"undefined"==typeof c&&(c=!0);var b=a.__pickmeup.element;a=a.__pickmeup.options;k(b,"pmu-view-years")?u(a.current,12):k(b,"pmu-view-months")?u(a.current,1):k(b,"pmu-view-days")&&p(a.current,1);c&&a.bound.fill()}function V(a,c){var b=a.__pickmeup.options;a=
H(b);return"string"===typeof c?(a=a.date,a instanceof Date?D(a,c,b.locales[b.locale]):a.map(function(a){return D(a,c,b.locales[b.locale])})):a[c?"formatted_date":"date"]}function W(a,c,b){var d=a.__pickmeup.options;if(!(c instanceof Array)||0<c.length)if(d.date=t(c,d),"single"!==d.mode)for(d.date instanceof Array?(d.date[0]=d.date[0]||t(new Date,d),"range"===d.mode&&(d.date[1]=d.date[1]||t(d.date[0],d))):(d.date=[d.date],"range"===d.mode&&d.date.push(t(d.date[0],d))),c=0;c<d.date.length;++c)d.date[c]=
L(d.date[c],d.min,d.max);else d.date instanceof Array&&(d.date=d.date[0]),d.date=L(d.date,d.min,d.max);else d.date=[];if(!d.select_day)if(d.date instanceof Array)for(c=0;c<d.date.length;++c)d.date[c].setDate(1);else d.date.setDate(1);if("multiple"===d.mode)for(c=0;c<d.date.length;++c)d.date.indexOf(d.date[c])!==c&&(d.date.splice(c,1),--c);b?d.current=t(b,d):(b="single"===d.mode?d.date:d.date[d.date.length-1],d.current=b?new Date(b):new Date);d.current.setDate(1);d.bound.fill();B(a,"input")&&!1!==
d.default_date&&(b=H(d),c=a.value,d="single"===d.mode?b.formatted_date:b.formatted_date.join(d.separator),c||C(a,"change",b),c!==d&&(a.value=d))}function X(a){var c=a.__pickmeup.element;z(a);y(c);delete a.__pickmeup}function L(a,c,b){return c&&c>a?new Date(c):b&&b<a?new Date(b):a}function E(a,c){"string"==typeof a&&(a=document.querySelector(a));if(!a)return null;if(!a.__pickmeup){var b,d={};c=c||{};for(b in E.defaults)d[b]=b in c?c[b]:E.defaults[b];for(b in d)c=a.getAttribute("data-pmu-"+b),null!==
c&&(d[b]=c);"days"!==d.view||d.select_day||(d.view="months");"months"!==d.view||d.select_month||(d.view="years");"years"!==d.view||d.select_year||(d.view="days");"days"!==d.view||d.select_day||(d.view="months");d.calendars=Math.max(1,parseInt(d.calendars,10)||1);d.mode=/single|multiple|range/.test(d.mode)?d.mode:"single";d.min&&(d.min=t(d.min,d),d.select_day||d.min.setDate(1));d.max&&(d.max=t(d.max,d),d.select_day||d.max.setDate(1));c=document.createElement("div");a.__pickmeup={options:d,events:[],
element:c};c.__pickmeup_target=a;l(c,"pickmeup");d.class_name&&l(c,d.class_name);d.bound={fill:N.bind(a,a),update_date:O.bind(a,a),click:P.bind(a,a),show:I.bind(a,a),forced_show:I.bind(a,a,!0),hide:Q.bind(a,a),update:R.bind(a,a),clear:S.bind(a,a),prev:T.bind(a,a),next:U.bind(a,a),get_date:V.bind(a,a),set_date:W.bind(a,a),destroy:X.bind(a,a)};l(c,"pmu-view-"+d.view);var e=d.instance_template(d),h="";for(b=0;b<d.calendars;++b)h+=e;c.innerHTML=h;q(a,c,"click",d.bound.click);q(a,c,"onselectstart"in Element.prototype?
"selectstart":"mousedown",function(a){a.preventDefault()});d.flat?(l(c,"pmu-flat"),a.appendChild(c)):(l(c,"pmu-hidden"),document.body.appendChild(c),q(a,a,"click",I.bind(a,a,!1)),q(a,a,"input",d.bound.update),q(a,a,"change",d.bound.update));d.bound.set_date(d.date,d.current)}d=a.__pickmeup.options;return{hide:d.bound.hide,show:d.bound.show,clear:d.bound.clear,update:d.bound.update,prev:d.bound.prev,next:d.bound.next,get_date:d.bound.get_date,set_date:d.bound.set_date,destroy:d.bound.destroy}}E.defaults=
{current:null,date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},locale:"en",locales:{en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),
months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},instance_template:function(a){var c=a.locales[a.locale].daysMin.slice();a.first_day&&c.push(c.shift());return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+a.prev+'</div><div class="pmu-month pmu-button"></div><div class="pmu-next pmu-button">'+a.next+'</div></nav><nav class="pmu-day-of-week"><div>'+
c.join("</div><div>")+"</div></nav></div>"},instance_content_template:function(a,c){var b=document.createElement("div");l(b,c);for(c=0;c<a.length;++c)l(a[c],"pmu-button"),b.appendChild(a[c]);return b}};return E});

/**
 * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
 * License: MIT - http://mrgnrdrck.mit-license.org
 *
 * https://github.com/mroderick/PubSubJS
 */
!function(n,t){"use strict";var r={};n.PubSub=r;var e=n.define;!function(n){var t={},r=-1;function e(n){var t;for(t in n)if(n.hasOwnProperty(t))return!0;return!1}function o(n,t,r){try{n(t,r)}catch(n){setTimeout(function(n){return function(){throw n}}(n),0)}}function i(n,t,r){n(t,r)}function u(n,r,e,u){var f,s=t[r],c=u?i:o;if(t.hasOwnProperty(r))for(f in s)s.hasOwnProperty(f)&&c(s[f],n,e)}function f(n,r,o,i){var f=function(n,t,r){return function(){var e=String(n),o=e.lastIndexOf(".");for(u(n,n,t,r);-1!==o;)e=e.substr(0,o),o=e.lastIndexOf("."),u(n,e,t,r)}}(n="symbol"==typeof n?n.toString():n,r,i),s=function(n){var r=String(n),o=Boolean(t.hasOwnProperty(r)&&e(t[r])),i=r.lastIndexOf(".");for(;!o&&-1!==i;)r=r.substr(0,i),i=r.lastIndexOf("."),o=Boolean(t.hasOwnProperty(r)&&e(t[r]));return o}(n);return!!s&&(!0===o?f():setTimeout(f,0),!0)}n.publish=function(t,r){return f(t,r,!1,n.immediateExceptions)},n.publishSync=function(t,r){return f(t,r,!0,n.immediateExceptions)},n.subscribe=function(n,e){if("function"!=typeof e)return!1;n="symbol"==typeof n?n.toString():n,t.hasOwnProperty(n)||(t[n]={});var o="uid_"+String(++r);return t[n][o]=e,o},n.subscribeOnce=function(t,r){var e=n.subscribe(t,function(){n.unsubscribe(e),r.apply(this,arguments)});return n},n.clearAllSubscriptions=function(){t={}},n.clearSubscriptions=function(n){var r;for(r in t)t.hasOwnProperty(r)&&0===r.indexOf(n)&&delete t[r]},n.unsubscribe=function(r){var e,o,i,u="string"==typeof r&&(t.hasOwnProperty(r)||function(n){var r;for(r in t)if(t.hasOwnProperty(r)&&0===r.indexOf(n))return!0;return!1}(r)),f=!u&&"string"==typeof r,s="function"==typeof r,c=!1;if(!u){for(e in t)if(t.hasOwnProperty(e)){if(o=t[e],f&&o[r]){delete o[r],c=r;break}if(s)for(i in o)o.hasOwnProperty(i)&&o[i]===r&&(delete o[i],c=!0)}return c}n.clearSubscriptions(r)}}(r),"function"==typeof e&&e.amd?e(function(){return r}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=r),exports.PubSub=r,module.exports=exports=r)}("object"==typeof window&&window||this);
/*! UTF-8

 kovrigin
  
     

https://github.com/htmlpluscss/

*/

( () => {

	window.INTI = {};
	INTI.resizeTimeout = null;
	INTI.windowWidthOLd = window.innerWidth;

	window.addEventListener("resize", () => {

		window.requestAnimationFrame(() => {

			if (!INTI.resizeTimeout) {

				INTI.resizeTimeout = setTimeout(() =>  {

					INTI.resizeTimeout = null;

					if(INTI.windowWidthOLd !== window.innerWidth) {

						INTI.windowWidthOLd = window.innerWidth;

						PubSub.publish('windowWidthResize');

					}

				}, 100);

			}

		});

	});

	window.addEventListener("scroll", () => {

		window.requestAnimationFrame(() => {

			PubSub.publish('windowScroll');

		});

	});

	window.addEventListener("DOMContentLoaded", () => {

		PubSub.publish('DOMContentLoaded');

	});

	window.addEventListener("load", () => {

		PubSub.publish('pageLoad');

	});

	//  
	INTI.cssAnimation = a=>{let b,c,d=document.createElement("cssanimation");switch(a){case'animation':b={"animation":"animationend","OAnimation":"oAnimationEnd","MozAnimation":"animationend","WebkitAnimation":"webkitAnimationEnd"};break;case'transition':b={"transition":"transitionend","OTransition":"oTransitionEnd","MozTransition":"transitionend","WebkitTransition":"webkitTransitionEnd"}}for(c in b)if(d.style[c]!==undefined)return b[c]}

	// Determine if an element is in the visible viewport
	INTI.isInViewport = el => {
		const rect = el.getBoundingClientRect();
		return (rect.top >= 0 && rect.bottom <= window.innerHeight);
	}

})();
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, accordion => {

		let animateOn = false;

		const btns = accordion.querySelectorAll('.accordion__btn');

		Array.from(btns, btn => {

			const item = btn.closest('.accordion__item'),
				  head = item.querySelector('.accordion__head'),
				  body = item.querySelector('.accordion__body');

			btn.addEventListener('click', () => {

				animateOn = true;

				item.classList.toggle('accordion__item--open');

			});

			body.addEventListener(INTI.cssAnimation('transition'), () => {

				if(animateOn && !INTI.isInViewport(head)){

					head.scrollIntoView({ behavior: 'smooth' });

				}

				animateOn = false;

			});

		});

	});

})(document.querySelectorAll('.accordion'));
( select => {

	if(!select) {

		return;

	}

	select.addEventListener("change", () => {

		if(select.value === 'shipping') {

			const eventModalShow = new CustomEvent("modalShow", {
				detail: {
					selector: "delivery-inti"
				}
			});

			window.modal.dispatchEvent(eventModalShow);

		}

	});

})(document.querySelector('.certification-delivery-select'));
( form => {

	if(!form) {

		return;

	}

	const input = form.querySelectorAll('.change-date-time__input');

	Array.from(input, el => el.addEventListener("change", () => {

		form.querySelector('[data-modal="departure-date"]').classList.add('hide');
		form.querySelector('[data-modal="departure-date-change"]').classList.remove('hide');

	}));

})(document.querySelector('.change-date-time'));
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, form => {

		const formEnabled = () => {

			form.removeEventListener("input", formEnabled);

			Array.from(form.querySelectorAll('.company-form__disabled'), el => el.disabled = false);

		};

		form.addEventListener("input", formEnabled);

		//  
		form.addEventListener('submit', event => {

			event.preventDefault();

			fetch(form.getAttribute('action'), {
				method: 'POST',
				body: new FormData(form)
			});

		});

		// data-radio-toggle
		const btnRadio = form.querySelectorAll('[data-radio-toggle]'),
			  items = form.querySelectorAll('.company-form__radio-toggle-item');

		Array.from(btnRadio, btn =>
			btn.addEventListener("change", () =>
				Array.from(items, el =>
					el.classList.toggle('hide', btn.getAttribute('data-radio-toggle') === 'hide'))));

		// remove
		const btnRemove = form.querySelector('.company-form__remove');

		btnRemove && btnRemove.addEventListener('click', () => {

			const item = btnRemove.closest('.accordion__item');

			item.addEventListener(INTI.cssAnimation('transition'), () => {

				item.remove();
				document.querySelector('.company__add').classList.remove('hide');

			});

			item.classList.remove('accordion__item--open');

			setTimeout( () => {

				item.style.opacity = 0;

			}, 1000);

		});

	});

	// CODE sms
	const formCode = document.querySelector('.company-form--code');

	//   code
	formCode.addEventListener('submit', event => {

		event.preventDefault();

		fetch(formCode.getAttribute('action'), {
			method: 'POST',
			body: new FormData(formCode)
		});

		// state sms 

		formCode.querySelector('[name="send-code"]').value = 1;

		Array.from(formCode.querySelectorAll('.company-form__code-hide'), el => el.classList.add('hide'));
		Array.from(formCode.querySelectorAll('.company-form__code-show'), el => el.classList.remove('hide'));

	});

	// reset  code
	formCode.addEventListener('reset', event => {

		// state sms 

		formCode.querySelector('[name="send-code"]').value = 0;

		Array.from(formCode.querySelectorAll('.company-form__code-hide'), el => el.classList.remove('hide'));
		Array.from(formCode.querySelectorAll('.company-form__code-show'), el => el.classList.add('hide'));

	});

})(document.querySelectorAll('.company-form'));
( items => {

	if(!items.length) {

		return;

	}

	const handler = (el, clone = el.cloneNode(true)) => {

		const btn = el.querySelector('.file-input__btn'),
			  input = el.querySelector('input[type="file"]');

		let group = el.closest('.file-input-group');

		input.addEventListener("change", event => {

			btn.textContent = input.value;
			btn.classList.add('btn--light');
			btn.classList.remove('btn--silver');

			if(group) {

				const _clone = clone.cloneNode(true);

				group.appendChild(_clone);

				_clone.querySelector('input[type="file"]').setAttribute('name', _clone.querySelector('input[type="file"]').getAttribute('name') + '-' + group.querySelectorAll('.file-input').length);

				handler(_clone, clone);

				group = null;

			}

		});

	};

	Array.from(items, el => handler(el));

})(document.querySelectorAll('.file-input'));
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, form => {

		const item = form.querySelectorAll('.form-required__item'),
			  submit = form.querySelector('.form-required__submit');

		form.addEventListener("change", () => {

			let falid = true;

			Array.from(item, el => {

				if(el.value === 'none') {

					falid = false;

				}

			});

			if(falid) {

				submit.disabled = false;

			}

		});

	});

})(document.querySelectorAll('.form-required'));
( elems => {

	if(!elems.length) {

		return;

	}

	Array.from(elems, el => {

		let maskInput;

		const placeholder = el.getAttribute('placeholder') ? el.getAttribute('placeholder') : null;

		if(el.classList.contains('inputmask--phone')) {

			maskInput = new Inputmask({
				mask: "+7 999 999 99 99",
				showMaskOnHover: false,
				placeholder: placeholder ? placeholder : "+7 ___ ___ __ __"
			});

		}
		else if(el.classList.contains('inputmask--date')) {

			maskInput = new Inputmask({
				alias: "datetime",
				showMaskOnHover: false,
				inputFormat: "dd/mm/yyyy",
				placeholder: placeholder ? placeholder : "__/__/____"
			});

		}
		else if(el.classList.contains('inputmask--time')) {

			maskInput = new Inputmask({
				mask: "99:99",
				showMaskOnHover: false,
				placeholder: placeholder ? placeholder : "__:__"
			});

		}

		maskInput.mask(el);

	});

})(document.querySelectorAll('.inputmask'));
( form => {

	if(!form) {

		return;

	}

	const btn = form.querySelector('.modal-date-canceled__btn-show'),
		  block = form.querySelector('.modal-date-canceled__box-date-time'),
		  input = form.querySelectorAll('.modal-date-canceled__input');

	btn.addEventListener("click", () =>
		block.classList.remove('hide'));

	Array.from(input, el =>
		el.addEventListener("change", () =>
			form.setAttribute('action', form.getAttribute('data-action-change'))));

})(document.querySelector('.modal-date-canceled'));
( modal => {

	if(!modal) {

		return;

	}

	const items = modal.querySelectorAll('.modal__item'),
		  btns = document.querySelectorAll('[data-modal]'),
		  wrapper = document.querySelector('.wrapper');

	let activeModal = null,
		windowScroll = window.pageYOffset;

	modal.addEventListener('hide', () => {

		document.body.classList.remove('modal-show');
		wrapper.style.top = 0;
		window.scrollTo(0,windowScroll);
		activeModal = false;

	});

	const modalShow = selector => {

		if(!activeModal){

			windowScroll = window.pageYOffset;

		}

		activeModal = modal.querySelector('.modal__item--' + selector);

		Array.from(items, el => el.classList.toggle('visuallyhidden', el !== activeModal));

		wrapper.style.top = -windowScroll + 'px';
		document.body.classList.add('modal-show');
		window.scrollTo(0,0);

		activeModal.focus();

	};

	modal.addEventListener('click', event => {

		if(event.target.classList.contains('modal') || event.target.closest('.modal__close')){

			modal.dispatchEvent(new CustomEvent("hide"));

		}

	});

	Array.from(btns, btn =>
		btn.addEventListener('click', () =>
			modalShow(btn.getAttribute('data-modal'))));

	modal.addEventListener('modalShow', event => modalShow(event.detail.selector));

})(document.querySelector('.modal'));
( items => {

	if(!items.length) {

		return;

	}

	pickmeup.defaults.locales['ru'] = {
		days: ['', '', '', '', '', '', ''],
		daysShort: ['', '', '', '', '', '', ''],
		daysMin: ['', '', '', '', '', '', ''],
		months: ['', '', '', '', '', '', '', '', '', '', '', ''],
		monthsShort: ['', '', '', '', '', '', '', '', '', '', '', '']
	};

	Array.from(items, el => {

		let btnInput,
			inputFocus = false;

		const btn = el.querySelector('.input-date__btn'),
			  input = el.querySelector('.input-date__input');

		btnInput = pickmeup(btn, {

			position: () => {

				const rect = el.getBoundingClientRect(),
					  top = window.pageYOffset + rect.bottom + 'px';
					  left = rect.left + 'px';

				return {top: top, left: left}

			},
			date: input.value,
			hide_on_select : true,
			title_format: 'B Y',
			format: 'd/m/Y',
			locale: 'ru',
			prev: '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M9 11l4.6-4.6A.99.99 0 1115 7.8l-3.9 3.9 3.9 3.9a.99.99 0 01-1.4 1.4L9 12.41A1 1 0 019 11z"/></svg>',
			next: '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M15 11a1 1 0 010 1.4L10.4 17A.99.99 0 019 15.6l3.9-3.9L9 7.8a.99.99 0 011.4-1.4L15 11z"/></svg>'

		});

		btn.addEventListener('pickmeup-change', () => {

			input.blur();

			if(input.value !== btnInput.get_date(true)){

				input.value = btnInput.get_date(true);
				input.dispatchEvent(new CustomEvent("change"));

			}

		});

		btn.addEventListener('pickmeup-hide', event => {

			if(inputFocus) {

				event.preventDefault();

			}

		});

		input.addEventListener('keydown', event => {

			if(event.keyCode === 13 || event.keyCode === 27) {

				input.blur();
				btnInput.hide();

			}

		});

		input.addEventListener('focus', () => {

			inputFocus = true;

			btnInput.show();

		});

		input.addEventListener('blur', () => {

			inputFocus = false;

		});

		input.addEventListener('input', () => {

			btnInput.show();
			btnInput.set_date(input.value);

		});

	});

})(document.querySelectorAll('.input-date'));
( selects => {

	if(!selects.length) {

		return;

	}

	const CustomEventChange = new CustomEvent("change", {
		detail: {
			hazcheeseburger: true
		}
	});

	Array.from(selects, select => {

		if(select.querySelector('.select__list')) {

			return;

		}

		const value = document.createElement('div'),
			  arrow = document.createElement('span');

		arrow.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M8.3 10.3a1 1 0 000 1.41l2.93 2.97c.22.21.5.32.78.32s.56-.1.77-.32l2.93-2.96a1.01 1.01 0 00-.32-1.63.99.99 0 00-1.09.21L12 12.62l-2.3-2.33a1 1 0 00-1.4 0z"/></svg>';

		value.className = 'select__value';
		value.innerHTML = '<span class="select__value-inner"></span>';

		value.appendChild(arrow);
		select.appendChild(value);

		const form = select.closest('form'),
			control = select.querySelector('select'),
			option = select.querySelectorAll('option'),
			selected = select.querySelector('option[selected]'),
			valueText = select.querySelector('.select__value-inner'),
			list = document.createElement('div');

		list.className = 'select__list';

		control.addEventListener("change", () => {

			valueText.textContent = control.querySelector('[value="' + control.value + '"]').textContent;

			select.classList.remove('select--default');

		});

		if(control.disabled){

			select.classList.add('select--disabled');

		}

		if(control.value === 'none'){

			select.classList.add('select--default');

		}

		valueText.textContent = select.querySelector('option[value="' + control.value + '"]').textContent;

		Array.from(option, el => {

			const o = document.createElement('button');

			o.className = 'button select__list-item';

			o.setAttribute('type', 'button');
			o.setAttribute('value', el.getAttribute('value'));

			o.textContent = el.textContent;

			list.appendChild(o);

		});

		select.addEventListener("click", event => {

			if(event.target.classList.contains('select__list-item')){

				control.value = event.target.getAttribute('value');

				control.dispatchEvent(CustomEventChange);

				if(form) {

					form.dispatchEvent(CustomEventChange);

				}

			}

		});

		select.appendChild(list);

	});

	window.addEventListener("click", event => {

		const isSelect = event.target.closest('.select');

		Array.from(selects, select => {

			select.classList.toggle('select--open', select === isSelect && !isSelect.classList.contains('select--open'));

		});

	});

})(document.querySelectorAll('.select'));
( tabs => {

	if(!tabs.length) {

		return;

	}

	//  hash
	const hash = location.hash;

	const btnHash = (btns,items) => {

		Array.from(btns, (_btn, index) => setActive(_btn, items[index], _btn.href === location.href));

	};

	const setActive = (btn, item, toggle) => {

		btn.classList.toggle('is-active', toggle);
		item.classList.toggle('is-active', toggle);

	}

	Array.from(tabs, tab => {

		const btns = tab.querySelectorAll('.tabs__btn'),
			  items = tab.querySelectorAll('.tabs__item');

		Array.from(btns, btn =>
			btn.addEventListener('click', event =>
				Array.from(btns, (_btn, index) =>
					setActive(_btn, items[index], _btn === btn))));

		if(hash) {

			btnHash(btns,items);

		}

		window.addEventListener('hashchange', () => btnHash(btns,items));

	});

})(document.querySelectorAll('.tabs'));
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, el => {

		const btn = el.querySelector('.input-time__btn'),
			  input = el.querySelector('.input-time__input'),
			  datalist = el.querySelector('.input-time__datalist');

		Array.from(datalist.querySelectorAll('[data-value]'), el => {

			el.addEventListener('click', event => {

				event.preventDefault();
				el.classList.remove('input-time--open');

				if(input.value !== el.getAttribute('data-value')){

					input.value = el.getAttribute('data-value');
					input.dispatchEvent(new CustomEvent("change"));

				}

			});

		});

		input.addEventListener('keydown', event => {

			if(event.keyCode === 13 || event.keyCode === 27) {

				input.blur();
				el.classList.remove('input-time--open');

			}

		});

	});

	window.addEventListener("click", event => {

		const isInputTime = event.target.closest('.input-time');

		Array.from(items, el => {

			el.classList.toggle('input-time--open', el === isInputTime && !isInputTime.classList.contains('input-time--open'));

		});

	});

})(document.querySelectorAll('.input-time'));
( tooltips => {

	if(tooltips.length){

		Array.from(tooltips, tooltip => {

			const title = document.createElement('span');

			title.className = 'tooltip-title__inner';

			title.textContent = tooltip.getAttribute('title');
			tooltip.appendChild(title);
			tooltip.removeAttribute('title');

		});

	}

})(document.querySelectorAll('.tooltip-title'));

( tooltips => {

	if(tooltips.length){

		const ico = document.createElement('span'),
			  icoChat = document.createElement('span');

		ico.innerHTML = '<svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 12a8 8 0 11-16 0 8 8 0 0116 0zm-5.74-3.87a3.18 3.18 0 01.56 3.78c-.38.7-1 1.22-1.74 1.49a.4.4 0 00-.28.38v.62a.8.8 0 01-1.6 0V12.8A.8.8 0 0112 12c.88 0 1.6-.72 1.6-1.6a1.6 1.6 0 00-3.2 0 .8.8 0 01-1.59.08l-.01-.12c.01-2 1.86-3.55 3.95-3.07.57.13 1.1.42 1.51.84zM12.8 16.8a.8.8 0 11-1.6 0 .8.8 0 011.6 0z"/></svg>';

		icoChat.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M15 16h4V6H5v10h7.33L15 18v-2zm2 2v2a1 1 0 01-1.6.8L11.67 18H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2h-2z"/><path d="M7 10h10V8H7v2zm0 4h6v-2H7v2z"/></svg>';

		let observer = new MutationObserver(mutationRecords => {

			const t = mutationRecords[0].target,
				  rect = t.getBoundingClientRect();

			console.log(rect.left > window.innerWidth - rect.right);
/*
			if(t.open) {

				const inner = t.querySelector('.ask__inner');

				if(rect.left > window.innerWidth - rect.right) {

					// 

					inner.style.left = 'auto';
					inner.style.right = 0;
					inner.style.width = rect.left + 'px';

				}
				else {

					// 

					inner.style.right = 'auto';
					inner.style.left = 0;
					inner.style.width = window.innerWidth - rect.right + 'px';

				}

			}

*/		});

		Array.from(tooltips, tooltip => {

			const btn = tooltip.querySelector('.tooltip-help__btn');

			if(tooltip.classList.contains('tooltip-help--chat')) {

				btn.appendChild(icoChat.cloneNode(true));

			}
			else {

				btn.appendChild(ico.cloneNode(true));

			}

			observer.observe(tooltip, {

				attributes : true

			});

		});

		window.addEventListener("click", event => {

			const target = event.target.closest('.tooltip-help');

			Array.from(tooltips, tooltip => {

				if(target !== tooltip) {

					tooltip.open = false;

				}

			});

		});

	}

})(document.querySelectorAll('.tooltip-help'));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0bWFzay5taW4uanMiLCJqcy5jb29raWUubWluLmpzIiwicGlja21ldXAubWluLmpzIiwicHVic3ViLm1pbi5qcyIsImpzLmpzIiwiYWNjb3JkaW9uLmpzIiwiY2VydGlmaWNhdGlvbi1kZWxpdmVyeS1zZWxlY3QuanMiLCJjaGFuZ2UtZGF0ZS10aW1lLmpzIiwiY29tcGFueS1mb3JtLmpzIiwiZmlsZS1pbnB1dC5qcyIsImZvcm0tcmVxdWlyZWQuanMiLCJtYXNrLmpzIiwibW9kYWwtZGF0ZS1jYW5jZWxlZC5qcyIsIm1vZGFsLmpzIiwicGlja21ldXAuanMiLCJzZWxlY3QuanMiLCJ0YWJzLmpzIiwidGltZS5qcyIsInRvb2x0aXAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1BBO0FBQ0E7QUFDQTtBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibGsuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGRpc3QvaW5wdXRtYXNrLm1pblxuICogaHR0cHM6Ly9naXRodWIuY29tL1JvYmluSGVyYm90cy9JbnB1dG1hc2tcbiAqIENvcHlyaWdodCAoYykgMjAxMCAtIDIwMjEgUm9iaW4gSGVyYm90c1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBWZXJzaW9uOiA1LjAuNi1iZXRhLjI5XG4gKi9cbiFmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LGZhY3Rvcnkpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZmFjdG9yeSk7ZWxzZXt2YXIgYT1mYWN0b3J5KCk7Zm9yKHZhciBpIGluIGEpKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6cm9vdClbaV09YVtpXX19KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlcz1bZnVuY3Rpb24obW9kdWxlKXttb2R1bGUuZXhwb3J0cz1KU09OLnBhcnNlKCd7XCJCQUNLU1BBQ0VcIjo4LFwiQkFDS1NQQUNFX1NBRkFSSVwiOjEyNyxcIkRFTEVURVwiOjQ2LFwiRE9XTlwiOjQwLFwiRU5EXCI6MzUsXCJFTlRFUlwiOjEzLFwiRVNDQVBFXCI6MjcsXCJIT01FXCI6MzYsXCJJTlNFUlRcIjo0NSxcIkxFRlRcIjozNyxcIlBBR0VfRE9XTlwiOjM0LFwiUEFHRV9VUFwiOjMzLFwiUklHSFRcIjozOSxcIlNQQUNFXCI6MzIsXCJUQUJcIjo5LFwiVVBcIjozOCxcIlhcIjo4OCxcIkNPTlRST0xcIjoxNyxcIktFWV8yMjlcIjoyMjl9Jyl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuY2FyZXQ9Y2FyZXQsZXhwb3J0cy5kZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbj1kZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbixleHBvcnRzLmRldGVybWluZU5ld0NhcmV0UG9zaXRpb249ZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbixleHBvcnRzLmdldEJ1ZmZlcj1nZXRCdWZmZXIsZXhwb3J0cy5nZXRCdWZmZXJUZW1wbGF0ZT1nZXRCdWZmZXJUZW1wbGF0ZSxleHBvcnRzLmdldExhc3RWYWxpZFBvc2l0aW9uPWdldExhc3RWYWxpZFBvc2l0aW9uLGV4cG9ydHMuaXNNYXNrPWlzTWFzayxleHBvcnRzLnJlc2V0TWFza1NldD1yZXNldE1hc2tTZXQsZXhwb3J0cy5zZWVrTmV4dD1zZWVrTmV4dCxleHBvcnRzLnNlZWtQcmV2aW91cz1zZWVrUHJldmlvdXMsZXhwb3J0cy50cmFuc2xhdGVQb3NpdGlvbj10cmFuc2xhdGVQb3NpdGlvbjt2YXIgX3ZhbGlkYXRpb25UZXN0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF92YWxpZGF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNCk7ZnVuY3Rpb24gY2FyZXQoaW5wdXQsYmVnaW4sZW5kLG5vdHJhbnNsYXRlLGlzRGVsZXRlKXt2YXIgaW5wdXRtYXNrPXRoaXMsb3B0cz10aGlzLm9wdHMscmFuZ2U7aWYodm9pZCAwPT09YmVnaW4pcmV0dXJuXCJzZWxlY3Rpb25TdGFydFwiaW4gaW5wdXQmJlwic2VsZWN0aW9uRW5kXCJpbiBpbnB1dD8oYmVnaW49aW5wdXQuc2VsZWN0aW9uU3RhcnQsZW5kPWlucHV0LnNlbGVjdGlvbkVuZCk6d2luZG93LmdldFNlbGVjdGlvbj8ocmFuZ2U9d2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkscmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIucGFyZW50Tm9kZSE9PWlucHV0JiZyYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lciE9PWlucHV0fHwoYmVnaW49cmFuZ2Uuc3RhcnRPZmZzZXQsZW5kPXJhbmdlLmVuZE9mZnNldCkpOmRvY3VtZW50LnNlbGVjdGlvbiYmZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlJiYocmFuZ2U9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksYmVnaW49MC1yYW5nZS5kdXBsaWNhdGUoKS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCksZW5kPWJlZ2luK3JhbmdlLnRleHQubGVuZ3RoKSx7YmVnaW46bm90cmFuc2xhdGU/YmVnaW46dHJhbnNsYXRlUG9zaXRpb24uY2FsbCh0aGlzLGJlZ2luKSxlbmQ6bm90cmFuc2xhdGU/ZW5kOnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwodGhpcyxlbmQpfTtpZihBcnJheS5pc0FycmF5KGJlZ2luKSYmKGVuZD10aGlzLmlzUlRMP2JlZ2luWzBdOmJlZ2luWzFdLGJlZ2luPXRoaXMuaXNSVEw/YmVnaW5bMV06YmVnaW5bMF0pLHZvaWQgMCE9PWJlZ2luLmJlZ2luJiYoZW5kPXRoaXMuaXNSVEw/YmVnaW4uYmVnaW46YmVnaW4uZW5kLGJlZ2luPXRoaXMuaXNSVEw/YmVnaW4uZW5kOmJlZ2luLmJlZ2luKSxcIm51bWJlclwiPT10eXBlb2YgYmVnaW4pe2JlZ2luPW5vdHJhbnNsYXRlP2JlZ2luOnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwodGhpcyxiZWdpbiksZW5kPW5vdHJhbnNsYXRlP2VuZDp0cmFuc2xhdGVQb3NpdGlvbi5jYWxsKHRoaXMsZW5kKSxlbmQ9XCJudW1iZXJcIj09dHlwZW9mIGVuZD9lbmQ6YmVnaW47dmFyIHNjcm9sbENhbGM9cGFyc2VJbnQoKChpbnB1dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fHx3aW5kb3cpLmdldENvbXB1dGVkU3R5bGU/KGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpbnB1dCxudWxsKTppbnB1dC5jdXJyZW50U3R5bGUpLmZvbnRTaXplKSplbmQ7aWYoaW5wdXQuc2Nyb2xsTGVmdD1zY3JvbGxDYWxjPmlucHV0LnNjcm9sbFdpZHRoP3Njcm9sbENhbGM6MCxpbnB1dC5pbnB1dG1hc2suY2FyZXRQb3M9e2JlZ2luOmJlZ2luLGVuZDplbmR9LG9wdHMuaW5zZXJ0TW9kZVZpc3VhbCYmITE9PT1vcHRzLmluc2VydE1vZGUmJmJlZ2luPT09ZW5kJiYoaXNEZWxldGV8fGVuZCsrKSxpbnB1dD09PShpbnB1dC5pbnB1dG1hc2suc2hhZG93Um9vdHx8ZG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQpaWYoXCJzZXRTZWxlY3Rpb25SYW5nZVwiaW4gaW5wdXQpaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UoYmVnaW4sZW5kKTtlbHNlIGlmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe2lmKHJhbmdlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksdm9pZCAwPT09aW5wdXQuZmlyc3RDaGlsZHx8bnVsbD09PWlucHV0LmZpcnN0Q2hpbGQpe3ZhciB0ZXh0Tm9kZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtpbnB1dC5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSl9cmFuZ2Uuc2V0U3RhcnQoaW5wdXQuZmlyc3RDaGlsZCxiZWdpbjxpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoP2JlZ2luOmlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLHJhbmdlLnNldEVuZChpbnB1dC5maXJzdENoaWxkLGVuZDxpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoP2VuZDppbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKSxyYW5nZS5jb2xsYXBzZSghMCk7dmFyIHNlbD13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7c2VsLnJlbW92ZUFsbFJhbmdlcygpLHNlbC5hZGRSYW5nZShyYW5nZSl9ZWxzZSBpbnB1dC5jcmVhdGVUZXh0UmFuZ2UmJihyYW5nZT1pbnB1dC5jcmVhdGVUZXh0UmFuZ2UoKSxyYW5nZS5jb2xsYXBzZSghMCkscmFuZ2UubW92ZUVuZChcImNoYXJhY3RlclwiLGVuZCkscmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsYmVnaW4pLHJhbmdlLnNlbGVjdCgpKX19ZnVuY3Rpb24gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24ocmV0dXJuRGVmaW5pdGlvbil7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LCQ9dGhpcy5kZXBlbmRlbmN5TGliLGJ1ZmZlcj1fdmFsaWRhdGlvblRlc3RzLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHRoaXMsITAsZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzKSwhMCwhMCksYmw9YnVmZmVyLmxlbmd0aCxwb3MsbHZwPWdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcykscG9zaXRpb25zPXt9LGx2VGVzdD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2x2cF0sbmR4SW50bHpyPXZvaWQgMCE9PWx2VGVzdD9sdlRlc3QubG9jYXRvci5zbGljZSgpOnZvaWQgMCx0ZXN0UG9zO2Zvcihwb3M9bHZwKzE7cG9zPGJ1ZmZlci5sZW5ndGg7cG9zKyspdGVzdFBvcz1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMscG9zLG5keEludGx6cixwb3MtMSksbmR4SW50bHpyPXRlc3RQb3MubG9jYXRvci5zbGljZSgpLHBvc2l0aW9uc1twb3NdPSQuZXh0ZW5kKCEwLHt9LHRlc3RQb3MpO3ZhciBsdlRlc3RBbHQ9bHZUZXN0JiZ2b2lkIDAhPT1sdlRlc3QuYWx0ZXJuYXRpb24/bHZUZXN0LmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXTp2b2lkIDA7Zm9yKHBvcz1ibC0xO2x2cDxwb3MmJih0ZXN0UG9zPXBvc2l0aW9uc1twb3NdLCh0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsaXR5fHx0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmdGVzdFBvcy5tYXRjaC5uZXdCbG9ja01hcmtlcnx8bHZUZXN0QWx0JiYobHZUZXN0QWx0IT09cG9zaXRpb25zW3Bvc10ubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dJiYxIT10ZXN0UG9zLm1hdGNoLnN0YXRpY3x8ITA9PT10ZXN0UG9zLm1hdGNoLnN0YXRpYyYmdGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0mJl92YWxpZGF0aW9uLmNoZWNrQWx0ZXJuYXRpb25NYXRjaC5jYWxsKHRoaXMsdGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksbHZUZXN0QWx0LnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpKSYmXCJcIiE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdHMuY2FsbCh0aGlzLHBvcylbMF0uZGVmKSkmJmJ1ZmZlcltwb3NdPT09X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKHRoaXMscG9zLHRlc3RQb3MubWF0Y2gpKTtwb3MtLSlibC0tO3JldHVybiByZXR1cm5EZWZpbml0aW9uP3tsOmJsLGRlZjpwb3NpdGlvbnNbYmxdP3Bvc2l0aW9uc1tibF0ubWF0Y2g6dm9pZCAwfTpibH1mdW5jdGlvbiBkZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uKHNlbGVjdGVkQ2FyZXQsdGFiYmVkKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsb3B0cz10aGlzLm9wdHM7ZnVuY3Rpb24gZG9SYWRpeEZvY3VzKGNsaWNrUG9zKXtpZihcIlwiIT09b3B0cy5yYWRpeFBvaW50JiYwIT09b3B0cy5kaWdpdHMpe3ZhciB2cHM9bWFza3NldC52YWxpZFBvc2l0aW9ucztpZih2b2lkIDA9PT12cHNbY2xpY2tQb3NdfHx2cHNbY2xpY2tQb3NdLmlucHV0PT09X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKGlucHV0bWFzayxjbGlja1Bvcykpe2lmKGNsaWNrUG9zPHNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLC0xKSlyZXR1cm4hMDt2YXIgcmFkaXhQb3M9Z2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5pbmRleE9mKG9wdHMucmFkaXhQb2ludCk7aWYoLTEhPT1yYWRpeFBvcyl7Zm9yKHZhciB2cCBpbiB2cHMpaWYodnBzW3ZwXSYmcmFkaXhQb3M8dnAmJnZwc1t2cF0uaW5wdXQhPT1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwoaW5wdXRtYXNrLHZwKSlyZXR1cm4hMTtyZXR1cm4hMH19fXJldHVybiExfWlmKHRhYmJlZCYmKGlucHV0bWFzay5pc1JUTD9zZWxlY3RlZENhcmV0LmVuZD1zZWxlY3RlZENhcmV0LmJlZ2luOnNlbGVjdGVkQ2FyZXQuYmVnaW49c2VsZWN0ZWRDYXJldC5lbmQpLHNlbGVjdGVkQ2FyZXQuYmVnaW49PT1zZWxlY3RlZENhcmV0LmVuZCl7c3dpdGNoKG9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2spe2Nhc2VcIm5vbmVcIjpicmVhaztjYXNlXCJzZWxlY3RcIjpzZWxlY3RlZENhcmV0PXtiZWdpbjowLGVuZDpnZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmxlbmd0aH07YnJlYWs7Y2FzZVwiaWdub3JlXCI6c2VsZWN0ZWRDYXJldC5lbmQ9c2VsZWN0ZWRDYXJldC5iZWdpbj1zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxnZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzaykpO2JyZWFrO2Nhc2VcInJhZGl4Rm9jdXNcIjppZihkb1JhZGl4Rm9jdXMoc2VsZWN0ZWRDYXJldC5iZWdpbikpe3ZhciByYWRpeFBvcz1nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpO3NlbGVjdGVkQ2FyZXQuZW5kPXNlbGVjdGVkQ2FyZXQuYmVnaW49b3B0cy5udW1lcmljSW5wdXQ/c2Vla05leHQuY2FsbChpbnB1dG1hc2sscmFkaXhQb3MpOnJhZGl4UG9zO2JyZWFrfWRlZmF1bHQ6dmFyIGNsaWNrUG9zaXRpb249c2VsZWN0ZWRDYXJldC5iZWdpbixsdmNsaWNrUG9zaXRpb249Z2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssY2xpY2tQb3NpdGlvbiwhMCksbGFzdFBvc2l0aW9uPXNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLC0xIT09bHZjbGlja1Bvc2l0aW9ufHxpc01hc2suY2FsbChpbnB1dG1hc2ssMCk/bHZjbGlja1Bvc2l0aW9uOi0xKTtpZihjbGlja1Bvc2l0aW9uPD1sYXN0UG9zaXRpb24pc2VsZWN0ZWRDYXJldC5lbmQ9c2VsZWN0ZWRDYXJldC5iZWdpbj1pc01hc2suY2FsbChpbnB1dG1hc2ssY2xpY2tQb3NpdGlvbiwhMSwhMCk/Y2xpY2tQb3NpdGlvbjpzZWVrTmV4dC5jYWxsKGlucHV0bWFzayxjbGlja1Bvc2l0aW9uKTtlbHNle3ZhciBsdnA9bWFza3NldC52YWxpZFBvc2l0aW9uc1tsdmNsaWNrUG9zaXRpb25dLHR0PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdFRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrLGxhc3RQb3NpdGlvbixsdnA/bHZwLm1hdGNoLmxvY2F0b3I6dm9pZCAwLGx2cCkscGxhY2Vob2xkZXI9X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKGlucHV0bWFzayxsYXN0UG9zaXRpb24sdHQubWF0Y2gpO2lmKFwiXCIhPT1wbGFjZWhvbGRlciYmZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKVtsYXN0UG9zaXRpb25dIT09cGxhY2Vob2xkZXImJiEwIT09dHQubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyJiYhMCE9PXR0Lm1hdGNoLm5ld0Jsb2NrTWFya2VyfHwhaXNNYXNrLmNhbGwoaW5wdXRtYXNrLGxhc3RQb3NpdGlvbixvcHRzLmtlZXBTdGF0aWMsITApJiZ0dC5tYXRjaC5kZWY9PT1wbGFjZWhvbGRlcil7dmFyIG5ld1Bvcz1zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxsYXN0UG9zaXRpb24pOyhuZXdQb3M8PWNsaWNrUG9zaXRpb258fGNsaWNrUG9zaXRpb249PT1sYXN0UG9zaXRpb24pJiYobGFzdFBvc2l0aW9uPW5ld1Bvcyl9c2VsZWN0ZWRDYXJldC5lbmQ9c2VsZWN0ZWRDYXJldC5iZWdpbj1sYXN0UG9zaXRpb259fXJldHVybiBzZWxlY3RlZENhcmV0fX1mdW5jdGlvbiBnZXRCdWZmZXIobm9DYWNoZSl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0O3JldHVybiB2b2lkIDAhPT1tYXNrc2V0LmJ1ZmZlciYmITAhPT1ub0NhY2hlfHwobWFza3NldC5idWZmZXI9X3ZhbGlkYXRpb25UZXN0cy5nZXRNYXNrVGVtcGxhdGUuY2FsbCh0aGlzLCEwLGdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyksITApLHZvaWQgMD09PW1hc2tzZXQuX2J1ZmZlciYmKG1hc2tzZXQuX2J1ZmZlcj1tYXNrc2V0LmJ1ZmZlci5zbGljZSgpKSksbWFza3NldC5idWZmZXJ9ZnVuY3Rpb24gZ2V0QnVmZmVyVGVtcGxhdGUoKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQ7cmV0dXJuIHZvaWQgMD09PW1hc2tzZXQuX2J1ZmZlciYmKG1hc2tzZXQuX2J1ZmZlcj1fdmFsaWRhdGlvblRlc3RzLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHRoaXMsITEsMSksdm9pZCAwPT09bWFza3NldC5idWZmZXImJihtYXNrc2V0LmJ1ZmZlcj1tYXNrc2V0Ll9idWZmZXIuc2xpY2UoKSkpLG1hc2tzZXQuX2J1ZmZlcn1mdW5jdGlvbiBnZXRMYXN0VmFsaWRQb3NpdGlvbihjbG9zZXN0VG8sc3RyaWN0LHZhbGlkUG9zaXRpb25zKXt2YXIgbWFza3NldD10aGlzLm1hc2tzZXQsYmVmb3JlPS0xLGFmdGVyPS0xLHZhbGlkcz12YWxpZFBvc2l0aW9uc3x8bWFza3NldC52YWxpZFBvc2l0aW9ucztmb3IodmFyIHBvc05keCBpbiB2b2lkIDA9PT1jbG9zZXN0VG8mJihjbG9zZXN0VG89LTEpLHZhbGlkcyl7dmFyIHBzTmR4PXBhcnNlSW50KHBvc05keCk7dmFsaWRzW3BzTmR4XSYmKHN0cmljdHx8ITAhPT12YWxpZHNbcHNOZHhdLmdlbmVyYXRlZElucHV0KSYmKHBzTmR4PD1jbG9zZXN0VG8mJihiZWZvcmU9cHNOZHgpLGNsb3Nlc3RUbzw9cHNOZHgmJihhZnRlcj1wc05keCkpfXJldHVybi0xPT09YmVmb3JlfHxiZWZvcmU9PWNsb3Nlc3RUbz9hZnRlcjotMT09YWZ0ZXI/YmVmb3JlOmNsb3Nlc3RUby1iZWZvcmU8YWZ0ZXItY2xvc2VzdFRvP2JlZm9yZTphZnRlcn1mdW5jdGlvbiBpc01hc2socG9zLHN0cmljdCxmdXp6eSl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LHRlc3Q9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLHBvcykubWF0Y2g7aWYoXCJcIj09PXRlc3QuZGVmJiYodGVzdD1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBvcykubWF0Y2gpLCEwIT09dGVzdC5zdGF0aWMpcmV0dXJuIHRlc3QuZm47aWYoITA9PT1mdXp6eSYmdm9pZCAwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdJiYhMCE9PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5nZW5lcmF0ZWRJbnB1dClyZXR1cm4hMDtpZighMCE9PXN0cmljdCYmLTE8cG9zKXtpZihmdXp6eSl7dmFyIHRlc3RzPV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdHMuY2FsbCh0aGlzLHBvcyk7cmV0dXJuIHRlc3RzLmxlbmd0aD4xKyhcIlwiPT09dGVzdHNbdGVzdHMubGVuZ3RoLTFdLm1hdGNoLmRlZj8xOjApfXZhciB0ZXN0VGVtcGxhdGU9X3ZhbGlkYXRpb25UZXN0cy5kZXRlcm1pbmVUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLHBvcyxfdmFsaWRhdGlvblRlc3RzLmdldFRlc3RzLmNhbGwodGhpcyxwb3MpKSx0ZXN0UGxhY2VIb2xkZXI9X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKHRoaXMscG9zLHRlc3RUZW1wbGF0ZS5tYXRjaCk7cmV0dXJuIHRlc3RUZW1wbGF0ZS5tYXRjaC5kZWYhPT10ZXN0UGxhY2VIb2xkZXJ9cmV0dXJuITF9ZnVuY3Rpb24gcmVzZXRNYXNrU2V0KHNvZnQpe3ZhciBtYXNrc2V0PXRoaXMubWFza3NldDttYXNrc2V0LmJ1ZmZlcj12b2lkIDAsITAhPT1zb2Z0JiYobWFza3NldC52YWxpZFBvc2l0aW9ucz17fSxtYXNrc2V0LnA9MCl9ZnVuY3Rpb24gc2Vla05leHQocG9zLG5ld0Jsb2NrLGZ1enp5KXt2YXIgaW5wdXRtYXNrPXRoaXM7dm9pZCAwPT09ZnV6enkmJihmdXp6eT0hMCk7Zm9yKHZhciBwb3NpdGlvbj1wb3MrMTtcIlwiIT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwb3NpdGlvbikubWF0Y2guZGVmJiYoITA9PT1uZXdCbG9jayYmKCEwIT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwb3NpdGlvbikubWF0Y2gubmV3QmxvY2tNYXJrZXJ8fCFpc01hc2suY2FsbCh0aGlzLHBvc2l0aW9uLHZvaWQgMCwhMCkpfHwhMCE9PW5ld0Jsb2NrJiYhaXNNYXNrLmNhbGwodGhpcyxwb3NpdGlvbix2b2lkIDAsZnV6enkpKTspcG9zaXRpb24rKztyZXR1cm4gcG9zaXRpb259ZnVuY3Rpb24gc2Vla1ByZXZpb3VzKHBvcyxuZXdCbG9jayl7dmFyIGlucHV0bWFzaz10aGlzLHBvc2l0aW9uPXBvcy0xO2lmKHBvczw9MClyZXR1cm4gMDtmb3IoOzA8cG9zaXRpb24mJighMD09PW5ld0Jsb2NrJiYoITAhPT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBvc2l0aW9uKS5tYXRjaC5uZXdCbG9ja01hcmtlcnx8IWlzTWFzay5jYWxsKHRoaXMscG9zaXRpb24sdm9pZCAwLCEwKSl8fCEwIT09bmV3QmxvY2smJiFpc01hc2suY2FsbCh0aGlzLHBvc2l0aW9uLHZvaWQgMCwhMCkpOylwb3NpdGlvbi0tO3JldHVybiBwb3NpdGlvbn1mdW5jdGlvbiB0cmFuc2xhdGVQb3NpdGlvbihwb3Mpe3ZhciBpbnB1dG1hc2s9dGhpcyxvcHRzPXRoaXMub3B0cyxlbD10aGlzLmVsO3JldHVybiF0aGlzLmlzUlRMfHxcIm51bWJlclwiIT10eXBlb2YgcG9zfHxvcHRzLmdyZWVkeSYmXCJcIj09PW9wdHMucGxhY2Vob2xkZXJ8fCFlbHx8KHBvcz1NYXRoLmFicyh0aGlzLl92YWx1ZUdldCgpLmxlbmd0aC1wb3MpKSxwb3N9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwLF9fd2VicGFja19yZXF1aXJlX18oMTYpLF9fd2VicGFja19yZXF1aXJlX18oMTcpO3ZhciBfbWFzaz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpLF93aW5kb3c9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSxfbWFza0xleGVyPV9fd2VicGFja19yZXF1aXJlX18oMjEpLF92YWxpZGF0aW9uVGVzdHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfdmFsaWRhdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9pbnB1dEhhbmRsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNyksX2V2ZW50cnVsZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX2RlZmluaXRpb25zPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMikpLF9kZWZhdWx0cz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjMpKSxfY2FuVXNlRE9NPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2KSk7ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9LF90eXBlb2Yob2JqKX1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIGRvY3VtZW50PV93aW5kb3cuZGVmYXVsdC5kb2N1bWVudCxkYXRhS2V5PVwiX2lucHV0bWFza19vcHRzXCI7ZnVuY3Rpb24gSW5wdXRtYXNrKGFsaWFzLG9wdGlvbnMsaW50ZXJuYWwpe2lmKF9jYW5Vc2VET00uZGVmYXVsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgSW5wdXRtYXNrKSlyZXR1cm4gbmV3IElucHV0bWFzayhhbGlhcyxvcHRpb25zLGludGVybmFsKTt0aGlzLmRlcGVuZGVuY3lMaWI9X2lucHV0bWFzay5kZWZhdWx0LHRoaXMuZWw9dm9pZCAwLHRoaXMuZXZlbnRzPXt9LHRoaXMubWFza3NldD12b2lkIDAsITAhPT1pbnRlcm5hbCYmKFwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYWxpYXMpP29wdGlvbnM9YWxpYXM6KG9wdGlvbnM9b3B0aW9uc3x8e30sYWxpYXMmJihvcHRpb25zLmFsaWFzPWFsaWFzKSksdGhpcy5vcHRzPV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAse30sdGhpcy5kZWZhdWx0cyxvcHRpb25zKSx0aGlzLm5vTWFza3NDYWNoZT1vcHRpb25zJiZ2b2lkIDAhPT1vcHRpb25zLmRlZmluaXRpb25zLHRoaXMudXNlck9wdGlvbnM9b3B0aW9uc3x8e30scmVzb2x2ZUFsaWFzKHRoaXMub3B0cy5hbGlhcyxvcHRpb25zLHRoaXMub3B0cykpLHRoaXMucmVmcmVzaFZhbHVlPSExLHRoaXMudW5kb1ZhbHVlPXZvaWQgMCx0aGlzLiRlbD12b2lkIDAsdGhpcy5za2lwS2V5UHJlc3NFdmVudD0hMSx0aGlzLnNraXBJbnB1dEV2ZW50PSExLHRoaXMudmFsaWRhdGlvbkV2ZW50PSExLHRoaXMuaWdub3JhYmxlPSExLHRoaXMubWF4TGVuZ3RoLHRoaXMubW91c2VFbnRlcj0hMSx0aGlzLm9yaWdpbmFsUGxhY2Vob2xkZXI9dm9pZCAwLHRoaXMuaXNDb21wb3Npbmc9ITF9fWZ1bmN0aW9uIHJlc29sdmVBbGlhcyhhbGlhc1N0cixvcHRpb25zLG9wdHMpe3ZhciBhbGlhc0RlZmluaXRpb249SW5wdXRtYXNrLnByb3RvdHlwZS5hbGlhc2VzW2FsaWFzU3RyXTtyZXR1cm4gYWxpYXNEZWZpbml0aW9uPyhhbGlhc0RlZmluaXRpb24uYWxpYXMmJnJlc29sdmVBbGlhcyhhbGlhc0RlZmluaXRpb24uYWxpYXMsdm9pZCAwLG9wdHMpLF9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAsb3B0cyxhbGlhc0RlZmluaXRpb24pLF9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAsb3B0cyxvcHRpb25zKSwhMCk6KG51bGw9PT1vcHRzLm1hc2smJihvcHRzLm1hc2s9YWxpYXNTdHIpLCExKX1mdW5jdGlvbiBpbXBvcnRBdHRyaWJ1dGVPcHRpb25zKG5wdCxvcHRzLHVzZXJPcHRpb25zLGRhdGFBdHRyaWJ1dGUpe2Z1bmN0aW9uIGltcG9ydE9wdGlvbihvcHRpb24sb3B0aW9uRGF0YSl7dmFyIGF0dHJPcHRpb249XCJcIj09PWRhdGFBdHRyaWJ1dGU/b3B0aW9uOmRhdGFBdHRyaWJ1dGUrXCItXCIrb3B0aW9uO29wdGlvbkRhdGE9dm9pZCAwIT09b3B0aW9uRGF0YT9vcHRpb25EYXRhOm5wdC5nZXRBdHRyaWJ1dGUoYXR0ck9wdGlvbiksbnVsbCE9PW9wdGlvbkRhdGEmJihcInN0cmluZ1wiPT10eXBlb2Ygb3B0aW9uRGF0YSYmKDA9PT1vcHRpb24uaW5kZXhPZihcIm9uXCIpP29wdGlvbkRhdGE9X3dpbmRvdy5kZWZhdWx0W29wdGlvbkRhdGFdOlwiZmFsc2VcIj09PW9wdGlvbkRhdGE/b3B0aW9uRGF0YT0hMTpcInRydWVcIj09PW9wdGlvbkRhdGEmJihvcHRpb25EYXRhPSEwKSksdXNlck9wdGlvbnNbb3B0aW9uXT1vcHRpb25EYXRhKX1pZighMD09PW9wdHMuaW1wb3J0RGF0YUF0dHJpYnV0ZXMpe3ZhciBhdHRyT3B0aW9ucz1ucHQuZ2V0QXR0cmlidXRlKGRhdGFBdHRyaWJ1dGUpLG9wdGlvbixkYXRhb3B0aW9ucyxvcHRpb25EYXRhLHA7aWYoYXR0ck9wdGlvbnMmJlwiXCIhPT1hdHRyT3B0aW9ucyYmKGF0dHJPcHRpb25zPWF0dHJPcHRpb25zLnJlcGxhY2UoLycvZywnXCInKSxkYXRhb3B0aW9ucz1KU09OLnBhcnNlKFwie1wiK2F0dHJPcHRpb25zK1wifVwiKSksZGF0YW9wdGlvbnMpZm9yKHAgaW4gb3B0aW9uRGF0YT12b2lkIDAsZGF0YW9wdGlvbnMpaWYoXCJhbGlhc1wiPT09cC50b0xvd2VyQ2FzZSgpKXtvcHRpb25EYXRhPWRhdGFvcHRpb25zW3BdO2JyZWFrfWZvcihvcHRpb24gaW4gaW1wb3J0T3B0aW9uKFwiYWxpYXNcIixvcHRpb25EYXRhKSx1c2VyT3B0aW9ucy5hbGlhcyYmcmVzb2x2ZUFsaWFzKHVzZXJPcHRpb25zLmFsaWFzLHVzZXJPcHRpb25zLG9wdHMpLG9wdHMpe2lmKGRhdGFvcHRpb25zKWZvcihwIGluIG9wdGlvbkRhdGE9dm9pZCAwLGRhdGFvcHRpb25zKWlmKHAudG9Mb3dlckNhc2UoKT09PW9wdGlvbi50b0xvd2VyQ2FzZSgpKXtvcHRpb25EYXRhPWRhdGFvcHRpb25zW3BdO2JyZWFrfWltcG9ydE9wdGlvbihvcHRpb24sb3B0aW9uRGF0YSl9fXJldHVybiBfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLG9wdHMsdXNlck9wdGlvbnMpLFwicnRsXCIhPT1ucHQuZGlyJiYhb3B0cy5yaWdodEFsaWdufHwobnB0LnN0eWxlLnRleHRBbGlnbj1cInJpZ2h0XCIpLFwicnRsXCIhPT1ucHQuZGlyJiYhb3B0cy5udW1lcmljSW5wdXR8fChucHQuZGlyPVwibHRyXCIsbnB0LnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKSxvcHRzLmlzUlRMPSEwKSxPYmplY3Qua2V5cyh1c2VyT3B0aW9ucykubGVuZ3RofUlucHV0bWFzay5wcm90b3R5cGU9e2RhdGFBdHRyaWJ1dGU6XCJkYXRhLWlucHV0bWFza1wiLGRlZmF1bHRzOl9kZWZhdWx0cy5kZWZhdWx0LGRlZmluaXRpb25zOl9kZWZpbml0aW9ucy5kZWZhdWx0LGFsaWFzZXM6e30sbWFza3NDYWNoZTp7fSxnZXQgaXNSVEwoKXtyZXR1cm4gdGhpcy5vcHRzLmlzUlRMfHx0aGlzLm9wdHMubnVtZXJpY0lucHV0fSxtYXNrOmZ1bmN0aW9uIG1hc2soZWxlbXMpe3ZhciB0aGF0PXRoaXM7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGVsZW1zJiYoZWxlbXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbXMpfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1zKSksZWxlbXM9ZWxlbXMubm9kZU5hbWU/W2VsZW1zXTpBcnJheS5pc0FycmF5KGVsZW1zKT9lbGVtczpBcnJheS5mcm9tKGVsZW1zKSxlbGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGVsLG5keCl7dmFyIHNjb3BlZE9wdHM9X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCx7fSx0aGF0Lm9wdHMpO2lmKGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMoZWwsc2NvcGVkT3B0cyxfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLHt9LHRoYXQudXNlck9wdGlvbnMpLHRoYXQuZGF0YUF0dHJpYnV0ZSkpe3ZhciBtYXNrc2V0PSgwLF9tYXNrTGV4ZXIuZ2VuZXJhdGVNYXNrU2V0KShzY29wZWRPcHRzLHRoYXQubm9NYXNrc0NhY2hlKTt2b2lkIDAhPT1tYXNrc2V0JiYodm9pZCAwIT09ZWwuaW5wdXRtYXNrJiYoZWwuaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzaz0hMCxlbC5pbnB1dG1hc2sucmVtb3ZlKCkpLGVsLmlucHV0bWFzaz1uZXcgSW5wdXRtYXNrKHZvaWQgMCx2b2lkIDAsITApLGVsLmlucHV0bWFzay5vcHRzPXNjb3BlZE9wdHMsZWwuaW5wdXRtYXNrLm5vTWFza3NDYWNoZT10aGF0Lm5vTWFza3NDYWNoZSxlbC5pbnB1dG1hc2sudXNlck9wdGlvbnM9X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCx7fSx0aGF0LnVzZXJPcHRpb25zKSxlbC5pbnB1dG1hc2suZWw9ZWwsZWwuaW5wdXRtYXNrLiRlbD0oMCxfaW5wdXRtYXNrLmRlZmF1bHQpKGVsKSxlbC5pbnB1dG1hc2subWFza3NldD1tYXNrc2V0LF9pbnB1dG1hc2suZGVmYXVsdC5kYXRhKGVsLGRhdGFLZXksdGhhdC51c2VyT3B0aW9ucyksX21hc2subWFzay5jYWxsKGVsLmlucHV0bWFzaykpfX0pLGVsZW1zJiZlbGVtc1swXSYmZWxlbXNbMF0uaW5wdXRtYXNrfHx0aGlzfSxvcHRpb246ZnVuY3Rpb24gb3B0aW9uKG9wdGlvbnMsbm9yZW1hc2spe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBvcHRpb25zP3RoaXMub3B0c1tvcHRpb25zXTpcIm9iamVjdFwiPT09X3R5cGVvZihvcHRpb25zKT8oX2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCh0aGlzLnVzZXJPcHRpb25zLG9wdGlvbnMpLHRoaXMuZWwmJiEwIT09bm9yZW1hc2smJnRoaXMubWFzayh0aGlzLmVsKSx0aGlzKTp2b2lkIDB9LHVubWFza2VkdmFsdWU6ZnVuY3Rpb24gdW5tYXNrZWR2YWx1ZSh2YWx1ZSl7aWYodGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8KDAsX21hc2tMZXhlci5nZW5lcmF0ZU1hc2tTZXQpKHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksdm9pZCAwPT09dGhpcy5lbHx8dm9pZCAwIT09dmFsdWUpe3ZhciB2YWx1ZUJ1ZmZlcj0oXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRzLm9uQmVmb3JlTWFzayYmdGhpcy5vcHRzLm9uQmVmb3JlTWFzay5jYWxsKHRoaXMsdmFsdWUsdGhpcy5vcHRzKXx8dmFsdWUpLnNwbGl0KFwiXCIpO19pbnB1dEhhbmRsaW5nLmNoZWNrVmFsLmNhbGwodGhpcyx2b2lkIDAsITEsITEsdmFsdWVCdWZmZXIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5vbkJlZm9yZVdyaXRlJiZ0aGlzLm9wdHMub25CZWZvcmVXcml0ZS5jYWxsKHRoaXMsdm9pZCAwLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKSwwLHRoaXMub3B0cyl9cmV0dXJuIF9pbnB1dEhhbmRsaW5nLnVubWFza2VkdmFsdWUuY2FsbCh0aGlzLHRoaXMuZWwpfSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKCl7aWYodGhpcy5lbCl7X2lucHV0bWFzay5kZWZhdWx0LmRhdGEodGhpcy5lbCxkYXRhS2V5LG51bGwpO3ZhciBjdj10aGlzLm9wdHMuYXV0b1VubWFzaz8oMCxfaW5wdXRIYW5kbGluZy51bm1hc2tlZHZhbHVlKSh0aGlzLmVsKTp0aGlzLl92YWx1ZUdldCh0aGlzLm9wdHMuYXV0b1VubWFzayksdmFsdWVQcm9wZXJ0eTtjdiE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKHRoaXMpLmpvaW4oXCJcIik/dGhpcy5fdmFsdWVTZXQoY3YsdGhpcy5vcHRzLmF1dG9Vbm1hc2spOnRoaXMuX3ZhbHVlU2V0KFwiXCIpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub2ZmKHRoaXMuZWwpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3ImJk9iamVjdC5nZXRQcm90b3R5cGVPZj8odmFsdWVQcm9wZXJ0eT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzLmVsKSxcInZhbHVlXCIpLHZhbHVlUHJvcGVydHkmJnRoaXMuX192YWx1ZUdldCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZWwsXCJ2YWx1ZVwiLHtnZXQ6dGhpcy5fX3ZhbHVlR2V0LHNldDp0aGlzLl9fdmFsdWVTZXQsY29uZmlndXJhYmxlOiEwfSkpOmRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18mJnRoaXMuZWwuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpJiZ0aGlzLl9fdmFsdWVHZXQmJih0aGlzLmVsLl9fZGVmaW5lR2V0dGVyX18oXCJ2YWx1ZVwiLHRoaXMuX192YWx1ZUdldCksdGhpcy5lbC5fX2RlZmluZVNldHRlcl9fKFwidmFsdWVcIix0aGlzLl9fdmFsdWVTZXQpKSx0aGlzLmVsLmlucHV0bWFzaz12b2lkIDB9cmV0dXJuIHRoaXMuZWx9LGdldGVtcHR5bWFzazpmdW5jdGlvbiBnZXRlbXB0eW1hc2soKXtyZXR1cm4gdGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8KDAsX21hc2tMZXhlci5nZW5lcmF0ZU1hc2tTZXQpKHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwodGhpcykuam9pbihcIlwiKX0saGFzTWFza2VkVmFsdWU6ZnVuY3Rpb24gaGFzTWFza2VkVmFsdWUoKXtyZXR1cm4hdGhpcy5vcHRzLmF1dG9Vbm1hc2t9LGlzQ29tcGxldGU6ZnVuY3Rpb24gaXNDb21wbGV0ZSgpe3JldHVybiB0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHwoMCxfbWFza0xleGVyLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxfdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwodGhpcyxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykpfSxnZXRtZXRhZGF0YTpmdW5jdGlvbiBnZXRtZXRhZGF0YSgpe2lmKHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fCgwLF9tYXNrTGV4ZXIuZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLEFycmF5LmlzQXJyYXkodGhpcy5tYXNrc2V0Lm1ldGFkYXRhKSl7dmFyIG1hc2tUYXJnZXQ9X3ZhbGlkYXRpb25UZXN0cy5nZXRNYXNrVGVtcGxhdGUuY2FsbCh0aGlzLCEwLDAsITEpLmpvaW4oXCJcIik7cmV0dXJuIHRoaXMubWFza3NldC5tZXRhZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKG10ZHQpe3JldHVybiBtdGR0Lm1hc2shPT1tYXNrVGFyZ2V0fHwobWFza1RhcmdldD1tdGR0LCExKX0pLG1hc2tUYXJnZXR9cmV0dXJuIHRoaXMubWFza3NldC5tZXRhZGF0YX0saXNWYWxpZDpmdW5jdGlvbiBpc1ZhbGlkKHZhbHVlKXtpZih0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHwoMCxfbWFza0xleGVyLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSx2YWx1ZSl7dmFyIHZhbHVlQnVmZmVyPShcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdHMub25CZWZvcmVNYXNrJiZ0aGlzLm9wdHMub25CZWZvcmVNYXNrLmNhbGwodGhpcyx2YWx1ZSx0aGlzLm9wdHMpfHx2YWx1ZSkuc3BsaXQoXCJcIik7X2lucHV0SGFuZGxpbmcuY2hlY2tWYWwuY2FsbCh0aGlzLHZvaWQgMCwhMCwhMSx2YWx1ZUJ1ZmZlcil9ZWxzZSB2YWx1ZT10aGlzLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKS5qb2luKFwiXCIpO2Zvcih2YXIgYnVmZmVyPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKSxybD1fcG9zaXRpb25pbmcuZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24uY2FsbCh0aGlzKSxsbWliPWJ1ZmZlci5sZW5ndGgtMTtybDxsbWliJiYhX3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKHRoaXMsbG1pYik7bG1pYi0tKTtyZXR1cm4gYnVmZmVyLnNwbGljZShybCxsbWliKzEtcmwpLF92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbCh0aGlzLGJ1ZmZlcikmJnZhbHVlPT09KHRoaXMuaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIik6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLmpvaW4oXCJcIikpfSxmb3JtYXQ6ZnVuY3Rpb24gZm9ybWF0KHZhbHVlLG1ldGFkYXRhKXt0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHwoMCxfbWFza0xleGVyLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKTt2YXIgdmFsdWVCdWZmZXI9KFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5vbkJlZm9yZU1hc2smJnRoaXMub3B0cy5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLHZhbHVlLHRoaXMub3B0cyl8fHZhbHVlKS5zcGxpdChcIlwiKTtfaW5wdXRIYW5kbGluZy5jaGVja1ZhbC5jYWxsKHRoaXMsdm9pZCAwLCEwLCExLHZhbHVlQnVmZmVyKTt2YXIgZm9ybWF0dGVkVmFsdWU9dGhpcy5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykuam9pbihcIlwiKTtyZXR1cm4gbWV0YWRhdGE/e3ZhbHVlOmZvcm1hdHRlZFZhbHVlLG1ldGFkYXRhOnRoaXMuZ2V0bWV0YWRhdGEoKX06Zm9ybWF0dGVkVmFsdWV9LHNldFZhbHVlOmZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKXt0aGlzLmVsJiYoMCxfaW5wdXRtYXNrLmRlZmF1bHQpKHRoaXMuZWwpLnRyaWdnZXIoXCJzZXR2YWx1ZVwiLFt2YWx1ZV0pfSxhbmFseXNlTWFzazpfbWFza0xleGVyLmFuYWx5c2VNYXNrfSxJbnB1dG1hc2suZXh0ZW5kRGVmYXVsdHM9ZnVuY3Rpb24ob3B0aW9ucyl7X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCxJbnB1dG1hc2sucHJvdG90eXBlLmRlZmF1bHRzLG9wdGlvbnMpfSxJbnB1dG1hc2suZXh0ZW5kRGVmaW5pdGlvbnM9ZnVuY3Rpb24oZGVmaW5pdGlvbil7X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCxJbnB1dG1hc2sucHJvdG90eXBlLmRlZmluaXRpb25zLGRlZmluaXRpb24pfSxJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcz1mdW5jdGlvbihhbGlhcyl7X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCxJbnB1dG1hc2sucHJvdG90eXBlLmFsaWFzZXMsYWxpYXMpfSxJbnB1dG1hc2suZm9ybWF0PWZ1bmN0aW9uKHZhbHVlLG9wdGlvbnMsbWV0YWRhdGEpe3JldHVybiBJbnB1dG1hc2sob3B0aW9ucykuZm9ybWF0KHZhbHVlLG1ldGFkYXRhKX0sSW5wdXRtYXNrLnVubWFzaz1mdW5jdGlvbih2YWx1ZSxvcHRpb25zKXtyZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLnVubWFza2VkdmFsdWUodmFsdWUpfSxJbnB1dG1hc2suaXNWYWxpZD1mdW5jdGlvbih2YWx1ZSxvcHRpb25zKXtyZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLmlzVmFsaWQodmFsdWUpfSxJbnB1dG1hc2sucmVtb3ZlPWZ1bmN0aW9uKGVsZW1zKXtcInN0cmluZ1wiPT10eXBlb2YgZWxlbXMmJihlbGVtcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtcyl8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbXMpKSxlbGVtcz1lbGVtcy5ub2RlTmFtZT9bZWxlbXNdOmVsZW1zLGVsZW1zLmZvckVhY2goZnVuY3Rpb24oZWwpe2VsLmlucHV0bWFzayYmZWwuaW5wdXRtYXNrLnJlbW92ZSgpfSl9LElucHV0bWFzay5zZXRWYWx1ZT1mdW5jdGlvbihlbGVtcyx2YWx1ZSl7XCJzdHJpbmdcIj09dHlwZW9mIGVsZW1zJiYoZWxlbXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbXMpfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1zKSksZWxlbXM9ZWxlbXMubm9kZU5hbWU/W2VsZW1zXTplbGVtcyxlbGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXtlbC5pbnB1dG1hc2s/ZWwuaW5wdXRtYXNrLnNldFZhbHVlKHZhbHVlKTooMCxfaW5wdXRtYXNrLmRlZmF1bHQpKGVsKS50cmlnZ2VyKFwic2V0dmFsdWVcIixbdmFsdWVdKX0pfSxJbnB1dG1hc2suZGVwZW5kZW5jeUxpYj1faW5wdXRtYXNrLmRlZmF1bHQsX3dpbmRvdy5kZWZhdWx0LklucHV0bWFzaz1JbnB1dG1hc2s7dmFyIF9kZWZhdWx0PUlucHV0bWFzaztleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGdldExvY2F0b3IodHN0LGFsaWduKXt2YXIgbG9jYXRvcj0obnVsbCE9dHN0LmFsdGVybmF0aW9uP3RzdC5tbG9jW2dldERlY2lzaW9uVGFrZXIodHN0KV06dHN0LmxvY2F0b3IpLmpvaW4oXCJcIik7aWYoXCJcIiE9PWxvY2F0b3IpZm9yKDtsb2NhdG9yLmxlbmd0aDxhbGlnbjspbG9jYXRvcis9XCIwXCI7cmV0dXJuIGxvY2F0b3J9ZnVuY3Rpb24gZ2V0RGVjaXNpb25UYWtlcih0c3Qpe3ZhciBkZWNpc2lvblRha2VyPXRzdC5sb2NhdG9yW3RzdC5hbHRlcm5hdGlvbl07cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGRlY2lzaW9uVGFrZXImJjA8ZGVjaXNpb25UYWtlci5sZW5ndGgmJihkZWNpc2lvblRha2VyPWRlY2lzaW9uVGFrZXIuc3BsaXQoXCIsXCIpWzBdKSx2b2lkIDAhPT1kZWNpc2lvblRha2VyP2RlY2lzaW9uVGFrZXIudG9TdHJpbmcoKTpcIlwifWZ1bmN0aW9uIGdldFBsYWNlaG9sZGVyKHBvcyx0ZXN0LHJldHVyblBMKXt2YXIgaW5wdXRtYXNrPXRoaXMsb3B0cz10aGlzLm9wdHMsbWFza3NldD10aGlzLm1hc2tzZXQ7aWYodGVzdD10ZXN0fHxnZXRUZXN0LmNhbGwodGhpcyxwb3MpLm1hdGNoLHZvaWQgMCE9PXRlc3QucGxhY2Vob2xkZXJ8fCEwPT09cmV0dXJuUEwpcmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGVzdC5wbGFjZWhvbGRlcj90ZXN0LnBsYWNlaG9sZGVyKG9wdHMpOnRlc3QucGxhY2Vob2xkZXI7aWYoITAhPT10ZXN0LnN0YXRpYylyZXR1cm4gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQocG9zJW9wdHMucGxhY2Vob2xkZXIubGVuZ3RoKTtpZigtMTxwb3MmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSl7dmFyIHRlc3RzPWdldFRlc3RzLmNhbGwodGhpcyxwb3MpLHN0YXRpY0FsdGVybmF0aW9ucz1bXSxwcmV2VGVzdDtpZih0ZXN0cy5sZW5ndGg+MSsoXCJcIj09PXRlc3RzW3Rlc3RzLmxlbmd0aC0xXS5tYXRjaC5kZWY/MTowKSlmb3IodmFyIGk9MDtpPHRlc3RzLmxlbmd0aDtpKyspaWYoXCJcIiE9PXRlc3RzW2ldLm1hdGNoLmRlZiYmITAhPT10ZXN0c1tpXS5tYXRjaC5vcHRpb25hbGl0eSYmITAhPT10ZXN0c1tpXS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXImJighMD09PXRlc3RzW2ldLm1hdGNoLnN0YXRpY3x8dm9pZCAwPT09cHJldlRlc3R8fCExIT09dGVzdHNbaV0ubWF0Y2guZm4udGVzdChwcmV2VGVzdC5tYXRjaC5kZWYsbWFza3NldCxwb3MsITAsb3B0cykpJiYoc3RhdGljQWx0ZXJuYXRpb25zLnB1c2godGVzdHNbaV0pLCEwPT09dGVzdHNbaV0ubWF0Y2guc3RhdGljJiYocHJldlRlc3Q9dGVzdHNbaV0pLDE8c3RhdGljQWx0ZXJuYXRpb25zLmxlbmd0aCYmL1swLTlhLWJBLVpdLy50ZXN0KHN0YXRpY0FsdGVybmF0aW9uc1swXS5tYXRjaC5kZWYpKSlyZXR1cm4gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQocG9zJW9wdHMucGxhY2Vob2xkZXIubGVuZ3RoKX1yZXR1cm4gdGVzdC5kZWZ9ZnVuY3Rpb24gZ2V0TWFza1RlbXBsYXRlKGJhc2VPbklucHV0LG1pbmltYWxQb3MsaW5jbHVkZU1vZGUsbm9KaXQsY2xlYXJPcHRpb25hbFRhaWwpe3ZhciBpbnB1dG1hc2s9dGhpcyxvcHRzPXRoaXMub3B0cyxtYXNrc2V0PXRoaXMubWFza3NldCxncmVlZHk9b3B0cy5ncmVlZHk7Y2xlYXJPcHRpb25hbFRhaWwmJihvcHRzLmdyZWVkeT0hMSksbWluaW1hbFBvcz1taW5pbWFsUG9zfHwwO3ZhciBtYXNrVGVtcGxhdGU9W10sbmR4SW50bHpyLHBvcz0wLHRlc3QsdGVzdFBvcyxqaXRSZW5kZXJTdGF0aWM7ZG97aWYoITA9PT1iYXNlT25JbnB1dCYmbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdKXRlc3RQb3M9Y2xlYXJPcHRpb25hbFRhaWwmJiEwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLm1hdGNoLm9wdGlvbmFsaXR5JiZ2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3BvcysxXSYmKCEwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLmdlbmVyYXRlZElucHV0fHxtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uaW5wdXQ9PW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciYmMDxwb3MpP2RldGVybWluZVRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMscG9zLGdldFRlc3RzLmNhbGwodGhpcyxwb3MsbmR4SW50bHpyLHBvcy0xKSk6bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLHRlc3Q9dGVzdFBvcy5tYXRjaCxuZHhJbnRsenI9dGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksbWFza1RlbXBsYXRlLnB1c2goITA9PT1pbmNsdWRlTW9kZT90ZXN0UG9zLmlucHV0OiExPT09aW5jbHVkZU1vZGU/dGVzdC5uYXRpdmVEZWY6Z2V0UGxhY2Vob2xkZXIuY2FsbCh0aGlzLHBvcyx0ZXN0KSk7ZWxzZXt0ZXN0UG9zPWdldFRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMscG9zLG5keEludGx6cixwb3MtMSksdGVzdD10ZXN0UG9zLm1hdGNoLG5keEludGx6cj10ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKTt2YXIgaml0TWFza2luZz0hMCE9PW5vSml0JiYoITEhPT1vcHRzLmppdE1hc2tpbmc/b3B0cy5qaXRNYXNraW5nOnRlc3Quaml0KTtqaXRSZW5kZXJTdGF0aWM9KGppdFJlbmRlclN0YXRpYyYmdGVzdC5zdGF0aWMmJnRlc3QuZGVmIT09b3B0cy5ncm91cFNlcGFyYXRvciYmbnVsbD09PXRlc3QuZm58fG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zLTFdJiZ0ZXN0LnN0YXRpYyYmdGVzdC5kZWYhPT1vcHRzLmdyb3VwU2VwYXJhdG9yJiZudWxsPT09dGVzdC5mbikmJm1hc2tzZXQudGVzdHNbcG9zXSYmMT09PW1hc2tzZXQudGVzdHNbcG9zXS5sZW5ndGgsaml0UmVuZGVyU3RhdGljfHwhMT09PWppdE1hc2tpbmd8fHZvaWQgMD09PWppdE1hc2tpbmd8fFwibnVtYmVyXCI9PXR5cGVvZiBqaXRNYXNraW5nJiZpc0Zpbml0ZShqaXRNYXNraW5nKSYmcG9zPGppdE1hc2tpbmc/bWFza1RlbXBsYXRlLnB1c2goITE9PT1pbmNsdWRlTW9kZT90ZXN0Lm5hdGl2ZURlZjpnZXRQbGFjZWhvbGRlci5jYWxsKHRoaXMscG9zLHRlc3QpKTpqaXRSZW5kZXJTdGF0aWM9ITF9cG9zKyt9d2hpbGUoKHZvaWQgMD09PXRoaXMubWF4TGVuZ3RofHxwb3M8dGhpcy5tYXhMZW5ndGgpJiYoITAhPT10ZXN0LnN0YXRpY3x8XCJcIiE9PXRlc3QuZGVmKXx8cG9zPG1pbmltYWxQb3MpO3JldHVyblwiXCI9PT1tYXNrVGVtcGxhdGVbbWFza1RlbXBsYXRlLmxlbmd0aC0xXSYmbWFza1RlbXBsYXRlLnBvcCgpLCExPT09aW5jbHVkZU1vZGUmJnZvaWQgMCE9PW1hc2tzZXQubWFza0xlbmd0aHx8KG1hc2tzZXQubWFza0xlbmd0aD1wb3MtMSksb3B0cy5ncmVlZHk9Z3JlZWR5LG1hc2tUZW1wbGF0ZX1mdW5jdGlvbiBnZXRUZXN0VGVtcGxhdGUocG9zLG5keEludGx6cix0c3RQcyl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0O3JldHVybiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc118fGRldGVybWluZVRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMscG9zLGdldFRlc3RzLmNhbGwodGhpcyxwb3MsbmR4SW50bHpyP25keEludGx6ci5zbGljZSgpOm5keEludGx6cix0c3RQcykpfWZ1bmN0aW9uIGRldGVybWluZVRlc3RUZW1wbGF0ZShwb3MsdGVzdHMpe3ZhciBpbnB1dG1hc2s9dGhpcyxvcHRzPXRoaXMub3B0cztwb3M9MDxwb3M/cG9zLTE6MDtmb3IodmFyIGFsdFRlc3Q9Z2V0VGVzdC5jYWxsKHRoaXMscG9zKSx0YXJnZXRMb2NhdG9yPWdldExvY2F0b3IoYWx0VGVzdCksdHN0TG9jYXRvcixjbG9zZXN0LGJlc3RNYXRjaCxuZHg9MDtuZHg8dGVzdHMubGVuZ3RoO25keCsrKXt2YXIgdHN0PXRlc3RzW25keF07dHN0TG9jYXRvcj1nZXRMb2NhdG9yKHRzdCx0YXJnZXRMb2NhdG9yLmxlbmd0aCk7dmFyIGRpc3RhbmNlPU1hdGguYWJzKHRzdExvY2F0b3ItdGFyZ2V0TG9jYXRvcik7KHZvaWQgMD09PWNsb3Nlc3R8fFwiXCIhPT10c3RMb2NhdG9yJiZkaXN0YW5jZTxjbG9zZXN0fHxiZXN0TWF0Y2gmJiFvcHRzLmdyZWVkeSYmYmVzdE1hdGNoLm1hdGNoLm9wdGlvbmFsaXR5JiZcIm1hc3RlclwiPT09YmVzdE1hdGNoLm1hdGNoLm5ld0Jsb2NrTWFya2VyJiYoIXRzdC5tYXRjaC5vcHRpb25hbGl0eXx8IXRzdC5tYXRjaC5uZXdCbG9ja01hcmtlcil8fGJlc3RNYXRjaCYmYmVzdE1hdGNoLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmIXRzdC5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIpJiYoY2xvc2VzdD1kaXN0YW5jZSxiZXN0TWF0Y2g9dHN0KX1yZXR1cm4gYmVzdE1hdGNofWZ1bmN0aW9uIGdldFRlc3QocG9zLHRlc3RzKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQ7cmV0dXJuIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXT9tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc106KHRlc3RzfHxnZXRUZXN0cy5jYWxsKHRoaXMscG9zKSlbMF19ZnVuY3Rpb24gaXNTdWJzZXRPZihzb3VyY2UsdGFyZ2V0LG9wdHMpe2Z1bmN0aW9uIGV4cGFuZChwYXR0ZXJuKXtmb3IodmFyIGV4cGFuZGVkPVtdLHN0YXJ0PS0xLGVuZCxpPTAsbD1wYXR0ZXJuLmxlbmd0aDtpPGw7aSsrKWlmKFwiLVwiPT09cGF0dGVybi5jaGFyQXQoaSkpZm9yKGVuZD1wYXR0ZXJuLmNoYXJDb2RlQXQoaSsxKTsrK3N0YXJ0PGVuZDspZXhwYW5kZWQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHN0YXJ0KSk7ZWxzZSBzdGFydD1wYXR0ZXJuLmNoYXJDb2RlQXQoaSksZXhwYW5kZWQucHVzaChwYXR0ZXJuLmNoYXJBdChpKSk7cmV0dXJuIGV4cGFuZGVkLmpvaW4oXCJcIil9cmV0dXJuIHNvdXJjZS5tYXRjaC5kZWY9PT10YXJnZXQubWF0Y2gubmF0aXZlRGVmfHwhKCEob3B0cy5yZWdleHx8c291cmNlLm1hdGNoLmZuIGluc3RhbmNlb2YgUmVnRXhwJiZ0YXJnZXQubWF0Y2guZm4gaW5zdGFuY2VvZiBSZWdFeHApfHwhMD09PXNvdXJjZS5tYXRjaC5zdGF0aWN8fCEwPT09dGFyZ2V0Lm1hdGNoLnN0YXRpYykmJi0xIT09ZXhwYW5kKHRhcmdldC5tYXRjaC5mbi50b1N0cmluZygpLnJlcGxhY2UoL1tbXFxdL10vZyxcIlwiKSkuaW5kZXhPZihleHBhbmQoc291cmNlLm1hdGNoLmZuLnRvU3RyaW5nKCkucmVwbGFjZSgvW1tcXF0vXS9nLFwiXCIpKSl9ZnVuY3Rpb24gZ2V0VGVzdHMocG9zLG5keEludGx6cix0c3RQcyl7dmFyIGlucHV0bWFzaz10aGlzLCQ9dGhpcy5kZXBlbmRlbmN5TGliLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LG9wdHM9dGhpcy5vcHRzLGVsPXRoaXMuZWwsbWFza1Rva2Vucz1tYXNrc2V0Lm1hc2tUb2tlbix0ZXN0UG9zPW5keEludGx6cj90c3RQczowLG5keEluaXRpYWxpemVyPW5keEludGx6cj9uZHhJbnRsenIuc2xpY2UoKTpbMF0sbWF0Y2hlcz1bXSxpbnNlcnRTdG9wPSExLGxhdGVzdE1hdGNoLGNhY2hlRGVwZW5kZW5jeT1uZHhJbnRsenI/bmR4SW50bHpyLmpvaW4oXCJcIik6XCJcIjtmdW5jdGlvbiByZXNvbHZlVGVzdEZyb21Ub2tlbihtYXNrVG9rZW4sbmR4SW5pdGlhbGl6ZXIsbG9vcE5keCxxdWFudGlmaWVyUmVjdXJzZSl7ZnVuY3Rpb24gaGFuZGxlTWF0Y2gobWF0Y2gsbG9vcE5keCxxdWFudGlmaWVyUmVjdXJzZSl7ZnVuY3Rpb24gaXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLHRva2VuR3JvdXApe3ZhciBmaXJzdE1hdGNoPTA9PT10b2tlbkdyb3VwLm1hdGNoZXMuaW5kZXhPZihsYXRlc3RNYXRjaCk7cmV0dXJuIGZpcnN0TWF0Y2h8fHRva2VuR3JvdXAubWF0Y2hlcy5ldmVyeShmdW5jdGlvbihtYXRjaCxuZHgpe3JldHVybiEwPT09bWF0Y2guaXNRdWFudGlmaWVyP2ZpcnN0TWF0Y2g9aXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLHRva2VuR3JvdXAubWF0Y2hlc1tuZHgtMV0pOk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXRjaCxcIm1hdGNoZXNcIikmJihmaXJzdE1hdGNoPWlzRmlyc3RNYXRjaChsYXRlc3RNYXRjaCxtYXRjaCkpLCFmaXJzdE1hdGNofSksZmlyc3RNYXRjaH1mdW5jdGlvbiByZXNvbHZlTmR4SW5pdGlhbGl6ZXIocG9zLGFsdGVybmF0ZU5keCx0YXJnZXRBbHRlcm5hdGlvbil7dmFyIGJlc3RNYXRjaCxpbmRleFBvcztpZigobWFza3NldC50ZXN0c1twb3NdfHxtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10pJiYobWFza3NldC50ZXN0c1twb3NdfHxbbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdXSkuZXZlcnkoZnVuY3Rpb24obG1udCxuZHgpe2lmKGxtbnQubWxvY1thbHRlcm5hdGVOZHhdKXJldHVybiBiZXN0TWF0Y2g9bG1udCwhMTt2YXIgYWx0ZXJuYXRpb249dm9pZCAwIT09dGFyZ2V0QWx0ZXJuYXRpb24/dGFyZ2V0QWx0ZXJuYXRpb246bG1udC5hbHRlcm5hdGlvbixuZHhQb3M9dm9pZCAwIT09bG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXT9sbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuaW5kZXhPZihhbHRlcm5hdGVOZHgpOi0xO3JldHVybih2b2lkIDA9PT1pbmRleFBvc3x8bmR4UG9zPGluZGV4UG9zKSYmLTEhPT1uZHhQb3MmJihiZXN0TWF0Y2g9bG1udCxpbmRleFBvcz1uZHhQb3MpLCEwfSksYmVzdE1hdGNoKXt2YXIgYmVzdE1hdGNoQWx0SW5kZXg9YmVzdE1hdGNoLmxvY2F0b3JbYmVzdE1hdGNoLmFsdGVybmF0aW9uXSxsb2NhdG9yPWJlc3RNYXRjaC5tbG9jW2FsdGVybmF0ZU5keF18fGJlc3RNYXRjaC5tbG9jW2Jlc3RNYXRjaEFsdEluZGV4XXx8YmVzdE1hdGNoLmxvY2F0b3I7cmV0dXJuIGxvY2F0b3Iuc2xpY2UoKHZvaWQgMCE9PXRhcmdldEFsdGVybmF0aW9uP3RhcmdldEFsdGVybmF0aW9uOmJlc3RNYXRjaC5hbHRlcm5hdGlvbikrMSl9cmV0dXJuIHZvaWQgMCE9PXRhcmdldEFsdGVybmF0aW9uP3Jlc29sdmVOZHhJbml0aWFsaXplcihwb3MsYWx0ZXJuYXRlTmR4KTp2b2lkIDB9ZnVuY3Rpb24gc3RhdGljQ2FuTWF0Y2hEZWZpbml0aW9uKHNvdXJjZSx0YXJnZXQpe3JldHVybiEwPT09c291cmNlLm1hdGNoLnN0YXRpYyYmITAhPT10YXJnZXQubWF0Y2guc3RhdGljJiZ0YXJnZXQubWF0Y2guZm4udGVzdChzb3VyY2UubWF0Y2guZGVmLG1hc2tzZXQscG9zLCExLG9wdHMsITEpfWZ1bmN0aW9uIHNldE1lcmdlTG9jYXRvcnModGFyZ2V0TWF0Y2gsYWx0TWF0Y2gpe3ZhciBhbHRlcm5hdGlvbk5keD10YXJnZXRNYXRjaC5hbHRlcm5hdGlvbixzaG91bGRNZXJnZT12b2lkIDA9PT1hbHRNYXRjaHx8YWx0ZXJuYXRpb25OZHg9PT1hbHRNYXRjaC5hbHRlcm5hdGlvbiYmLTE9PT10YXJnZXRNYXRjaC5sb2NhdG9yW2FsdGVybmF0aW9uTmR4XS50b1N0cmluZygpLmluZGV4T2YoYWx0TWF0Y2gubG9jYXRvclthbHRlcm5hdGlvbk5keF0pO2lmKCFzaG91bGRNZXJnZSYmYWx0ZXJuYXRpb25OZHg+YWx0TWF0Y2guYWx0ZXJuYXRpb24pZm9yKHZhciBpPWFsdE1hdGNoLmFsdGVybmF0aW9uO2k8YWx0ZXJuYXRpb25OZHg7aSsrKWlmKHRhcmdldE1hdGNoLmxvY2F0b3JbaV0hPT1hbHRNYXRjaC5sb2NhdG9yW2ldKXthbHRlcm5hdGlvbk5keD1pLHNob3VsZE1lcmdlPSEwO2JyZWFrfWlmKHNob3VsZE1lcmdlKXt0YXJnZXRNYXRjaC5tbG9jPXRhcmdldE1hdGNoLm1sb2N8fHt9O3ZhciBsb2NOZHg9dGFyZ2V0TWF0Y2gubG9jYXRvclthbHRlcm5hdGlvbk5keF07aWYodm9pZCAwIT09bG9jTmR4KXtpZihcInN0cmluZ1wiPT10eXBlb2YgbG9jTmR4JiYobG9jTmR4PWxvY05keC5zcGxpdChcIixcIilbMF0pLHZvaWQgMD09PXRhcmdldE1hdGNoLm1sb2NbbG9jTmR4XSYmKHRhcmdldE1hdGNoLm1sb2NbbG9jTmR4XT10YXJnZXRNYXRjaC5sb2NhdG9yLnNsaWNlKCkpLHZvaWQgMCE9PWFsdE1hdGNoKXtmb3IodmFyIG5keCBpbiBhbHRNYXRjaC5tbG9jKVwic3RyaW5nXCI9PXR5cGVvZiBuZHgmJihuZHg9bmR4LnNwbGl0KFwiLFwiKVswXSksdm9pZCAwPT09dGFyZ2V0TWF0Y2gubWxvY1tuZHhdJiYodGFyZ2V0TWF0Y2gubWxvY1tuZHhdPWFsdE1hdGNoLm1sb2NbbmR4XSk7dGFyZ2V0TWF0Y2gubG9jYXRvclthbHRlcm5hdGlvbk5keF09T2JqZWN0LmtleXModGFyZ2V0TWF0Y2gubWxvYykuam9pbihcIixcIil9cmV0dXJuITB9dGFyZ2V0TWF0Y2guYWx0ZXJuYXRpb249dm9pZCAwfXJldHVybiExfWZ1bmN0aW9uIGlzU2FtZUxldmVsKHRhcmdldE1hdGNoLGFsdE1hdGNoKXtpZih0YXJnZXRNYXRjaC5sb2NhdG9yLmxlbmd0aCE9PWFsdE1hdGNoLmxvY2F0b3IubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbG9jTmR4PXRhcmdldE1hdGNoLmFsdGVybmF0aW9uKzE7bG9jTmR4PHRhcmdldE1hdGNoLmxvY2F0b3IubGVuZ3RoO2xvY05keCsrKWlmKHRhcmdldE1hdGNoLmxvY2F0b3JbbG9jTmR4XSE9PWFsdE1hdGNoLmxvY2F0b3JbbG9jTmR4XSlyZXR1cm4hMTtyZXR1cm4hMH1pZih0ZXN0UG9zPnBvcytvcHRzLl9tYXhUZXN0UG9zKXRocm93XCJJbnB1dG1hc2s6IFRoZXJlIGlzIHByb2JhYmx5IGFuIGVycm9yIGluIHlvdXIgbWFzayBkZWZpbml0aW9uIG9yIGluIHRoZSBjb2RlLiBDcmVhdGUgYW4gaXNzdWUgb24gZ2l0aHViIHdpdGggYW4gZXhhbXBsZSBvZiB0aGUgbWFzayB5b3UgYXJlIHVzaW5nLiBcIittYXNrc2V0Lm1hc2s7aWYodGVzdFBvcz09PXBvcyYmdm9pZCAwPT09bWF0Y2gubWF0Y2hlcylyZXR1cm4gbWF0Y2hlcy5wdXNoKHttYXRjaDptYXRjaCxsb2NhdG9yOmxvb3BOZHgucmV2ZXJzZSgpLGNkOmNhY2hlRGVwZW5kZW5jeSxtbG9jOnt9fSksITA7aWYodm9pZCAwIT09bWF0Y2gubWF0Y2hlcyl7aWYobWF0Y2guaXNHcm91cCYmcXVhbnRpZmllclJlY3Vyc2UhPT1tYXRjaCl7aWYobWF0Y2g9aGFuZGxlTWF0Y2gobWFza1Rva2VuLm1hdGNoZXNbbWFza1Rva2VuLm1hdGNoZXMuaW5kZXhPZihtYXRjaCkrMV0sbG9vcE5keCxxdWFudGlmaWVyUmVjdXJzZSksbWF0Y2gpcmV0dXJuITB9ZWxzZSBpZihtYXRjaC5pc09wdGlvbmFsKXt2YXIgb3B0aW9uYWxUb2tlbj1tYXRjaCxtdGNoc05keD1tYXRjaGVzLmxlbmd0aDtpZihtYXRjaD1yZXNvbHZlVGVzdEZyb21Ub2tlbihtYXRjaCxuZHhJbml0aWFsaXplcixsb29wTmR4LHF1YW50aWZpZXJSZWN1cnNlKSxtYXRjaCl7aWYobWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKG10Y2gsbmR4KXttdGNoc05keDw9bmR4JiYobXRjaC5tYXRjaC5vcHRpb25hbGl0eT0hMCl9KSxsYXRlc3RNYXRjaD1tYXRjaGVzW21hdGNoZXMubGVuZ3RoLTFdLm1hdGNoLHZvaWQgMCE9PXF1YW50aWZpZXJSZWN1cnNlfHwhaXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLG9wdGlvbmFsVG9rZW4pKXJldHVybiEwO2luc2VydFN0b3A9ITAsdGVzdFBvcz1wb3N9fWVsc2UgaWYobWF0Y2guaXNBbHRlcm5hdG9yKXt2YXIgYWx0ZXJuYXRlVG9rZW49bWF0Y2gsbWFsdGVybmF0ZU1hdGNoZXM9W10sbWFsdE1hdGNoZXMsY3VycmVudE1hdGNoZXM9bWF0Y2hlcy5zbGljZSgpLGxvb3BOZHhDbnQ9bG9vcE5keC5sZW5ndGgsdW5NYXRjaGVkQWx0ZXJuYXRpb249ITEsYWx0SW5kZXg9MDxuZHhJbml0aWFsaXplci5sZW5ndGg/bmR4SW5pdGlhbGl6ZXIuc2hpZnQoKTotMTtpZigtMT09PWFsdEluZGV4fHxcInN0cmluZ1wiPT10eXBlb2YgYWx0SW5kZXgpe3ZhciBjdXJyZW50UG9zPXRlc3RQb3MsbmR4SW5pdGlhbGl6ZXJDbG9uZT1uZHhJbml0aWFsaXplci5zbGljZSgpLGFsdEluZGV4QXJyPVtdLGFtbmR4O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhbHRJbmRleClhbHRJbmRleEFycj1hbHRJbmRleC5zcGxpdChcIixcIik7ZWxzZSBmb3IoYW1uZHg9MDthbW5keDxhbHRlcm5hdGVUb2tlbi5tYXRjaGVzLmxlbmd0aDthbW5keCsrKWFsdEluZGV4QXJyLnB1c2goYW1uZHgudG9TdHJpbmcoKSk7aWYodm9pZCAwIT09bWFza3NldC5leGNsdWRlc1twb3NdKXtmb3IodmFyIGFsdEluZGV4QXJyQ2xvbmU9YWx0SW5kZXhBcnIuc2xpY2UoKSxpPTAsZXhsPW1hc2tzZXQuZXhjbHVkZXNbcG9zXS5sZW5ndGg7aTxleGw7aSsrKXt2YXIgZXhjbHVkZVNldD1tYXNrc2V0LmV4Y2x1ZGVzW3Bvc11baV0udG9TdHJpbmcoKS5zcGxpdChcIjpcIik7bG9vcE5keC5sZW5ndGg9PWV4Y2x1ZGVTZXRbMV0mJmFsdEluZGV4QXJyLnNwbGljZShhbHRJbmRleEFyci5pbmRleE9mKGV4Y2x1ZGVTZXRbMF0pLDEpfTA9PT1hbHRJbmRleEFyci5sZW5ndGgmJihkZWxldGUgbWFza3NldC5leGNsdWRlc1twb3NdLGFsdEluZGV4QXJyPWFsdEluZGV4QXJyQ2xvbmUpfSghMD09PW9wdHMua2VlcFN0YXRpY3x8aXNGaW5pdGUocGFyc2VJbnQob3B0cy5rZWVwU3RhdGljKSkmJmN1cnJlbnRQb3M+PW9wdHMua2VlcFN0YXRpYykmJihhbHRJbmRleEFycj1hbHRJbmRleEFyci5zbGljZSgwLDEpKTtmb3IodmFyIG5keD0wO25keDxhbHRJbmRleEFyci5sZW5ndGg7bmR4Kyspe2FtbmR4PXBhcnNlSW50KGFsdEluZGV4QXJyW25keF0pLG1hdGNoZXM9W10sbmR4SW5pdGlhbGl6ZXI9XCJzdHJpbmdcIj09dHlwZW9mIGFsdEluZGV4JiZyZXNvbHZlTmR4SW5pdGlhbGl6ZXIodGVzdFBvcyxhbW5keCxsb29wTmR4Q250KXx8bmR4SW5pdGlhbGl6ZXJDbG9uZS5zbGljZSgpO3ZhciB0b2tlbk1hdGNoPWFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYW1uZHhdO2lmKHRva2VuTWF0Y2gmJmhhbmRsZU1hdGNoKHRva2VuTWF0Y2gsW2FtbmR4XS5jb25jYXQobG9vcE5keCkscXVhbnRpZmllclJlY3Vyc2UpKW1hdGNoPSEwO2Vsc2UgaWYoMD09PW5keCYmKHVuTWF0Y2hlZEFsdGVybmF0aW9uPSEwKSx0b2tlbk1hdGNoJiZ0b2tlbk1hdGNoLm1hdGNoZXMmJnRva2VuTWF0Y2gubWF0Y2hlcy5sZW5ndGg+YWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1swXS5tYXRjaGVzLmxlbmd0aClicmVhazttYWx0TWF0Y2hlcz1tYXRjaGVzLnNsaWNlKCksdGVzdFBvcz1jdXJyZW50UG9zLG1hdGNoZXM9W107Zm9yKHZhciBuZHgxPTA7bmR4MTxtYWx0TWF0Y2hlcy5sZW5ndGg7bmR4MSsrKXt2YXIgYWx0TWF0Y2g9bWFsdE1hdGNoZXNbbmR4MV0sZHJvcE1hdGNoPSExO2FsdE1hdGNoLm1hdGNoLmppdD1hbHRNYXRjaC5tYXRjaC5qaXR8fHVuTWF0Y2hlZEFsdGVybmF0aW9uLGFsdE1hdGNoLmFsdGVybmF0aW9uPWFsdE1hdGNoLmFsdGVybmF0aW9ufHxsb29wTmR4Q250LHNldE1lcmdlTG9jYXRvcnMoYWx0TWF0Y2gpO2Zvcih2YXIgbmR4Mj0wO25keDI8bWFsdGVybmF0ZU1hdGNoZXMubGVuZ3RoO25keDIrKyl7dmFyIGFsdE1hdGNoMj1tYWx0ZXJuYXRlTWF0Y2hlc1tuZHgyXTtpZihcInN0cmluZ1wiIT10eXBlb2YgYWx0SW5kZXh8fHZvaWQgMCE9PWFsdE1hdGNoLmFsdGVybmF0aW9uJiZhbHRJbmRleEFyci5pbmNsdWRlcyhhbHRNYXRjaC5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXS50b1N0cmluZygpKSl7aWYoYWx0TWF0Y2gubWF0Y2gubmF0aXZlRGVmPT09YWx0TWF0Y2gyLm1hdGNoLm5hdGl2ZURlZil7ZHJvcE1hdGNoPSEwLHNldE1lcmdlTG9jYXRvcnMoYWx0TWF0Y2gyLGFsdE1hdGNoKTticmVha31pZihpc1N1YnNldE9mKGFsdE1hdGNoLGFsdE1hdGNoMixvcHRzKSl7c2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaCxhbHRNYXRjaDIpJiYoZHJvcE1hdGNoPSEwLG1hbHRlcm5hdGVNYXRjaGVzLnNwbGljZShtYWx0ZXJuYXRlTWF0Y2hlcy5pbmRleE9mKGFsdE1hdGNoMiksMCxhbHRNYXRjaCkpO2JyZWFrfWlmKGlzU3Vic2V0T2YoYWx0TWF0Y2gyLGFsdE1hdGNoLG9wdHMpKXtzZXRNZXJnZUxvY2F0b3JzKGFsdE1hdGNoMixhbHRNYXRjaCk7YnJlYWt9aWYoc3RhdGljQ2FuTWF0Y2hEZWZpbml0aW9uKGFsdE1hdGNoLGFsdE1hdGNoMikpe2lzU2FtZUxldmVsKGFsdE1hdGNoLGFsdE1hdGNoMil8fHZvaWQgMCE9PWVsLmlucHV0bWFzay51c2VyT3B0aW9ucy5rZWVwU3RhdGljP3NldE1lcmdlTG9jYXRvcnMoYWx0TWF0Y2gsYWx0TWF0Y2gyKSYmKGRyb3BNYXRjaD0hMCxtYWx0ZXJuYXRlTWF0Y2hlcy5zcGxpY2UobWFsdGVybmF0ZU1hdGNoZXMuaW5kZXhPZihhbHRNYXRjaDIpLDAsYWx0TWF0Y2gpKTpvcHRzLmtlZXBTdGF0aWM9ITA7YnJlYWt9fX1kcm9wTWF0Y2h8fG1hbHRlcm5hdGVNYXRjaGVzLnB1c2goYWx0TWF0Y2gpfX1tYXRjaGVzPWN1cnJlbnRNYXRjaGVzLmNvbmNhdChtYWx0ZXJuYXRlTWF0Y2hlcyksdGVzdFBvcz1wb3MsaW5zZXJ0U3RvcD0wPG1hdGNoZXMubGVuZ3RoLG1hdGNoPTA8bWFsdGVybmF0ZU1hdGNoZXMubGVuZ3RoLG5keEluaXRpYWxpemVyPW5keEluaXRpYWxpemVyQ2xvbmUuc2xpY2UoKX1lbHNlIG1hdGNoPWhhbmRsZU1hdGNoKGFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYWx0SW5kZXhdfHxtYXNrVG9rZW4ubWF0Y2hlc1thbHRJbmRleF0sW2FsdEluZGV4XS5jb25jYXQobG9vcE5keCkscXVhbnRpZmllclJlY3Vyc2UpO2lmKG1hdGNoKXJldHVybiEwfWVsc2UgaWYobWF0Y2guaXNRdWFudGlmaWVyJiZxdWFudGlmaWVyUmVjdXJzZSE9PW1hc2tUb2tlbi5tYXRjaGVzW21hc2tUb2tlbi5tYXRjaGVzLmluZGV4T2YobWF0Y2gpLTFdKWZvcih2YXIgcXQ9bWF0Y2gscW5keD0wPG5keEluaXRpYWxpemVyLmxlbmd0aD9uZHhJbml0aWFsaXplci5zaGlmdCgpOjA7cW5keDwoaXNOYU4ocXQucXVhbnRpZmllci5tYXgpP3FuZHgrMTpxdC5xdWFudGlmaWVyLm1heCkmJnRlc3RQb3M8PXBvcztxbmR4Kyspe3ZhciB0b2tlbkdyb3VwPW1hc2tUb2tlbi5tYXRjaGVzW21hc2tUb2tlbi5tYXRjaGVzLmluZGV4T2YocXQpLTFdO2lmKG1hdGNoPWhhbmRsZU1hdGNoKHRva2VuR3JvdXAsW3FuZHhdLmNvbmNhdChsb29wTmR4KSx0b2tlbkdyb3VwKSxtYXRjaCl7aWYobGF0ZXN0TWF0Y2g9bWF0Y2hlc1ttYXRjaGVzLmxlbmd0aC0xXS5tYXRjaCxsYXRlc3RNYXRjaC5vcHRpb25hbFF1YW50aWZpZXI9cW5keD49cXQucXVhbnRpZmllci5taW4sbGF0ZXN0TWF0Y2guaml0PShxbmR4fHwxKSp0b2tlbkdyb3VwLm1hdGNoZXMuaW5kZXhPZihsYXRlc3RNYXRjaCk+PXF0LnF1YW50aWZpZXIuaml0LGxhdGVzdE1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmaXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLHRva2VuR3JvdXApKXtpbnNlcnRTdG9wPSEwLHRlc3RQb3M9cG9zO2JyZWFrfXJldHVybiBsYXRlc3RNYXRjaC5qaXQmJihtYXNrc2V0LmppdE9mZnNldFtwb3NdPXRva2VuR3JvdXAubWF0Y2hlcy5sZW5ndGgtdG9rZW5Hcm91cC5tYXRjaGVzLmluZGV4T2YobGF0ZXN0TWF0Y2gpKSwhMH19ZWxzZSBpZihtYXRjaD1yZXNvbHZlVGVzdEZyb21Ub2tlbihtYXRjaCxuZHhJbml0aWFsaXplcixsb29wTmR4LHF1YW50aWZpZXJSZWN1cnNlKSxtYXRjaClyZXR1cm4hMH1lbHNlIHRlc3RQb3MrK31mb3IodmFyIHRuZHg9MDxuZHhJbml0aWFsaXplci5sZW5ndGg/bmR4SW5pdGlhbGl6ZXIuc2hpZnQoKTowO3RuZHg8bWFza1Rva2VuLm1hdGNoZXMubGVuZ3RoO3RuZHgrKylpZighMCE9PW1hc2tUb2tlbi5tYXRjaGVzW3RuZHhdLmlzUXVhbnRpZmllcil7dmFyIG1hdGNoPWhhbmRsZU1hdGNoKG1hc2tUb2tlbi5tYXRjaGVzW3RuZHhdLFt0bmR4XS5jb25jYXQobG9vcE5keCkscXVhbnRpZmllclJlY3Vyc2UpO2lmKG1hdGNoJiZ0ZXN0UG9zPT09cG9zKXJldHVybiBtYXRjaDtpZihwb3M8dGVzdFBvcylicmVha319ZnVuY3Rpb24gbWVyZ2VMb2NhdG9ycyhwb3MsdGVzdHMpe3ZhciBsb2NhdG9yPVtdLGFsdGVybmF0aW9uO3JldHVybiBBcnJheS5pc0FycmF5KHRlc3RzKXx8KHRlc3RzPVt0ZXN0c10pLDA8dGVzdHMubGVuZ3RoJiYodm9pZCAwPT09dGVzdHNbMF0uYWx0ZXJuYXRpb258fCEwPT09b3B0cy5rZWVwU3RhdGljPyhsb2NhdG9yPWRldGVybWluZVRlc3RUZW1wbGF0ZS5jYWxsKGlucHV0bWFzayxwb3MsdGVzdHMuc2xpY2UoKSkubG9jYXRvci5zbGljZSgpLDA9PT1sb2NhdG9yLmxlbmd0aCYmKGxvY2F0b3I9dGVzdHNbMF0ubG9jYXRvci5zbGljZSgpKSk6dGVzdHMuZm9yRWFjaChmdW5jdGlvbih0c3Qpe1wiXCIhPT10c3QuZGVmJiYoMD09PWxvY2F0b3IubGVuZ3RoPyhhbHRlcm5hdGlvbj10c3QuYWx0ZXJuYXRpb24sbG9jYXRvcj10c3QubG9jYXRvci5zbGljZSgpKTp0c3QubG9jYXRvclthbHRlcm5hdGlvbl0mJi0xPT09bG9jYXRvclthbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5pbmRleE9mKHRzdC5sb2NhdG9yW2FsdGVybmF0aW9uXSkmJihsb2NhdG9yW2FsdGVybmF0aW9uXSs9XCIsXCIrdHN0LmxvY2F0b3JbYWx0ZXJuYXRpb25dKSl9KSksbG9jYXRvcn1pZigtMTxwb3MmJih2b2lkIDA9PT1pbnB1dG1hc2subWF4TGVuZ3RofHxwb3M8aW5wdXRtYXNrLm1heExlbmd0aCkpe2lmKHZvaWQgMD09PW5keEludGx6cil7Zm9yKHZhciBwcmV2aW91c1Bvcz1wb3MtMSx0ZXN0O3ZvaWQgMD09PSh0ZXN0PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcHJldmlvdXNQb3NdfHxtYXNrc2V0LnRlc3RzW3ByZXZpb3VzUG9zXSkmJi0xPHByZXZpb3VzUG9zOylwcmV2aW91c1Bvcy0tO3ZvaWQgMCE9PXRlc3QmJi0xPHByZXZpb3VzUG9zJiYobmR4SW5pdGlhbGl6ZXI9bWVyZ2VMb2NhdG9ycyhwcmV2aW91c1Bvcyx0ZXN0KSxjYWNoZURlcGVuZGVuY3k9bmR4SW5pdGlhbGl6ZXIuam9pbihcIlwiKSx0ZXN0UG9zPXByZXZpb3VzUG9zKX1pZihtYXNrc2V0LnRlc3RzW3Bvc10mJm1hc2tzZXQudGVzdHNbcG9zXVswXS5jZD09PWNhY2hlRGVwZW5kZW5jeSlyZXR1cm4gbWFza3NldC50ZXN0c1twb3NdO2Zvcih2YXIgbXRuZHg9bmR4SW5pdGlhbGl6ZXIuc2hpZnQoKTttdG5keDxtYXNrVG9rZW5zLmxlbmd0aDttdG5keCsrKXt2YXIgbWF0Y2g9cmVzb2x2ZVRlc3RGcm9tVG9rZW4obWFza1Rva2Vuc1ttdG5keF0sbmR4SW5pdGlhbGl6ZXIsW210bmR4XSk7aWYobWF0Y2gmJnRlc3RQb3M9PT1wb3N8fHBvczx0ZXN0UG9zKWJyZWFrfX1yZXR1cm4gMCE9PW1hdGNoZXMubGVuZ3RoJiYhaW5zZXJ0U3RvcHx8bWF0Y2hlcy5wdXNoKHttYXRjaDp7Zm46bnVsbCxzdGF0aWM6ITAsb3B0aW9uYWxpdHk6ITEsY2FzaW5nOm51bGwsZGVmOlwiXCIscGxhY2Vob2xkZXI6XCJcIn0sbG9jYXRvcjpbXSxtbG9jOnt9LGNkOmNhY2hlRGVwZW5kZW5jeX0pLHZvaWQgMCE9PW5keEludGx6ciYmbWFza3NldC50ZXN0c1twb3NdPyQuZXh0ZW5kKCEwLFtdLG1hdGNoZXMpOihtYXNrc2V0LnRlc3RzW3Bvc109JC5leHRlbmQoITAsW10sbWF0Y2hlcyksbWFza3NldC50ZXN0c1twb3NdKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRldGVybWluZVRlc3RUZW1wbGF0ZT1kZXRlcm1pbmVUZXN0VGVtcGxhdGUsZXhwb3J0cy5nZXREZWNpc2lvblRha2VyPWdldERlY2lzaW9uVGFrZXIsZXhwb3J0cy5nZXRNYXNrVGVtcGxhdGU9Z2V0TWFza1RlbXBsYXRlLGV4cG9ydHMuZ2V0UGxhY2Vob2xkZXI9Z2V0UGxhY2Vob2xkZXIsZXhwb3J0cy5nZXRUZXN0PWdldFRlc3QsZXhwb3J0cy5nZXRUZXN0cz1nZXRUZXN0cyxleHBvcnRzLmdldFRlc3RUZW1wbGF0ZT1nZXRUZXN0VGVtcGxhdGUsZXhwb3J0cy5pc1N1YnNldE9mPWlzU3Vic2V0T2Z9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuYWx0ZXJuYXRlPWFsdGVybmF0ZSxleHBvcnRzLmNoZWNrQWx0ZXJuYXRpb25NYXRjaD1jaGVja0FsdGVybmF0aW9uTWF0Y2gsZXhwb3J0cy5pc0NvbXBsZXRlPWlzQ29tcGxldGUsZXhwb3J0cy5pc1ZhbGlkPWlzVmFsaWQsZXhwb3J0cy5yZWZyZXNoRnJvbUJ1ZmZlcj1yZWZyZXNoRnJvbUJ1ZmZlcixleHBvcnRzLnJldmFsaWRhdGVNYXNrPXJldmFsaWRhdGVNYXNrLGV4cG9ydHMuaGFuZGxlUmVtb3ZlPWhhbmRsZVJlbW92ZTt2YXIgX3ZhbGlkYXRpb25UZXN0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF9rZXljb2RlPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygwKSksX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSksX2V2ZW50aGFuZGxlcnM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gYWx0ZXJuYXRlKG1hc2tQb3MsYyxzdHJpY3QsZnJvbUlzVmFsaWQsckFsdFBvcyxzZWxlY3Rpb24pe3ZhciBpbnB1dG1hc2s9dGhpcywkPXRoaXMuZGVwZW5kZW5jeUxpYixvcHRzPXRoaXMub3B0cyxtYXNrc2V0PXRoaXMubWFza3NldCx2YWxpZFBzQ2xvbmU9JC5leHRlbmQoITAse30sbWFza3NldC52YWxpZFBvc2l0aW9ucyksdHN0Q2xvbmU9JC5leHRlbmQoITAse30sbWFza3NldC50ZXN0cyksbGFzdEFsdCxhbHRlcm5hdGlvbixpc1ZhbGlkUnNsdD0hMSxyZXR1cm5Sc2x0PSExLGFsdFBvcyxwcmV2QWx0UG9zLGksdmFsaWRQb3MsZGVjaXNpb25Qb3MsbEFsdFBvcz12b2lkIDAhPT1yQWx0UG9zP3JBbHRQb3M6X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyksbmV4dFBvcyxpbnB1dCxiZWdpbixlbmQ7aWYoc2VsZWN0aW9uJiYoYmVnaW49c2VsZWN0aW9uLmJlZ2luLGVuZD1zZWxlY3Rpb24uZW5kLHNlbGVjdGlvbi5iZWdpbj5zZWxlY3Rpb24uZW5kJiYoYmVnaW49c2VsZWN0aW9uLmVuZCxlbmQ9c2VsZWN0aW9uLmJlZ2luKSksLTE9PT1sQWx0UG9zJiZ2b2lkIDA9PT1yQWx0UG9zKWxhc3RBbHQ9MCxwcmV2QWx0UG9zPV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMsbGFzdEFsdCksYWx0ZXJuYXRpb249cHJldkFsdFBvcy5hbHRlcm5hdGlvbjtlbHNlIGZvcig7MDw9bEFsdFBvcztsQWx0UG9zLS0paWYoYWx0UG9zPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbEFsdFBvc10sYWx0UG9zJiZ2b2lkIDAhPT1hbHRQb3MuYWx0ZXJuYXRpb24pe2lmKHByZXZBbHRQb3MmJnByZXZBbHRQb3MubG9jYXRvclthbHRQb3MuYWx0ZXJuYXRpb25dIT09YWx0UG9zLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSlicmVhaztsYXN0QWx0PWxBbHRQb3MsYWx0ZXJuYXRpb249bWFza3NldC52YWxpZFBvc2l0aW9uc1tsYXN0QWx0XS5hbHRlcm5hdGlvbixwcmV2QWx0UG9zPWFsdFBvc31pZih2b2lkIDAhPT1hbHRlcm5hdGlvbil7ZGVjaXNpb25Qb3M9cGFyc2VJbnQobGFzdEFsdCksbWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc109bWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc118fFtdLCEwIT09bWFza1BvcyYmbWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10ucHVzaCgoMCxfdmFsaWRhdGlvblRlc3RzLmdldERlY2lzaW9uVGFrZXIpKHByZXZBbHRQb3MpK1wiOlwiK3ByZXZBbHRQb3MuYWx0ZXJuYXRpb24pO3ZhciB2YWxpZElucHV0cz1bXSxyZXN1bHRQb3M9LTE7Zm9yKGk9ZGVjaXNpb25Qb3M7aTxfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzLHZvaWQgMCwhMCkrMTtpKyspLTE9PT1yZXN1bHRQb3MmJm1hc2tQb3M8PWkmJnZvaWQgMCE9PWMmJih2YWxpZElucHV0cy5wdXNoKGMpLHJlc3VsdFBvcz12YWxpZElucHV0cy5sZW5ndGgtMSksdmFsaWRQb3M9bWFza3NldC52YWxpZFBvc2l0aW9uc1tpXSx2YWxpZFBvcyYmITAhPT12YWxpZFBvcy5nZW5lcmF0ZWRJbnB1dCYmKHZvaWQgMD09PXNlbGVjdGlvbnx8aTxiZWdpbnx8ZW5kPD1pKSYmdmFsaWRJbnB1dHMucHVzaCh2YWxpZFBvcy5pbnB1dCksZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV07Zm9yKC0xPT09cmVzdWx0UG9zJiZ2b2lkIDAhPT1jJiYodmFsaWRJbnB1dHMucHVzaChjKSxyZXN1bHRQb3M9dmFsaWRJbnB1dHMubGVuZ3RoLTEpO3ZvaWQgMCE9PW1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdJiZtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXS5sZW5ndGg8MTA7KXtmb3IobWFza3NldC50ZXN0cz17fSxfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwodGhpcywhMCksaXNWYWxpZFJzbHQ9ITAsaT0wO2k8dmFsaWRJbnB1dHMubGVuZ3RoJiYobmV4dFBvcz1pc1ZhbGlkUnNsdC5jYXJldHx8X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyx2b2lkIDAsITApKzEsaW5wdXQ9dmFsaWRJbnB1dHNbaV0saXNWYWxpZFJzbHQ9aXNWYWxpZC5jYWxsKHRoaXMsbmV4dFBvcyxpbnB1dCwhMSxmcm9tSXNWYWxpZCwhMCkpO2krKylpPT09cmVzdWx0UG9zJiYocmV0dXJuUnNsdD1pc1ZhbGlkUnNsdCksMT09bWFza1BvcyYmaXNWYWxpZFJzbHQmJihyZXR1cm5Sc2x0PXtjYXJldFBvczppfSk7aWYoaXNWYWxpZFJzbHQpYnJlYWs7aWYoX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKHRoaXMpLHByZXZBbHRQb3M9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxkZWNpc2lvblBvcyksbWFza3NldC52YWxpZFBvc2l0aW9ucz0kLmV4dGVuZCghMCx7fSx2YWxpZFBzQ2xvbmUpLG1hc2tzZXQudGVzdHM9JC5leHRlbmQoITAse30sdHN0Q2xvbmUpLCFtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXSl7cmV0dXJuUnNsdD1hbHRlcm5hdGUuY2FsbCh0aGlzLG1hc2tQb3MsYyxzdHJpY3QsZnJvbUlzVmFsaWQsZGVjaXNpb25Qb3MtMSxzZWxlY3Rpb24pO2JyZWFrfXZhciBkZWNpc2lvblRha2VyPSgwLF92YWxpZGF0aW9uVGVzdHMuZ2V0RGVjaXNpb25UYWtlcikocHJldkFsdFBvcyk7aWYoLTEhPT1tYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXS5pbmRleE9mKGRlY2lzaW9uVGFrZXIrXCI6XCIrcHJldkFsdFBvcy5hbHRlcm5hdGlvbikpe3JldHVyblJzbHQ9YWx0ZXJuYXRlLmNhbGwodGhpcyxtYXNrUG9zLGMsc3RyaWN0LGZyb21Jc1ZhbGlkLGRlY2lzaW9uUG9zLTEsc2VsZWN0aW9uKTticmVha31mb3IobWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10ucHVzaChkZWNpc2lvblRha2VyK1wiOlwiK3ByZXZBbHRQb3MuYWx0ZXJuYXRpb24pLGk9ZGVjaXNpb25Qb3M7aTxfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzLHZvaWQgMCwhMCkrMTtpKyspZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV19fXJldHVybiByZXR1cm5Sc2x0JiYhMT09PW9wdHMua2VlcFN0YXRpY3x8ZGVsZXRlIG1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdLHJldHVyblJzbHR9ZnVuY3Rpb24gY2FzaW5nKGVsZW0sdGVzdCxwb3Mpe3ZhciBvcHRzPXRoaXMub3B0cyxtYXNrc2V0PXRoaXMubWFza3NldDtzd2l0Y2gob3B0cy5jYXNpbmd8fHRlc3QuY2FzaW5nKXtjYXNlXCJ1cHBlclwiOmVsZW09ZWxlbS50b1VwcGVyQ2FzZSgpO2JyZWFrO2Nhc2VcImxvd2VyXCI6ZWxlbT1lbGVtLnRvTG93ZXJDYXNlKCk7YnJlYWs7Y2FzZVwidGl0bGVcIjp2YXIgcG9zQmVmb3JlPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zLTFdO2VsZW09MD09PXBvc3x8cG9zQmVmb3JlJiZwb3NCZWZvcmUuaW5wdXQ9PT1TdHJpbmcuZnJvbUNoYXJDb2RlKF9rZXljb2RlLmRlZmF1bHQuU1BBQ0UpP2VsZW0udG9VcHBlckNhc2UoKTplbGVtLnRvTG93ZXJDYXNlKCk7YnJlYWs7ZGVmYXVsdDppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLmNhc2luZyl7dmFyIGFyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTthcmdzLnB1c2gobWFza3NldC52YWxpZFBvc2l0aW9ucyksZWxlbT1vcHRzLmNhc2luZy5hcHBseSh0aGlzLGFyZ3MpfX1yZXR1cm4gZWxlbX1mdW5jdGlvbiBjaGVja0FsdGVybmF0aW9uTWF0Y2goYWx0QXJyMSxhbHRBcnIyLG5hKXtmb3IodmFyIG9wdHM9dGhpcy5vcHRzLGFsdEFyckM9b3B0cy5ncmVlZHk/YWx0QXJyMjphbHRBcnIyLnNsaWNlKDAsMSksaXNNYXRjaD0hMSxuYUFycj12b2lkIDAhPT1uYT9uYS5zcGxpdChcIixcIik6W10sbmFOZHgsaT0wO2k8bmFBcnIubGVuZ3RoO2krKyktMSE9PShuYU5keD1hbHRBcnIxLmluZGV4T2YobmFBcnJbaV0pKSYmYWx0QXJyMS5zcGxpY2UobmFOZHgsMSk7Zm9yKHZhciBhbG5keD0wO2FsbmR4PGFsdEFycjEubGVuZ3RoO2FsbmR4KyspaWYoYWx0QXJyQy5pbmNsdWRlcyhhbHRBcnIxW2FsbmR4XSkpe2lzTWF0Y2g9ITA7YnJlYWt9cmV0dXJuIGlzTWF0Y2h9ZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGlucHV0LGsscG9zLHN0cmljdCxmcm9tSXNWYWxpZCl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LG9wdHM9dGhpcy5vcHRzO2lmKChvcHRzLm51bWVyaWNJbnB1dHx8dGhpcy5pc1JUTCkmJihrPT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0U/az1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURTprPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEUmJihrPV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFKSx0aGlzLmlzUlRMKSl7dmFyIHBlbmQ9cG9zLmVuZDtwb3MuZW5kPXBvcy5iZWdpbixwb3MuYmVnaW49cGVuZH12YXIgbHZwPV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMsdm9pZCAwLCEwKSxvZmZzZXQ7aWYocG9zLmVuZD49X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLmxlbmd0aCYmbHZwPj1wb3MuZW5kJiYocG9zLmVuZD1sdnArMSksaz09PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFP3Bvcy5lbmQtcG9zLmJlZ2luPDEmJihwb3MuYmVnaW49X3Bvc2l0aW9uaW5nLnNlZWtQcmV2aW91cy5jYWxsKHRoaXMscG9zLmJlZ2luKSk6az09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFJiZwb3MuYmVnaW49PT1wb3MuZW5kJiYocG9zLmVuZD1fcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwodGhpcyxwb3MuZW5kLCEwLCEwKT9wb3MuZW5kKzE6X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwodGhpcyxwb3MuZW5kKSsxKSwhMSE9PShvZmZzZXQ9cmV2YWxpZGF0ZU1hc2suY2FsbCh0aGlzLHBvcykpKXtpZighMCE9PXN0cmljdCYmITEhPT1vcHRzLmtlZXBTdGF0aWN8fG51bGwhPT1vcHRzLnJlZ2V4JiYtMSE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscG9zLmJlZ2luKS5tYXRjaC5kZWYuaW5kZXhPZihcInxcIikpe3ZhciByZXN1bHQ9YWx0ZXJuYXRlLmNhbGwodGhpcywhMCk7aWYocmVzdWx0KXt2YXIgbmV3UG9zPXZvaWQgMCE9PXJlc3VsdC5jYXJldD9yZXN1bHQuY2FyZXQ6cmVzdWx0LnBvcz9fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbCh0aGlzLHJlc3VsdC5wb3MuYmVnaW4/cmVzdWx0LnBvcy5iZWdpbjpyZXN1bHQucG9zKTpfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzLC0xLCEwKTsoayE9PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFfHxwb3MuYmVnaW4+bmV3UG9zKSYmcG9zLmJlZ2lufX0hMCE9PXN0cmljdCYmKG1hc2tzZXQucD1rPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEU/cG9zLmJlZ2luK29mZnNldDpwb3MuYmVnaW4pfX1mdW5jdGlvbiBpc0NvbXBsZXRlKGJ1ZmZlcil7dmFyIGlucHV0bWFzaz10aGlzLG9wdHM9dGhpcy5vcHRzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMuaXNDb21wbGV0ZSlyZXR1cm4gb3B0cy5pc0NvbXBsZXRlKGJ1ZmZlcixvcHRzKTtpZihcIipcIiE9PW9wdHMucmVwZWF0KXt2YXIgY29tcGxldGU9ITEsbHJwPV9wb3NpdGlvbmluZy5kZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbi5jYWxsKHRoaXMsITApLGFtbD1fcG9zaXRpb25pbmcuc2Vla1ByZXZpb3VzLmNhbGwodGhpcyxscnAubCk7aWYodm9pZCAwPT09bHJwLmRlZnx8bHJwLmRlZi5uZXdCbG9ja01hcmtlcnx8bHJwLmRlZi5vcHRpb25hbGl0eXx8bHJwLmRlZi5vcHRpb25hbFF1YW50aWZpZXIpe2NvbXBsZXRlPSEwO2Zvcih2YXIgaT0wO2k8PWFtbDtpKyspe3ZhciB0ZXN0PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdFRlbXBsYXRlLmNhbGwodGhpcyxpKS5tYXRjaDtpZighMCE9PXRlc3Quc3RhdGljJiZ2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2ldJiYhMCE9PXRlc3Qub3B0aW9uYWxpdHkmJiEwIT09dGVzdC5vcHRpb25hbFF1YW50aWZpZXJ8fCEwPT09dGVzdC5zdGF0aWMmJmJ1ZmZlcltpXSE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbCh0aGlzLGksdGVzdCkpe2NvbXBsZXRlPSExO2JyZWFrfX19cmV0dXJuIGNvbXBsZXRlfX1mdW5jdGlvbiBpc1ZhbGlkKHBvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCxmcm9tQWx0ZXJuYXRlLHZhbGlkYXRlT25seSxmcm9tQ2hlY2t2YWwpe3ZhciBpbnB1dG1hc2s9dGhpcywkPXRoaXMuZGVwZW5kZW5jeUxpYixvcHRzPXRoaXMub3B0cyxtYXNrc2V0PWlucHV0bWFzay5tYXNrc2V0O2Z1bmN0aW9uIGlzU2VsZWN0aW9uKHBvc09iail7cmV0dXJuIGlucHV0bWFzay5pc1JUTD8xPHBvc09iai5iZWdpbi1wb3NPYmouZW5kfHxwb3NPYmouYmVnaW4tcG9zT2JqLmVuZD09MToxPHBvc09iai5lbmQtcG9zT2JqLmJlZ2lufHxwb3NPYmouZW5kLXBvc09iai5iZWdpbj09MX1zdHJpY3Q9ITA9PT1zdHJpY3Q7dmFyIG1hc2tQb3M9cG9zO2Z1bmN0aW9uIHByb2Nlc3NDb21tYW5kT2JqZWN0KGNvbW1hbmRPYmope2lmKHZvaWQgMCE9PWNvbW1hbmRPYmope2lmKHZvaWQgMCE9PWNvbW1hbmRPYmoucmVtb3ZlJiYoQXJyYXkuaXNBcnJheShjb21tYW5kT2JqLnJlbW92ZSl8fChjb21tYW5kT2JqLnJlbW92ZT1bY29tbWFuZE9iai5yZW1vdmVdKSxjb21tYW5kT2JqLnJlbW92ZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucG9zLWEucG9zfSkuZm9yRWFjaChmdW5jdGlvbihsbW50KXtyZXZhbGlkYXRlTWFzay5jYWxsKGlucHV0bWFzayx7YmVnaW46bG1udCxlbmQ6bG1udCsxfSl9KSxjb21tYW5kT2JqLnJlbW92ZT12b2lkIDApLHZvaWQgMCE9PWNvbW1hbmRPYmouaW5zZXJ0JiYoQXJyYXkuaXNBcnJheShjb21tYW5kT2JqLmluc2VydCl8fChjb21tYW5kT2JqLmluc2VydD1bY29tbWFuZE9iai5pbnNlcnRdKSxjb21tYW5kT2JqLmluc2VydC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucG9zLWIucG9zfSkuZm9yRWFjaChmdW5jdGlvbihsbW50KXtcIlwiIT09bG1udC5jJiZpc1ZhbGlkLmNhbGwoaW5wdXRtYXNrLGxtbnQucG9zLGxtbnQuYyx2b2lkIDA9PT1sbW50LnN0cmljdHx8bG1udC5zdHJpY3Qsdm9pZCAwIT09bG1udC5mcm9tSXNWYWxpZD9sbW50LmZyb21Jc1ZhbGlkOmZyb21Jc1ZhbGlkKX0pLGNvbW1hbmRPYmouaW5zZXJ0PXZvaWQgMCksY29tbWFuZE9iai5yZWZyZXNoRnJvbUJ1ZmZlciYmY29tbWFuZE9iai5idWZmZXIpe3ZhciByZWZyZXNoPWNvbW1hbmRPYmoucmVmcmVzaEZyb21CdWZmZXI7cmVmcmVzaEZyb21CdWZmZXIuY2FsbChpbnB1dG1hc2ssITA9PT1yZWZyZXNoP3JlZnJlc2g6cmVmcmVzaC5zdGFydCxyZWZyZXNoLmVuZCxjb21tYW5kT2JqLmJ1ZmZlciksY29tbWFuZE9iai5yZWZyZXNoRnJvbUJ1ZmZlcj12b2lkIDB9dm9pZCAwIT09Y29tbWFuZE9iai5yZXdyaXRlUG9zaXRpb24mJihtYXNrUG9zPWNvbW1hbmRPYmoucmV3cml0ZVBvc2l0aW9uLGNvbW1hbmRPYmo9ITApfXJldHVybiBjb21tYW5kT2JqfWZ1bmN0aW9uIF9pc1ZhbGlkKHBvc2l0aW9uLGMsc3RyaWN0KXt2YXIgcnNsdD0hMTtyZXR1cm4gX3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0cy5jYWxsKGlucHV0bWFzayxwb3NpdGlvbikuZXZlcnkoZnVuY3Rpb24odHN0LG5keCl7dmFyIHRlc3Q9dHN0Lm1hdGNoO2lmKF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2ssITApLHJzbHQ9bnVsbCE9dGVzdC5mbj90ZXN0LmZuLnRlc3QoYyxtYXNrc2V0LHBvc2l0aW9uLHN0cmljdCxvcHRzLGlzU2VsZWN0aW9uKHBvcykpOihjPT09dGVzdC5kZWZ8fGM9PT1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpJiZcIlwiIT09dGVzdC5kZWYmJntjOl92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbChpbnB1dG1hc2sscG9zaXRpb24sdGVzdCwhMCl8fHRlc3QuZGVmLHBvczpwb3NpdGlvbn0sITE9PT1yc2x0KXJldHVybiEwO3ZhciBlbGVtPXZvaWQgMCE9PXJzbHQuYz9yc2x0LmM6Yyx2YWxpZGF0ZWRQb3M9cG9zaXRpb247cmV0dXJuIGVsZW09ZWxlbT09PW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciYmITA9PT10ZXN0LnN0YXRpYz9fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwoaW5wdXRtYXNrLHBvc2l0aW9uLHRlc3QsITApfHx0ZXN0LmRlZjplbGVtLHJzbHQ9cHJvY2Vzc0NvbW1hbmRPYmplY3QocnNsdCksITAhPT1yc2x0JiZ2b2lkIDAhPT1yc2x0LnBvcyYmcnNsdC5wb3MhPT1wb3NpdGlvbiYmKHZhbGlkYXRlZFBvcz1yc2x0LnBvcyksITAhPT1yc2x0JiZ2b2lkIDA9PT1yc2x0LnBvcyYmdm9pZCAwPT09cnNsdC5jfHwhMT09PXJldmFsaWRhdGVNYXNrLmNhbGwoaW5wdXRtYXNrLHBvcywkLmV4dGVuZCh7fSx0c3Qse2lucHV0OmNhc2luZy5jYWxsKGlucHV0bWFzayxlbGVtLHRlc3QsdmFsaWRhdGVkUG9zKX0pLGZyb21Jc1ZhbGlkLHZhbGlkYXRlZFBvcykmJihyc2x0PSExKSwhMX0pLHJzbHR9dm9pZCAwIT09cG9zLmJlZ2luJiYobWFza1Bvcz1pbnB1dG1hc2suaXNSVEw/cG9zLmVuZDpwb3MuYmVnaW4pO3ZhciByZXN1bHQ9ITAscG9zaXRpb25zQ2xvbmU9JC5leHRlbmQoITAse30sbWFza3NldC52YWxpZFBvc2l0aW9ucyk7aWYoITE9PT1vcHRzLmtlZXBTdGF0aWMmJnZvaWQgMCE9PW1hc2tzZXQuZXhjbHVkZXNbbWFza1Bvc10mJiEwIT09ZnJvbUFsdGVybmF0ZSYmITAhPT1mcm9tSXNWYWxpZClmb3IodmFyIGk9bWFza1BvcztpPChpbnB1dG1hc2suaXNSVEw/cG9zLmJlZ2luOnBvcy5lbmQpO2krKyl2b2lkIDAhPT1tYXNrc2V0LmV4Y2x1ZGVzW2ldJiYobWFza3NldC5leGNsdWRlc1tpXT12b2lkIDAsZGVsZXRlIG1hc2tzZXQudGVzdHNbaV0pO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMucHJlVmFsaWRhdGlvbiYmITAhPT1mcm9tSXNWYWxpZCYmITAhPT12YWxpZGF0ZU9ubHkmJihyZXN1bHQ9b3B0cy5wcmVWYWxpZGF0aW9uLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLG1hc2tQb3MsYyxpc1NlbGVjdGlvbihwb3MpLG9wdHMsbWFza3NldCxwb3Msc3RyaWN0fHxmcm9tQWx0ZXJuYXRlKSxyZXN1bHQ9cHJvY2Vzc0NvbW1hbmRPYmplY3QocmVzdWx0KSksITA9PT1yZXN1bHQpe2lmKHZvaWQgMD09PWlucHV0bWFzay5tYXhMZW5ndGh8fG1hc2tQb3M8X3Bvc2l0aW9uaW5nLnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLGlucHV0bWFzay5tYXhMZW5ndGgpKXtpZihyZXN1bHQ9X2lzVmFsaWQobWFza1BvcyxjLHN0cmljdCksKCFzdHJpY3R8fCEwPT09ZnJvbUlzVmFsaWQpJiYhMT09PXJlc3VsdCYmITAhPT12YWxpZGF0ZU9ubHkpe3ZhciBjdXJyZW50UG9zVmFsaWQ9bWFza3NldC52YWxpZFBvc2l0aW9uc1ttYXNrUG9zXTtpZighY3VycmVudFBvc1ZhbGlkfHwhMCE9PWN1cnJlbnRQb3NWYWxpZC5tYXRjaC5zdGF0aWN8fGN1cnJlbnRQb3NWYWxpZC5tYXRjaC5kZWYhPT1jJiZjIT09b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyKXtpZihvcHRzLmluc2VydE1vZGV8fHZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbX3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLG1hc2tQb3MpXXx8cG9zLmVuZD5tYXNrUG9zKXt2YXIgc2tpcD0hMTtpZihtYXNrc2V0LmppdE9mZnNldFttYXNrUG9zXSYmdm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssbWFza1BvcyldJiYocmVzdWx0PWlzVmFsaWQuY2FsbChpbnB1dG1hc2ssbWFza1BvcyttYXNrc2V0LmppdE9mZnNldFttYXNrUG9zXSxjLCEwKSwhMSE9PXJlc3VsdCYmKCEwIT09ZnJvbUFsdGVybmF0ZSYmKHJlc3VsdC5jYXJldD1tYXNrUG9zKSxza2lwPSEwKSkscG9zLmVuZD5tYXNrUG9zJiYobWFza3NldC52YWxpZFBvc2l0aW9uc1ttYXNrUG9zXT12b2lkIDApLCFza2lwJiYhX3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKGlucHV0bWFzayxtYXNrUG9zLG9wdHMua2VlcFN0YXRpYyYmMD09PW1hc2tQb3MpKWZvcih2YXIgblBvcz1tYXNrUG9zKzEsc25Qb3M9X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLG1hc2tQb3MsITEsMCE9PW1hc2tQb3MpO25Qb3M8PXNuUG9zO25Qb3MrKylpZihyZXN1bHQ9X2lzVmFsaWQoblBvcyxjLHN0cmljdCksITEhPT1yZXN1bHQpe3Jlc3VsdD10cmFja2JhY2tQb3NpdGlvbnMuY2FsbChpbnB1dG1hc2ssbWFza1Bvcyx2b2lkIDAhPT1yZXN1bHQucG9zP3Jlc3VsdC5wb3M6blBvcyl8fHJlc3VsdCxtYXNrUG9zPW5Qb3M7YnJlYWt9fX1lbHNlIHJlc3VsdD17Y2FyZXQ6X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLG1hc2tQb3MpfX19ZWxzZSByZXN1bHQ9ITE7ITEhPT1yZXN1bHR8fCFvcHRzLmtlZXBTdGF0aWN8fCFpc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKSYmMCE9PW1hc2tQb3N8fHN0cmljdHx8ITA9PT1mcm9tQWx0ZXJuYXRlP2lzU2VsZWN0aW9uKHBvcykmJm1hc2tzZXQudGVzdHNbbWFza1Bvc10mJjE8bWFza3NldC50ZXN0c1ttYXNrUG9zXS5sZW5ndGgmJm9wdHMua2VlcFN0YXRpYyYmIXN0cmljdCYmITAhPT1mcm9tQWx0ZXJuYXRlJiYocmVzdWx0PWFsdGVybmF0ZS5jYWxsKGlucHV0bWFzaywhMCkpOnJlc3VsdD1hbHRlcm5hdGUuY2FsbChpbnB1dG1hc2ssbWFza1BvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCx2b2lkIDAscG9zKSwhMD09PXJlc3VsdCYmKHJlc3VsdD17cG9zOm1hc2tQb3N9KX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLnBvc3RWYWxpZGF0aW9uJiYhMCE9PWZyb21Jc1ZhbGlkJiYhMCE9PXZhbGlkYXRlT25seSl7dmFyIHBvc3RSZXN1bHQ9b3B0cy5wb3N0VmFsaWRhdGlvbi5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrLCEwKSx2b2lkIDAhPT1wb3MuYmVnaW4/aW5wdXRtYXNrLmlzUlRMP3Bvcy5lbmQ6cG9zLmJlZ2luOnBvcyxjLHJlc3VsdCxvcHRzLG1hc2tzZXQsc3RyaWN0LGZyb21DaGVja3ZhbCk7dm9pZCAwIT09cG9zdFJlc3VsdCYmKHJlc3VsdD0hMD09PXBvc3RSZXN1bHQ/cmVzdWx0OnBvc3RSZXN1bHQpfXJlc3VsdCYmdm9pZCAwPT09cmVzdWx0LnBvcyYmKHJlc3VsdC5wb3M9bWFza1BvcyksITE9PT1yZXN1bHR8fCEwPT09dmFsaWRhdGVPbmx5PyhfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwoaW5wdXRtYXNrLCEwKSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zPSQuZXh0ZW5kKCEwLHt9LHBvc2l0aW9uc0Nsb25lKSk6dHJhY2tiYWNrUG9zaXRpb25zLmNhbGwoaW5wdXRtYXNrLHZvaWQgMCxtYXNrUG9zLCEwKTt2YXIgZW5kUmVzdWx0PXByb2Nlc3NDb21tYW5kT2JqZWN0KHJlc3VsdCk7cmV0dXJuIGVuZFJlc3VsdH1mdW5jdGlvbiBwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihwb3MsdGVzdERlZmluaXRpb24sb3B0cyl7Zm9yKHZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCx2YWxpZD0hMSx0ZXN0cz1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RzLmNhbGwodGhpcyxwb3MpLHRuZHg9MDt0bmR4PHRlc3RzLmxlbmd0aDt0bmR4Kyspe2lmKHRlc3RzW3RuZHhdLm1hdGNoJiYodGVzdHNbdG5keF0ubWF0Y2gubmF0aXZlRGVmPT09dGVzdERlZmluaXRpb24ubWF0Y2hbb3B0cy5zaGlmdFBvc2l0aW9ucz9cImRlZlwiOlwibmF0aXZlRGVmXCJdJiYoIW9wdHMuc2hpZnRQb3NpdGlvbnN8fCF0ZXN0RGVmaW5pdGlvbi5tYXRjaC5zdGF0aWMpfHx0ZXN0c1t0bmR4XS5tYXRjaC5uYXRpdmVEZWY9PT10ZXN0RGVmaW5pdGlvbi5tYXRjaC5uYXRpdmVEZWZ8fG9wdHMucmVnZXgmJiF0ZXN0c1t0bmR4XS5tYXRjaC5zdGF0aWMmJnRlc3RzW3RuZHhdLm1hdGNoLmZuLnRlc3QodGVzdERlZmluaXRpb24uaW5wdXQpKSl7dmFsaWQ9ITA7YnJlYWt9aWYodGVzdHNbdG5keF0ubWF0Y2gmJnRlc3RzW3RuZHhdLm1hdGNoLmRlZj09PXRlc3REZWZpbml0aW9uLm1hdGNoLm5hdGl2ZURlZil7dmFsaWQ9dm9pZCAwO2JyZWFrfX1yZXR1cm4hMT09PXZhbGlkJiZ2b2lkIDAhPT1tYXNrc2V0LmppdE9mZnNldFtwb3NdJiYodmFsaWQ9cG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24uY2FsbCh0aGlzLHBvcyttYXNrc2V0LmppdE9mZnNldFtwb3NdLHRlc3REZWZpbml0aW9uLG9wdHMpKSx2YWxpZH1mdW5jdGlvbiByZWZyZXNoRnJvbUJ1ZmZlcihzdGFydCxlbmQsYnVmZmVyKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsb3B0cz10aGlzLm9wdHMsJD10aGlzLmRlcGVuZGVuY3lMaWIsZWw9dGhpcy5lbCxpLHAsc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcj1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIsYmZmcj10aGlzLmlzUlRMP2J1ZmZlci5zbGljZSgpLnJldmVyc2UoKTpidWZmZXI7aWYob3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPVwiXCIsITA9PT1zdGFydClfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwodGhpcyksbWFza3NldC50ZXN0cz17fSxzdGFydD0wLGVuZD1idWZmZXIubGVuZ3RoLHA9X3Bvc2l0aW9uaW5nLmRldGVybWluZU5ld0NhcmV0UG9zaXRpb24uY2FsbCh0aGlzLHtiZWdpbjowLGVuZDowfSwhMSkuYmVnaW47ZWxzZXtmb3IoaT1zdGFydDtpPGVuZDtpKyspZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV07cD1zdGFydH12YXIga2V5cHJlc3M9bmV3ICQuRXZlbnQoXCJrZXlwcmVzc1wiKTtmb3IoaT1zdGFydDtpPGVuZDtpKyspe2tleXByZXNzLndoaWNoPWJmZnJbaV0udG9TdHJpbmcoKS5jaGFyQ29kZUF0KDApLHRoaXMuaWdub3JhYmxlPSExO3ZhciB2YWxSZXN1bHQ9X2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoZWwsa2V5cHJlc3MsITAsITEsITEscCk7ITEhPT12YWxSZXN1bHQmJihwPXZhbFJlc3VsdC5mb3J3YXJkUG9zaXRpb24pfW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcj1za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyfWZ1bmN0aW9uIHRyYWNrYmFja1Bvc2l0aW9ucyhvcmlnaW5hbFBvcyxuZXdQb3MsZmlsbE9ubHkpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCwkPXRoaXMuZGVwZW5kZW5jeUxpYjtpZih2b2lkIDA9PT1vcmlnaW5hbFBvcylmb3Iob3JpZ2luYWxQb3M9bmV3UG9zLTE7MDxvcmlnaW5hbFBvcyYmIW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbb3JpZ2luYWxQb3NdO29yaWdpbmFsUG9zLS0pO2Zvcih2YXIgcHM9b3JpZ2luYWxQb3M7cHM8bmV3UG9zO3BzKyspaWYodm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twc10mJiFfcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwodGhpcyxwcywhMSkpe3ZhciB2cD0wPT1wcz9fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBzKTptYXNrc2V0LnZhbGlkUG9zaXRpb25zW3BzLTFdO2lmKHZwKXt2YXIgdGVzdHM9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0cy5jYWxsKHRoaXMscHMpLnNsaWNlKCk7XCJcIj09PXRlc3RzW3Rlc3RzLmxlbmd0aC0xXS5tYXRjaC5kZWYmJnRlc3RzLnBvcCgpO3ZhciBiZXN0TWF0Y2g9X3ZhbGlkYXRpb25UZXN0cy5kZXRlcm1pbmVUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLHBzLHRlc3RzKSxucDtpZihiZXN0TWF0Y2gmJighMCE9PWJlc3RNYXRjaC5tYXRjaC5qaXR8fFwibWFzdGVyXCI9PT1iZXN0TWF0Y2gubWF0Y2gubmV3QmxvY2tNYXJrZXImJihucD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3BzKzFdKSYmITA9PT1ucC5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIpJiYoYmVzdE1hdGNoPSQuZXh0ZW5kKHt9LGJlc3RNYXRjaCx7aW5wdXQ6X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKHRoaXMscHMsYmVzdE1hdGNoLm1hdGNoLCEwKXx8YmVzdE1hdGNoLm1hdGNoLmRlZn0pLGJlc3RNYXRjaC5nZW5lcmF0ZWRJbnB1dD0hMCxyZXZhbGlkYXRlTWFzay5jYWxsKHRoaXMscHMsYmVzdE1hdGNoLCEwKSwhMCE9PWZpbGxPbmx5KSl7dmFyIGN2cElucHV0PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbmV3UG9zXS5pbnB1dDtyZXR1cm4gbWFza3NldC52YWxpZFBvc2l0aW9uc1tuZXdQb3NdPXZvaWQgMCxpc1ZhbGlkLmNhbGwodGhpcyxuZXdQb3MsY3ZwSW5wdXQsITAsITApfX19fWZ1bmN0aW9uIHJldmFsaWRhdGVNYXNrKHBvcyx2YWxpZFRlc3QsZnJvbUlzVmFsaWQsdmFsaWRhdGVkUG9zKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsb3B0cz10aGlzLm9wdHMsJD10aGlzLmRlcGVuZGVuY3lMaWI7ZnVuY3Rpb24gSXNFbmNsb3NlZFN0YXRpYyhwb3MsdmFsaWRzLHNlbGVjdGlvbil7dmFyIHBvc01hdGNoPXZhbGlkc1twb3NdO2lmKHZvaWQgMD09PXBvc01hdGNofHwhMCE9PXBvc01hdGNoLm1hdGNoLnN0YXRpY3x8ITA9PT1wb3NNYXRjaC5tYXRjaC5vcHRpb25hbGl0eXx8dm9pZCAwIT09dmFsaWRzWzBdJiZ2b2lkIDAhPT12YWxpZHNbMF0uYWx0ZXJuYXRpb24pcmV0dXJuITE7dmFyIHByZXZNYXRjaD1zZWxlY3Rpb24uYmVnaW48PXBvcy0xP3ZhbGlkc1twb3MtMV0mJiEwPT09dmFsaWRzW3Bvcy0xXS5tYXRjaC5zdGF0aWMmJnZhbGlkc1twb3MtMV06dmFsaWRzW3Bvcy0xXSxuZXh0TWF0Y2g9c2VsZWN0aW9uLmVuZD5wb3MrMT92YWxpZHNbcG9zKzFdJiYhMD09PXZhbGlkc1twb3MrMV0ubWF0Y2guc3RhdGljJiZ2YWxpZHNbcG9zKzFdOnZhbGlkc1twb3MrMV07cmV0dXJuIHByZXZNYXRjaCYmbmV4dE1hdGNofXZhciBvZmZzZXQ9MCxiZWdpbj12b2lkIDAhPT1wb3MuYmVnaW4/cG9zLmJlZ2luOnBvcyxlbmQ9dm9pZCAwIT09cG9zLmVuZD9wb3MuZW5kOnBvcztpZihwb3MuYmVnaW4+cG9zLmVuZCYmKGJlZ2luPXBvcy5lbmQsZW5kPXBvcy5iZWdpbiksdmFsaWRhdGVkUG9zPXZvaWQgMCE9PXZhbGlkYXRlZFBvcz92YWxpZGF0ZWRQb3M6YmVnaW4sYmVnaW4hPT1lbmR8fG9wdHMuaW5zZXJ0TW9kZSYmdm9pZCAwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1t2YWxpZGF0ZWRQb3NdJiZ2b2lkIDA9PT1mcm9tSXNWYWxpZHx8dm9pZCAwPT09dmFsaWRUZXN0KXt2YXIgcG9zaXRpb25zQ2xvbmU9JC5leHRlbmQoITAse30sbWFza3NldC52YWxpZFBvc2l0aW9ucyksbHZwPV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMsdm9pZCAwLCEwKSxpO2ZvcihtYXNrc2V0LnA9YmVnaW4saT1sdnA7YmVnaW48PWk7aS0tKWRlbGV0ZSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW2ldLHZvaWQgMD09PXZhbGlkVGVzdCYmZGVsZXRlIG1hc2tzZXQudGVzdHNbaSsxXTt2YXIgdmFsaWQ9ITAsaj12YWxpZGF0ZWRQb3MscG9zTWF0Y2g9aix0LGNhbk1hdGNoO2Zvcih2YWxpZFRlc3QmJihtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ZhbGlkYXRlZFBvc109JC5leHRlbmQoITAse30sdmFsaWRUZXN0KSxwb3NNYXRjaCsrLGorKyksaT12YWxpZFRlc3Q/ZW5kOmVuZC0xO2k8PWx2cDtpKyspe2lmKHZvaWQgMCE9PSh0PXBvc2l0aW9uc0Nsb25lW2ldKSYmITAhPT10LmdlbmVyYXRlZElucHV0JiYoZW5kPD1pfHxiZWdpbjw9aSYmSXNFbmNsb3NlZFN0YXRpYyhpLHBvc2l0aW9uc0Nsb25lLHtiZWdpbjpiZWdpbixlbmQ6ZW5kfSkpKXtmb3IoO1wiXCIhPT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBvc01hdGNoKS5tYXRjaC5kZWY7KXtpZighMSE9PShjYW5NYXRjaD1wb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbi5jYWxsKHRoaXMscG9zTWF0Y2gsdCxvcHRzKSl8fFwiK1wiPT09dC5tYXRjaC5kZWYpe1wiK1wiPT09dC5tYXRjaC5kZWYmJl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzLCEwKTt2YXIgcmVzdWx0PWlzVmFsaWQuY2FsbCh0aGlzLHBvc01hdGNoLHQuaW5wdXQsXCIrXCIhPT10Lm1hdGNoLmRlZixcIitcIiE9PXQubWF0Y2guZGVmKTtpZih2YWxpZD0hMSE9PXJlc3VsdCxqPShyZXN1bHQucG9zfHxwb3NNYXRjaCkrMSwhdmFsaWQmJmNhbk1hdGNoKWJyZWFrfWVsc2UgdmFsaWQ9ITE7aWYodmFsaWQpe3ZvaWQgMD09PXZhbGlkVGVzdCYmdC5tYXRjaC5zdGF0aWMmJmk9PT1wb3MuYmVnaW4mJm9mZnNldCsrO2JyZWFrfWlmKCF2YWxpZCYmcG9zTWF0Y2g+bWFza3NldC5tYXNrTGVuZ3RoKWJyZWFrO3Bvc01hdGNoKyt9XCJcIj09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwb3NNYXRjaCkubWF0Y2guZGVmJiYodmFsaWQ9ITEpLHBvc01hdGNoPWp9aWYoIXZhbGlkKWJyZWFrfWlmKCF2YWxpZClyZXR1cm4gbWFza3NldC52YWxpZFBvc2l0aW9ucz0kLmV4dGVuZCghMCx7fSxwb3NpdGlvbnNDbG9uZSksX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKHRoaXMsITApLCExfWVsc2UgdmFsaWRUZXN0JiZfdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHZhbGlkYXRlZFBvcykubWF0Y2guY2Q9PT12YWxpZFRlc3QubWF0Y2guY2QmJihtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ZhbGlkYXRlZFBvc109JC5leHRlbmQoITAse30sdmFsaWRUZXN0KSk7cmV0dXJuIF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbCh0aGlzLCEwKSxvZmZzZXR9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBfY2FuVXNlRE9NPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2KSk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciBfZGVmYXVsdD1fY2FuVXNlRE9NLmRlZmF1bHQ/d2luZG93Ont9O2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMDt2YXIgY2FuVXNlRE9NPSEoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5kb2N1bWVudHx8IXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KSxfZGVmYXVsdD1jYW5Vc2VET007ZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmFwcGx5SW5wdXRWYWx1ZT1hcHBseUlucHV0VmFsdWUsZXhwb3J0cy5jbGVhck9wdGlvbmFsVGFpbD1jbGVhck9wdGlvbmFsVGFpbCxleHBvcnRzLmNoZWNrVmFsPWNoZWNrVmFsLGV4cG9ydHMuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXI9SGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIsZXhwb3J0cy51bm1hc2tlZHZhbHVlPXVubWFza2VkdmFsdWUsZXhwb3J0cy53cml0ZUJ1ZmZlcj13cml0ZUJ1ZmZlcjt2YXIgX2tleWNvZGU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfdmFsaWRhdGlvblRlc3RzPV9fd2VicGFja19yZXF1aXJlX18oMyksX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSksX3ZhbGlkYXRpb249X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfZW52aXJvbm1lbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxfZXZlbnRoYW5kbGVycz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBhcHBseUlucHV0VmFsdWUoaW5wdXQsdmFsdWUpe3ZhciBpbnB1dG1hc2s9aW5wdXQ/aW5wdXQuaW5wdXRtYXNrOnRoaXMsb3B0cz1pbnB1dG1hc2sub3B0cztpbnB1dC5pbnB1dG1hc2sucmVmcmVzaFZhbHVlPSExLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMub25CZWZvcmVNYXNrJiYodmFsdWU9b3B0cy5vbkJlZm9yZU1hc2suY2FsbChpbnB1dG1hc2ssdmFsdWUsb3B0cyl8fHZhbHVlKSx2YWx1ZT12YWx1ZS50b1N0cmluZygpLnNwbGl0KFwiXCIpLGNoZWNrVmFsKGlucHV0LCEwLCExLHZhbHVlKSxpbnB1dG1hc2sudW5kb1ZhbHVlPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIiksKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXN8fG9wdHMuY2xlYXJJbmNvbXBsZXRlKSYmaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpPT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpJiYtMT09PV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzaykmJmlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIil9ZnVuY3Rpb24gY2xlYXJPcHRpb25hbFRhaWwoYnVmZmVyKXt2YXIgaW5wdXRtYXNrPXRoaXM7YnVmZmVyLmxlbmd0aD0wO2Zvcih2YXIgdGVtcGxhdGU9X3ZhbGlkYXRpb25UZXN0cy5nZXRNYXNrVGVtcGxhdGUuY2FsbCh0aGlzLCEwLDAsITAsdm9pZCAwLCEwKSxsbW50O3ZvaWQgMCE9PShsbW50PXRlbXBsYXRlLnNoaWZ0KCkpOylidWZmZXIucHVzaChsbW50KTtyZXR1cm4gYnVmZmVyfWZ1bmN0aW9uIGNoZWNrVmFsKGlucHV0LHdyaXRlT3V0LHN0cmljdCxucHR2bCxpbml0aWF0aW5nRXZlbnQpe3ZhciBpbnB1dG1hc2s9aW5wdXQ/aW5wdXQuaW5wdXRtYXNrOnRoaXMsbWFza3NldD1pbnB1dG1hc2subWFza3NldCxvcHRzPWlucHV0bWFzay5vcHRzLCQ9aW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsaW5wdXRWYWx1ZT1ucHR2bC5zbGljZSgpLGNoYXJDb2Rlcz1cIlwiLGluaXRpYWxOZHg9LTEscmVzdWx0PXZvaWQgMCxza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjtmdW5jdGlvbiBpc1RlbXBsYXRlTWF0Y2gobmR4LGNoYXJDb2Rlcyl7Zm9yKHZhciB0YXJnZXRUZW1wbGF0ZT1fdmFsaWRhdGlvblRlc3RzLmdldE1hc2tUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaywhMCwwKS5zbGljZShuZHgsX3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLG5keCwhMSwhMSkpLmpvaW4oXCJcIikucmVwbGFjZSgvJy9nLFwiXCIpLGNoYXJDb2RlTmR4PXRhcmdldFRlbXBsYXRlLmluZGV4T2YoY2hhckNvZGVzKTswPGNoYXJDb2RlTmR4JiZcIiBcIj09PXRhcmdldFRlbXBsYXRlW2NoYXJDb2RlTmR4LTFdOyljaGFyQ29kZU5keC0tO3ZhciBtYXRjaD0wPT09Y2hhckNvZGVOZHgmJiFfcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwoaW5wdXRtYXNrLG5keCkmJihfdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2ssbmR4KS5tYXRjaC5uYXRpdmVEZWY9PT1jaGFyQ29kZXMuY2hhckF0KDApfHwhMD09PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxuZHgpLm1hdGNoLnN0YXRpYyYmX3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLG5keCkubWF0Y2gubmF0aXZlRGVmPT09XCInXCIrY2hhckNvZGVzLmNoYXJBdCgwKXx8XCIgXCI9PT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2ssbmR4KS5tYXRjaC5uYXRpdmVEZWYmJihfdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2ssbmR4KzEpLm1hdGNoLm5hdGl2ZURlZj09PWNoYXJDb2Rlcy5jaGFyQXQoMCl8fCEwPT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLG5keCsxKS5tYXRjaC5zdGF0aWMmJl92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxuZHgrMSkubWF0Y2gubmF0aXZlRGVmPT09XCInXCIrY2hhckNvZGVzLmNoYXJBdCgwKSkpO2lmKCFtYXRjaCYmMDxjaGFyQ29kZU5keCYmIV9wb3NpdGlvbmluZy5pc01hc2suY2FsbChpbnB1dG1hc2ssbmR4LCExLCEwKSl7dmFyIG5leHRQb3M9X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLG5keCk7aW5wdXRtYXNrLmNhcmV0UG9zLmJlZ2luPG5leHRQb3MmJihpbnB1dG1hc2suY2FyZXRQb3M9e2JlZ2luOm5leHRQb3N9KX1yZXR1cm4gbWF0Y2h9b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPVwiXCIsX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKGlucHV0bWFzayksbWFza3NldC50ZXN0cz17fSxpbml0aWFsTmR4PW9wdHMucmFkaXhQb2ludD9fcG9zaXRpb25pbmcuZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayx7YmVnaW46MCxlbmQ6MH0pLmJlZ2luOjAsbWFza3NldC5wPWluaXRpYWxOZHgsaW5wdXRtYXNrLmNhcmV0UG9zPXtiZWdpbjppbml0aWFsTmR4fTt2YXIgc3RhdGljTWF0Y2hlcz1bXSxwcmV2Q2FyZXRQb3M9aW5wdXRtYXNrLmNhcmV0UG9zO2lmKGlucHV0VmFsdWUuZm9yRWFjaChmdW5jdGlvbihjaGFyQ29kZSxuZHgpe2lmKHZvaWQgMCE9PWNoYXJDb2RlKXt2YXIga2V5cHJlc3M9bmV3ICQuRXZlbnQoXCJfY2hlY2t2YWxcIik7a2V5cHJlc3Mud2hpY2g9Y2hhckNvZGUudG9TdHJpbmcoKS5jaGFyQ29kZUF0KDApLGNoYXJDb2Rlcys9Y2hhckNvZGU7dmFyIGx2cD1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssdm9pZCAwLCEwKTtpc1RlbXBsYXRlTWF0Y2goaW5pdGlhbE5keCxjaGFyQ29kZXMpP3Jlc3VsdD1fZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dG1hc2ssa2V5cHJlc3MsITAsITEsc3RyaWN0LGx2cCsxKToocmVzdWx0PV9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGlucHV0bWFzayxrZXlwcmVzcywhMCwhMSxzdHJpY3QsaW5wdXRtYXNrLmNhcmV0UG9zLmJlZ2luKSxyZXN1bHQmJihpbml0aWFsTmR4PWlucHV0bWFzay5jYXJldFBvcy5iZWdpbisxLGNoYXJDb2Rlcz1cIlwiKSkscmVzdWx0Pyh2b2lkIDAhPT1yZXN1bHQucG9zJiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Jlc3VsdC5wb3NdJiYhMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10ubWF0Y2guc3RhdGljJiZ2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Jlc3VsdC5wb3NdLmFsdGVybmF0aW9uJiYoc3RhdGljTWF0Y2hlcy5wdXNoKHJlc3VsdC5wb3MpLGlucHV0bWFzay5pc1JUTHx8KHJlc3VsdC5mb3J3YXJkUG9zaXRpb249cmVzdWx0LnBvcysxKSksd3JpdGVCdWZmZXIuY2FsbChpbnB1dG1hc2ssdm9pZCAwLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLHJlc3VsdC5mb3J3YXJkUG9zaXRpb24sa2V5cHJlc3MsITEpLGlucHV0bWFzay5jYXJldFBvcz17YmVnaW46cmVzdWx0LmZvcndhcmRQb3NpdGlvbixlbmQ6cmVzdWx0LmZvcndhcmRQb3NpdGlvbn0scHJldkNhcmV0UG9zPWlucHV0bWFzay5jYXJldFBvcyk6dm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tuZHhdJiZpbnB1dFZhbHVlW25keF09PT1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwoaW5wdXRtYXNrLG5keCkmJl9wb3NpdGlvbmluZy5pc01hc2suY2FsbChpbnB1dG1hc2ssbmR4LCEwKT9pbnB1dG1hc2suY2FyZXRQb3MuYmVnaW4rKzppbnB1dG1hc2suY2FyZXRQb3M9cHJldkNhcmV0UG9zfX0pLDA8c3RhdGljTWF0Y2hlcy5sZW5ndGgpe3ZhciBzbmR4LHZhbGlkUG9zLG5leHRWYWxpZD1fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssLTEsdm9pZCAwLCExKTtpZighX3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkmJnN0YXRpY01hdGNoZXMubGVuZ3RoPD1uZXh0VmFsaWR8fF92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpJiYwPHN0YXRpY01hdGNoZXMubGVuZ3RoJiZzdGF0aWNNYXRjaGVzLmxlbmd0aCE9PW5leHRWYWxpZCYmMD09PXN0YXRpY01hdGNoZXNbMF0pZm9yKHZhciBuZXh0U25keD1uZXh0VmFsaWQ7dm9pZCAwIT09KHNuZHg9c3RhdGljTWF0Y2hlcy5zaGlmdCgpKTspe3ZhciBrZXlwcmVzcz1uZXcgJC5FdmVudChcIl9jaGVja3ZhbFwiKTtpZih2YWxpZFBvcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3NuZHhdLHZhbGlkUG9zLmdlbmVyYXRlZElucHV0PSEwLGtleXByZXNzLndoaWNoPXZhbGlkUG9zLmlucHV0LmNoYXJDb2RlQXQoMCkscmVzdWx0PV9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGlucHV0bWFzayxrZXlwcmVzcywhMCwhMSxzdHJpY3QsbmV4dFNuZHgpLHJlc3VsdCYmdm9pZCAwIT09cmVzdWx0LnBvcyYmcmVzdWx0LnBvcyE9PXNuZHgmJm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10mJiEwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXS5tYXRjaC5zdGF0aWMpc3RhdGljTWF0Y2hlcy5wdXNoKHJlc3VsdC5wb3MpO2Vsc2UgaWYoIXJlc3VsdClicmVhaztuZXh0U25keCsrfX13cml0ZU91dCYmd3JpdGVCdWZmZXIuY2FsbChpbnB1dG1hc2ssaW5wdXQsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykscmVzdWx0P3Jlc3VsdC5mb3J3YXJkUG9zaXRpb246aW5wdXRtYXNrLmNhcmV0UG9zLmJlZ2luLGluaXRpYXRpbmdFdmVudHx8bmV3ICQuRXZlbnQoXCJjaGVja3ZhbFwiKSxpbml0aWF0aW5nRXZlbnQmJlwiaW5wdXRcIj09PWluaXRpYXRpbmdFdmVudC50eXBlJiZpbnB1dG1hc2sudW5kb1ZhbHVlIT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSksb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPXNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXJ9ZnVuY3Rpb24gSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIobnB0LHZhbHVlKXt2YXIgaW5wdXRtYXNrPW5wdD9ucHQuaW5wdXRtYXNrOnRoaXM7aWYoX2Vudmlyb25tZW50LmllKXtpZihucHQuaW5wdXRtYXNrLl92YWx1ZUdldCgpIT09dmFsdWUmJihucHQucGxhY2Vob2xkZXIhPT12YWx1ZXx8XCJcIj09PW5wdC5wbGFjZWhvbGRlcikpe3ZhciBidWZmZXI9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UoKSxucHRWYWx1ZT1ucHQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO2lmKG5wdFZhbHVlIT09dmFsdWUpe3ZhciBsdnA9X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKTstMT09PWx2cCYmbnB0VmFsdWU9PT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIik/YnVmZmVyPVtdOi0xIT09bHZwJiZjbGVhck9wdGlvbmFsVGFpbC5jYWxsKGlucHV0bWFzayxidWZmZXIpLHdyaXRlQnVmZmVyKG5wdCxidWZmZXIpfX19ZWxzZSBucHQucGxhY2Vob2xkZXIhPT12YWx1ZSYmKG5wdC5wbGFjZWhvbGRlcj12YWx1ZSxcIlwiPT09bnB0LnBsYWNlaG9sZGVyJiZucHQucmVtb3ZlQXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikpfWZ1bmN0aW9uIHVubWFza2VkdmFsdWUoaW5wdXQpe3ZhciBpbnB1dG1hc2s9aW5wdXQ/aW5wdXQuaW5wdXRtYXNrOnRoaXMsb3B0cz1pbnB1dG1hc2sub3B0cyxtYXNrc2V0PWlucHV0bWFzay5tYXNrc2V0O2lmKGlucHV0KXtpZih2b2lkIDA9PT1pbnB1dC5pbnB1dG1hc2spcmV0dXJuIGlucHV0LnZhbHVlO2lucHV0LmlucHV0bWFzayYmaW5wdXQuaW5wdXRtYXNrLnJlZnJlc2hWYWx1ZSYmYXBwbHlJbnB1dFZhbHVlKGlucHV0LGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoITApKX12YXIgdW1WYWx1ZT1bXSx2cHM9bWFza3NldC52YWxpZFBvc2l0aW9ucztmb3IodmFyIHBuZHggaW4gdnBzKXZwc1twbmR4XSYmdnBzW3BuZHhdLm1hdGNoJiYoMSE9dnBzW3BuZHhdLm1hdGNoLnN0YXRpY3x8QXJyYXkuaXNBcnJheShtYXNrc2V0Lm1ldGFkYXRhKSYmITAhPT12cHNbcG5keF0uZ2VuZXJhdGVkSW5wdXQpJiZ1bVZhbHVlLnB1c2godnBzW3BuZHhdLmlucHV0KTt2YXIgdW5tYXNrZWRWYWx1ZT0wPT09dW1WYWx1ZS5sZW5ndGg/XCJcIjooaW5wdXRtYXNrLmlzUlRMP3VtVmFsdWUucmV2ZXJzZSgpOnVtVmFsdWUpLmpvaW4oXCJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5vblVuTWFzayl7dmFyIGJ1ZmZlclZhbHVlPShpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UoKS5yZXZlcnNlKCk6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpLmpvaW4oXCJcIik7dW5tYXNrZWRWYWx1ZT1vcHRzLm9uVW5NYXNrLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlclZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl9cmV0dXJuIHVubWFza2VkVmFsdWV9ZnVuY3Rpb24gd3JpdGVCdWZmZXIoaW5wdXQsYnVmZmVyLGNhcmV0UG9zLGV2ZW50LHRyaWdnZXJFdmVudHMpe3ZhciBpbnB1dG1hc2s9aW5wdXQ/aW5wdXQuaW5wdXRtYXNrOnRoaXMsb3B0cz1pbnB1dG1hc2sub3B0cywkPWlucHV0bWFzay5kZXBlbmRlbmN5TGliO2lmKGV2ZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLm9uQmVmb3JlV3JpdGUpe3ZhciByZXN1bHQ9b3B0cy5vbkJlZm9yZVdyaXRlLmNhbGwoaW5wdXRtYXNrLGV2ZW50LGJ1ZmZlcixjYXJldFBvcyxvcHRzKTtpZihyZXN1bHQpe2lmKHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcil7dmFyIHJlZnJlc2g9cmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyO192YWxpZGF0aW9uLnJlZnJlc2hGcm9tQnVmZmVyLmNhbGwoaW5wdXRtYXNrLCEwPT09cmVmcmVzaD9yZWZyZXNoOnJlZnJlc2guc3RhcnQscmVmcmVzaC5lbmQscmVzdWx0LmJ1ZmZlcnx8YnVmZmVyKSxidWZmZXI9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaywhMCl9dm9pZCAwIT09Y2FyZXRQb3MmJihjYXJldFBvcz12b2lkIDAhPT1yZXN1bHQuY2FyZXQ/cmVzdWx0LmNhcmV0OmNhcmV0UG9zKX19aWYodm9pZCAwIT09aW5wdXQmJihpbnB1dC5pbnB1dG1hc2suX3ZhbHVlU2V0KGJ1ZmZlci5qb2luKFwiXCIpKSx2b2lkIDA9PT1jYXJldFBvc3x8dm9pZCAwIT09ZXZlbnQmJlwiYmx1clwiPT09ZXZlbnQudHlwZXx8X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LGNhcmV0UG9zLHZvaWQgMCx2b2lkIDAsdm9pZCAwIT09ZXZlbnQmJlwia2V5ZG93blwiPT09ZXZlbnQudHlwZSYmKGV2ZW50LmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURXx8ZXZlbnQua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFKSksITA9PT10cmlnZ2VyRXZlbnRzKSl7dmFyICRpbnB1dD0kKGlucHV0KSxucHRWYWw9aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO2lucHV0LmlucHV0bWFzay5za2lwSW5wdXRFdmVudD0hMCwkaW5wdXQudHJpZ2dlcihcImlucHV0XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtucHRWYWw9PT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIik/JGlucHV0LnRyaWdnZXIoXCJjbGVhcmVkXCIpOiEwPT09X3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxidWZmZXIpJiYkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpfSwwKX19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkV2ZW50SGFuZGxlcnM9dm9pZCAwO3ZhciBfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfa2V5Y29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpLF9lbnZpcm9ubWVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpLF92YWxpZGF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNCksX2lucHV0SGFuZGxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxfdmFsaWRhdGlvblRlc3RzPV9fd2VicGFja19yZXF1aXJlX18oMyk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciBFdmVudEhhbmRsZXJzPXtrZXlkb3duRXZlbnQ6ZnVuY3Rpb24ga2V5ZG93bkV2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cywkPWlucHV0bWFzay5kZXBlbmRlbmN5TGliLG1hc2tzZXQ9aW5wdXRtYXNrLm1hc2tzZXQsaW5wdXQ9dGhpcywkaW5wdXQ9JChpbnB1dCksaz1lLmtleUNvZGUscG9zPV9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCksa2RSZXN1bHQ9b3B0cy5vbktleURvd24uY2FsbCh0aGlzLGUsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykscG9zLG9wdHMpO2lmKHZvaWQgMCE9PWtkUmVzdWx0KXJldHVybiBrZFJlc3VsdDtpZihrPT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0V8fGs9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURXx8X2Vudmlyb25tZW50LmlwaG9uZSYmaz09PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFX1NBRkFSSXx8ZS5jdHJsS2V5JiZrPT09X2tleWNvZGUuZGVmYXVsdC5YJiYhKFwib25jdXRcImluIGlucHV0KSllLnByZXZlbnREZWZhdWx0KCksX3ZhbGlkYXRpb24uaGFuZGxlUmVtb3ZlLmNhbGwoaW5wdXRtYXNrLGlucHV0LGsscG9zKSwoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikoaW5wdXQsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaywhMCksbWFza3NldC5wLGUsaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpIT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSk7ZWxzZSBpZihrPT09X2tleWNvZGUuZGVmYXVsdC5FTkR8fGs9PT1fa2V5Y29kZS5kZWZhdWx0LlBBR0VfRE9XTil7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjYXJldFBvcz1fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKSk7X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LGUuc2hpZnRLZXk/cG9zLmJlZ2luOmNhcmV0UG9zLGNhcmV0UG9zLCEwKX1lbHNlIGs9PT1fa2V5Y29kZS5kZWZhdWx0LkhPTUUmJiFlLnNoaWZ0S2V5fHxrPT09X2tleWNvZGUuZGVmYXVsdC5QQUdFX1VQPyhlLnByZXZlbnREZWZhdWx0KCksX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LDAsZS5zaGlmdEtleT9wb3MuYmVnaW46MCwhMCkpOihvcHRzLnVuZG9PbkVzY2FwZSYmaz09PV9rZXljb2RlLmRlZmF1bHQuRVNDQVBFfHw5MD09PWsmJmUuY3RybEtleSkmJiEwIT09ZS5hbHRLZXk/KCgwLF9pbnB1dEhhbmRsaW5nLmNoZWNrVmFsKShpbnB1dCwhMCwhMSxpbnB1dG1hc2sudW5kb1ZhbHVlLnNwbGl0KFwiXCIpKSwkaW5wdXQudHJpZ2dlcihcImNsaWNrXCIpKTohMD09PW9wdHMudGFiVGhyb3VnaCYmaz09PV9rZXljb2RlLmRlZmF1bHQuVEFCPyEwPT09ZS5zaGlmdEtleT8ocG9zLmVuZD1fcG9zaXRpb25pbmcuc2Vla1ByZXZpb3VzLmNhbGwoaW5wdXRtYXNrLHBvcy5lbmQsITApLCEwPT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLHBvcy5lbmQtMSkubWF0Y2guc3RhdGljJiZwb3MuZW5kLS0scG9zLmJlZ2luPV9wb3NpdGlvbmluZy5zZWVrUHJldmlvdXMuY2FsbChpbnB1dG1hc2sscG9zLmVuZCwhMCksMDw9cG9zLmJlZ2luJiYwPHBvcy5lbmQmJihlLnByZXZlbnREZWZhdWx0KCksX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LHBvcy5iZWdpbixwb3MuZW5kKSkpOihwb3MuYmVnaW49X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLHBvcy5iZWdpbiwhMCkscG9zLmVuZD1fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2sscG9zLmJlZ2luLCEwKSxwb3MuZW5kPG1hc2tzZXQubWFza0xlbmd0aCYmcG9zLmVuZC0tLHBvcy5iZWdpbjw9bWFza3NldC5tYXNrTGVuZ3RoJiYoZS5wcmV2ZW50RGVmYXVsdCgpLF9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxwb3MuYmVnaW4scG9zLmVuZCkpKTplLnNoaWZ0S2V5fHxvcHRzLmluc2VydE1vZGVWaXN1YWwmJiExPT09b3B0cy5pbnNlcnRNb2RlJiYoaz09PV9rZXljb2RlLmRlZmF1bHQuUklHSFQ/c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBjYXJldFBvcz1fcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQpO19wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxjYXJldFBvcy5iZWdpbil9LDApOms9PT1fa2V5Y29kZS5kZWZhdWx0LkxFRlQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgY2FyZXRQb3NfYmVnaW49X3Bvc2l0aW9uaW5nLnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLGlucHV0LmlucHV0bWFzay5jYXJldFBvcy5iZWdpbiksY2FyZXRQb3NfZW5kPV9wb3NpdGlvbmluZy50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKGlucHV0bWFzayxpbnB1dC5pbnB1dG1hc2suY2FyZXRQb3MuZW5kKTtpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LGNhcmV0UG9zX2JlZ2luKyhjYXJldFBvc19iZWdpbj09PW1hc2tzZXQubWFza0xlbmd0aD8wOjEpKTpfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsY2FyZXRQb3NfYmVnaW4tKDA9PT1jYXJldFBvc19iZWdpbj8wOjEpKX0sMCkpO2lucHV0bWFzay5pZ25vcmFibGU9b3B0cy5pZ25vcmFibGVzLmluY2x1ZGVzKGspfSxrZXlwcmVzc0V2ZW50OmZ1bmN0aW9uIGtleXByZXNzRXZlbnQoZSxjaGVja3ZhbCx3cml0ZU91dCxzdHJpY3QsbmR4KXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrfHx0aGlzLG9wdHM9aW5wdXRtYXNrLm9wdHMsJD1pbnB1dG1hc2suZGVwZW5kZW5jeUxpYixtYXNrc2V0PWlucHV0bWFzay5tYXNrc2V0LGlucHV0PWlucHV0bWFzay5lbCwkaW5wdXQ9JChpbnB1dCksaz1lLndoaWNofHxlLmNoYXJDb2RlfHxlLmtleUNvZGU7aWYoISghMD09PWNoZWNrdmFsfHxlLmN0cmxLZXkmJmUuYWx0S2V5KSYmKGUuY3RybEtleXx8ZS5tZXRhS2V5fHxpbnB1dG1hc2suaWdub3JhYmxlKSlyZXR1cm4gaz09PV9rZXljb2RlLmRlZmF1bHQuRU5URVImJmlucHV0bWFzay51bmRvVmFsdWUhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpJiYoaW5wdXRtYXNrLnVuZG9WYWx1ZT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXskaW5wdXQudHJpZ2dlcihcImNoYW5nZVwiKX0sMCkpLGlucHV0bWFzay5za2lwSW5wdXRFdmVudD0hMCwhMDtpZihrKXs0NCE9PWsmJjQ2IT09a3x8MyE9PWUubG9jYXRpb258fFwiXCI9PT1vcHRzLnJhZGl4UG9pbnR8fChrPW9wdHMucmFkaXhQb2ludC5jaGFyQ29kZUF0KDApKTt2YXIgcG9zPWNoZWNrdmFsP3tiZWdpbjpuZHgsZW5kOm5keH06X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0KSxmb3J3YXJkUG9zaXRpb24sYz1TdHJpbmcuZnJvbUNoYXJDb2RlKGspO21hc2tzZXQud3JpdGVPdXRCdWZmZXI9ITA7dmFyIHZhbFJlc3VsdD1fdmFsaWRhdGlvbi5pc1ZhbGlkLmNhbGwoaW5wdXRtYXNrLHBvcyxjLHN0cmljdCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxjaGVja3ZhbCk7aWYoITEhPT12YWxSZXN1bHQmJihfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwoaW5wdXRtYXNrLCEwKSxmb3J3YXJkUG9zaXRpb249dm9pZCAwIT09dmFsUmVzdWx0LmNhcmV0P3ZhbFJlc3VsdC5jYXJldDpfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssdmFsUmVzdWx0LnBvcy5iZWdpbj92YWxSZXN1bHQucG9zLmJlZ2luOnZhbFJlc3VsdC5wb3MpLG1hc2tzZXQucD1mb3J3YXJkUG9zaXRpb24pLGZvcndhcmRQb3NpdGlvbj1vcHRzLm51bWVyaWNJbnB1dCYmdm9pZCAwPT09dmFsUmVzdWx0LmNhcmV0P19wb3NpdGlvbmluZy5zZWVrUHJldmlvdXMuY2FsbChpbnB1dG1hc2ssZm9yd2FyZFBvc2l0aW9uKTpmb3J3YXJkUG9zaXRpb24sITEhPT13cml0ZU91dCYmKHNldFRpbWVvdXQoZnVuY3Rpb24oKXtvcHRzLm9uS2V5VmFsaWRhdGlvbi5jYWxsKGlucHV0LGssdmFsUmVzdWx0KX0sMCksbWFza3NldC53cml0ZU91dEJ1ZmZlciYmITEhPT12YWxSZXN1bHQpKXt2YXIgYnVmZmVyPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spOygwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKShpbnB1dCxidWZmZXIsZm9yd2FyZFBvc2l0aW9uLGUsITAhPT1jaGVja3ZhbCl9aWYoZS5wcmV2ZW50RGVmYXVsdCgpLGNoZWNrdmFsKXJldHVybiExIT09dmFsUmVzdWx0JiYodmFsUmVzdWx0LmZvcndhcmRQb3NpdGlvbj1mb3J3YXJkUG9zaXRpb24pLHZhbFJlc3VsdH19LGtleXVwRXZlbnQ6ZnVuY3Rpb24ga2V5dXBFdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrOyFpbnB1dG1hc2suaXNDb21wb3Npbmd8fGUua2V5Q29kZSE9PV9rZXljb2RlLmRlZmF1bHQuS0VZXzIyOSYmZS5rZXlDb2RlIT09X2tleWNvZGUuZGVmYXVsdC5FTlRFUnx8aW5wdXRtYXNrLiRlbC50cmlnZ2VyKFwiaW5wdXRcIil9LHBhc3RlRXZlbnQ6ZnVuY3Rpb24gcGFzdGVFdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHMsaW5wdXQ9dGhpcyxpbnB1dFZhbHVlPWlucHV0bWFzay5fdmFsdWVHZXQoITApLGNhcmV0UG9zPV9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayx0aGlzKSx0ZW1wVmFsdWU7aW5wdXRtYXNrLmlzUlRMJiYodGVtcFZhbHVlPWNhcmV0UG9zLmVuZCxjYXJldFBvcy5lbmQ9Y2FyZXRQb3MuYmVnaW4sY2FyZXRQb3MuYmVnaW49dGVtcFZhbHVlKTt2YXIgdmFsdWVCZWZvcmVDYXJldD1pbnB1dFZhbHVlLnN1YnN0cigwLGNhcmV0UG9zLmJlZ2luKSx2YWx1ZUFmdGVyQ2FyZXQ9aW5wdXRWYWx1ZS5zdWJzdHIoY2FyZXRQb3MuZW5kLGlucHV0VmFsdWUubGVuZ3RoKTtpZih2YWx1ZUJlZm9yZUNhcmV0PT0oaW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuc2xpY2UoKS5yZXZlcnNlKCk6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKSkuc2xpY2UoMCxjYXJldFBvcy5iZWdpbikuam9pbihcIlwiKSYmKHZhbHVlQmVmb3JlQ2FyZXQ9XCJcIiksdmFsdWVBZnRlckNhcmV0PT0oaW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuc2xpY2UoKS5yZXZlcnNlKCk6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKSkuc2xpY2UoY2FyZXRQb3MuZW5kKS5qb2luKFwiXCIpJiYodmFsdWVBZnRlckNhcmV0PVwiXCIpLHdpbmRvdy5jbGlwYm9hcmREYXRhJiZ3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKWlucHV0VmFsdWU9dmFsdWVCZWZvcmVDYXJldCt3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKSt2YWx1ZUFmdGVyQ2FyZXQ7ZWxzZXtpZighZS5jbGlwYm9hcmREYXRhfHwhZS5jbGlwYm9hcmREYXRhLmdldERhdGEpcmV0dXJuITA7aW5wdXRWYWx1ZT12YWx1ZUJlZm9yZUNhcmV0K2UuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSt2YWx1ZUFmdGVyQ2FyZXR9dmFyIHBhc3RlVmFsdWU9aW5wdXRWYWx1ZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLm9uQmVmb3JlUGFzdGUpe2lmKHBhc3RlVmFsdWU9b3B0cy5vbkJlZm9yZVBhc3RlLmNhbGwoaW5wdXRtYXNrLGlucHV0VmFsdWUsb3B0cyksITE9PT1wYXN0ZVZhbHVlKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7cGFzdGVWYWx1ZT1wYXN0ZVZhbHVlfHxpbnB1dFZhbHVlfXJldHVybigwLF9pbnB1dEhhbmRsaW5nLmNoZWNrVmFsKSh0aGlzLCEwLCExLHBhc3RlVmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSxlKSxlLnByZXZlbnREZWZhdWx0KCl9LGlucHV0RmFsbEJhY2tFdmVudDpmdW5jdGlvbiBpbnB1dEZhbGxCYWNrRXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzLCQ9aW5wdXRtYXNrLmRlcGVuZGVuY3lMaWI7ZnVuY3Rpb24gaWVNb2JpbGVIYW5kbGVyKGlucHV0LGlucHV0VmFsdWUsY2FyZXRQb3Mpe2lmKF9lbnZpcm9ubWVudC5pZW1vYmlsZSl7dmFyIGlucHV0Q2hhcj1pbnB1dFZhbHVlLnJlcGxhY2UoX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSxcIlwiKTtpZigxPT09aW5wdXRDaGFyLmxlbmd0aCl7dmFyIGl2PWlucHV0VmFsdWUuc3BsaXQoXCJcIik7aXYuc3BsaWNlKGNhcmV0UG9zLmJlZ2luLDAsaW5wdXRDaGFyKSxpbnB1dFZhbHVlPWl2LmpvaW4oXCJcIil9fXJldHVybiBpbnB1dFZhbHVlfWZ1bmN0aW9uIGFuYWx5c2VDaGFuZ2VzKGlucHV0VmFsdWUsYnVmZmVyLGNhcmV0UG9zKXtmb3IodmFyIGZyb250UGFydD1pbnB1dFZhbHVlLnN1YnN0cigwLGNhcmV0UG9zLmJlZ2luKS5zcGxpdChcIlwiKSxiYWNrUGFydD1pbnB1dFZhbHVlLnN1YnN0cihjYXJldFBvcy5iZWdpbikuc3BsaXQoXCJcIiksZnJvbnRCdWZmZXJQYXJ0PWJ1ZmZlci5zdWJzdHIoMCxjYXJldFBvcy5iZWdpbikuc3BsaXQoXCJcIiksYmFja0J1ZmZlclBhcnQ9YnVmZmVyLnN1YnN0cihjYXJldFBvcy5iZWdpbikuc3BsaXQoXCJcIiksZnBsPWZyb250UGFydC5sZW5ndGg+PWZyb250QnVmZmVyUGFydC5sZW5ndGg/ZnJvbnRQYXJ0Lmxlbmd0aDpmcm9udEJ1ZmZlclBhcnQubGVuZ3RoLGJwbD1iYWNrUGFydC5sZW5ndGg+PWJhY2tCdWZmZXJQYXJ0Lmxlbmd0aD9iYWNrUGFydC5sZW5ndGg6YmFja0J1ZmZlclBhcnQubGVuZ3RoLGJsLGksYWN0aW9uPVwiXCIsZGF0YT1bXSxtYXJrZXI9XCJ+XCIscGxhY2Vob2xkZXI7ZnJvbnRQYXJ0Lmxlbmd0aDxmcGw7KWZyb250UGFydC5wdXNoKFwiflwiKTtmb3IoO2Zyb250QnVmZmVyUGFydC5sZW5ndGg8ZnBsOylmcm9udEJ1ZmZlclBhcnQucHVzaChcIn5cIik7Zm9yKDtiYWNrUGFydC5sZW5ndGg8YnBsOyliYWNrUGFydC51bnNoaWZ0KFwiflwiKTtmb3IoO2JhY2tCdWZmZXJQYXJ0Lmxlbmd0aDxicGw7KWJhY2tCdWZmZXJQYXJ0LnVuc2hpZnQoXCJ+XCIpO3ZhciBuZXdCdWZmZXI9ZnJvbnRQYXJ0LmNvbmNhdChiYWNrUGFydCksb2xkQnVmZmVyPWZyb250QnVmZmVyUGFydC5jb25jYXQoYmFja0J1ZmZlclBhcnQpO2ZvcihpPTAsYmw9bmV3QnVmZmVyLmxlbmd0aDtpPGJsO2krKylzd2l0Y2gocGxhY2Vob2xkZXI9X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcudHJhbnNsYXRlUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssaSkpLGFjdGlvbil7Y2FzZVwiaW5zZXJ0VGV4dFwiOm9sZEJ1ZmZlcltpLTFdPT09bmV3QnVmZmVyW2ldJiZjYXJldFBvcy5iZWdpbj09bmV3QnVmZmVyLmxlbmd0aC0xJiZkYXRhLnB1c2gobmV3QnVmZmVyW2ldKSxpPWJsO2JyZWFrO2Nhc2VcImluc2VydFJlcGxhY2VtZW50VGV4dFwiOlwiflwiPT09bmV3QnVmZmVyW2ldP2NhcmV0UG9zLmVuZCsrOmk9Ymw7YnJlYWs7Y2FzZVwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCI6XCJ+XCI9PT1uZXdCdWZmZXJbaV0/Y2FyZXRQb3MuZW5kKys6aT1ibDticmVhaztkZWZhdWx0Om5ld0J1ZmZlcltpXSE9PW9sZEJ1ZmZlcltpXSYmKFwiflwiIT09bmV3QnVmZmVyW2krMV0mJm5ld0J1ZmZlcltpKzFdIT09cGxhY2Vob2xkZXImJnZvaWQgMCE9PW5ld0J1ZmZlcltpKzFdfHwob2xkQnVmZmVyW2ldIT09cGxhY2Vob2xkZXJ8fFwiflwiIT09b2xkQnVmZmVyW2krMV0pJiZcIn5cIiE9PW9sZEJ1ZmZlcltpXT9cIn5cIj09PW9sZEJ1ZmZlcltpKzFdJiZvbGRCdWZmZXJbaV09PT1uZXdCdWZmZXJbaSsxXT8oYWN0aW9uPVwiaW5zZXJ0VGV4dFwiLGRhdGEucHVzaChuZXdCdWZmZXJbaV0pLGNhcmV0UG9zLmJlZ2luLS0sY2FyZXRQb3MuZW5kLS0pOm5ld0J1ZmZlcltpXSE9PXBsYWNlaG9sZGVyJiZcIn5cIiE9PW5ld0J1ZmZlcltpXSYmKFwiflwiPT09bmV3QnVmZmVyW2krMV18fG9sZEJ1ZmZlcltpXSE9PW5ld0J1ZmZlcltpXSYmb2xkQnVmZmVyW2krMV09PT1uZXdCdWZmZXJbaSsxXSk/KGFjdGlvbj1cImluc2VydFJlcGxhY2VtZW50VGV4dFwiLGRhdGEucHVzaChuZXdCdWZmZXJbaV0pLGNhcmV0UG9zLmJlZ2luLS0pOlwiflwiPT09bmV3QnVmZmVyW2ldPyhhY3Rpb249XCJkZWxldGVDb250ZW50QmFja3dhcmRcIiwhX3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcudHJhbnNsYXRlUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssaSksITApJiZvbGRCdWZmZXJbaV0hPT1vcHRzLnJhZGl4UG9pbnR8fGNhcmV0UG9zLmVuZCsrKTppPWJsOihhY3Rpb249XCJpbnNlcnRUZXh0XCIsZGF0YS5wdXNoKG5ld0J1ZmZlcltpXSksY2FyZXRQb3MuYmVnaW4tLSxjYXJldFBvcy5lbmQtLSkpO2JyZWFrfXJldHVybnthY3Rpb246YWN0aW9uLGRhdGE6ZGF0YSxjYXJldDpjYXJldFBvc319dmFyIGlucHV0PXRoaXMsaW5wdXRWYWx1ZT1pbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSxidWZmZXI9KGlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpLnJldmVyc2UoKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkuam9pbihcIlwiKSxjYXJldFBvcz1fcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsdm9pZCAwLHZvaWQgMCwhMCk7aWYoYnVmZmVyIT09aW5wdXRWYWx1ZSl7aW5wdXRWYWx1ZT1pZU1vYmlsZUhhbmRsZXIoaW5wdXQsaW5wdXRWYWx1ZSxjYXJldFBvcyk7dmFyIGNoYW5nZXM9YW5hbHlzZUNoYW5nZXMoaW5wdXRWYWx1ZSxidWZmZXIsY2FyZXRQb3MpO3N3aXRjaCgoaW5wdXQuaW5wdXRtYXNrLnNoYWRvd1Jvb3R8fGRvY3VtZW50KS5hY3RpdmVFbGVtZW50IT09aW5wdXQmJmlucHV0LmZvY3VzKCksKDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKGlucHV0LF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKSxfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsY2FyZXRQb3MuYmVnaW4sY2FyZXRQb3MuZW5kLCEwKSxjaGFuZ2VzLmFjdGlvbil7Y2FzZVwiaW5zZXJ0VGV4dFwiOmNhc2VcImluc2VydFJlcGxhY2VtZW50VGV4dFwiOmNoYW5nZXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5LG5keCl7dmFyIGtleXByZXNzPW5ldyAkLkV2ZW50KFwia2V5cHJlc3NcIik7a2V5cHJlc3Mud2hpY2g9ZW50cnkuY2hhckNvZGVBdCgwKSxpbnB1dG1hc2suaWdub3JhYmxlPSExLEV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LGtleXByZXNzKX0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnB1dG1hc2suJGVsLnRyaWdnZXIoXCJrZXl1cFwiKX0sMCk7YnJlYWs7Y2FzZVwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCI6dmFyIGtleWRvd249bmV3ICQuRXZlbnQoXCJrZXlkb3duXCIpO2tleWRvd24ua2V5Q29kZT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRSxFdmVudEhhbmRsZXJzLmtleWRvd25FdmVudC5jYWxsKGlucHV0LGtleWRvd24pO2JyZWFrO2RlZmF1bHQ6KDAsX2lucHV0SGFuZGxpbmcuYXBwbHlJbnB1dFZhbHVlKShpbnB1dCxpbnB1dFZhbHVlKTticmVha31lLnByZXZlbnREZWZhdWx0KCl9fSxjb21wb3NpdGlvbmVuZEV2ZW50OmZ1bmN0aW9uIGNvbXBvc2l0aW9uZW5kRXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzaztpbnB1dG1hc2suaXNDb21wb3Npbmc9ITEsaW5wdXRtYXNrLiRlbC50cmlnZ2VyKFwiaW5wdXRcIil9LHNldFZhbHVlRXZlbnQ6ZnVuY3Rpb24gc2V0VmFsdWVFdmVudChlLGFyZ3VtZW50XzEsYXJndW1lbnRfMil7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxpbnB1dD10aGlzLHZhbHVlPWUmJmUuZGV0YWlsP2UuZGV0YWlsWzBdOmFyZ3VtZW50XzE7dm9pZCAwPT09dmFsdWUmJih2YWx1ZT10aGlzLmlucHV0bWFzay5fdmFsdWVHZXQoITApKSwoMCxfaW5wdXRIYW5kbGluZy5hcHBseUlucHV0VmFsdWUpKHRoaXMsdmFsdWUpLChlLmRldGFpbCYmdm9pZCAwIT09ZS5kZXRhaWxbMV18fHZvaWQgMCE9PWFyZ3VtZW50XzIpJiZfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssdGhpcyxlLmRldGFpbD9lLmRldGFpbFsxXTphcmd1bWVudF8yKX0sZm9jdXNFdmVudDpmdW5jdGlvbiBmb2N1c0V2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cyxpbnB1dD10aGlzLG5wdFZhbHVlPXRoaXMuaW5wdXRtYXNrLl92YWx1ZUdldCgpO29wdHMuc2hvd01hc2tPbkZvY3VzJiZucHRWYWx1ZSE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikmJigwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKSh0aGlzLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLF9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spKSksITAhPT1vcHRzLnBvc2l0aW9uQ2FyZXRPblRhYnx8ITEhPT1pbnB1dG1hc2subW91c2VFbnRlcnx8X3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkmJi0xIT09X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKXx8RXZlbnRIYW5kbGVycy5jbGlja0V2ZW50LmFwcGx5KHRoaXMsW2UsITBdKSxpbnB1dG1hc2sudW5kb1ZhbHVlPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIil9LGludmFsaWRFdmVudDpmdW5jdGlvbiBpbnZhbGlkRXZlbnQoZSl7dGhpcy5pbnB1dG1hc2sudmFsaWRhdGlvbkV2ZW50PSEwfSxtb3VzZWxlYXZlRXZlbnQ6ZnVuY3Rpb24gbW91c2VsZWF2ZUV2ZW50KCl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzLGlucHV0PXRoaXM7aW5wdXRtYXNrLm1vdXNlRW50ZXI9ITEsb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyYmKHRoaXMuaW5wdXRtYXNrLnNoYWRvd1Jvb3R8fGRvY3VtZW50KS5hY3RpdmVFbGVtZW50IT09dGhpcyYmKDAsX2lucHV0SGFuZGxpbmcuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIpKHRoaXMsaW5wdXRtYXNrLm9yaWdpbmFsUGxhY2Vob2xkZXIpfSxjbGlja0V2ZW50OmZ1bmN0aW9uIGNsaWNrRXZlbnQoZSx0YWJiZWQpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssaW5wdXQ9dGhpcztpZigodGhpcy5pbnB1dG1hc2suc2hhZG93Um9vdHx8ZG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQ9PT10aGlzKXt2YXIgbmV3Q2FyZXRQb3NpdGlvbj1fcG9zaXRpb25pbmcuZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssdGhpcyksdGFiYmVkKTt2b2lkIDAhPT1uZXdDYXJldFBvc2l0aW9uJiZfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssdGhpcyxuZXdDYXJldFBvc2l0aW9uKX19LGN1dEV2ZW50OmZ1bmN0aW9uIGN1dEV2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssbWFza3NldD1pbnB1dG1hc2subWFza3NldCxpbnB1dD10aGlzLHBvcz1fcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssdGhpcyksY2xpcGJvYXJkRGF0YT13aW5kb3cuY2xpcGJvYXJkRGF0YXx8ZS5jbGlwYm9hcmREYXRhLGNsaXBEYXRhPWlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZShwb3MuZW5kLHBvcy5iZWdpbik6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UocG9zLmJlZ2luLHBvcy5lbmQpO2NsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHRcIixpbnB1dG1hc2suaXNSVEw/Y2xpcERhdGEucmV2ZXJzZSgpLmpvaW4oXCJcIik6Y2xpcERhdGEuam9pbihcIlwiKSksZG9jdW1lbnQuZXhlY0NvbW1hbmQmJmRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKSxfdmFsaWRhdGlvbi5oYW5kbGVSZW1vdmUuY2FsbChpbnB1dG1hc2ssdGhpcyxfa2V5Y29kZS5kZWZhdWx0LkRFTEVURSxwb3MpLCgwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKSh0aGlzLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLG1hc2tzZXQucCxlLGlucHV0bWFzay51bmRvVmFsdWUhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpKX0sYmx1ckV2ZW50OmZ1bmN0aW9uIGJsdXJFdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHMsJD1pbnB1dG1hc2suZGVwZW5kZW5jeUxpYiwkaW5wdXQ9JCh0aGlzKSxpbnB1dD10aGlzO2lmKHRoaXMuaW5wdXRtYXNrKXsoMCxfaW5wdXRIYW5kbGluZy5IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcikodGhpcyxpbnB1dG1hc2sub3JpZ2luYWxQbGFjZWhvbGRlcik7dmFyIG5wdFZhbHVlPXRoaXMuaW5wdXRtYXNrLl92YWx1ZUdldCgpLGJ1ZmZlcj1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpO1wiXCIhPT1ucHRWYWx1ZSYmKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMmJigtMT09PV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzaykmJm5wdFZhbHVlPT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpP2J1ZmZlcj1bXTpfaW5wdXRIYW5kbGluZy5jbGVhck9wdGlvbmFsVGFpbC5jYWxsKGlucHV0bWFzayxidWZmZXIpKSwhMT09PV92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssYnVmZmVyKSYmKHNldFRpbWVvdXQoZnVuY3Rpb24oKXskaW5wdXQudHJpZ2dlcihcImluY29tcGxldGVcIil9LDApLG9wdHMuY2xlYXJJbmNvbXBsZXRlJiYoX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKGlucHV0bWFzayksYnVmZmVyPW9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXM/W106X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpKSksKDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKHRoaXMsYnVmZmVyLHZvaWQgMCxlKSksaW5wdXRtYXNrLnVuZG9WYWx1ZSE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikmJihpbnB1dG1hc2sudW5kb1ZhbHVlPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIiksJGlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIikpfX0sbW91c2VlbnRlckV2ZW50OmZ1bmN0aW9uIG1vdXNlZW50ZXJFdmVudCgpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cyxpbnB1dD10aGlzO2lmKGlucHV0bWFzay5tb3VzZUVudGVyPSEwLCh0aGlzLmlucHV0bWFzay5zaGFkb3dSb290fHxkb2N1bWVudCkuYWN0aXZlRWxlbWVudCE9PXRoaXMpe3ZhciBidWZmZXJUZW1wbGF0ZT0oaW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuc2xpY2UoKS5yZXZlcnNlKCk6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKSkuam9pbihcIlwiKTtpbnB1dG1hc2sucGxhY2Vob2xkZXIhPT1idWZmZXJUZW1wbGF0ZSYmdGhpcy5wbGFjZWhvbGRlciE9PWlucHV0bWFzay5vcmlnaW5hbFBsYWNlaG9sZGVyJiYoaW5wdXRtYXNrLm9yaWdpbmFsUGxhY2Vob2xkZXI9dGhpcy5wbGFjZWhvbGRlciksb3B0cy5zaG93TWFza09uSG92ZXImJigwLF9pbnB1dEhhbmRsaW5nLkhhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyKSh0aGlzLGJ1ZmZlclRlbXBsYXRlKX19LHN1Ym1pdEV2ZW50OmZ1bmN0aW9uIHN1Ym1pdEV2ZW50KCl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzO2lucHV0bWFzay51bmRvVmFsdWUhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpJiZpbnB1dG1hc2suJGVsLnRyaWdnZXIoXCJjaGFuZ2VcIiksb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyYmLTE9PT1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spJiZpbnB1dG1hc2suX3ZhbHVlR2V0JiZpbnB1dG1hc2suX3ZhbHVlR2V0KCk9PT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikmJmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIiksb3B0cy5jbGVhckluY29tcGxldGUmJiExPT09X3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkmJmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIiksb3B0cy5yZW1vdmVNYXNrT25TdWJtaXQmJihpbnB1dG1hc2suX3ZhbHVlU2V0KGlucHV0bWFzay51bm1hc2tlZHZhbHVlKCksITApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXsoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikoaW5wdXRtYXNrLmVsLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKX0sMCkpfSxyZXNldEV2ZW50OmZ1bmN0aW9uIHJlc2V0RXZlbnQoKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrO2lucHV0bWFzay5yZWZyZXNoVmFsdWU9ITAsc2V0VGltZW91dChmdW5jdGlvbigpeygwLF9pbnB1dEhhbmRsaW5nLmFwcGx5SW5wdXRWYWx1ZSkoaW5wdXRtYXNrLmVsLGlucHV0bWFzay5fdmFsdWVHZXQoITApKX0sMCl9fTtleHBvcnRzLkV2ZW50SGFuZGxlcnM9RXZlbnRIYW5kbGVyc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5pcGhvbmU9ZXhwb3J0cy5pZW1vYmlsZT1leHBvcnRzLm1vYmlsZT1leHBvcnRzLmllPWV4cG9ydHMudWE9dm9pZCAwO3ZhciBfd2luZG93PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1KSk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciB1YT1fd2luZG93LmRlZmF1bHQubmF2aWdhdG9yJiZfd2luZG93LmRlZmF1bHQubmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIixpZT0wPHVhLmluZGV4T2YoXCJNU0lFIFwiKXx8MDx1YS5pbmRleE9mKFwiVHJpZGVudC9cIiksbW9iaWxlPVwib250b3VjaHN0YXJ0XCJpbiBfd2luZG93LmRlZmF1bHQsaWVtb2JpbGU9L2llbW9iaWxlL2kudGVzdCh1YSksaXBob25lPS9pcGhvbmUvaS50ZXN0KHVhKSYmIWllbW9iaWxlO2V4cG9ydHMuaXBob25lPWlwaG9uZSxleHBvcnRzLmllbW9iaWxlPWllbW9iaWxlLGV4cG9ydHMubW9iaWxlPW1vYmlsZSxleHBvcnRzLmllPWllLGV4cG9ydHMudWE9dWF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDA7dmFyIF9leHRlbmQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksX3dpbmRvdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNSkpLF9kYXRhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxOSkpLF9ldmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygyMCk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciBkb2N1bWVudD1fd2luZG93LmRlZmF1bHQuZG9jdW1lbnQ7ZnVuY3Rpb24gRGVwZW5kZW5jeUxpYihlbGVtKXtyZXR1cm4gZWxlbSBpbnN0YW5jZW9mIERlcGVuZGVuY3lMaWI/ZWxlbTp0aGlzIGluc3RhbmNlb2YgRGVwZW5kZW5jeUxpYj92b2lkKG51bGwhPWVsZW0mJmVsZW0hPT1fd2luZG93LmRlZmF1bHQmJih0aGlzWzBdPWVsZW0ubm9kZU5hbWU/ZWxlbTp2b2lkIDAhPT1lbGVtWzBdJiZlbGVtWzBdLm5vZGVOYW1lP2VsZW1bMF06ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtKSx2b2lkIDAhPT10aGlzWzBdJiZudWxsIT09dGhpc1swXSYmKHRoaXNbMF0uZXZlbnRSZWdpc3RyeT10aGlzWzBdLmV2ZW50UmVnaXN0cnl8fHt9KSkpOm5ldyBEZXBlbmRlbmN5TGliKGVsZW0pfURlcGVuZGVuY3lMaWIucHJvdG90eXBlPXtvbjpfZXZlbnRzLm9uLG9mZjpfZXZlbnRzLm9mZix0cmlnZ2VyOl9ldmVudHMudHJpZ2dlcn0sRGVwZW5kZW5jeUxpYi5leHRlbmQ9X2V4dGVuZC5kZWZhdWx0LERlcGVuZGVuY3lMaWIuZGF0YT1fZGF0YS5kZWZhdWx0LERlcGVuZGVuY3lMaWIuRXZlbnQ9X2V2ZW50cy5FdmVudDt2YXIgX2RlZmF1bHQ9RGVwZW5kZW5jeUxpYjtleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuRXZlbnRSdWxlcj12b2lkIDA7dmFyIF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSxfa2V5Y29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpLF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9pbnB1dEhhbmRsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNyk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciBFdmVudFJ1bGVyPXtvbjpmdW5jdGlvbiBvbihpbnB1dCxldmVudE5hbWUsZXZlbnRIYW5kbGVyKXt2YXIgJD1pbnB1dC5pbnB1dG1hc2suZGVwZW5kZW5jeUxpYixldj1mdW5jdGlvbiBldihlKXtlLm9yaWdpbmFsRXZlbnQmJihlPWUub3JpZ2luYWxFdmVudHx8ZSxhcmd1bWVudHNbMF09ZSk7dmFyIHRoYXQ9dGhpcyxhcmdzLGlucHV0bWFzaz10aGF0LmlucHV0bWFzayxvcHRzPWlucHV0bWFzaz9pbnB1dG1hc2sub3B0czp2b2lkIDA7aWYodm9pZCAwPT09aW5wdXRtYXNrJiZcIkZPUk1cIiE9PXRoaXMubm9kZU5hbWUpe3ZhciBpbU9wdHM9JC5kYXRhKHRoYXQsXCJfaW5wdXRtYXNrX29wdHNcIik7JCh0aGF0KS5vZmYoKSxpbU9wdHMmJm5ldyBfaW5wdXRtYXNrLmRlZmF1bHQoaW1PcHRzKS5tYXNrKHRoYXQpfWVsc2V7aWYoW1wic3VibWl0XCIsXCJyZXNldFwiLFwic2V0dmFsdWVcIl0uaW5jbHVkZXMoZS50eXBlKXx8XCJGT1JNXCI9PT10aGlzLm5vZGVOYW1lfHwhKHRoYXQuZGlzYWJsZWR8fHRoYXQucmVhZE9ubHkmJiEoXCJrZXlkb3duXCI9PT1lLnR5cGUmJmUuY3RybEtleSYmNjc9PT1lLmtleUNvZGV8fCExPT09b3B0cy50YWJUaHJvdWdoJiZlLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LlRBQikpKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJpbnB1dFwiOmlmKCEwPT09aW5wdXRtYXNrLnNraXBJbnB1dEV2ZW50fHxlLmlucHV0VHlwZSYmXCJpbnNlcnRDb21wb3NpdGlvblRleHRcIj09PWUuaW5wdXRUeXBlKXJldHVybiBpbnB1dG1hc2suc2tpcElucHV0RXZlbnQ9ITEsZS5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2VcImtleWRvd25cIjppbnB1dG1hc2suc2tpcEtleVByZXNzRXZlbnQ9ITEsaW5wdXRtYXNrLnNraXBJbnB1dEV2ZW50PWlucHV0bWFzay5pc0NvbXBvc2luZz1lLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LktFWV8yMjk7YnJlYWs7Y2FzZVwia2V5dXBcIjpjYXNlXCJjb21wb3NpdGlvbmVuZFwiOmlucHV0bWFzay5pc0NvbXBvc2luZyYmKGlucHV0bWFzay5za2lwSW5wdXRFdmVudD0hMSk7YnJlYWs7Y2FzZVwia2V5cHJlc3NcIjppZighMD09PWlucHV0bWFzay5za2lwS2V5UHJlc3NFdmVudClyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO2lucHV0bWFzay5za2lwS2V5UHJlc3NFdmVudD0hMDticmVhaztjYXNlXCJjbGlja1wiOmNhc2VcImZvY3VzXCI6cmV0dXJuIGlucHV0bWFzay52YWxpZGF0aW9uRXZlbnQ/KGlucHV0bWFzay52YWxpZGF0aW9uRXZlbnQ9ITEsaW5wdXQuYmx1cigpLCgwLF9pbnB1dEhhbmRsaW5nLkhhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyKShpbnB1dCwoaW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuc2xpY2UoKS5yZXZlcnNlKCk6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKSkuam9pbihcIlwiKSksc2V0VGltZW91dChmdW5jdGlvbigpe2lucHV0LmZvY3VzKCl9LDNlMykpOihhcmdzPWFyZ3VtZW50cyxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aW5wdXQuaW5wdXRtYXNrJiZldmVudEhhbmRsZXIuYXBwbHkodGhhdCxhcmdzKX0sMCkpLCExfXZhciByZXR1cm5WYWw9ZXZlbnRIYW5kbGVyLmFwcGx5KHRoYXQsYXJndW1lbnRzKTtyZXR1cm4hMT09PXJldHVyblZhbCYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKSxyZXR1cm5WYWx9ZS5wcmV2ZW50RGVmYXVsdCgpfX07W1wic3VibWl0XCIsXCJyZXNldFwiXS5pbmNsdWRlcyhldmVudE5hbWUpPyhldj1ldi5iaW5kKGlucHV0KSxudWxsIT09aW5wdXQuZm9ybSYmJChpbnB1dC5mb3JtKS5vbihldmVudE5hbWUsZXYpKTokKGlucHV0KS5vbihldmVudE5hbWUsZXYpLGlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnROYW1lXT1pbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV18fFtdLGlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGV2KX0sb2ZmOmZ1bmN0aW9uIG9mZihpbnB1dCxldmVudCl7aWYoaW5wdXQuaW5wdXRtYXNrJiZpbnB1dC5pbnB1dG1hc2suZXZlbnRzKXt2YXIgJD1pbnB1dC5pbnB1dG1hc2suZGVwZW5kZW5jeUxpYixldmVudHM9aW5wdXQuaW5wdXRtYXNrLmV2ZW50cztmb3IodmFyIGV2ZW50TmFtZSBpbiBldmVudCYmKGV2ZW50cz1bXSxldmVudHNbZXZlbnRdPWlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnRdKSxldmVudHMpe2Zvcih2YXIgZXZBcnI9ZXZlbnRzW2V2ZW50TmFtZV07MDxldkFyci5sZW5ndGg7KXt2YXIgZXY9ZXZBcnIucG9wKCk7W1wic3VibWl0XCIsXCJyZXNldFwiXS5pbmNsdWRlcyhldmVudE5hbWUpP251bGwhPT1pbnB1dC5mb3JtJiYkKGlucHV0LmZvcm0pLm9mZihldmVudE5hbWUsZXYpOiQoaW5wdXQpLm9mZihldmVudE5hbWUsZXYpfWRlbGV0ZSBpbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV19fX19O2V4cG9ydHMuRXZlbnRSdWxlcj1FdmVudFJ1bGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX3R5cGVvZihvYmopfWZ1bmN0aW9uIGV4dGVuZCgpe3ZhciBvcHRpb25zLG5hbWUsc3JjLGNvcHksY29weUlzQXJyYXksY2xvbmUsdGFyZ2V0PWFyZ3VtZW50c1swXXx8e30saT0xLGxlbmd0aD1hcmd1bWVudHMubGVuZ3RoLGRlZXA9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgdGFyZ2V0JiYoZGVlcD10YXJnZXQsdGFyZ2V0PWFyZ3VtZW50c1tpXXx8e30saSsrKSxcIm9iamVjdFwiIT09X3R5cGVvZih0YXJnZXQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0YXJnZXQmJih0YXJnZXQ9e30pO2k8bGVuZ3RoO2krKylpZihudWxsIT0ob3B0aW9ucz1hcmd1bWVudHNbaV0pKWZvcihuYW1lIGluIG9wdGlvbnMpc3JjPXRhcmdldFtuYW1lXSxjb3B5PW9wdGlvbnNbbmFtZV0sdGFyZ2V0IT09Y29weSYmKGRlZXAmJmNvcHkmJihcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNvcHkpfHwoY29weUlzQXJyYXk9QXJyYXkuaXNBcnJheShjb3B5KSkpPyhjbG9uZT1jb3B5SXNBcnJheT8oY29weUlzQXJyYXk9ITEsc3JjJiZBcnJheS5pc0FycmF5KHNyYyk/c3JjOltdKTpzcmMmJlwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3JjKT9zcmM6e30sdGFyZ2V0W25hbWVdPWV4dGVuZChkZWVwLGNsb25lLGNvcHkpKTp2b2lkIDAhPT1jb3B5JiYodGFyZ2V0W25hbWVdPWNvcHkpKTtyZXR1cm4gdGFyZ2V0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1leHRlbmR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdDt2YXIgZXNjYXBlUmVnZXhSZWdleD1uZXcgUmVnRXhwKFwiKFxcXFxcIitbXCIvXCIsXCIuXCIsXCIqXCIsXCIrXCIsXCI/XCIsXCJ8XCIsXCIoXCIsXCIpXCIsXCJbXCIsXCJdXCIsXCJ7XCIsXCJ9XCIsXCJcXFxcXCIsXCIkXCIsXCJeXCJdLmpvaW4oXCJ8XFxcXFwiKStcIilcIixcImdpbVwiKTtmdW5jdGlvbiBfZGVmYXVsdChzdHIpe3JldHVybiBzdHIucmVwbGFjZShlc2NhcGVSZWdleFJlZ2V4LFwiXFxcXCQxXCIpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMCxfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTt2YXIgX2lucHV0bWFzazI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIF9kZWZhdWx0PV9pbnB1dG1hc2syLmRlZmF1bHQ7ZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMikpLF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF92YWxpZGF0aW9uVGVzdHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZERlZmluaXRpb25zKHtBOnt2YWxpZGF0b3I6XCJbQS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLGNhc2luZzpcInVwcGVyXCJ9LFwiJlwiOnt2YWxpZGF0b3I6XCJbMC05QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLGNhc2luZzpcInVwcGVyXCJ9LFwiI1wiOnt2YWxpZGF0b3I6XCJbMC05QS1GYS1mXVwiLGNhc2luZzpcInVwcGVyXCJ9fSk7dmFyIGlwVmFsaWRhdG9yUmVnZXg9bmV3IFJlZ0V4cChcIjI1WzAtNV18MlswLTRdWzAtOV18WzAxXVswLTldWzAtOV1cIik7ZnVuY3Rpb24gaXBWYWxpZGF0b3IoY2hycyxtYXNrc2V0LHBvcyxzdHJpY3Qsb3B0cyl7cmV0dXJuIGNocnM9LTE8cG9zLTEmJlwiLlwiIT09bWFza3NldC5idWZmZXJbcG9zLTFdPyhjaHJzPW1hc2tzZXQuYnVmZmVyW3Bvcy0xXStjaHJzLC0xPHBvcy0yJiZcIi5cIiE9PW1hc2tzZXQuYnVmZmVyW3Bvcy0yXT9tYXNrc2V0LmJ1ZmZlcltwb3MtMl0rY2hyczpcIjBcIitjaHJzKTpcIjAwXCIrY2hycyxpcFZhbGlkYXRvclJlZ2V4LnRlc3QoY2hycyl9X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZEFsaWFzZXMoe2Nzc3VuaXQ6e3JlZ2V4OlwiWystXT9bMC05XStcXFxcLj8oWzAtOV0rKT8ocHh8ZW18cmVtfGV4fCV8aW58Y218bW18cHR8cGMpXCJ9LHVybDp7cmVnZXg6XCIoaHR0cHM/fGZ0cCk6Ly8uKlwiLGF1dG9Vbm1hc2s6ITEsa2VlcFN0YXRpYzohMSx0YWJUaHJvdWdoOiEwfSxpcDp7bWFzazpcImlbaVtpXV0ualtqW2pdXS5rW2tba11dLmxbbFtsXV1cIixkZWZpbml0aW9uczp7aTp7dmFsaWRhdG9yOmlwVmFsaWRhdG9yfSxqOnt2YWxpZGF0b3I6aXBWYWxpZGF0b3J9LGs6e3ZhbGlkYXRvcjppcFZhbGlkYXRvcn0sbDp7dmFsaWRhdG9yOmlwVmFsaWRhdG9yfX0sb25Vbk1hc2s6ZnVuY3Rpb24gb25Vbk1hc2sobWFza2VkVmFsdWUsdW5tYXNrZWRWYWx1ZSxvcHRzKXtyZXR1cm4gbWFza2VkVmFsdWV9LGlucHV0bW9kZTpcIm51bWVyaWNcIn0sZW1haWw6e21hc2s6XCIqezEsNjR9Wy4qezEsNjR9XVsuKnsxLDY0fV1bLip7MSw2M31dQC17MSw2M30uLXsxLDYzfVsuLXsxLDYzfV1bLi17MSw2M31dXCIsZ3JlZWR5OiExLGNhc2luZzpcImxvd2VyXCIsb25CZWZvcmVQYXN0ZTpmdW5jdGlvbiBvbkJlZm9yZVBhc3RlKHBhc3RlZFZhbHVlLG9wdHMpe3JldHVybiBwYXN0ZWRWYWx1ZT1wYXN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpLHBhc3RlZFZhbHVlLnJlcGxhY2UoXCJtYWlsdG86XCIsXCJcIil9LGRlZmluaXRpb25zOntcIipcIjp7dmFsaWRhdG9yOlwiWzAtOVxcdWZmMTEtXFx1ZmYxOUEtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNSEjJCUmJyorLz0/Xl9ge3x9fi1dXCJ9LFwiLVwiOnt2YWxpZGF0b3I6XCJbMC05QS1aYS16LV1cIn19LG9uVW5NYXNrOmZ1bmN0aW9uIG9uVW5NYXNrKG1hc2tlZFZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl7cmV0dXJuIG1hc2tlZFZhbHVlfSxpbnB1dG1vZGU6XCJlbWFpbFwifSxtYWM6e21hc2s6XCIjIzojIzojIzojIzojIzojI1wifSx2aW46e21hc2s6XCJWezEzfTl7NH1cIixkZWZpbml0aW9uczp7Vjp7dmFsaWRhdG9yOlwiW0EtSEotTlBSLVphLWhqLW5wci16XFxcXGRdXCIsY2FzaW5nOlwidXBwZXJcIn19LGNsZWFySW5jb21wbGV0ZTohMCxhdXRvVW5tYXNrOiEwfSxzc246e21hc2s6XCI5OTktOTktOTk5OVwiLHBvc3RWYWxpZGF0aW9uOmZ1bmN0aW9uIHBvc3RWYWxpZGF0aW9uKGJ1ZmZlcixwb3MsYyxjdXJyZW50UmVzdWx0LG9wdHMsbWFza3NldCxzdHJpY3Qpe3ZhciBiZmZyPV92YWxpZGF0aW9uVGVzdHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywhMCxfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzKSwhMCwhMCk7cmV0dXJuL14oPyEyMTktMDktOTk5OXwwNzgtMDUtMTEyMCkoPyE2NjZ8MDAwfDkuezJ9KS57M30tKD8hMDApLnsyfS0oPyEwezR9KS57NH0kLy50ZXN0KGJmZnIuam9pbihcIlwiKSl9fX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX3R5cGVvZihvYmopfVwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZiYmKE9iamVjdC5nZXRQcm90b3R5cGVPZj1cIm9iamVjdFwiPT09X3R5cGVvZihcInRlc3RcIi5fX3Byb3RvX18pP2Z1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdC5fX3Byb3RvX199OmZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGV9KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7QXJyYXkucHJvdG90eXBlLmluY2x1ZGVzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLFwiaW5jbHVkZXNcIix7dmFsdWU6ZnVuY3Rpb24gdmFsdWUoc2VhcmNoRWxlbWVudCxmcm9tSW5kZXgpe2lmKG51bGw9PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ0aGlzXCIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO3ZhciBvPU9iamVjdCh0aGlzKSxsZW49by5sZW5ndGg+Pj4wO2lmKDA9PWxlbilyZXR1cm4hMTtmb3IodmFyIG49MHxmcm9tSW5kZXgsaz1NYXRoLm1heCgwPD1uP246bGVuLU1hdGguYWJzKG4pLDApO2s8bGVuOyl7aWYob1trXT09PXNlYXJjaEVsZW1lbnQpcmV0dXJuITA7aysrfXJldHVybiExfX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLm1hc2s9bWFzazt2YXIgX2tleWNvZGU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfaW5wdXRIYW5kbGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9ldmVudHJ1bGVyPV9fd2VicGFja19yZXF1aXJlX18oMTEpLF9lbnZpcm9ubWVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpLF92YWxpZGF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNCksX2V2ZW50aGFuZGxlcnM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gbWFzaygpe3ZhciBpbnB1dG1hc2s9dGhpcyxvcHRzPXRoaXMub3B0cyxlbD10aGlzLmVsLCQ9dGhpcy5kZXBlbmRlbmN5TGliO2Z1bmN0aW9uIGlzRWxlbWVudFR5cGVTdXBwb3J0ZWQoaW5wdXQsb3B0cyl7ZnVuY3Rpb24gcGF0Y2hWYWx1ZVByb3BlcnR5KG5wdCl7dmFyIHZhbHVlR2V0LHZhbHVlU2V0O2Z1bmN0aW9uIHBhdGNoVmFsaG9vayh0eXBlKXtpZigkLnZhbEhvb2tzJiYodm9pZCAwPT09JC52YWxIb29rc1t0eXBlXXx8ITAhPT0kLnZhbEhvb2tzW3R5cGVdLmlucHV0bWFza3BhdGNoKSl7dmFyIHZhbGhvb2tHZXQ9JC52YWxIb29rc1t0eXBlXSYmJC52YWxIb29rc1t0eXBlXS5nZXQ/JC52YWxIb29rc1t0eXBlXS5nZXQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0udmFsdWV9LHZhbGhvb2tTZXQ9JC52YWxIb29rc1t0eXBlXSYmJC52YWxIb29rc1t0eXBlXS5zZXQ/JC52YWxIb29rc1t0eXBlXS5zZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSl7cmV0dXJuIGVsZW0udmFsdWU9dmFsdWUsZWxlbX07JC52YWxIb29rc1t0eXBlXT17Z2V0OmZ1bmN0aW9uIGdldChlbGVtKXtpZihlbGVtLmlucHV0bWFzayl7aWYoZWxlbS5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrKXJldHVybiBlbGVtLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7dmFyIHJlc3VsdD12YWxob29rR2V0KGVsZW0pO3JldHVybi0xIT09X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLHZvaWQgMCx2b2lkIDAsZWxlbS5pbnB1dG1hc2subWFza3NldC52YWxpZFBvc2l0aW9ucyl8fCEwIT09b3B0cy5udWxsYWJsZT9yZXN1bHQ6XCJcIn1yZXR1cm4gdmFsaG9va0dldChlbGVtKX0sc2V0OmZ1bmN0aW9uIHNldChlbGVtLHZhbHVlKXt2YXIgcmVzdWx0PXZhbGhvb2tTZXQoZWxlbSx2YWx1ZSk7cmV0dXJuIGVsZW0uaW5wdXRtYXNrJiYoMCxfaW5wdXRIYW5kbGluZy5hcHBseUlucHV0VmFsdWUpKGVsZW0sdmFsdWUpLHJlc3VsdH0saW5wdXRtYXNrcGF0Y2g6ITB9fX1mdW5jdGlvbiBnZXR0ZXIoKXtyZXR1cm4gdGhpcy5pbnB1dG1hc2s/dGhpcy5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrP3RoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKTotMSE9PV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayl8fCEwIT09b3B0cy5udWxsYWJsZT8odGhpcy5pbnB1dG1hc2suc2hhZG93Um9vdHx8ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk9PT10aGlzJiZvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzPyhpbnB1dG1hc2suaXNSVEw/X2lucHV0SGFuZGxpbmcuY2xlYXJPcHRpb25hbFRhaWwuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UoKSkucmV2ZXJzZSgpOl9pbnB1dEhhbmRsaW5nLmNsZWFyT3B0aW9uYWxUYWlsLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkpKS5qb2luKFwiXCIpOnZhbHVlR2V0LmNhbGwodGhpcyk6XCJcIjp2YWx1ZUdldC5jYWxsKHRoaXMpfWZ1bmN0aW9uIHNldHRlcih2YWx1ZSl7dmFsdWVTZXQuY2FsbCh0aGlzLHZhbHVlKSx0aGlzLmlucHV0bWFzayYmKDAsX2lucHV0SGFuZGxpbmcuYXBwbHlJbnB1dFZhbHVlKSh0aGlzLHZhbHVlKX1mdW5jdGlvbiBpbnN0YWxsTmF0aXZlVmFsdWVTZXRGYWxsYmFjayhucHQpe19ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24obnB0LFwibW91c2VlbnRlclwiLGZ1bmN0aW9uKCl7dmFyIGlucHV0PXRoaXMsdmFsdWU9dGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKTt2YWx1ZSE9PShpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykucmV2ZXJzZSgpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKS5qb2luKFwiXCIpJiYoMCxfaW5wdXRIYW5kbGluZy5hcHBseUlucHV0VmFsdWUpKHRoaXMsdmFsdWUpfSl9aWYoIW5wdC5pbnB1dG1hc2suX192YWx1ZUdldCl7aWYoITAhPT1vcHRzLm5vVmFsdWVQYXRjaGluZyl7aWYoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcil7dmFyIHZhbHVlUHJvcGVydHk9T2JqZWN0LmdldFByb3RvdHlwZU9mP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKG5wdCksXCJ2YWx1ZVwiKTp2b2lkIDA7dmFsdWVQcm9wZXJ0eSYmdmFsdWVQcm9wZXJ0eS5nZXQmJnZhbHVlUHJvcGVydHkuc2V0Pyh2YWx1ZUdldD12YWx1ZVByb3BlcnR5LmdldCx2YWx1ZVNldD12YWx1ZVByb3BlcnR5LnNldCxPYmplY3QuZGVmaW5lUHJvcGVydHkobnB0LFwidmFsdWVcIix7Z2V0OmdldHRlcixzZXQ6c2V0dGVyLGNvbmZpZ3VyYWJsZTohMH0pKTpcImlucHV0XCIhPT1ucHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodmFsdWVHZXQ9ZnVuY3Rpb24gdmFsdWVHZXQoKXtyZXR1cm4gdGhpcy50ZXh0Q29udGVudH0sdmFsdWVTZXQ9ZnVuY3Rpb24gdmFsdWVTZXQodmFsdWUpe3RoaXMudGV4dENvbnRlbnQ9dmFsdWV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucHQsXCJ2YWx1ZVwiLHtnZXQ6Z2V0dGVyLHNldDpzZXR0ZXIsY29uZmlndXJhYmxlOiEwfSkpfWVsc2UgZG9jdW1lbnQuX19sb29rdXBHZXR0ZXJfXyYmbnB0Ll9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSYmKHZhbHVlR2V0PW5wdC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIiksdmFsdWVTZXQ9bnB0Ll9fbG9va3VwU2V0dGVyX18oXCJ2YWx1ZVwiKSxucHQuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsZ2V0dGVyKSxucHQuX19kZWZpbmVTZXR0ZXJfXyhcInZhbHVlXCIsc2V0dGVyKSk7bnB0LmlucHV0bWFzay5fX3ZhbHVlR2V0PXZhbHVlR2V0LG5wdC5pbnB1dG1hc2suX192YWx1ZVNldD12YWx1ZVNldH1ucHQuaW5wdXRtYXNrLl92YWx1ZUdldD1mdW5jdGlvbihvdmVycnVsZVJUTCl7cmV0dXJuIGlucHV0bWFzay5pc1JUTCYmITAhPT1vdmVycnVsZVJUTD92YWx1ZUdldC5jYWxsKHRoaXMuZWwpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpOnZhbHVlR2V0LmNhbGwodGhpcy5lbCl9LG5wdC5pbnB1dG1hc2suX3ZhbHVlU2V0PWZ1bmN0aW9uKHZhbHVlLG92ZXJydWxlUlRMKXt2YWx1ZVNldC5jYWxsKHRoaXMuZWwsbnVsbD09dmFsdWU/XCJcIjohMCE9PW92ZXJydWxlUlRMJiZpbnB1dG1hc2suaXNSVEw/dmFsdWUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik6dmFsdWUpfSx2b2lkIDA9PT12YWx1ZUdldCYmKHZhbHVlR2V0PWZ1bmN0aW9uIHZhbHVlR2V0KCl7cmV0dXJuIHRoaXMudmFsdWV9LHZhbHVlU2V0PWZ1bmN0aW9uIHZhbHVlU2V0KHZhbHVlKXt0aGlzLnZhbHVlPXZhbHVlfSxwYXRjaFZhbGhvb2sobnB0LnR5cGUpLGluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrKG5wdCkpfX1cInRleHRhcmVhXCIhPT1pbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJm9wdHMuaWdub3JhYmxlcy5wdXNoKF9rZXljb2RlLmRlZmF1bHQuRU5URVIpO3ZhciBlbGVtZW50VHlwZT1pbnB1dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLGlzU3VwcG9ydGVkPVwiaW5wdXRcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmb3B0cy5zdXBwb3J0c0lucHV0VHlwZS5pbmNsdWRlcyhlbGVtZW50VHlwZSl8fGlucHV0LmlzQ29udGVudEVkaXRhYmxlfHxcInRleHRhcmVhXCI9PT1pbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIWlzU3VwcG9ydGVkKWlmKFwiaW5wdXRcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtlbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsZWxlbWVudFR5cGUpLGlzU3VwcG9ydGVkPVwidGV4dFwiPT09ZWwudHlwZSxlbD1udWxsfWVsc2UgaXNTdXBwb3J0ZWQ9XCJwYXJ0aWFsXCI7cmV0dXJuITEhPT1pc1N1cHBvcnRlZD9wYXRjaFZhbHVlUHJvcGVydHkoaW5wdXQpOmlucHV0LmlucHV0bWFzaz12b2lkIDAsaXNTdXBwb3J0ZWR9X2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vZmYoZWwpO3ZhciBpc1N1cHBvcnRlZD1pc0VsZW1lbnRUeXBlU3VwcG9ydGVkKGVsLG9wdHMpO2lmKCExIT09aXNTdXBwb3J0ZWQpe2lucHV0bWFzay5vcmlnaW5hbFBsYWNlaG9sZGVyPWVsLnBsYWNlaG9sZGVyLGlucHV0bWFzay5tYXhMZW5ndGg9dm9pZCAwIT09ZWw/ZWwubWF4TGVuZ3RoOnZvaWQgMCwtMT09PWlucHV0bWFzay5tYXhMZW5ndGgmJihpbnB1dG1hc2subWF4TGVuZ3RoPXZvaWQgMCksXCJpbnB1dE1vZGVcImluIGVsJiZudWxsPT09ZWwuZ2V0QXR0cmlidXRlKFwiaW5wdXRtb2RlXCIpJiYoZWwuaW5wdXRNb2RlPW9wdHMuaW5wdXRtb2RlLGVsLnNldEF0dHJpYnV0ZShcImlucHV0bW9kZVwiLG9wdHMuaW5wdXRtb2RlKSksITA9PT1pc1N1cHBvcnRlZCYmKG9wdHMuc2hvd01hc2tPbkZvY3VzPW9wdHMuc2hvd01hc2tPbkZvY3VzJiYtMT09PVtcImNjLW51bWJlclwiLFwiY2MtZXhwXCJdLmluZGV4T2YoZWwuYXV0b2NvbXBsZXRlKSxfZW52aXJvbm1lbnQuaXBob25lJiYob3B0cy5pbnNlcnRNb2RlVmlzdWFsPSExKSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwic3VibWl0XCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5zdWJtaXRFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcInJlc2V0XCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5yZXNldEV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiYmx1clwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuYmx1ckV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiZm9jdXNcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmZvY3VzRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJpbnZhbGlkXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5pbnZhbGlkRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJjbGlja1wiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuY2xpY2tFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcIm1vdXNlbGVhdmVcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLm1vdXNlbGVhdmVFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcIm1vdXNlZW50ZXJcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLm1vdXNlZW50ZXJFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcInBhc3RlXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5wYXN0ZUV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiY3V0XCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5jdXRFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImNvbXBsZXRlXCIsb3B0cy5vbmNvbXBsZXRlKSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiaW5jb21wbGV0ZVwiLG9wdHMub25pbmNvbXBsZXRlKSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiY2xlYXJlZFwiLG9wdHMub25jbGVhcmVkKSwhMCE9PW9wdHMuaW5wdXRFdmVudE9ubHkmJihfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwia2V5ZG93blwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMua2V5ZG93bkV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwia2V5cHJlc3NcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJrZXl1cFwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMua2V5dXBFdmVudCkpLChfZW52aXJvbm1lbnQubW9iaWxlfHxvcHRzLmlucHV0RXZlbnRPbmx5KSYmZWwucmVtb3ZlQXR0cmlidXRlKFwibWF4TGVuZ3RoXCIpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJpbnB1dFwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuaW5wdXRGYWxsQmFja0V2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiY29tcG9zaXRpb25lbmRcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmNvbXBvc2l0aW9uZW5kRXZlbnQpKSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwic2V0dmFsdWVcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLnNldFZhbHVlRXZlbnQpLGlucHV0bWFzay51bmRvVmFsdWU9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpO3ZhciBhY3RpdmVFbGVtZW50PShlbC5pbnB1dG1hc2suc2hhZG93Um9vdHx8ZG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQ7aWYoXCJcIiE9PWVsLmlucHV0bWFzay5fdmFsdWVHZXQoITApfHwhMT09PW9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXN8fGFjdGl2ZUVsZW1lbnQ9PT1lbCl7KDAsX2lucHV0SGFuZGxpbmcuYXBwbHlJbnB1dFZhbHVlKShlbCxlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSxvcHRzKTt2YXIgYnVmZmVyPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKCk7ITE9PT1fdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlcikmJm9wdHMuY2xlYXJJbmNvbXBsZXRlJiZfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwoaW5wdXRtYXNrKSxvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzJiZhY3RpdmVFbGVtZW50IT09ZWwmJigtMT09PV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayk/YnVmZmVyPVtdOl9pbnB1dEhhbmRsaW5nLmNsZWFyT3B0aW9uYWxUYWlsLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlcikpLCghMT09PW9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXN8fG9wdHMuc2hvd01hc2tPbkZvY3VzJiZhY3RpdmVFbGVtZW50PT09ZWx8fFwiXCIhPT1lbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSkmJigwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKShlbCxidWZmZXIpLGFjdGl2ZUVsZW1lbnQ9PT1lbCYmX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGVsLF9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spKSl9fX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9kZWZhdWx0KG93bmVyLGtleSx2YWx1ZSl7aWYodm9pZCAwPT09dmFsdWUpcmV0dXJuIG93bmVyLl9fZGF0YT9vd25lci5fX2RhdGFba2V5XTpudWxsO293bmVyLl9fZGF0YT1vd25lci5fX2RhdGF8fHt9LG93bmVyLl9fZGF0YVtrZXldPXZhbHVlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5vbj1vbixleHBvcnRzLm9mZj1vZmYsZXhwb3J0cy50cmlnZ2VyPXRyaWdnZXIsZXhwb3J0cy5FdmVudD12b2lkIDA7dmFyIF9leHRlbmQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksX3dpbmRvdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNSkpLF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSksX2NhblVzZURPTT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNikpLEV2ZW50O2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChlbGVtKXtyZXR1cm4gZWxlbSBpbnN0YW5jZW9mIEVsZW1lbnR9ZnVuY3Rpb24gb24oZXZlbnRzLGhhbmRsZXIpe2Z1bmN0aW9uIGFkZEV2ZW50KGV2LG5hbWVzcGFjZSl7ZWxlbS5hZGRFdmVudExpc3RlbmVyP2VsZW0uYWRkRXZlbnRMaXN0ZW5lcihldixoYW5kbGVyLCExKTplbGVtLmF0dGFjaEV2ZW50JiZlbGVtLmF0dGFjaEV2ZW50KFwib25cIitldixoYW5kbGVyKSxldmVudFJlZ2lzdHJ5W2V2XT1ldmVudFJlZ2lzdHJ5W2V2XXx8e30sZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXT1ldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdfHxbXSxldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdLnB1c2goaGFuZGxlcil9aWYoaXNWYWxpZEVsZW1lbnQodGhpc1swXSkpZm9yKHZhciBldmVudFJlZ2lzdHJ5PXRoaXNbMF0uZXZlbnRSZWdpc3RyeSxlbGVtPXRoaXNbMF0sX2V2ZW50cz1ldmVudHMuc3BsaXQoXCIgXCIpLGVuZHg9MDtlbmR4PF9ldmVudHMubGVuZ3RoO2VuZHgrKyl7dmFyIG5zRXZlbnQ9X2V2ZW50c1tlbmR4XS5zcGxpdChcIi5cIiksZXY9bnNFdmVudFswXSxuYW1lc3BhY2U9bnNFdmVudFsxXXx8XCJnbG9iYWxcIjthZGRFdmVudChldixuYW1lc3BhY2UpfXJldHVybiB0aGlzfWZ1bmN0aW9uIG9mZihldmVudHMsaGFuZGxlcil7dmFyIGV2ZW50UmVnaXN0cnksZWxlbTtmdW5jdGlvbiByZW1vdmVFdmVudChldixuYW1lc3BhY2UsaGFuZGxlcil7aWYoZXYgaW4gZXZlbnRSZWdpc3RyeT09ITApaWYoZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyP2VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldixoYW5kbGVyLCExKTplbGVtLmRldGFjaEV2ZW50JiZlbGVtLmRldGFjaEV2ZW50KFwib25cIitldixoYW5kbGVyKSxcImdsb2JhbFwiPT09bmFtZXNwYWNlKWZvcih2YXIgbm1zcCBpbiBldmVudFJlZ2lzdHJ5W2V2XSlldmVudFJlZ2lzdHJ5W2V2XVtubXNwXS5zcGxpY2UoZXZlbnRSZWdpc3RyeVtldl1bbm1zcF0uaW5kZXhPZihoYW5kbGVyKSwxKTtlbHNlIGV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV0uc3BsaWNlKGV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV0uaW5kZXhPZihoYW5kbGVyKSwxKX1mdW5jdGlvbiByZXNvbHZlTmFtZXNwYWNlKGV2LG5hbWVzcGFjZSl7dmFyIGV2dHM9W10saG5keCxobmRMO2lmKDA8ZXYubGVuZ3RoKWlmKHZvaWQgMD09PWhhbmRsZXIpZm9yKGhuZHg9MCxobmRMPWV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV0ubGVuZ3RoO2huZHg8aG5kTDtobmR4KyspZXZ0cy5wdXNoKHtldjpldixuYW1lc3BhY2U6bmFtZXNwYWNlJiYwPG5hbWVzcGFjZS5sZW5ndGg/bmFtZXNwYWNlOlwiZ2xvYmFsXCIsaGFuZGxlcjpldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdW2huZHhdfSk7ZWxzZSBldnRzLnB1c2goe2V2OmV2LG5hbWVzcGFjZTpuYW1lc3BhY2UmJjA8bmFtZXNwYWNlLmxlbmd0aD9uYW1lc3BhY2U6XCJnbG9iYWxcIixoYW5kbGVyOmhhbmRsZXJ9KTtlbHNlIGlmKDA8bmFtZXNwYWNlLmxlbmd0aClmb3IodmFyIGV2TmR4IGluIGV2ZW50UmVnaXN0cnkpZm9yKHZhciBubXNwIGluIGV2ZW50UmVnaXN0cnlbZXZOZHhdKWlmKG5tc3A9PT1uYW1lc3BhY2UpaWYodm9pZCAwPT09aGFuZGxlcilmb3IoaG5keD0wLGhuZEw9ZXZlbnRSZWdpc3RyeVtldk5keF1bbm1zcF0ubGVuZ3RoO2huZHg8aG5kTDtobmR4KyspZXZ0cy5wdXNoKHtldjpldk5keCxuYW1lc3BhY2U6bm1zcCxoYW5kbGVyOmV2ZW50UmVnaXN0cnlbZXZOZHhdW25tc3BdW2huZHhdfSk7ZWxzZSBldnRzLnB1c2goe2V2OmV2TmR4LG5hbWVzcGFjZTpubXNwLGhhbmRsZXI6aGFuZGxlcn0pO3JldHVybiBldnRzfWlmKGlzVmFsaWRFbGVtZW50KHRoaXNbMF0pJiZldmVudHMpe2V2ZW50UmVnaXN0cnk9dGhpc1swXS5ldmVudFJlZ2lzdHJ5LGVsZW09dGhpc1swXTtmb3IodmFyIF9ldmVudHM9ZXZlbnRzLnNwbGl0KFwiIFwiKSxlbmR4PTA7ZW5keDxfZXZlbnRzLmxlbmd0aDtlbmR4KyspZm9yKHZhciBuc0V2ZW50PV9ldmVudHNbZW5keF0uc3BsaXQoXCIuXCIpLG9mZkV2ZW50cz1yZXNvbHZlTmFtZXNwYWNlKG5zRXZlbnRbMF0sbnNFdmVudFsxXSksaT0wLG9mZkV2ZW50c0w9b2ZmRXZlbnRzLmxlbmd0aDtpPG9mZkV2ZW50c0w7aSsrKXJlbW92ZUV2ZW50KG9mZkV2ZW50c1tpXS5ldixvZmZFdmVudHNbaV0ubmFtZXNwYWNlLG9mZkV2ZW50c1tpXS5oYW5kbGVyKX1yZXR1cm4gdGhpc31mdW5jdGlvbiB0cmlnZ2VyKGV2ZW50cyl7aWYoaXNWYWxpZEVsZW1lbnQodGhpc1swXSkpZm9yKHZhciBldmVudFJlZ2lzdHJ5PXRoaXNbMF0uZXZlbnRSZWdpc3RyeSxlbGVtPXRoaXNbMF0sX2V2ZW50cz1cInN0cmluZ1wiPT10eXBlb2YgZXZlbnRzP2V2ZW50cy5zcGxpdChcIiBcIik6W2V2ZW50cy50eXBlXSxlbmR4PTA7ZW5keDxfZXZlbnRzLmxlbmd0aDtlbmR4Kyspe3ZhciBuc0V2ZW50PV9ldmVudHNbZW5keF0uc3BsaXQoXCIuXCIpLGV2PW5zRXZlbnRbMF0sbmFtZXNwYWNlPW5zRXZlbnRbMV18fFwiZ2xvYmFsXCI7aWYodm9pZCAwIT09ZG9jdW1lbnQmJlwiZ2xvYmFsXCI9PT1uYW1lc3BhY2Upe3ZhciBldm50LGkscGFyYW1zPXtidWJibGVzOiEwLGNhbmNlbGFibGU6ITAsZGV0YWlsOmFyZ3VtZW50c1sxXX07aWYoZG9jdW1lbnQuY3JlYXRlRXZlbnQpe3RyeXtzd2l0Y2goZXYpe2Nhc2VcImlucHV0XCI6ZXZudD1uZXcgSW5wdXRFdmVudChldixwYXJhbXMpO2JyZWFrO2RlZmF1bHQ6ZXZudD1uZXcgQ3VzdG9tRXZlbnQoZXYscGFyYW1zKX19Y2F0Y2goZSl7ZXZudD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpLGV2bnQuaW5pdEN1c3RvbUV2ZW50KGV2LHBhcmFtcy5idWJibGVzLHBhcmFtcy5jYW5jZWxhYmxlLHBhcmFtcy5kZXRhaWwpfWV2ZW50cy50eXBlJiYoMCxfZXh0ZW5kLmRlZmF1bHQpKGV2bnQsZXZlbnRzKSxlbGVtLmRpc3BhdGNoRXZlbnQoZXZudCl9ZWxzZSBldm50PWRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksZXZudC5ldmVudFR5cGU9ZXYsZXZudC5kZXRhaWw9YXJndW1lbnRzWzFdLGV2ZW50cy50eXBlJiYoMCxfZXh0ZW5kLmRlZmF1bHQpKGV2bnQsZXZlbnRzKSxlbGVtLmZpcmVFdmVudChcIm9uXCIrZXZudC5ldmVudFR5cGUsZXZudCl9ZWxzZSBpZih2b2lkIDAhPT1ldmVudFJlZ2lzdHJ5W2V2XSlpZihhcmd1bWVudHNbMF09YXJndW1lbnRzWzBdLnR5cGU/YXJndW1lbnRzWzBdOl9pbnB1dG1hc2suZGVmYXVsdC5FdmVudChhcmd1bWVudHNbMF0pLGFyZ3VtZW50c1swXS5kZXRhaWw9YXJndW1lbnRzLnNsaWNlKDEpLFwiZ2xvYmFsXCI9PT1uYW1lc3BhY2UpZm9yKHZhciBubXNwIGluIGV2ZW50UmVnaXN0cnlbZXZdKWZvcihpPTA7aTxldmVudFJlZ2lzdHJ5W2V2XVtubXNwXS5sZW5ndGg7aSsrKWV2ZW50UmVnaXN0cnlbZXZdW25tc3BdW2ldLmFwcGx5KGVsZW0sYXJndW1lbnRzKTtlbHNlIGZvcihpPTA7aTxldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdLmxlbmd0aDtpKyspZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXVtpXS5hcHBseShlbGVtLGFyZ3VtZW50cyl9cmV0dXJuIHRoaXN9ZXhwb3J0cy5FdmVudD1FdmVudCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBfd2luZG93LmRlZmF1bHQuQ3VzdG9tRXZlbnQ/ZXhwb3J0cy5FdmVudD1FdmVudD1fd2luZG93LmRlZmF1bHQuQ3VzdG9tRXZlbnQ6X2NhblVzZURPTS5kZWZhdWx0JiYoZXhwb3J0cy5FdmVudD1FdmVudD1mdW5jdGlvbiBFdmVudChldmVudCxwYXJhbXMpe3BhcmFtcz1wYXJhbXN8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGV2dD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBldnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50LHBhcmFtcy5idWJibGVzLHBhcmFtcy5jYW5jZWxhYmxlLHBhcmFtcy5kZXRhaWwpLGV2dH0sRXZlbnQucHJvdG90eXBlPV93aW5kb3cuZGVmYXVsdC5FdmVudC5wcm90b3R5cGUpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmdlbmVyYXRlTWFza1NldD1nZW5lcmF0ZU1hc2tTZXQsZXhwb3J0cy5hbmFseXNlTWFzaz1hbmFseXNlTWFzazt2YXIgX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTApKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gZ2VuZXJhdGVNYXNrU2V0KG9wdHMsbm9jYWNoZSl7dmFyIG1zO2Z1bmN0aW9uIGdlbmVyYXRlTWFzayhtYXNrLG1ldGFkYXRhLG9wdHMpe3ZhciByZWdleE1hc2s9ITEsbWFza3NldERlZmluaXRpb24sbWFza2RlZktleTtpZihudWxsIT09bWFzayYmXCJcIiE9PW1hc2t8fChyZWdleE1hc2s9bnVsbCE9PW9wdHMucmVnZXgsbWFzaz1yZWdleE1hc2s/KG1hc2s9b3B0cy5yZWdleCxtYXNrLnJlcGxhY2UoL14oXFxeKSguKikoXFwkKSQvLFwiJDJcIikpOihyZWdleE1hc2s9ITAsXCIuKlwiKSksMT09PW1hc2subGVuZ3RoJiYhMT09PW9wdHMuZ3JlZWR5JiYwIT09b3B0cy5yZXBlYXQmJihvcHRzLnBsYWNlaG9sZGVyPVwiXCIpLDA8b3B0cy5yZXBlYXR8fFwiKlwiPT09b3B0cy5yZXBlYXR8fFwiK1wiPT09b3B0cy5yZXBlYXQpe3ZhciByZXBlYXRTdGFydD1cIipcIj09PW9wdHMucmVwZWF0PzA6XCIrXCI9PT1vcHRzLnJlcGVhdD8xOm9wdHMucmVwZWF0O21hc2s9b3B0cy5ncm91cG1hcmtlclswXSttYXNrK29wdHMuZ3JvdXBtYXJrZXJbMV0rb3B0cy5xdWFudGlmaWVybWFya2VyWzBdK3JlcGVhdFN0YXJ0K1wiLFwiK29wdHMucmVwZWF0K29wdHMucXVhbnRpZmllcm1hcmtlclsxXX1yZXR1cm4gbWFza2RlZktleT1yZWdleE1hc2s/XCJyZWdleF9cIitvcHRzLnJlZ2V4Om9wdHMubnVtZXJpY0lucHV0P21hc2suc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik6bWFzaywhMSE9PW9wdHMua2VlcFN0YXRpYyYmKG1hc2tkZWZLZXk9XCJrc19cIittYXNrZGVmS2V5KSx2b2lkIDA9PT1JbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza2RlZktleV18fCEwPT09bm9jYWNoZT8obWFza3NldERlZmluaXRpb249e21hc2s6bWFzayxtYXNrVG9rZW46SW5wdXRtYXNrLnByb3RvdHlwZS5hbmFseXNlTWFzayhtYXNrLHJlZ2V4TWFzayxvcHRzKSx2YWxpZFBvc2l0aW9uczp7fSxfYnVmZmVyOnZvaWQgMCxidWZmZXI6dm9pZCAwLHRlc3RzOnt9LGV4Y2x1ZGVzOnt9LG1ldGFkYXRhOm1ldGFkYXRhLG1hc2tMZW5ndGg6dm9pZCAwLGppdE9mZnNldDp7fX0sITAhPT1ub2NhY2hlJiYoSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tkZWZLZXldPW1hc2tzZXREZWZpbml0aW9uLG1hc2tzZXREZWZpbml0aW9uPV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAse30sSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tkZWZLZXldKSkpOm1hc2tzZXREZWZpbml0aW9uPV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAse30sSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tkZWZLZXldKSxtYXNrc2V0RGVmaW5pdGlvbn1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLm1hc2smJihvcHRzLm1hc2s9b3B0cy5tYXNrKG9wdHMpKSxBcnJheS5pc0FycmF5KG9wdHMubWFzaykpe2lmKDE8b3B0cy5tYXNrLmxlbmd0aCl7bnVsbD09PW9wdHMua2VlcFN0YXRpYyYmKG9wdHMua2VlcFN0YXRpYz0hMCk7dmFyIGFsdE1hc2s9b3B0cy5ncm91cG1hcmtlclswXTtyZXR1cm4ob3B0cy5pc1JUTD9vcHRzLm1hc2sucmV2ZXJzZSgpOm9wdHMubWFzaykuZm9yRWFjaChmdW5jdGlvbihtc2spezE8YWx0TWFzay5sZW5ndGgmJihhbHRNYXNrKz1vcHRzLmdyb3VwbWFya2VyWzFdK29wdHMuYWx0ZXJuYXRvcm1hcmtlcitvcHRzLmdyb3VwbWFya2VyWzBdKSx2b2lkIDAhPT1tc2subWFzayYmXCJmdW5jdGlvblwiIT10eXBlb2YgbXNrLm1hc2s/YWx0TWFzays9bXNrLm1hc2s6YWx0TWFzays9bXNrfSksYWx0TWFzays9b3B0cy5ncm91cG1hcmtlclsxXSxnZW5lcmF0ZU1hc2soYWx0TWFzayxvcHRzLm1hc2ssb3B0cyl9b3B0cy5tYXNrPW9wdHMubWFzay5wb3AoKX1yZXR1cm4gbnVsbD09PW9wdHMua2VlcFN0YXRpYyYmKG9wdHMua2VlcFN0YXRpYz0hMSksbXM9b3B0cy5tYXNrJiZ2b2lkIDAhPT1vcHRzLm1hc2subWFzayYmXCJmdW5jdGlvblwiIT10eXBlb2Ygb3B0cy5tYXNrLm1hc2s/Z2VuZXJhdGVNYXNrKG9wdHMubWFzay5tYXNrLG9wdHMubWFzayxvcHRzKTpnZW5lcmF0ZU1hc2sob3B0cy5tYXNrLG9wdHMubWFzayxvcHRzKSxtc31mdW5jdGlvbiBhbmFseXNlTWFzayhtYXNrLHJlZ2V4TWFzayxvcHRzKXt2YXIgdG9rZW5pemVyPS8oPzpbPyorXXxcXHtbMC05KypdKyg/OixbMC05KypdKik/KD86XFx8WzAtOSsqXSopP1xcfSl8W14uPyorXiR7W10oKXxcXFxcXSt8Li9nLHJlZ2V4VG9rZW5pemVyPS9cXFtcXF4/XT8oPzpbXlxcXFxcXF1dK3xcXFxcW1xcU1xcc10/KSpdP3xcXFxcKD86MCg/OlswLTNdWzAtN117MCwyfXxbNC03XVswLTddPyk/fFsxLTldWzAtOV0qfHhbMC05QS1GYS1mXXsyfXx1WzAtOUEtRmEtZl17NH18Y1tBLVphLXpdfFtcXFNcXHNdPyl8XFwoKD86XFw/Wzo9IV0/KT98KD86Wz8qK118XFx7WzAtOV0rKD86LFswLTldKik/XFx9KVxcPz98W14uPyorXiR7WygpfFxcXFxdK3wuL2csZXNjYXBlZD0hMSxjdXJyZW50VG9rZW49bmV3IE1hc2tUb2tlbixtYXRjaCxtLG9wZW5lbmluZ3M9W10sbWFza1Rva2Vucz1bXSxvcGVuaW5nVG9rZW4sY3VycmVudE9wZW5pbmdUb2tlbixhbHRlcm5hdG9yLGxhc3RNYXRjaCxjbG9zZVJlZ2V4R3JvdXA9ITE7ZnVuY3Rpb24gTWFza1Rva2VuKGlzR3JvdXAsaXNPcHRpb25hbCxpc1F1YW50aWZpZXIsaXNBbHRlcm5hdG9yKXt0aGlzLm1hdGNoZXM9W10sdGhpcy5vcGVuR3JvdXA9aXNHcm91cHx8ITEsdGhpcy5hbHRlcm5hdG9yR3JvdXA9ITEsdGhpcy5pc0dyb3VwPWlzR3JvdXB8fCExLHRoaXMuaXNPcHRpb25hbD1pc09wdGlvbmFsfHwhMSx0aGlzLmlzUXVhbnRpZmllcj1pc1F1YW50aWZpZXJ8fCExLHRoaXMuaXNBbHRlcm5hdG9yPWlzQWx0ZXJuYXRvcnx8ITEsdGhpcy5xdWFudGlmaWVyPXttaW46MSxtYXg6MX19ZnVuY3Rpb24gaW5zZXJ0VGVzdERlZmluaXRpb24obXRva2VuLGVsZW1lbnQscG9zaXRpb24pe3Bvc2l0aW9uPXZvaWQgMCE9PXBvc2l0aW9uP3Bvc2l0aW9uOm10b2tlbi5tYXRjaGVzLmxlbmd0aDt2YXIgcHJldk1hdGNoPW10b2tlbi5tYXRjaGVzW3Bvc2l0aW9uLTFdO2lmKHJlZ2V4TWFzaykwPT09ZWxlbWVudC5pbmRleE9mKFwiW1wiKXx8ZXNjYXBlZCYmL1xcXFxkfFxcXFxzfFxcXFx3XS9pLnRlc3QoZWxlbWVudCl8fFwiLlwiPT09ZWxlbWVudD9tdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywwLHtmbjpuZXcgUmVnRXhwKGVsZW1lbnQsb3B0cy5jYXNpbmc/XCJpXCI6XCJcIiksc3RhdGljOiExLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT1lbGVtZW50LGNhc2luZzpudWxsLGRlZjplbGVtZW50LHBsYWNlaG9sZGVyOnZvaWQgMCxuYXRpdmVEZWY6ZWxlbWVudH0pOihlc2NhcGVkJiYoZWxlbWVudD1lbGVtZW50W2VsZW1lbnQubGVuZ3RoLTFdKSxlbGVtZW50LnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24obG1udCxuZHgpe3ByZXZNYXRjaD1tdG9rZW4ubWF0Y2hlc1twb3NpdGlvbi0xXSxtdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywwLHtmbjovW2Etel0vaS50ZXN0KG9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8bG1udCk/bmV3IFJlZ0V4cChcIltcIisob3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxsbW50KStcIl1cIixvcHRzLmNhc2luZz9cImlcIjpcIlwiKTpudWxsLHN0YXRpYzohMCxvcHRpb25hbGl0eTohMSxuZXdCbG9ja01hcmtlcjp2b2lkIDA9PT1wcmV2TWF0Y2g/XCJtYXN0ZXJcIjpwcmV2TWF0Y2guZGVmIT09bG1udCYmITAhPT1wcmV2TWF0Y2guc3RhdGljLGNhc2luZzpudWxsLGRlZjpvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGxtbnQscGxhY2Vob2xkZXI6dm9pZCAwIT09b3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sP2xtbnQ6dm9pZCAwLG5hdGl2ZURlZjooZXNjYXBlZD9cIidcIjpcIlwiKStsbW50fSl9KSksZXNjYXBlZD0hMTtlbHNle3ZhciBtYXNrZGVmPW9wdHMuZGVmaW5pdGlvbnMmJm9wdHMuZGVmaW5pdGlvbnNbZWxlbWVudF18fG9wdHMudXNlUHJvdG90eXBlRGVmaW5pdGlvbnMmJklucHV0bWFzay5wcm90b3R5cGUuZGVmaW5pdGlvbnNbZWxlbWVudF07bWFza2RlZiYmIWVzY2FwZWQ/bXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssMCx7Zm46bWFza2RlZi52YWxpZGF0b3I/XCJzdHJpbmdcIj09dHlwZW9mIG1hc2tkZWYudmFsaWRhdG9yP25ldyBSZWdFeHAobWFza2RlZi52YWxpZGF0b3Isb3B0cy5jYXNpbmc/XCJpXCI6XCJcIik6bmV3IGZ1bmN0aW9uKCl7dGhpcy50ZXN0PW1hc2tkZWYudmFsaWRhdG9yfTpuZXcgUmVnRXhwKFwiLlwiKSxzdGF0aWM6bWFza2RlZi5zdGF0aWN8fCExLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT0obWFza2RlZi5kZWZpbml0aW9uU3ltYm9sfHxlbGVtZW50KSxjYXNpbmc6bWFza2RlZi5jYXNpbmcsZGVmOm1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbHx8ZWxlbWVudCxwbGFjZWhvbGRlcjptYXNrZGVmLnBsYWNlaG9sZGVyLG5hdGl2ZURlZjplbGVtZW50LGdlbmVyYXRlZDptYXNrZGVmLmdlbmVyYXRlZH0pOihtdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywwLHtmbjovW2Etel0vaS50ZXN0KG9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8ZWxlbWVudCk/bmV3IFJlZ0V4cChcIltcIisob3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxlbGVtZW50KStcIl1cIixvcHRzLmNhc2luZz9cImlcIjpcIlwiKTpudWxsLHN0YXRpYzohMCxvcHRpb25hbGl0eTohMSxuZXdCbG9ja01hcmtlcjp2b2lkIDA9PT1wcmV2TWF0Y2g/XCJtYXN0ZXJcIjpwcmV2TWF0Y2guZGVmIT09ZWxlbWVudCYmITAhPT1wcmV2TWF0Y2guc3RhdGljLGNhc2luZzpudWxsLGRlZjpvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGVsZW1lbnQscGxhY2Vob2xkZXI6dm9pZCAwIT09b3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sP2VsZW1lbnQ6dm9pZCAwLG5hdGl2ZURlZjooZXNjYXBlZD9cIidcIjpcIlwiKStlbGVtZW50fSksZXNjYXBlZD0hMSl9fWZ1bmN0aW9uIHZlcmlmeUdyb3VwTWFya2VyKG1hc2tUb2tlbil7bWFza1Rva2VuJiZtYXNrVG9rZW4ubWF0Y2hlcyYmbWFza1Rva2VuLm1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbih0b2tlbixuZHgpe3ZhciBuZXh0VG9rZW49bWFza1Rva2VuLm1hdGNoZXNbbmR4KzFdOyh2b2lkIDA9PT1uZXh0VG9rZW58fHZvaWQgMD09PW5leHRUb2tlbi5tYXRjaGVzfHwhMT09PW5leHRUb2tlbi5pc1F1YW50aWZpZXIpJiZ0b2tlbiYmdG9rZW4uaXNHcm91cCYmKHRva2VuLmlzR3JvdXA9ITEscmVnZXhNYXNrfHwoaW5zZXJ0VGVzdERlZmluaXRpb24odG9rZW4sb3B0cy5ncm91cG1hcmtlclswXSwwKSwhMCE9PXRva2VuLm9wZW5Hcm91cCYmaW5zZXJ0VGVzdERlZmluaXRpb24odG9rZW4sb3B0cy5ncm91cG1hcmtlclsxXSkpKSx2ZXJpZnlHcm91cE1hcmtlcih0b2tlbil9KX1mdW5jdGlvbiBkZWZhdWx0Q2FzZSgpe2lmKDA8b3BlbmVuaW5ncy5sZW5ndGgpe2lmKGN1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXSxpbnNlcnRUZXN0RGVmaW5pdGlvbihjdXJyZW50T3BlbmluZ1Rva2VuLG0pLGN1cnJlbnRPcGVuaW5nVG9rZW4uaXNBbHRlcm5hdG9yKXthbHRlcm5hdG9yPW9wZW5lbmluZ3MucG9wKCk7Zm9yKHZhciBtbmR4PTA7bW5keDxhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoO21uZHgrKylhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cCYmKGFsdGVybmF0b3IubWF0Y2hlc1ttbmR4XS5pc0dyb3VwPSExKTswPG9wZW5lbmluZ3MubGVuZ3RoPyhjdXJyZW50T3BlbmluZ1Rva2VuPW9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGgtMV0sY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcikpOmN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcil9fWVsc2UgaW5zZXJ0VGVzdERlZmluaXRpb24oY3VycmVudFRva2VuLG0pfWZ1bmN0aW9uIHJldmVyc2VUb2tlbnMobWFza1Rva2VuKXtmdW5jdGlvbiByZXZlcnNlU3RhdGljKHN0KXtyZXR1cm4gc3Q9PT1vcHRzLm9wdGlvbmFsbWFya2VyWzBdP3N0PW9wdHMub3B0aW9uYWxtYXJrZXJbMV06c3Q9PT1vcHRzLm9wdGlvbmFsbWFya2VyWzFdP3N0PW9wdHMub3B0aW9uYWxtYXJrZXJbMF06c3Q9PT1vcHRzLmdyb3VwbWFya2VyWzBdP3N0PW9wdHMuZ3JvdXBtYXJrZXJbMV06c3Q9PT1vcHRzLmdyb3VwbWFya2VyWzFdJiYoc3Q9b3B0cy5ncm91cG1hcmtlclswXSksc3R9Zm9yKHZhciBtYXRjaCBpbiBtYXNrVG9rZW4ubWF0Y2hlcz1tYXNrVG9rZW4ubWF0Y2hlcy5yZXZlcnNlKCksbWFza1Rva2VuLm1hdGNoZXMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hc2tUb2tlbi5tYXRjaGVzLG1hdGNoKSl7dmFyIGludE1hdGNoPXBhcnNlSW50KG1hdGNoKTtpZihtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0uaXNRdWFudGlmaWVyJiZtYXNrVG9rZW4ubWF0Y2hlc1tpbnRNYXRjaCsxXSYmbWFza1Rva2VuLm1hdGNoZXNbaW50TWF0Y2grMV0uaXNHcm91cCl7dmFyIHF0PW1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXTttYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UobWF0Y2gsMSksbWFza1Rva2VuLm1hdGNoZXMuc3BsaWNlKGludE1hdGNoKzEsMCxxdCl9dm9pZCAwIT09bWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdLm1hdGNoZXM/bWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdPXJldmVyc2VUb2tlbnMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKTptYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF09cmV2ZXJzZVN0YXRpYyhtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0pfXJldHVybiBtYXNrVG9rZW59ZnVuY3Rpb24gZ3JvdXBpZnkobWF0Y2hlcyl7dmFyIGdyb3VwVG9rZW49bmV3IE1hc2tUb2tlbighMCk7cmV0dXJuIGdyb3VwVG9rZW4ub3Blbkdyb3VwPSExLGdyb3VwVG9rZW4ubWF0Y2hlcz1tYXRjaGVzLGdyb3VwVG9rZW59ZnVuY3Rpb24gY2xvc2VHcm91cCgpe2lmKG9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzLnBvcCgpLG9wZW5pbmdUb2tlbi5vcGVuR3JvdXA9ITEsdm9pZCAwIT09b3BlbmluZ1Rva2VuKWlmKDA8b3BlbmVuaW5ncy5sZW5ndGgpe2lmKGN1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXSxjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pLGN1cnJlbnRPcGVuaW5nVG9rZW4uaXNBbHRlcm5hdG9yKXthbHRlcm5hdG9yPW9wZW5lbmluZ3MucG9wKCk7Zm9yKHZhciBtbmR4PTA7bW5keDxhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoO21uZHgrKylhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cD0hMSxhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uYWx0ZXJuYXRvckdyb3VwPSExOzA8b3BlbmVuaW5ncy5sZW5ndGg/KGN1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXSxjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKSk6Y3VycmVudFRva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKX19ZWxzZSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7ZWxzZSBkZWZhdWx0Q2FzZSgpfWZ1bmN0aW9uIGdyb3VwUXVhbnRpZmllcihtYXRjaGVzKXt2YXIgbGFzdE1hdGNoPW1hdGNoZXMucG9wKCk7cmV0dXJuIGxhc3RNYXRjaC5pc1F1YW50aWZpZXImJihsYXN0TWF0Y2g9Z3JvdXBpZnkoW21hdGNoZXMucG9wKCksbGFzdE1hdGNoXSkpLGxhc3RNYXRjaH1mb3IocmVnZXhNYXNrJiYob3B0cy5vcHRpb25hbG1hcmtlclswXT12b2lkIDAsb3B0cy5vcHRpb25hbG1hcmtlclsxXT12b2lkIDApO21hdGNoPXJlZ2V4TWFzaz9yZWdleFRva2VuaXplci5leGVjKG1hc2spOnRva2VuaXplci5leGVjKG1hc2spOyl7aWYobT1tYXRjaFswXSxyZWdleE1hc2spc3dpdGNoKG0uY2hhckF0KDApKXtjYXNlXCI/XCI6bT1cInswLDF9XCI7YnJlYWs7Y2FzZVwiK1wiOmNhc2VcIipcIjptPVwie1wiK20rXCJ9XCI7YnJlYWs7Y2FzZVwifFwiOmlmKDA9PT1vcGVuZW5pbmdzLmxlbmd0aCl7dmFyIGFsdFJlZ2V4R3JvdXA9Z3JvdXBpZnkoY3VycmVudFRva2VuLm1hdGNoZXMpO2FsdFJlZ2V4R3JvdXAub3Blbkdyb3VwPSEwLG9wZW5lbmluZ3MucHVzaChhbHRSZWdleEdyb3VwKSxjdXJyZW50VG9rZW4ubWF0Y2hlcz1bXSxjbG9zZVJlZ2V4R3JvdXA9ITB9YnJlYWt9aWYoZXNjYXBlZClkZWZhdWx0Q2FzZSgpO2Vsc2Ugc3dpdGNoKG0uY2hhckF0KDApKXtjYXNlXCIkXCI6Y2FzZVwiXlwiOnJlZ2V4TWFza3x8ZGVmYXVsdENhc2UoKTticmVhaztjYXNlXCIoPz1cIjpicmVhaztjYXNlXCIoPyFcIjpicmVhaztjYXNlXCIoPzw9XCI6YnJlYWs7Y2FzZVwiKD88IVwiOmJyZWFrO2Nhc2Ugb3B0cy5lc2NhcGVDaGFyOmVzY2FwZWQ9ITAscmVnZXhNYXNrJiZkZWZhdWx0Q2FzZSgpO2JyZWFrO2Nhc2Ugb3B0cy5vcHRpb25hbG1hcmtlclsxXTpjYXNlIG9wdHMuZ3JvdXBtYXJrZXJbMV06Y2xvc2VHcm91cCgpO2JyZWFrO2Nhc2Ugb3B0cy5vcHRpb25hbG1hcmtlclswXTpvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMSwhMCkpO2JyZWFrO2Nhc2Ugb3B0cy5ncm91cG1hcmtlclswXTpvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMCkpO2JyZWFrO2Nhc2Ugb3B0cy5xdWFudGlmaWVybWFya2VyWzBdOnZhciBxdWFudGlmaWVyPW5ldyBNYXNrVG9rZW4oITEsITEsITApO209bS5yZXBsYWNlKC9be31dL2csXCJcIik7dmFyIG1xaj1tLnNwbGl0KFwifFwiKSxtcT1tcWpbMF0uc3BsaXQoXCIsXCIpLG1xMD1pc05hTihtcVswXSk/bXFbMF06cGFyc2VJbnQobXFbMF0pLG1xMT0xPT09bXEubGVuZ3RoP21xMDppc05hTihtcVsxXSk/bXFbMV06cGFyc2VJbnQobXFbMV0pO1wiKlwiIT09bXEwJiZcIitcIiE9PW1xMHx8KG1xMD1cIipcIj09PW1xMT8wOjEpLHF1YW50aWZpZXIucXVhbnRpZmllcj17bWluOm1xMCxtYXg6bXExLGppdDptcWpbMV19O3ZhciBtYXRjaGVzPTA8b3BlbmVuaW5ncy5sZW5ndGg/b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXS5tYXRjaGVzOmN1cnJlbnRUb2tlbi5tYXRjaGVzO2lmKG1hdGNoPW1hdGNoZXMucG9wKCksbWF0Y2guaXNBbHRlcm5hdG9yKXttYXRjaGVzLnB1c2gobWF0Y2gpLG1hdGNoZXM9bWF0Y2gubWF0Y2hlczt2YXIgZ3JvdXBUb2tlbj1uZXcgTWFza1Rva2VuKCEwKSx0bXBNYXRjaD1tYXRjaGVzLnBvcCgpO21hdGNoZXMucHVzaChncm91cFRva2VuKSxtYXRjaGVzPWdyb3VwVG9rZW4ubWF0Y2hlcyxtYXRjaD10bXBNYXRjaH1tYXRjaC5pc0dyb3VwfHwobWF0Y2g9Z3JvdXBpZnkoW21hdGNoXSkpLG1hdGNoZXMucHVzaChtYXRjaCksbWF0Y2hlcy5wdXNoKHF1YW50aWZpZXIpO2JyZWFrO2Nhc2Ugb3B0cy5hbHRlcm5hdG9ybWFya2VyOmlmKDA8b3BlbmVuaW5ncy5sZW5ndGgpe2N1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXTt2YXIgc3ViVG9rZW49Y3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzW2N1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5sZW5ndGgtMV07bGFzdE1hdGNoPWN1cnJlbnRPcGVuaW5nVG9rZW4ub3Blbkdyb3VwJiYodm9pZCAwPT09c3ViVG9rZW4ubWF0Y2hlc3x8ITE9PT1zdWJUb2tlbi5pc0dyb3VwJiYhMT09PXN1YlRva2VuLmlzQWx0ZXJuYXRvcik/b3BlbmVuaW5ncy5wb3AoKTpncm91cFF1YW50aWZpZXIoY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzKX1lbHNlIGxhc3RNYXRjaD1ncm91cFF1YW50aWZpZXIoY3VycmVudFRva2VuLm1hdGNoZXMpO2lmKGxhc3RNYXRjaC5pc0FsdGVybmF0b3Ipb3BlbmVuaW5ncy5wdXNoKGxhc3RNYXRjaCk7ZWxzZSBpZihsYXN0TWF0Y2guYWx0ZXJuYXRvckdyb3VwPyhhbHRlcm5hdG9yPW9wZW5lbmluZ3MucG9wKCksbGFzdE1hdGNoLmFsdGVybmF0b3JHcm91cD0hMSk6YWx0ZXJuYXRvcj1uZXcgTWFza1Rva2VuKCExLCExLCExLCEwKSxhbHRlcm5hdG9yLm1hdGNoZXMucHVzaChsYXN0TWF0Y2gpLG9wZW5lbmluZ3MucHVzaChhbHRlcm5hdG9yKSxsYXN0TWF0Y2gub3Blbkdyb3VwKXtsYXN0TWF0Y2gub3Blbkdyb3VwPSExO3ZhciBhbHRlcm5hdG9yR3JvdXA9bmV3IE1hc2tUb2tlbighMCk7YWx0ZXJuYXRvckdyb3VwLmFsdGVybmF0b3JHcm91cD0hMCxvcGVuZW5pbmdzLnB1c2goYWx0ZXJuYXRvckdyb3VwKX1icmVhaztkZWZhdWx0OmRlZmF1bHRDYXNlKCl9fWZvcihjbG9zZVJlZ2V4R3JvdXAmJmNsb3NlR3JvdXAoKTswPG9wZW5lbmluZ3MubGVuZ3RoOylvcGVuaW5nVG9rZW49b3BlbmVuaW5ncy5wb3AoKSxjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7cmV0dXJuIDA8Y3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoJiYodmVyaWZ5R3JvdXBNYXJrZXIoY3VycmVudFRva2VuKSxtYXNrVG9rZW5zLnB1c2goY3VycmVudFRva2VuKSksKG9wdHMubnVtZXJpY0lucHV0fHxvcHRzLmlzUlRMKSYmcmV2ZXJzZVRva2VucyhtYXNrVG9rZW5zWzBdKSxtYXNrVG9rZW5zfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMDt2YXIgX2RlZmF1bHQ9ezk6e3ZhbGlkYXRvcjpcIlswLTlcXHVmZjEwLVxcdWZmMTldXCIsZGVmaW5pdGlvblN5bWJvbDpcIipcIn0sYTp7dmFsaWRhdG9yOlwiW0EtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixkZWZpbml0aW9uU3ltYm9sOlwiKlwifSxcIipcIjp7dmFsaWRhdG9yOlwiWzAtOVxcdWZmMTAtXFx1ZmYxOUEtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIn19O2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMDt2YXIgX2RlZmF1bHQ9e19tYXhUZXN0UG9zOjUwMCxwbGFjZWhvbGRlcjpcIl9cIixvcHRpb25hbG1hcmtlcjpbXCJbXCIsXCJdXCJdLHF1YW50aWZpZXJtYXJrZXI6W1wie1wiLFwifVwiXSxncm91cG1hcmtlcjpbXCIoXCIsXCIpXCJdLGFsdGVybmF0b3JtYXJrZXI6XCJ8XCIsZXNjYXBlQ2hhcjpcIlxcXFxcIixtYXNrOm51bGwscmVnZXg6bnVsbCxvbmNvbXBsZXRlOmZ1bmN0aW9uIG9uY29tcGxldGUoKXt9LG9uaW5jb21wbGV0ZTpmdW5jdGlvbiBvbmluY29tcGxldGUoKXt9LG9uY2xlYXJlZDpmdW5jdGlvbiBvbmNsZWFyZWQoKXt9LHJlcGVhdDowLGdyZWVkeTohMSxhdXRvVW5tYXNrOiExLHJlbW92ZU1hc2tPblN1Ym1pdDohMSxjbGVhck1hc2tPbkxvc3RGb2N1czohMCxpbnNlcnRNb2RlOiEwLGluc2VydE1vZGVWaXN1YWw6ITAsY2xlYXJJbmNvbXBsZXRlOiExLGFsaWFzOm51bGwsb25LZXlEb3duOmZ1bmN0aW9uIG9uS2V5RG93bigpe30sb25CZWZvcmVNYXNrOm51bGwsb25CZWZvcmVQYXN0ZTpmdW5jdGlvbiBvbkJlZm9yZVBhc3RlKHBhc3RlZFZhbHVlLG9wdHMpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMub25CZWZvcmVNYXNrP29wdHMub25CZWZvcmVNYXNrLmNhbGwodGhpcyxwYXN0ZWRWYWx1ZSxvcHRzKTpwYXN0ZWRWYWx1ZX0sb25CZWZvcmVXcml0ZTpudWxsLG9uVW5NYXNrOm51bGwsc2hvd01hc2tPbkZvY3VzOiEwLHNob3dNYXNrT25Ib3ZlcjohMCxvbktleVZhbGlkYXRpb246ZnVuY3Rpb24gb25LZXlWYWxpZGF0aW9uKCl7fSxza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyOlwiIFwiLG51bWVyaWNJbnB1dDohMSxyaWdodEFsaWduOiExLHVuZG9PbkVzY2FwZTohMCxyYWRpeFBvaW50OlwiXCIsX3JhZGl4RGFuY2U6ITEsZ3JvdXBTZXBhcmF0b3I6XCJcIixrZWVwU3RhdGljOm51bGwscG9zaXRpb25DYXJldE9uVGFiOiEwLHRhYlRocm91Z2g6ITEsc3VwcG9ydHNJbnB1dFR5cGU6W1widGV4dFwiLFwidGVsXCIsXCJ1cmxcIixcInBhc3N3b3JkXCIsXCJzZWFyY2hcIl0saWdub3JhYmxlczpbOCw5LDE5LDI3LDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQ1LDQ2LDkzLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsMTIzLDAsMjI5XSxpc0NvbXBsZXRlOm51bGwscHJlVmFsaWRhdGlvbjpudWxsLHBvc3RWYWxpZGF0aW9uOm51bGwsc3RhdGljRGVmaW5pdGlvblN5bWJvbDp2b2lkIDAsaml0TWFza2luZzohMSxudWxsYWJsZTohMCxpbnB1dEV2ZW50T25seTohMSxub1ZhbHVlUGF0Y2hpbmc6ITEscG9zaXRpb25DYXJldE9uQ2xpY2s6XCJsdnBcIixjYXNpbmc6bnVsbCxpbnB1dG1vZGU6XCJ0ZXh0XCIsaW1wb3J0RGF0YUF0dHJpYnV0ZXM6ITAsc2hpZnRQb3NpdGlvbnM6ITAsdXNlUHJvdG90eXBlRGVmaW5pdGlvbnM6ITB9O2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSxfa2V5Y29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpLF9lc2NhcGVSZWdleD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTMpKSxfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKTtmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX3R5cGVvZihvYmopfWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgJD1faW5wdXRtYXNrLmRlZmF1bHQuZGVwZW5kZW5jeUxpYixjdXJyZW50WWVhcj0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksZm9ybWF0Q29kZT17ZDpbXCJbMS05XXxbMTJdWzAtOV18M1swMV1cIixEYXRlLnByb3RvdHlwZS5zZXREYXRlLFwiZGF5XCIsRGF0ZS5wcm90b3R5cGUuZ2V0RGF0ZV0sZGQ6W1wiMFsxLTldfFsxMl1bMC05XXwzWzAxXVwiLERhdGUucHJvdG90eXBlLnNldERhdGUsXCJkYXlcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0RGF0ZS5jYWxsKHRoaXMpLDIpfV0sZGRkOltcIlwiXSxkZGRkOltcIlwiXSxtOltcIlsxLTldfDFbMDEyXVwiLERhdGUucHJvdG90eXBlLnNldE1vbnRoLFwibW9udGhcIixmdW5jdGlvbigpe3JldHVybiBEYXRlLnByb3RvdHlwZS5nZXRNb250aC5jYWxsKHRoaXMpKzF9XSxtbTpbXCIwWzEtOV18MVswMTJdXCIsRGF0ZS5wcm90b3R5cGUuc2V0TW9udGgsXCJtb250aFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRNb250aC5jYWxsKHRoaXMpKzEsMil9XSxtbW06W1wiXCJdLG1tbW06W1wiXCJdLHl5OltcIlswLTldezJ9XCIsRGF0ZS5wcm90b3R5cGUuc2V0RnVsbFllYXIsXCJ5ZWFyXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEZ1bGxZZWFyLmNhbGwodGhpcyksMil9XSx5eXl5OltcIlswLTldezR9XCIsRGF0ZS5wcm90b3R5cGUuc2V0RnVsbFllYXIsXCJ5ZWFyXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEZ1bGxZZWFyLmNhbGwodGhpcyksNCl9XSxoOltcIlsxLTldfDFbMC0yXVwiLERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixEYXRlLnByb3RvdHlwZS5nZXRIb3Vyc10saGg6W1wiMFsxLTldfDFbMC0yXVwiLERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnMuY2FsbCh0aGlzKSwyKX1dLGh4OltmdW5jdGlvbih4KXtyZXR1cm5cIlswLTlde1wiLmNvbmNhdCh4LFwifVwiKX0sRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLGZ1bmN0aW9uKHgpe3JldHVybiBEYXRlLnByb3RvdHlwZS5nZXRIb3Vyc31dLEg6W1wiMT9bMC05XXwyWzAtM11cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnNdLEhIOltcIjBbMC05XXwxWzAtOV18MlswLTNdXCIsRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRIb3Vycy5jYWxsKHRoaXMpLDIpfV0sSHg6W2Z1bmN0aW9uKHgpe3JldHVyblwiWzAtOV17XCIuY29uY2F0KHgsXCJ9XCIpfSxEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsZnVuY3Rpb24oeCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRIb3Vycy5jYWxsKHRoaXMpLHgpfX1dLE06W1wiWzEtNV0/WzAtOV1cIixEYXRlLnByb3RvdHlwZS5zZXRNaW51dGVzLFwibWludXRlc1wiLERhdGUucHJvdG90eXBlLmdldE1pbnV0ZXNdLE1NOltcIjBbMC05XXwxWzAtOV18MlswLTldfDNbMC05XXw0WzAtOV18NVswLTldXCIsRGF0ZS5wcm90b3R5cGUuc2V0TWludXRlcyxcIm1pbnV0ZXNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TWludXRlcy5jYWxsKHRoaXMpLDIpfV0sczpbXCJbMS01XT9bMC05XVwiLERhdGUucHJvdG90eXBlLnNldFNlY29uZHMsXCJzZWNvbmRzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0U2Vjb25kc10sc3M6W1wiMFswLTldfDFbMC05XXwyWzAtOV18M1swLTldfDRbMC05XXw1WzAtOV1cIixEYXRlLnByb3RvdHlwZS5zZXRTZWNvbmRzLFwic2Vjb25kc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRTZWNvbmRzLmNhbGwodGhpcyksMil9XSxsOltcIlswLTldezN9XCIsRGF0ZS5wcm90b3R5cGUuc2V0TWlsbGlzZWNvbmRzLFwibWlsbGlzZWNvbmRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldE1pbGxpc2Vjb25kcy5jYWxsKHRoaXMpLDMpfV0sTDpbXCJbMC05XXsyfVwiLERhdGUucHJvdG90eXBlLnNldE1pbGxpc2Vjb25kcyxcIm1pbGxpc2Vjb25kc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRNaWxsaXNlY29uZHMuY2FsbCh0aGlzKSwyKX1dLHQ6W1wiW2FwXVwiXSx0dDpbXCJbYXBdbVwiXSxUOltcIltBUF1cIl0sVFQ6W1wiW0FQXU1cIl0sWjpbXCJcIl0sbzpbXCJcIl0sUzpbXCJcIl19LGZvcm1hdEFsaWFzPXtpc29EYXRlOlwieXl5eS1tbS1kZFwiLGlzb1RpbWU6XCJISDpNTTpzc1wiLGlzb0RhdGVUaW1lOlwieXl5eS1tbS1kZCdUJ0hIOk1NOnNzXCIsaXNvVXRjRGF0ZVRpbWU6XCJVVEM6eXl5eS1tbS1kZCdUJ0hIOk1NOnNzJ1onXCJ9O2Z1bmN0aW9uIGZvcm1hdGNvZGUobWF0Y2gpe3ZhciBkeW5NYXRjaGVzPW5ldyBSZWdFeHAoXCJcXFxcZCskXCIpLmV4ZWMobWF0Y2hbMF0pO2lmKGR5bk1hdGNoZXMmJnZvaWQgMCE9PWR5bk1hdGNoZXNbMF0pe3ZhciBmY29kZT1mb3JtYXRDb2RlW21hdGNoWzBdWzBdK1wieFwiXS5zbGljZShcIlwiKTtyZXR1cm4gZmNvZGVbMF09ZmNvZGVbMF0oZHluTWF0Y2hlc1swXSksZmNvZGVbM109ZmNvZGVbM10oZHluTWF0Y2hlc1swXSksZmNvZGV9aWYoZm9ybWF0Q29kZVttYXRjaFswXV0pcmV0dXJuIGZvcm1hdENvZGVbbWF0Y2hbMF1dfWZ1bmN0aW9uIGdldFRva2VuaXplcihvcHRzKXtpZighb3B0cy50b2tlbml6ZXIpe3ZhciB0b2tlbnM9W10sZHludG9rZW5zPVtdO2Zvcih2YXIgbmR4IGluIGZvcm1hdENvZGUpaWYoL1xcLip4JC8udGVzdChuZHgpKXt2YXIgZHluVG9rZW49bmR4WzBdK1wiXFxcXGQrXCI7LTE9PT1keW50b2tlbnMuaW5kZXhPZihkeW5Ub2tlbikmJmR5bnRva2Vucy5wdXNoKGR5blRva2VuKX1lbHNlLTE9PT10b2tlbnMuaW5kZXhPZihuZHhbMF0pJiZ0b2tlbnMucHVzaChuZHhbMF0pO29wdHMudG9rZW5pemVyPVwiKFwiKygwPGR5bnRva2Vucy5sZW5ndGg/ZHludG9rZW5zLmpvaW4oXCJ8XCIpK1wifFwiOlwiXCIpK3Rva2Vucy5qb2luKFwiK3xcIikrXCIpKz98LlwiLG9wdHMudG9rZW5pemVyPW5ldyBSZWdFeHAob3B0cy50b2tlbml6ZXIsXCJnXCIpfXJldHVybiBvcHRzLnRva2VuaXplcn1mdW5jdGlvbiBwcmVmaWxsWWVhcihkYXRlUGFydHMsY3VycmVudFJlc3VsdCxvcHRzKXtpZihkYXRlUGFydHMueWVhciE9PWRhdGVQYXJ0cy5yYXd5ZWFyKXt2YXIgY3JybnR5ZWFyPWN1cnJlbnRZZWFyLnRvU3RyaW5nKCksZW50ZXJlZFBhcnQ9ZGF0ZVBhcnRzLnJhd3llYXIucmVwbGFjZSgvW14wLTldL2csXCJcIiksY3VycmVudFllYXJQYXJ0PWNycm50eWVhci5zbGljZSgwLGVudGVyZWRQYXJ0Lmxlbmd0aCksY3VycmVudFllYXJOZXh0UGFydD1jcnJudHllYXIuc2xpY2UoZW50ZXJlZFBhcnQubGVuZ3RoKTtpZigyPT09ZW50ZXJlZFBhcnQubGVuZ3RoJiZlbnRlcmVkUGFydD09PWN1cnJlbnRZZWFyUGFydCl7dmFyIGVudHJ5Q3VycmVudFllYXI9bmV3IERhdGUoY3VycmVudFllYXIsZGF0ZVBhcnRzLm1vbnRoLTEsZGF0ZVBhcnRzLmRheSk7ZGF0ZVBhcnRzLmRheT09ZW50cnlDdXJyZW50WWVhci5nZXREYXRlKCkmJighb3B0cy5tYXh8fG9wdHMubWF4LmRhdGUuZ2V0VGltZSgpPj1lbnRyeUN1cnJlbnRZZWFyLmdldFRpbWUoKSkmJihkYXRlUGFydHMuZGF0ZS5zZXRGdWxsWWVhcihjdXJyZW50WWVhciksZGF0ZVBhcnRzLnllYXI9Y3JybnR5ZWFyLGN1cnJlbnRSZXN1bHQuaW5zZXJ0PVt7cG9zOmN1cnJlbnRSZXN1bHQucG9zKzEsYzpjdXJyZW50WWVhck5leHRQYXJ0WzBdfSx7cG9zOmN1cnJlbnRSZXN1bHQucG9zKzIsYzpjdXJyZW50WWVhck5leHRQYXJ0WzFdfV0pfX1yZXR1cm4gY3VycmVudFJlc3VsdH1mdW5jdGlvbiBpc1ZhbGlkRGF0ZShkYXRlUGFydHMsY3VycmVudFJlc3VsdCxvcHRzKXtpZih2b2lkIDA9PT1kYXRlUGFydHMucmF3ZGF5fHwhaXNGaW5pdGUoZGF0ZVBhcnRzLnJhd2RheSkmJm5ldyBEYXRlKGRhdGVQYXJ0cy5kYXRlLmdldEZ1bGxZZWFyKCksaXNGaW5pdGUoZGF0ZVBhcnRzLnJhd21vbnRoKT9kYXRlUGFydHMubW9udGg6ZGF0ZVBhcnRzLmRhdGUuZ2V0TW9udGgoKSsxLDApLmdldERhdGUoKT49ZGF0ZVBhcnRzLmRheXx8XCIyOVwiPT1kYXRlUGFydHMuZGF5JiYhaXNGaW5pdGUoZGF0ZVBhcnRzLnJhd3llYXIpfHxuZXcgRGF0ZShkYXRlUGFydHMuZGF0ZS5nZXRGdWxsWWVhcigpLGlzRmluaXRlKGRhdGVQYXJ0cy5yYXdtb250aCk/ZGF0ZVBhcnRzLm1vbnRoOmRhdGVQYXJ0cy5kYXRlLmdldE1vbnRoKCkrMSwwKS5nZXREYXRlKCk+PWRhdGVQYXJ0cy5kYXkpcmV0dXJuIGN1cnJlbnRSZXN1bHQ7aWYoXCIyOVwiPT1kYXRlUGFydHMuZGF5KXt2YXIgdG9rZW5NYXRjaD1nZXRUb2tlbk1hdGNoKGN1cnJlbnRSZXN1bHQucG9zLG9wdHMpO2lmKFwieXl5eVwiPT09dG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXSYmY3VycmVudFJlc3VsdC5wb3MtdG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4PT0yKXJldHVybiBjdXJyZW50UmVzdWx0LnJlbW92ZT1jdXJyZW50UmVzdWx0LnBvcysxLGN1cnJlbnRSZXN1bHR9ZWxzZSBpZihcIjAyXCI9PWRhdGVQYXJ0cy5tb250aCYmXCIzMFwiPT1kYXRlUGFydHMuZGF5KXJldHVybiBkYXRlUGFydHMuZGF5PVwiMDNcIixkYXRlUGFydHMuZGF0ZS5zZXREYXRlKDMpLGRhdGVQYXJ0cy5kYXRlLnNldE1vbnRoKDEpLGN1cnJlbnRSZXN1bHQuaW5zZXJ0PVt7cG9zOmN1cnJlbnRSZXN1bHQucG9zLGM6XCIwXCJ9LHtwb3M6Y3VycmVudFJlc3VsdC5wb3MrMSxjOmN1cnJlbnRSZXN1bHQuY31dLGN1cnJlbnRSZXN1bHQuY2FyZXQ9X3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwodGhpcyxjdXJyZW50UmVzdWx0LnBvcysxKSxjdXJyZW50UmVzdWx0O3JldHVybiExfWZ1bmN0aW9uIGlzRGF0ZUluUmFuZ2UoZGF0ZVBhcnRzLHJlc3VsdCxvcHRzLG1hc2tzZXQsZnJvbUNoZWNrdmFsKXtpZighcmVzdWx0KXJldHVybiByZXN1bHQ7aWYob3B0cy5taW4pe2lmKGRhdGVQYXJ0cy5yYXd5ZWFyKXt2YXIgcmF3WWVhcj1kYXRlUGFydHMucmF3eWVhci5yZXBsYWNlKC9bXjAtOV0vZyxcIlwiKSxtaW5ZZWFyPW9wdHMubWluLnllYXIuc3Vic3RyKDAscmF3WWVhci5sZW5ndGgpLG1heFllYXI7aWYocmF3WWVhcjxtaW5ZZWFyKXt2YXIgdG9rZW5NYXRjaD1nZXRUb2tlbk1hdGNoKHJlc3VsdC5wb3Msb3B0cyk7aWYocmF3WWVhcj1kYXRlUGFydHMucmF3eWVhci5zdWJzdHIoMCxyZXN1bHQucG9zLXRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleCsxKS5yZXBsYWNlKC9bXjAtOV0vZyxcIjBcIiksbWluWWVhcj1vcHRzLm1pbi55ZWFyLnN1YnN0cigwLHJhd1llYXIubGVuZ3RoKSxtaW5ZZWFyPD1yYXdZZWFyKXJldHVybiByZXN1bHQucmVtb3ZlPXRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleCtyYXdZZWFyLmxlbmd0aCxyZXN1bHQ7aWYocmF3WWVhcj1cInl5eXlcIj09PXRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0/ZGF0ZVBhcnRzLnJhd3llYXIuc3Vic3RyKDEsMSk6ZGF0ZVBhcnRzLnJhd3llYXIuc3Vic3RyKDAsMSksbWluWWVhcj1vcHRzLm1pbi55ZWFyLnN1YnN0cigyLDEpLG1heFllYXI9b3B0cy5tYXg/b3B0cy5tYXgueWVhci5zdWJzdHIoMiwxKTpyYXdZZWFyLDE9PT1yYXdZZWFyLmxlbmd0aCYmbWluWWVhcjw9cmF3WWVhciYmcmF3WWVhcjw9bWF4WWVhciYmITAhPT1mcm9tQ2hlY2t2YWwpcmV0dXJuXCJ5eXl5XCI9PT10b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdPyhyZXN1bHQuaW5zZXJ0PVt7cG9zOnJlc3VsdC5wb3MrMSxjOnJhd1llYXIsc3RyaWN0OiEwfV0scmVzdWx0LmNhcmV0PXJlc3VsdC5wb3MrMixtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Jlc3VsdC5wb3NdLmlucHV0PW9wdHMubWluLnllYXJbMV0pOihyZXN1bHQuaW5zZXJ0PVt7cG9zOnJlc3VsdC5wb3MrMSxjOm9wdHMubWluLnllYXJbMV0sc3RyaWN0OiEwfSx7cG9zOnJlc3VsdC5wb3MrMixjOnJhd1llYXIsc3RyaWN0OiEwfV0scmVzdWx0LmNhcmV0PXJlc3VsdC5wb3MrMyxtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Jlc3VsdC5wb3NdLmlucHV0PW9wdHMubWluLnllYXJbMF0pLHJlc3VsdDtyZXN1bHQ9ITF9fXJlc3VsdCYmZGF0ZVBhcnRzLnllYXImJmRhdGVQYXJ0cy55ZWFyPT09ZGF0ZVBhcnRzLnJhd3llYXImJm9wdHMubWluLmRhdGUuZ2V0VGltZSgpPT1vcHRzLm1pbi5kYXRlLmdldFRpbWUoKSYmKHJlc3VsdD1vcHRzLm1pbi5kYXRlLmdldFRpbWUoKTw9ZGF0ZVBhcnRzLmRhdGUuZ2V0VGltZSgpKX1yZXR1cm4gcmVzdWx0JiZvcHRzLm1heCYmb3B0cy5tYXguZGF0ZS5nZXRUaW1lKCk9PW9wdHMubWF4LmRhdGUuZ2V0VGltZSgpJiYocmVzdWx0PW9wdHMubWF4LmRhdGUuZ2V0VGltZSgpPj1kYXRlUGFydHMuZGF0ZS5nZXRUaW1lKCkpLHJlc3VsdH1mdW5jdGlvbiBwYXJzZShmb3JtYXQsZGF0ZU9ialZhbHVlLG9wdHMscmF3KXt2YXIgbWFzaz1cIlwiLG1hdGNoLGZjb2RlO2ZvcihnZXRUb2tlbml6ZXIob3B0cykubGFzdEluZGV4PTA7bWF0Y2g9Z2V0VG9rZW5pemVyKG9wdHMpLmV4ZWMoZm9ybWF0KTspaWYodm9pZCAwPT09ZGF0ZU9ialZhbHVlKWlmKGZjb2RlPWZvcm1hdGNvZGUobWF0Y2gpKW1hc2srPVwiKFwiK2Zjb2RlWzBdK1wiKVwiO2Vsc2Ugc3dpdGNoKG1hdGNoWzBdKXtjYXNlXCJbXCI6bWFzays9XCIoXCI7YnJlYWs7Y2FzZVwiXVwiOm1hc2srPVwiKT9cIjticmVhaztkZWZhdWx0Om1hc2srPSgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShtYXRjaFswXSl9ZWxzZSBpZihmY29kZT1mb3JtYXRjb2RlKG1hdGNoKSlpZighMCE9PXJhdyYmZmNvZGVbM10pe3ZhciBnZXRGbj1mY29kZVszXTttYXNrKz1nZXRGbi5jYWxsKGRhdGVPYmpWYWx1ZS5kYXRlKX1lbHNlIGZjb2RlWzJdP21hc2srPWRhdGVPYmpWYWx1ZVtcInJhd1wiK2Zjb2RlWzJdXTptYXNrKz1tYXRjaFswXTtlbHNlIG1hc2srPW1hdGNoWzBdO3JldHVybiBtYXNrfWZ1bmN0aW9uIHBhZCh2YWwsbGVuKXtmb3IodmFsPVN0cmluZyh2YWwpLGxlbj1sZW58fDI7dmFsLmxlbmd0aDxsZW47KXZhbD1cIjBcIit2YWw7cmV0dXJuIHZhbH1mdW5jdGlvbiBhbmFseXNlTWFzayhtYXNrU3RyaW5nLGZvcm1hdCxvcHRzKXt2YXIgZGF0ZU9iaj17ZGF0ZTpuZXcgRGF0ZSgxLDAsMSl9LHRhcmdldFByb3AsbWFzaz1tYXNrU3RyaW5nLG1hdGNoLGRhdGVPcGVyYXRpb247ZnVuY3Rpb24gc2V0VmFsdWUoZGF0ZU9iaix2YWx1ZSxvcHRzKXtpZihkYXRlT2JqW3RhcmdldFByb3BdPXZhbHVlLnJlcGxhY2UoL1teMC05XS9nLFwiMFwiKSxkYXRlT2JqW1wicmF3XCIrdGFyZ2V0UHJvcF09dmFsdWUsdm9pZCAwIT09ZGF0ZU9wZXJhdGlvbil7dmFyIGRhdGF2YWx1ZT1kYXRlT2JqW3RhcmdldFByb3BdO1wiZGF5XCI9PT10YXJnZXRQcm9wJiYwPT09cGFyc2VJbnQoZGF0YXZhbHVlKSYmKGRhdGF2YWx1ZT0xKSxcIm1vbnRoXCI9PT10YXJnZXRQcm9wJiYoZGF0YXZhbHVlPXBhcnNlSW50KGRhdGF2YWx1ZSksMDxkYXRhdmFsdWUpJiYoZGF0YXZhbHVlLT0xKSxkYXRlT3BlcmF0aW9uLmNhbGwoZGF0ZU9iai5kYXRlLGRhdGF2YWx1ZSl9fWlmKFwic3RyaW5nXCI9PXR5cGVvZiBtYXNrKXtmb3IoZ2V0VG9rZW5pemVyKG9wdHMpLmxhc3RJbmRleD0wO21hdGNoPWdldFRva2VuaXplcihvcHRzKS5leGVjKGZvcm1hdCk7KXt2YXIgZHluTWF0Y2hlcz1uZXcgUmVnRXhwKFwiXFxcXGQrJFwiKS5leGVjKG1hdGNoWzBdKSxmY29kZT1keW5NYXRjaGVzP21hdGNoWzBdWzBdK1wieFwiOm1hdGNoWzBdLHZhbHVlPXZvaWQgMDtpZihkeW5NYXRjaGVzKXt2YXIgbGFzdEluZGV4PWdldFRva2VuaXplcihvcHRzKS5sYXN0SW5kZXgsdG9rYW5NYXRjaD1nZXRUb2tlbk1hdGNoKG1hdGNoLmluZGV4LG9wdHMpO2dldFRva2VuaXplcihvcHRzKS5sYXN0SW5kZXg9bGFzdEluZGV4LHZhbHVlPW1hc2suc2xpY2UoMCxtYXNrLmluZGV4T2YodG9rYW5NYXRjaC5uZXh0TWF0Y2hbMF0pKX1lbHNlIHZhbHVlPW1hc2suc2xpY2UoMCxmY29kZS5sZW5ndGgpO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmb3JtYXRDb2RlLGZjb2RlKSYmKHRhcmdldFByb3A9Zm9ybWF0Q29kZVtmY29kZV1bMl0sZGF0ZU9wZXJhdGlvbj1mb3JtYXRDb2RlW2Zjb2RlXVsxXSxzZXRWYWx1ZShkYXRlT2JqLHZhbHVlLG9wdHMpKSxtYXNrPW1hc2suc2xpY2UodmFsdWUubGVuZ3RoKX1yZXR1cm4gZGF0ZU9ian1pZihtYXNrJiZcIm9iamVjdFwiPT09X3R5cGVvZihtYXNrKSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hc2ssXCJkYXRlXCIpKXJldHVybiBtYXNrfWZ1bmN0aW9uIGltcG9ydERhdGUoZGF0ZU9iaixvcHRzKXtyZXR1cm4gcGFyc2Uob3B0cy5pbnB1dEZvcm1hdCx7ZGF0ZTpkYXRlT2JqfSxvcHRzKX1mdW5jdGlvbiBnZXRUb2tlbk1hdGNoKHBvcyxvcHRzKXt2YXIgY2FsY1Bvcz0wLHRhcmdldE1hdGNoLG1hdGNoLG1hdGNoTGVuZ3RoPTA7Zm9yKGdldFRva2VuaXplcihvcHRzKS5sYXN0SW5kZXg9MDttYXRjaD1nZXRUb2tlbml6ZXIob3B0cykuZXhlYyhvcHRzLmlucHV0Rm9ybWF0KTspe3ZhciBkeW5NYXRjaGVzPW5ldyBSZWdFeHAoXCJcXFxcZCskXCIpLmV4ZWMobWF0Y2hbMF0pO2lmKG1hdGNoTGVuZ3RoPWR5bk1hdGNoZXM/cGFyc2VJbnQoZHluTWF0Y2hlc1swXSk6bWF0Y2hbMF0ubGVuZ3RoLGNhbGNQb3MrPW1hdGNoTGVuZ3RoLHBvczw9Y2FsY1Bvcyl7dGFyZ2V0TWF0Y2g9bWF0Y2gsbWF0Y2g9Z2V0VG9rZW5pemVyKG9wdHMpLmV4ZWMob3B0cy5pbnB1dEZvcm1hdCk7YnJlYWt9fXJldHVybnt0YXJnZXRNYXRjaEluZGV4OmNhbGNQb3MtbWF0Y2hMZW5ndGgsbmV4dE1hdGNoOm1hdGNoLHRhcmdldE1hdGNoOnRhcmdldE1hdGNofX1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kQWxpYXNlcyh7ZGF0ZXRpbWU6e21hc2s6ZnVuY3Rpb24gbWFzayhvcHRzKXtyZXR1cm4gb3B0cy5udW1lcmljSW5wdXQ9ITEsZm9ybWF0Q29kZS5TPW9wdHMuaTE4bi5vcmRpbmFsU3VmZml4LmpvaW4oXCJ8XCIpLG9wdHMuaW5wdXRGb3JtYXQ9Zm9ybWF0QWxpYXNbb3B0cy5pbnB1dEZvcm1hdF18fG9wdHMuaW5wdXRGb3JtYXQsb3B0cy5kaXNwbGF5Rm9ybWF0PWZvcm1hdEFsaWFzW29wdHMuZGlzcGxheUZvcm1hdF18fG9wdHMuZGlzcGxheUZvcm1hdHx8b3B0cy5pbnB1dEZvcm1hdCxvcHRzLm91dHB1dEZvcm1hdD1mb3JtYXRBbGlhc1tvcHRzLm91dHB1dEZvcm1hdF18fG9wdHMub3V0cHV0Rm9ybWF0fHxvcHRzLmlucHV0Rm9ybWF0LG9wdHMucGxhY2Vob2xkZXI9XCJcIiE9PW9wdHMucGxhY2Vob2xkZXI/b3B0cy5wbGFjZWhvbGRlcjpvcHRzLmlucHV0Rm9ybWF0LnJlcGxhY2UoL1tbXFxdXS8sXCJcIiksb3B0cy5yZWdleD1wYXJzZShvcHRzLmlucHV0Rm9ybWF0LHZvaWQgMCxvcHRzKSxvcHRzLm1pbj1hbmFseXNlTWFzayhvcHRzLm1pbixvcHRzLmlucHV0Rm9ybWF0LG9wdHMpLG9wdHMubWF4PWFuYWx5c2VNYXNrKG9wdHMubWF4LG9wdHMuaW5wdXRGb3JtYXQsb3B0cyksbnVsbH0scGxhY2Vob2xkZXI6XCJcIixpbnB1dEZvcm1hdDpcImlzb0RhdGVUaW1lXCIsZGlzcGxheUZvcm1hdDp2b2lkIDAsb3V0cHV0Rm9ybWF0OnZvaWQgMCxtaW46bnVsbCxtYXg6bnVsbCxza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyOlwiXCIsaTE4bjp7ZGF5TmFtZXM6W1wiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiLFwiU3VuXCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIixcIlN1bmRheVwiXSxtb250aE5hbWVzOltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIixcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxvcmRpbmFsU3VmZml4OltcInN0XCIsXCJuZFwiLFwicmRcIixcInRoXCJdfSxwcmVWYWxpZGF0aW9uOmZ1bmN0aW9uIHByZVZhbGlkYXRpb24oYnVmZmVyLHBvcyxjLGlzU2VsZWN0aW9uLG9wdHMsbWFza3NldCxjYXJldFBvcyxzdHJpY3Qpe2lmKHN0cmljdClyZXR1cm4hMDtpZihpc05hTihjKSYmYnVmZmVyW3Bvc10hPT1jKXt2YXIgdG9rZW5NYXRjaD1nZXRUb2tlbk1hdGNoKHBvcyxvcHRzKTtpZih0b2tlbk1hdGNoLm5leHRNYXRjaCYmdG9rZW5NYXRjaC5uZXh0TWF0Y2hbMF09PT1jJiYxPHRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0ubGVuZ3RoKXt2YXIgdmFsaWRhdG9yPWZvcm1hdENvZGVbdG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXV1bMF07aWYobmV3IFJlZ0V4cCh2YWxpZGF0b3IpLnRlc3QoXCIwXCIrYnVmZmVyW3Bvcy0xXSkpcmV0dXJuIGJ1ZmZlcltwb3NdPWJ1ZmZlcltwb3MtMV0sYnVmZmVyW3Bvcy0xXT1cIjBcIix7ZnV6enk6ITAsYnVmZmVyOmJ1ZmZlcixyZWZyZXNoRnJvbUJ1ZmZlcjp7c3RhcnQ6cG9zLTEsZW5kOnBvcysxfSxwb3M6cG9zKzF9fX1yZXR1cm4hMH0scG9zdFZhbGlkYXRpb246ZnVuY3Rpb24gcG9zdFZhbGlkYXRpb24oYnVmZmVyLHBvcyxjLGN1cnJlbnRSZXN1bHQsb3B0cyxtYXNrc2V0LHN0cmljdCxmcm9tQ2hlY2t2YWwpe3ZhciBpbnB1dG1hc2s9dGhpcyx0b2tlbk1hdGNoLHZhbGlkYXRvcjtpZihzdHJpY3QpcmV0dXJuITA7aWYoITE9PT1jdXJyZW50UmVzdWx0JiYodG9rZW5NYXRjaD1nZXRUb2tlbk1hdGNoKHBvcysxLG9wdHMpLHRva2VuTWF0Y2gudGFyZ2V0TWF0Y2gmJnRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleD09PXBvcyYmMTx0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdLmxlbmd0aCYmdm9pZCAwIT09Zm9ybWF0Q29kZVt0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdXSYmKHZhbGlkYXRvcj1mb3JtYXRDb2RlW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF1dWzBdLHZvaWQgMCE9PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zKzFdJiZuZXcgUmVnRXhwKHZhbGlkYXRvcikudGVzdChjK1wiMFwiKT8oYnVmZmVyW3Bvc109YyxidWZmZXJbcG9zKzFdPVwiMFwiLGN1cnJlbnRSZXN1bHQ9e3Bvczpwb3MrMixjYXJldDpwb3N9KTpuZXcgUmVnRXhwKHZhbGlkYXRvcikudGVzdChcIjBcIitjKSYmKGJ1ZmZlcltwb3NdPVwiMFwiLGJ1ZmZlcltwb3MrMV09YyxjdXJyZW50UmVzdWx0PXtwb3M6cG9zKzJ9KSksITE9PT1jdXJyZW50UmVzdWx0KSlyZXR1cm4gY3VycmVudFJlc3VsdDtpZihjdXJyZW50UmVzdWx0LmZ1enp5JiYoYnVmZmVyPWN1cnJlbnRSZXN1bHQuYnVmZmVyLHBvcz1jdXJyZW50UmVzdWx0LnBvcyksdG9rZW5NYXRjaD1nZXRUb2tlbk1hdGNoKHBvcyxvcHRzKSx0b2tlbk1hdGNoLnRhcmdldE1hdGNoJiZ0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdJiZ2b2lkIDAhPT1mb3JtYXRDb2RlW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF1dKXt2YWxpZGF0b3I9Zm9ybWF0Q29kZVt0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdXVswXTt2YXIgcGFydD1idWZmZXIuc2xpY2UodG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4LHRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleCt0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdLmxlbmd0aCk7ITE9PT1uZXcgUmVnRXhwKHZhbGlkYXRvcikudGVzdChwYXJ0LmpvaW4oXCJcIikpJiYyPT09dG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXS5sZW5ndGgmJm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4XSYmbWFza3NldC52YWxpZFBvc2l0aW9uc1t0b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXgrMV0mJihtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleCsxXS5pbnB1dD1cIjBcIil9dmFyIHJlc3VsdD1jdXJyZW50UmVzdWx0LGRhdGVQYXJ0cz1hbmFseXNlTWFzayhidWZmZXIuam9pbihcIlwiKSxvcHRzLmlucHV0Rm9ybWF0LG9wdHMpO3JldHVybiByZXN1bHQmJmRhdGVQYXJ0cy5kYXRlLmdldFRpbWUoKT09ZGF0ZVBhcnRzLmRhdGUuZ2V0VGltZSgpJiYocmVzdWx0PXByZWZpbGxZZWFyKGRhdGVQYXJ0cyxyZXN1bHQsb3B0cykscmVzdWx0PWlzVmFsaWREYXRlLmNhbGwodGhpcyxkYXRlUGFydHMscmVzdWx0LG9wdHMpLHJlc3VsdD1pc0RhdGVJblJhbmdlKGRhdGVQYXJ0cyxyZXN1bHQsb3B0cyxtYXNrc2V0LGZyb21DaGVja3ZhbCkpLHBvcyYmcmVzdWx0JiZjdXJyZW50UmVzdWx0LnBvcyE9PXBvcz97YnVmZmVyOnBhcnNlKG9wdHMuaW5wdXRGb3JtYXQsZGF0ZVBhcnRzLG9wdHMpLnNwbGl0KFwiXCIpLHJlZnJlc2hGcm9tQnVmZmVyOntzdGFydDpwb3MsZW5kOmN1cnJlbnRSZXN1bHQucG9zfSxwb3M6Y3VycmVudFJlc3VsdC5jYXJldHx8Y3VycmVudFJlc3VsdC5wb3N9OnJlc3VsdH0sb25LZXlEb3duOmZ1bmN0aW9uIG9uS2V5RG93bihlLGJ1ZmZlcixjYXJldFBvcyxvcHRzKXt2YXIgaW5wdXQ9dGhpcztlLmN0cmxLZXkmJmUua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuUklHSFQmJih0aGlzLmlucHV0bWFzay5fdmFsdWVTZXQoaW1wb3J0RGF0ZShuZXcgRGF0ZSxvcHRzKSksJCh0aGlzKS50cmlnZ2VyKFwic2V0dmFsdWVcIikpfSxvblVuTWFzazpmdW5jdGlvbiBvblVuTWFzayhtYXNrZWRWYWx1ZSx1bm1hc2tlZFZhbHVlLG9wdHMpe3JldHVybiB1bm1hc2tlZFZhbHVlP3BhcnNlKG9wdHMub3V0cHV0Rm9ybWF0LGFuYWx5c2VNYXNrKG1hc2tlZFZhbHVlLG9wdHMuaW5wdXRGb3JtYXQsb3B0cyksb3B0cywhMCk6dW5tYXNrZWRWYWx1ZX0sY2FzaW5nOmZ1bmN0aW9uIGNhc2luZyhlbGVtLHRlc3QscG9zLHZhbGlkUG9zaXRpb25zKXtyZXR1cm4gMD09dGVzdC5uYXRpdmVEZWYuaW5kZXhPZihcIlthcF1cIik/ZWxlbS50b0xvd2VyQ2FzZSgpOjA9PXRlc3QubmF0aXZlRGVmLmluZGV4T2YoXCJbQVBdXCIpP2VsZW0udG9VcHBlckNhc2UoKTplbGVtfSxvbkJlZm9yZU1hc2s6ZnVuY3Rpb24gb25CZWZvcmVNYXNrKGluaXRpYWxWYWx1ZSxvcHRzKXtyZXR1cm5cIltvYmplY3QgRGF0ZV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbml0aWFsVmFsdWUpJiYoaW5pdGlhbFZhbHVlPWltcG9ydERhdGUoaW5pdGlhbFZhbHVlLG9wdHMpKSxpbml0aWFsVmFsdWV9LGluc2VydE1vZGU6ITEsc2hpZnRQb3NpdGlvbnM6ITEsa2VlcFN0YXRpYzohMSxpbnB1dG1vZGU6XCJudW1lcmljXCJ9fSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyKSksX2tleWNvZGU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfZXNjYXBlUmVnZXg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciAkPV9pbnB1dG1hc2suZGVmYXVsdC5kZXBlbmRlbmN5TGliO2Z1bmN0aW9uIGF1dG9Fc2NhcGUodHh0LG9wdHMpe2Zvcih2YXIgZXNjYXBlZFR4dD1cIlwiLGk9MDtpPHR4dC5sZW5ndGg7aSsrKV9pbnB1dG1hc2suZGVmYXVsdC5wcm90b3R5cGUuZGVmaW5pdGlvbnNbdHh0LmNoYXJBdChpKV18fG9wdHMuZGVmaW5pdGlvbnNbdHh0LmNoYXJBdChpKV18fG9wdHMub3B0aW9uYWxtYXJrZXJbMF09PT10eHQuY2hhckF0KGkpfHxvcHRzLm9wdGlvbmFsbWFya2VyWzFdPT09dHh0LmNoYXJBdChpKXx8b3B0cy5xdWFudGlmaWVybWFya2VyWzBdPT09dHh0LmNoYXJBdChpKXx8b3B0cy5xdWFudGlmaWVybWFya2VyWzFdPT09dHh0LmNoYXJBdChpKXx8b3B0cy5ncm91cG1hcmtlclswXT09PXR4dC5jaGFyQXQoaSl8fG9wdHMuZ3JvdXBtYXJrZXJbMV09PT10eHQuY2hhckF0KGkpfHxvcHRzLmFsdGVybmF0b3JtYXJrZXI9PT10eHQuY2hhckF0KGkpP2VzY2FwZWRUeHQrPVwiXFxcXFwiK3R4dC5jaGFyQXQoaSk6ZXNjYXBlZFR4dCs9dHh0LmNoYXJBdChpKTtyZXR1cm4gZXNjYXBlZFR4dH1mdW5jdGlvbiBhbGlnbkRpZ2l0cyhidWZmZXIsZGlnaXRzLG9wdHMsZm9yY2Upe2lmKDA8YnVmZmVyLmxlbmd0aCYmMDxkaWdpdHMmJighb3B0cy5kaWdpdHNPcHRpb25hbHx8Zm9yY2UpKXt2YXIgcmFkaXhQb3NpdGlvbj1idWZmZXIuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpLG5lZ2F0aW9uQmFjaz0hMTtvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2s9PT1idWZmZXJbYnVmZmVyLmxlbmd0aC0xXSYmKG5lZ2F0aW9uQmFjaz0hMCxidWZmZXIubGVuZ3RoLS0pLC0xPT09cmFkaXhQb3NpdGlvbiYmKGJ1ZmZlci5wdXNoKG9wdHMucmFkaXhQb2ludCkscmFkaXhQb3NpdGlvbj1idWZmZXIubGVuZ3RoLTEpO2Zvcih2YXIgaT0xO2k8PWRpZ2l0cztpKyspaXNGaW5pdGUoYnVmZmVyW3JhZGl4UG9zaXRpb24raV0pfHwoYnVmZmVyW3JhZGl4UG9zaXRpb24raV09XCIwXCIpfXJldHVybiBuZWdhdGlvbkJhY2smJmJ1ZmZlci5wdXNoKG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayksYnVmZmVyfWZ1bmN0aW9uIGZpbmRWYWxpZGF0b3Ioc3ltYm9sLG1hc2tzZXQpe3ZhciBwb3NOZHg9MDtpZihcIitcIj09PXN5bWJvbCl7Zm9yKHBvc05keCBpbiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zKTtwb3NOZHg9cGFyc2VJbnQocG9zTmR4KX1mb3IodmFyIHRzdE5keCBpbiBtYXNrc2V0LnRlc3RzKWlmKHRzdE5keD1wYXJzZUludCh0c3ROZHgpLHBvc05keDw9dHN0TmR4KWZvcih2YXIgbmR4PTAsbmR4bD1tYXNrc2V0LnRlc3RzW3RzdE5keF0ubGVuZ3RoO25keDxuZHhsO25keCsrKWlmKCh2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3RzdE5keF18fFwiLVwiPT09c3ltYm9sKSYmbWFza3NldC50ZXN0c1t0c3ROZHhdW25keF0ubWF0Y2guZGVmPT09c3ltYm9sKXJldHVybiB0c3ROZHgrKHZvaWQgMCE9PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdHN0TmR4XSYmXCItXCIhPT1zeW1ib2w/MTowKTtyZXR1cm4gcG9zTmR4fWZ1bmN0aW9uIGZpbmRWYWxpZChzeW1ib2wsbWFza3NldCl7dmFyIHJldD0tMTtmb3IodmFyIG5keCBpbiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zKXt2YXIgdHN0PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbmR4XTtpZih0c3QmJnRzdC5tYXRjaC5kZWY9PT1zeW1ib2wpe3JldD1wYXJzZUludChuZHgpO2JyZWFrfX1yZXR1cm4gcmV0fWZ1bmN0aW9uIHBhcnNlTWluTWF4T3B0aW9ucyhvcHRzKXt2b2lkIDA9PT1vcHRzLnBhcnNlTWluTWF4T3B0aW9ucyYmKG51bGwhPT1vcHRzLm1pbiYmKG9wdHMubWluPW9wdHMubWluLnRvU3RyaW5nKCkucmVwbGFjZShuZXcgUmVnRXhwKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLmdyb3VwU2VwYXJhdG9yKSxcImdcIiksXCJcIiksXCIsXCI9PT1vcHRzLnJhZGl4UG9pbnQmJihvcHRzLm1pbj1vcHRzLm1pbi5yZXBsYWNlKG9wdHMucmFkaXhQb2ludCxcIi5cIikpLG9wdHMubWluPWlzRmluaXRlKG9wdHMubWluKT9wYXJzZUZsb2F0KG9wdHMubWluKTpOYU4saXNOYU4ob3B0cy5taW4pJiYob3B0cy5taW49TnVtYmVyLk1JTl9WQUxVRSkpLG51bGwhPT1vcHRzLm1heCYmKG9wdHMubWF4PW9wdHMubWF4LnRvU3RyaW5nKCkucmVwbGFjZShuZXcgUmVnRXhwKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLmdyb3VwU2VwYXJhdG9yKSxcImdcIiksXCJcIiksXCIsXCI9PT1vcHRzLnJhZGl4UG9pbnQmJihvcHRzLm1heD1vcHRzLm1heC5yZXBsYWNlKG9wdHMucmFkaXhQb2ludCxcIi5cIikpLG9wdHMubWF4PWlzRmluaXRlKG9wdHMubWF4KT9wYXJzZUZsb2F0KG9wdHMubWF4KTpOYU4saXNOYU4ob3B0cy5tYXgpJiYob3B0cy5tYXg9TnVtYmVyLk1BWF9WQUxVRSkpLG9wdHMucGFyc2VNaW5NYXhPcHRpb25zPVwiZG9uZVwiKX1mdW5jdGlvbiBnZW5NYXNrKG9wdHMpe29wdHMucmVwZWF0PTAsb3B0cy5ncm91cFNlcGFyYXRvcj09PW9wdHMucmFkaXhQb2ludCYmb3B0cy5kaWdpdHMmJlwiMFwiIT09b3B0cy5kaWdpdHMmJihcIi5cIj09PW9wdHMucmFkaXhQb2ludD9vcHRzLmdyb3VwU2VwYXJhdG9yPVwiLFwiOlwiLFwiPT09b3B0cy5yYWRpeFBvaW50P29wdHMuZ3JvdXBTZXBhcmF0b3I9XCIuXCI6b3B0cy5ncm91cFNlcGFyYXRvcj1cIlwiKSxcIiBcIj09PW9wdHMuZ3JvdXBTZXBhcmF0b3ImJihvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9dm9pZCAwKSwxPG9wdHMucGxhY2Vob2xkZXIubGVuZ3RoJiYob3B0cy5wbGFjZWhvbGRlcj1vcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSksXCJyYWRpeEZvY3VzXCI9PT1vcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrJiZcIlwiPT09b3B0cy5wbGFjZWhvbGRlciYmKG9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2s9XCJsdnBcIik7dmFyIGRlY2ltYWxEZWY9XCIwXCIscmFkaXhQb2ludERlZj1vcHRzLnJhZGl4UG9pbnQ7ITA9PT1vcHRzLm51bWVyaWNJbnB1dCYmdm9pZCAwPT09b3B0cy5fX2ZpbmFuY2VJbnB1dD8oZGVjaW1hbERlZj1cIjFcIixvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrPVwicmFkaXhGb2N1c1wiPT09b3B0cy5wb3NpdGlvbkNhcmV0T25DbGljaz9cImx2cFwiOm9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2ssb3B0cy5kaWdpdHNPcHRpb25hbD0hMSxpc05hTihvcHRzLmRpZ2l0cykmJihvcHRzLmRpZ2l0cz0yKSxvcHRzLl9yYWRpeERhbmNlPSExLHJhZGl4UG9pbnREZWY9XCIsXCI9PT1vcHRzLnJhZGl4UG9pbnQ/XCI/XCI6XCIhXCIsXCJcIiE9PW9wdHMucmFkaXhQb2ludCYmdm9pZCAwPT09b3B0cy5kZWZpbml0aW9uc1tyYWRpeFBvaW50RGVmXSYmKG9wdHMuZGVmaW5pdGlvbnNbcmFkaXhQb2ludERlZl09e30sb3B0cy5kZWZpbml0aW9uc1tyYWRpeFBvaW50RGVmXS52YWxpZGF0b3I9XCJbXCIrb3B0cy5yYWRpeFBvaW50K1wiXVwiLG9wdHMuZGVmaW5pdGlvbnNbcmFkaXhQb2ludERlZl0ucGxhY2Vob2xkZXI9b3B0cy5yYWRpeFBvaW50LG9wdHMuZGVmaW5pdGlvbnNbcmFkaXhQb2ludERlZl0uc3RhdGljPSEwLG9wdHMuZGVmaW5pdGlvbnNbcmFkaXhQb2ludERlZl0uZ2VuZXJhdGVkPSEwKSk6KG9wdHMuX19maW5hbmNlSW5wdXQ9ITEsb3B0cy5udW1lcmljSW5wdXQ9ITApO3ZhciBtYXNrPVwiWytdXCIsYWx0TWFzaztpZihtYXNrKz1hdXRvRXNjYXBlKG9wdHMucHJlZml4LG9wdHMpLFwiXCIhPT1vcHRzLmdyb3VwU2VwYXJhdG9yPyh2b2lkIDA9PT1vcHRzLmRlZmluaXRpb25zW29wdHMuZ3JvdXBTZXBhcmF0b3JdJiYob3B0cy5kZWZpbml0aW9uc1tvcHRzLmdyb3VwU2VwYXJhdG9yXT17fSxvcHRzLmRlZmluaXRpb25zW29wdHMuZ3JvdXBTZXBhcmF0b3JdLnZhbGlkYXRvcj1cIltcIitvcHRzLmdyb3VwU2VwYXJhdG9yK1wiXVwiLG9wdHMuZGVmaW5pdGlvbnNbb3B0cy5ncm91cFNlcGFyYXRvcl0ucGxhY2Vob2xkZXI9b3B0cy5ncm91cFNlcGFyYXRvcixvcHRzLmRlZmluaXRpb25zW29wdHMuZ3JvdXBTZXBhcmF0b3JdLnN0YXRpYz0hMCxvcHRzLmRlZmluaXRpb25zW29wdHMuZ3JvdXBTZXBhcmF0b3JdLmdlbmVyYXRlZD0hMCksbWFzays9b3B0cy5fbWFzayhvcHRzKSk6bWFzays9XCI5eyt9XCIsdm9pZCAwIT09b3B0cy5kaWdpdHMmJjAhPT1vcHRzLmRpZ2l0cyl7dmFyIGRxPW9wdHMuZGlnaXRzLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpO2lzRmluaXRlKGRxWzBdKSYmZHFbMV0mJmlzRmluaXRlKGRxWzFdKT9tYXNrKz1yYWRpeFBvaW50RGVmK2RlY2ltYWxEZWYrXCJ7XCIrb3B0cy5kaWdpdHMrXCJ9XCI6KGlzTmFOKG9wdHMuZGlnaXRzKXx8MDxwYXJzZUludChvcHRzLmRpZ2l0cykpJiYob3B0cy5kaWdpdHNPcHRpb25hbD8oYWx0TWFzaz1tYXNrK3JhZGl4UG9pbnREZWYrZGVjaW1hbERlZitcInswLFwiK29wdHMuZGlnaXRzK1wifVwiLG9wdHMua2VlcFN0YXRpYz0hMCk6bWFzays9cmFkaXhQb2ludERlZitkZWNpbWFsRGVmK1wie1wiK29wdHMuZGlnaXRzK1wifVwiKX1yZXR1cm4gbWFzays9YXV0b0VzY2FwZShvcHRzLnN1ZmZpeCxvcHRzKSxtYXNrKz1cIlstXVwiLGFsdE1hc2smJihtYXNrPVthbHRNYXNrK2F1dG9Fc2NhcGUob3B0cy5zdWZmaXgsb3B0cykrXCJbLV1cIixtYXNrXSksb3B0cy5ncmVlZHk9ITEscGFyc2VNaW5NYXhPcHRpb25zKG9wdHMpLG1hc2t9ZnVuY3Rpb24gaGFubmRsZVJhZGl4RGFuY2UocG9zLGMscmFkaXhQb3MsbWFza3NldCxvcHRzKXtyZXR1cm4gb3B0cy5fcmFkaXhEYW5jZSYmb3B0cy5udW1lcmljSW5wdXQmJmMhPT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2smJnBvczw9cmFkaXhQb3MmJigwPHJhZGl4UG9zfHxjPT1vcHRzLnJhZGl4UG9pbnQpJiYodm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MtMV18fG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zLTFdLmlucHV0IT09b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKSYmKHBvcy09MSkscG9zfWZ1bmN0aW9uIGRlY2ltYWxWYWxpZGF0b3IoY2hycyxtYXNrc2V0LHBvcyxzdHJpY3Qsb3B0cyl7dmFyIHJhZGl4UG9zPW1hc2tzZXQuYnVmZmVyP21hc2tzZXQuYnVmZmVyLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KTotMSxyZXN1bHQ9LTEhPT1yYWRpeFBvcyYmbmV3IFJlZ0V4cChcIlswLTlcXHVmZjExLVxcdWZmMTldXCIpLnRlc3QoY2hycyk7cmV0dXJuIG9wdHMuX3JhZGl4RGFuY2UmJnJlc3VsdCYmbnVsbD09bWFza3NldC52YWxpZFBvc2l0aW9uc1tyYWRpeFBvc10/e2luc2VydDp7cG9zOnJhZGl4UG9zPT09cG9zP3JhZGl4UG9zKzE6cmFkaXhQb3MsYzpvcHRzLnJhZGl4UG9pbnR9LHBvczpwb3N9OnJlc3VsdH1mdW5jdGlvbiBjaGVja0ZvckxlYWRpbmdaZXJvZXMoYnVmZmVyLG9wdHMpe3ZhciBudW1iZXJNYXRjaGVzPW5ldyBSZWdFeHAoXCIoXlwiKyhcIlwiIT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udD8oMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkrXCI/XCI6XCJcIikrKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMucHJlZml4KStcIikoLiopKFwiKygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLnN1ZmZpeCkrKFwiXCIhPW9wdHMubmVnYXRpb25TeW1ib2wuYmFjaz8oMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKStcIj9cIjpcIlwiKStcIiQpXCIpLmV4ZWMoYnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikpLG51bWJlcj1udW1iZXJNYXRjaGVzP251bWJlck1hdGNoZXNbMl06XCJcIixsZWFkaW5nemVyb2VzPSExO3JldHVybiBudW1iZXImJihudW1iZXI9bnVtYmVyLnNwbGl0KG9wdHMucmFkaXhQb2ludC5jaGFyQXQoMCkpWzBdLGxlYWRpbmd6ZXJvZXM9bmV3IFJlZ0V4cChcIl5bMFwiK29wdHMuZ3JvdXBTZXBhcmF0b3IrXCJdKlwiKS5leGVjKG51bWJlcikpLCEoIWxlYWRpbmd6ZXJvZXN8fCEoMTxsZWFkaW5nemVyb2VzWzBdLmxlbmd0aHx8MDxsZWFkaW5nemVyb2VzWzBdLmxlbmd0aCYmbGVhZGluZ3plcm9lc1swXS5sZW5ndGg8bnVtYmVyLmxlbmd0aCkpJiZsZWFkaW5nemVyb2VzfV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmRBbGlhc2VzKHtudW1lcmljOnttYXNrOmdlbk1hc2ssX21hc2s6ZnVuY3Rpb24gX21hc2sob3B0cyl7cmV0dXJuXCIoXCIrb3B0cy5ncm91cFNlcGFyYXRvcitcIjk5OSl7K3wxfVwifSxkaWdpdHM6XCIqXCIsZGlnaXRzT3B0aW9uYWw6ITAsZW5mb3JjZURpZ2l0c09uQmx1cjohMSxyYWRpeFBvaW50OlwiLlwiLHBvc2l0aW9uQ2FyZXRPbkNsaWNrOlwicmFkaXhGb2N1c1wiLF9yYWRpeERhbmNlOiEwLGdyb3VwU2VwYXJhdG9yOlwiXCIsYWxsb3dNaW51czohMCxuZWdhdGlvblN5bWJvbDp7ZnJvbnQ6XCItXCIsYmFjazpcIlwifSxwcmVmaXg6XCJcIixzdWZmaXg6XCJcIixtaW46bnVsbCxtYXg6bnVsbCxTZXRNYXhPbk92ZXJmbG93OiExLHN0ZXA6MSxpbnB1dFR5cGU6XCJ0ZXh0XCIsdW5tYXNrQXNOdW1iZXI6ITEscm91bmRpbmdGTjpNYXRoLnJvdW5kLGlucHV0bW9kZTpcIm51bWVyaWNcIixzaG9ydGN1dHM6e2s6XCIwMDBcIixtOlwiMDAwMDAwXCJ9LHBsYWNlaG9sZGVyOlwiMFwiLGdyZWVkeTohMSxyaWdodEFsaWduOiEwLGluc2VydE1vZGU6ITAsYXV0b1VubWFzazohMSxza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyOlwiXCIsZGVmaW5pdGlvbnM6ezA6e3ZhbGlkYXRvcjpkZWNpbWFsVmFsaWRhdG9yfSwxOnt2YWxpZGF0b3I6ZGVjaW1hbFZhbGlkYXRvcixkZWZpbml0aW9uU3ltYm9sOlwiOVwifSxcIitcIjp7dmFsaWRhdG9yOmZ1bmN0aW9uIHZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXtyZXR1cm4gb3B0cy5hbGxvd01pbnVzJiYoXCItXCI9PT1jaHJzfHxjaHJzPT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCl9fSxcIi1cIjp7dmFsaWRhdG9yOmZ1bmN0aW9uIHZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXtyZXR1cm4gb3B0cy5hbGxvd01pbnVzJiZjaHJzPT09b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrfX19LHByZVZhbGlkYXRpb246ZnVuY3Rpb24gcHJlVmFsaWRhdGlvbihidWZmZXIscG9zLGMsaXNTZWxlY3Rpb24sb3B0cyxtYXNrc2V0LGNhcmV0UG9zLHN0cmljdCl7aWYoITEhPT1vcHRzLl9fZmluYW5jZUlucHV0JiZjPT09b3B0cy5yYWRpeFBvaW50KXJldHVybiExO3ZhciBwYXR0ZXJuO2lmKHBhdHRlcm49b3B0cy5zaG9ydGN1dHMmJm9wdHMuc2hvcnRjdXRzW2NdKXtpZigxPHBhdHRlcm4ubGVuZ3RoKWZvcih2YXIgaW5zZXJ0cz1bXSxpPTA7aTxwYXR0ZXJuLmxlbmd0aDtpKyspaW5zZXJ0cy5wdXNoKHtwb3M6cG9zK2ksYzpwYXR0ZXJuW2ldLHN0cmljdDohMX0pO3JldHVybntpbnNlcnQ6aW5zZXJ0c319dmFyIHJhZGl4UG9zPWJ1ZmZlci5pbmRleE9mKG9wdHMucmFkaXhQb2ludCksaW5pdFBvcz1wb3M7aWYocG9zPWhhbm5kbGVSYWRpeERhbmNlKHBvcyxjLHJhZGl4UG9zLG1hc2tzZXQsb3B0cyksXCItXCI9PT1jfHxjPT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCl7aWYoITAhPT1vcHRzLmFsbG93TWludXMpcmV0dXJuITE7dmFyIGlzTmVnYXRpdmU9ITEsZnJvbnQ9ZmluZFZhbGlkKFwiK1wiLG1hc2tzZXQpLGJhY2s9ZmluZFZhbGlkKFwiLVwiLG1hc2tzZXQpO3JldHVybi0xIT09ZnJvbnQmJihpc05lZ2F0aXZlPVtmcm9udCxiYWNrXSksITEhPT1pc05lZ2F0aXZlP3tyZW1vdmU6aXNOZWdhdGl2ZSxjYXJldDppbml0UG9zLW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQubGVuZ3RofTp7aW5zZXJ0Olt7cG9zOmZpbmRWYWxpZGF0b3IoXCIrXCIsbWFza3NldCksYzpvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250LGZyb21Jc1ZhbGlkOiEwfSx7cG9zOmZpbmRWYWxpZGF0b3IoXCItXCIsbWFza3NldCksYzpvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2ssZnJvbUlzVmFsaWQ6dm9pZCAwfV0sY2FyZXQ6aW5pdFBvcytvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2subGVuZ3RofX1pZihjPT09b3B0cy5ncm91cFNlcGFyYXRvcilyZXR1cm57Y2FyZXQ6aW5pdFBvc307aWYoc3RyaWN0KXJldHVybiEwO2lmKC0xIT09cmFkaXhQb3MmJiEwPT09b3B0cy5fcmFkaXhEYW5jZSYmITE9PT1pc1NlbGVjdGlvbiYmYz09PW9wdHMucmFkaXhQb2ludCYmdm9pZCAwIT09b3B0cy5kaWdpdHMmJihpc05hTihvcHRzLmRpZ2l0cyl8fDA8cGFyc2VJbnQob3B0cy5kaWdpdHMpKSYmcmFkaXhQb3MhPT1wb3MpcmV0dXJue2NhcmV0Om9wdHMuX3JhZGl4RGFuY2UmJnBvcz09PXJhZGl4UG9zLTE/cmFkaXhQb3MrMTpyYWRpeFBvc307aWYoITE9PT1vcHRzLl9fZmluYW5jZUlucHV0KWlmKGlzU2VsZWN0aW9uKXtpZihvcHRzLmRpZ2l0c09wdGlvbmFsKXJldHVybntyZXdyaXRlUG9zaXRpb246Y2FyZXRQb3MuZW5kfTtpZighb3B0cy5kaWdpdHNPcHRpb25hbCl7aWYoY2FyZXRQb3MuYmVnaW4+cmFkaXhQb3MmJmNhcmV0UG9zLmVuZDw9cmFkaXhQb3MpcmV0dXJuIGM9PT1vcHRzLnJhZGl4UG9pbnQ/e2luc2VydDp7cG9zOnJhZGl4UG9zKzEsYzpcIjBcIixmcm9tSXNWYWxpZDohMH0scmV3cml0ZVBvc2l0aW9uOnJhZGl4UG9zfTp7cmV3cml0ZVBvc2l0aW9uOnJhZGl4UG9zKzF9O2lmKGNhcmV0UG9zLmJlZ2luPHJhZGl4UG9zKXJldHVybntyZXdyaXRlUG9zaXRpb246Y2FyZXRQb3MuYmVnaW4tMX19fWVsc2UgaWYoIW9wdHMuc2hvd01hc2tPbkhvdmVyJiYhb3B0cy5zaG93TWFza09uRm9jdXMmJiFvcHRzLmRpZ2l0c09wdGlvbmFsJiYwPG9wdHMuZGlnaXRzJiZcIlwiPT09dGhpcy5fX3ZhbHVlR2V0LmNhbGwodGhpcy5lbCkpcmV0dXJue3Jld3JpdGVQb3NpdGlvbjpyYWRpeFBvc307cmV0dXJue3Jld3JpdGVQb3NpdGlvbjpwb3N9fSxwb3N0VmFsaWRhdGlvbjpmdW5jdGlvbiBwb3N0VmFsaWRhdGlvbihidWZmZXIscG9zLGMsY3VycmVudFJlc3VsdCxvcHRzLG1hc2tzZXQsc3RyaWN0KXtpZighMT09PWN1cnJlbnRSZXN1bHQpcmV0dXJuIGN1cnJlbnRSZXN1bHQ7aWYoc3RyaWN0KXJldHVybiEwO2lmKG51bGwhPT1vcHRzLm1pbnx8bnVsbCE9PW9wdHMubWF4KXt2YXIgdW5tYXNrZWQ9b3B0cy5vblVuTWFzayhidWZmZXIuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSx2b2lkIDAsJC5leHRlbmQoe30sb3B0cyx7dW5tYXNrQXNOdW1iZXI6ITB9KSk7aWYobnVsbCE9PW9wdHMubWluJiZ1bm1hc2tlZDxvcHRzLm1pbiYmKHVubWFza2VkLnRvU3RyaW5nKCkubGVuZ3RoPm9wdHMubWluLnRvU3RyaW5nKCkubGVuZ3RofHx1bm1hc2tlZDwwKSlyZXR1cm4hMTtpZihudWxsIT09b3B0cy5tYXgmJnVubWFza2VkPm9wdHMubWF4KXJldHVybiEhb3B0cy5TZXRNYXhPbk92ZXJmbG93JiZ7cmVmcmVzaEZyb21CdWZmZXI6ITAsYnVmZmVyOmFsaWduRGlnaXRzKG9wdHMubWF4LnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixvcHRzLnJhZGl4UG9pbnQpLnNwbGl0KFwiXCIpLG9wdHMuZGlnaXRzLG9wdHMpLnJldmVyc2UoKX19cmV0dXJuIGN1cnJlbnRSZXN1bHR9LG9uVW5NYXNrOmZ1bmN0aW9uIG9uVW5NYXNrKG1hc2tlZFZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl7aWYoXCJcIj09PXVubWFza2VkVmFsdWUmJiEwPT09b3B0cy5udWxsYWJsZSlyZXR1cm4gdW5tYXNrZWRWYWx1ZTt2YXIgcHJvY2Vzc1ZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5wcmVmaXgsXCJcIik7cmV0dXJuIHByb2Nlc3NWYWx1ZT1wcm9jZXNzVmFsdWUucmVwbGFjZShvcHRzLnN1ZmZpeCxcIlwiKSxwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5ncm91cFNlcGFyYXRvciksXCJnXCIpLFwiXCIpLFwiXCIhPT1vcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSYmKHByb2Nlc3NWYWx1ZT1wcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApLFwiZ1wiKSxcIjBcIikpLG9wdHMudW5tYXNrQXNOdW1iZXI/KFwiXCIhPT1vcHRzLnJhZGl4UG9pbnQmJi0xIT09cHJvY2Vzc1ZhbHVlLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KSYmKHByb2Nlc3NWYWx1ZT1wcm9jZXNzVmFsdWUucmVwbGFjZShfZXNjYXBlUmVnZXguZGVmYXVsdC5jYWxsKHRoaXMsb3B0cy5yYWRpeFBvaW50KSxcIi5cIikpLHByb2Nlc3NWYWx1ZT1wcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiKygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KSksXCItXCIpLHByb2Nlc3NWYWx1ZT1wcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spK1wiJFwiKSxcIlwiKSxOdW1iZXIocHJvY2Vzc1ZhbHVlKSk6cHJvY2Vzc1ZhbHVlfSxpc0NvbXBsZXRlOmZ1bmN0aW9uIGlzQ29tcGxldGUoYnVmZmVyLG9wdHMpe3ZhciBtYXNrZWRWYWx1ZT0ob3B0cy5udW1lcmljSW5wdXQ/YnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpOmJ1ZmZlcikuam9pbihcIlwiKTtyZXR1cm4gbWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiKygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KSksXCItXCIpLG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKStcIiRcIiksXCJcIiksbWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnByZWZpeCxcIlwiKSxtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMuc3VmZml4LFwiXCIpLG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5ncm91cFNlcGFyYXRvcikrXCIoWzAtOV17M30pXCIsXCJnXCIpLFwiJDFcIiksXCIsXCI9PT1vcHRzLnJhZGl4UG9pbnQmJihtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLnJhZGl4UG9pbnQpLFwiLlwiKSksaXNGaW5pdGUobWFza2VkVmFsdWUpfSxvbkJlZm9yZU1hc2s6ZnVuY3Rpb24gb25CZWZvcmVNYXNrKGluaXRpYWxWYWx1ZSxvcHRzKXt2YXIgcmFkaXhQb2ludD1vcHRzLnJhZGl4UG9pbnR8fFwiLFwiO2lzRmluaXRlKG9wdHMuZGlnaXRzKSYmKG9wdHMuZGlnaXRzPXBhcnNlSW50KG9wdHMuZGlnaXRzKSksXCJudW1iZXJcIiE9dHlwZW9mIGluaXRpYWxWYWx1ZSYmXCJudW1iZXJcIiE9PW9wdHMuaW5wdXRUeXBlfHxcIlwiPT09cmFkaXhQb2ludHx8KGluaXRpYWxWYWx1ZT1pbml0aWFsVmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLHJhZGl4UG9pbnQpKTt2YXIgaXNOYWd0aXZlPVwiLVwiPT09aW5pdGlhbFZhbHVlLmNoYXJBdCgwKXx8aW5pdGlhbFZhbHVlLmNoYXJBdCgwKT09PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQsdmFsdWVQYXJ0cz1pbml0aWFsVmFsdWUuc3BsaXQocmFkaXhQb2ludCksaW50ZWdlclBhcnQ9dmFsdWVQYXJ0c1swXS5yZXBsYWNlKC9bXlxcLTAtOV0vZyxcIlwiKSxkZWNpbWFsUGFydD0xPHZhbHVlUGFydHMubGVuZ3RoP3ZhbHVlUGFydHNbMV0ucmVwbGFjZSgvW14wLTldL2csXCJcIik6XCJcIixmb3JjZURpZ2l0cz0xPHZhbHVlUGFydHMubGVuZ3RoO2luaXRpYWxWYWx1ZT1pbnRlZ2VyUGFydCsoXCJcIiE9PWRlY2ltYWxQYXJ0P3JhZGl4UG9pbnQrZGVjaW1hbFBhcnQ6ZGVjaW1hbFBhcnQpO3ZhciBkaWdpdHM9MDtpZihcIlwiIT09cmFkaXhQb2ludCYmKGRpZ2l0cz1vcHRzLmRpZ2l0c09wdGlvbmFsP29wdHMuZGlnaXRzPGRlY2ltYWxQYXJ0Lmxlbmd0aD9vcHRzLmRpZ2l0czpkZWNpbWFsUGFydC5sZW5ndGg6b3B0cy5kaWdpdHMsXCJcIiE9PWRlY2ltYWxQYXJ0fHwhb3B0cy5kaWdpdHNPcHRpb25hbCkpe3ZhciBkaWdpdHNGYWN0b3I9TWF0aC5wb3coMTAsZGlnaXRzfHwxKTtpbml0aWFsVmFsdWU9aW5pdGlhbFZhbHVlLnJlcGxhY2UoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKHJhZGl4UG9pbnQpLFwiLlwiKSxpc05hTihwYXJzZUZsb2F0KGluaXRpYWxWYWx1ZSkpfHwoaW5pdGlhbFZhbHVlPShvcHRzLnJvdW5kaW5nRk4ocGFyc2VGbG9hdChpbml0aWFsVmFsdWUpKmRpZ2l0c0ZhY3RvcikvZGlnaXRzRmFjdG9yKS50b0ZpeGVkKGRpZ2l0cykpLGluaXRpYWxWYWx1ZT1pbml0aWFsVmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLHJhZGl4UG9pbnQpfWlmKDA9PT1vcHRzLmRpZ2l0cyYmLTEhPT1pbml0aWFsVmFsdWUuaW5kZXhPZihyYWRpeFBvaW50KSYmKGluaXRpYWxWYWx1ZT1pbml0aWFsVmFsdWUuc3Vic3RyaW5nKDAsaW5pdGlhbFZhbHVlLmluZGV4T2YocmFkaXhQb2ludCkpKSxudWxsIT09b3B0cy5taW58fG51bGwhPT1vcHRzLm1heCl7dmFyIG51bWJlclZhbHVlPWluaXRpYWxWYWx1ZS50b1N0cmluZygpLnJlcGxhY2UocmFkaXhQb2ludCxcIi5cIik7bnVsbCE9PW9wdHMubWluJiZudW1iZXJWYWx1ZTxvcHRzLm1pbj9pbml0aWFsVmFsdWU9b3B0cy5taW4udG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLHJhZGl4UG9pbnQpOm51bGwhPT1vcHRzLm1heCYmbnVtYmVyVmFsdWU+b3B0cy5tYXgmJihpbml0aWFsVmFsdWU9b3B0cy5tYXgudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLHJhZGl4UG9pbnQpKX1yZXR1cm4gaXNOYWd0aXZlJiZcIi1cIiE9PWluaXRpYWxWYWx1ZS5jaGFyQXQoMCkmJihpbml0aWFsVmFsdWU9XCItXCIraW5pdGlhbFZhbHVlKSxhbGlnbkRpZ2l0cyhpbml0aWFsVmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSxkaWdpdHMsb3B0cyxmb3JjZURpZ2l0cykuam9pbihcIlwiKX0sb25CZWZvcmVXcml0ZTpmdW5jdGlvbiBvbkJlZm9yZVdyaXRlKGUsYnVmZmVyLGNhcmV0UG9zLG9wdHMpe2Z1bmN0aW9uIHN0cmlwQnVmZmVyKGJ1ZmZlcixzdHJpcFJhZGl4KXtpZighMSE9PW9wdHMuX19maW5hbmNlSW5wdXR8fHN0cmlwUmFkaXgpe3ZhciBwb3NpdGlvbj1idWZmZXIuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpOy0xIT09cG9zaXRpb24mJmJ1ZmZlci5zcGxpY2UocG9zaXRpb24sMSl9aWYoXCJcIiE9PW9wdHMuZ3JvdXBTZXBhcmF0b3IpZm9yKDstMSE9PShwb3NpdGlvbj1idWZmZXIuaW5kZXhPZihvcHRzLmdyb3VwU2VwYXJhdG9yKSk7KWJ1ZmZlci5zcGxpY2UocG9zaXRpb24sMSk7cmV0dXJuIGJ1ZmZlcn12YXIgcmVzdWx0LGxlYWRpbmd6ZXJvZXM9Y2hlY2tGb3JMZWFkaW5nWmVyb2VzKGJ1ZmZlcixvcHRzKTtpZihsZWFkaW5nemVyb2VzKWZvcih2YXIgY2FyZXROZHg9YnVmZmVyLmpvaW4oXCJcIikubGFzdEluZGV4T2YobGVhZGluZ3plcm9lc1swXS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSktKGxlYWRpbmd6ZXJvZXNbMF09PWxlYWRpbmd6ZXJvZXMuaW5wdXQ/MDoxKSxvZmZzZXQ9bGVhZGluZ3plcm9lc1swXT09bGVhZGluZ3plcm9lcy5pbnB1dD8xOjAsaT1sZWFkaW5nemVyb2VzWzBdLmxlbmd0aC1vZmZzZXQ7MDxpO2ktLSlkZWxldGUgdGhpcy5tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2NhcmV0TmR4K2ldLGRlbGV0ZSBidWZmZXJbY2FyZXROZHgraV07aWYoZSlzd2l0Y2goZS50eXBlKXtjYXNlXCJibHVyXCI6Y2FzZVwiY2hlY2t2YWxcIjppZihudWxsIT09b3B0cy5taW4pe3ZhciB1bm1hc2tlZD1vcHRzLm9uVW5NYXNrKGJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpLHZvaWQgMCwkLmV4dGVuZCh7fSxvcHRzLHt1bm1hc2tBc051bWJlcjohMH0pKTtpZihudWxsIT09b3B0cy5taW4mJnVubWFza2VkPG9wdHMubWluKXJldHVybntyZWZyZXNoRnJvbUJ1ZmZlcjohMCxidWZmZXI6YWxpZ25EaWdpdHMob3B0cy5taW4udG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLG9wdHMucmFkaXhQb2ludCkuc3BsaXQoXCJcIiksb3B0cy5kaWdpdHMsb3B0cykucmV2ZXJzZSgpfX1pZihidWZmZXJbYnVmZmVyLmxlbmd0aC0xXT09PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpe3ZhciBubWJyTXRjaHM9bmV3IFJlZ0V4cChcIiheXCIrKFwiXCIhPW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQ/KDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpK1wiP1wiOlwiXCIpKygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLnByZWZpeCkrXCIpKC4qKShcIisoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5zdWZmaXgpKyhcIlwiIT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2s/KDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykrXCI/XCI6XCJcIikrXCIkKVwiKS5leGVjKHN0cmlwQnVmZmVyKGJ1ZmZlci5zbGljZSgpLCEwKS5yZXZlcnNlKCkuam9pbihcIlwiKSksbnVtYmVyPW5tYnJNdGNocz9ubWJyTXRjaHNbMl06XCJcIjswPT1udW1iZXImJihyZXN1bHQ9e3JlZnJlc2hGcm9tQnVmZmVyOiEwLGJ1ZmZlcjpbMF19KX1lbHNlXCJcIiE9PW9wdHMucmFkaXhQb2ludCYmYnVmZmVyWzBdPT09b3B0cy5yYWRpeFBvaW50JiYocmVzdWx0JiZyZXN1bHQuYnVmZmVyP3Jlc3VsdC5idWZmZXIuc2hpZnQoKTooYnVmZmVyLnNoaWZ0KCkscmVzdWx0PXtyZWZyZXNoRnJvbUJ1ZmZlcjohMCxidWZmZXI6c3RyaXBCdWZmZXIoYnVmZmVyKX0pKTtpZihvcHRzLmVuZm9yY2VEaWdpdHNPbkJsdXIpe3Jlc3VsdD1yZXN1bHR8fHt9O3ZhciBiZmZyPXJlc3VsdCYmcmVzdWx0LmJ1ZmZlcnx8YnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpO3Jlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcj0hMCxyZXN1bHQuYnVmZmVyPWFsaWduRGlnaXRzKGJmZnIsb3B0cy5kaWdpdHMsb3B0cywhMCkucmV2ZXJzZSgpfX1yZXR1cm4gcmVzdWx0fSxvbktleURvd246ZnVuY3Rpb24gb25LZXlEb3duKGUsYnVmZmVyLGNhcmV0UG9zLG9wdHMpe3ZhciAkaW5wdXQ9JCh0aGlzKSxiZmZyO2lmKGUuY3RybEtleSlzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIF9rZXljb2RlLmRlZmF1bHQuVVA6cmV0dXJuIHRoaXMuaW5wdXRtYXNrLl9fdmFsdWVTZXQuY2FsbCh0aGlzLHBhcnNlRmxvYXQodGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpKStwYXJzZUludChvcHRzLnN0ZXApKSwkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlXCIpLCExO2Nhc2UgX2tleWNvZGUuZGVmYXVsdC5ET1dOOnJldHVybiB0aGlzLmlucHV0bWFzay5fX3ZhbHVlU2V0LmNhbGwodGhpcyxwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSktcGFyc2VJbnQob3B0cy5zdGVwKSksJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiKSwhMX1pZighZS5zaGlmdEtleSYmKGUua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFfHxlLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRXx8ZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0VfU0FGQVJJKSYmY2FyZXRQb3MuYmVnaW4hPT1idWZmZXIubGVuZ3RoKXtpZihidWZmZXJbZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEU/Y2FyZXRQb3MuYmVnaW4tMTpjYXJldFBvcy5lbmRdPT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udClyZXR1cm4gYmZmcj1idWZmZXIuc2xpY2UoKS5yZXZlcnNlKCksXCJcIiE9PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQmJmJmZnIuc2hpZnQoKSxcIlwiIT09b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrJiZiZmZyLnBvcCgpLCRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIixbYmZmci5qb2luKFwiXCIpLGNhcmV0UG9zLmJlZ2luXSksITE7aWYoITA9PT1vcHRzLl9yYWRpeERhbmNlKXt2YXIgcmFkaXhQb3M9YnVmZmVyLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KTtpZihvcHRzLmRpZ2l0c09wdGlvbmFsKXtpZigwPT09cmFkaXhQb3MpcmV0dXJuIGJmZnI9YnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLGJmZnIucG9wKCksJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiLFtiZmZyLmpvaW4oXCJcIiksY2FyZXRQb3MuYmVnaW4+PWJmZnIubGVuZ3RoP2JmZnIubGVuZ3RoOmNhcmV0UG9zLmJlZ2luXSksITF9ZWxzZSBpZigtMSE9PXJhZGl4UG9zJiYoY2FyZXRQb3MuYmVnaW48cmFkaXhQb3N8fGNhcmV0UG9zLmVuZDxyYWRpeFBvc3x8ZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEUmJmNhcmV0UG9zLmJlZ2luPT09cmFkaXhQb3MpKXJldHVybiBjYXJldFBvcy5iZWdpbiE9PWNhcmV0UG9zLmVuZHx8ZS5rZXlDb2RlIT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0UmJmUua2V5Q29kZSE9PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFX1NBRkFSSXx8Y2FyZXRQb3MuYmVnaW4rKyxiZmZyPWJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKSxiZmZyLnNwbGljZShiZmZyLmxlbmd0aC1jYXJldFBvcy5iZWdpbixjYXJldFBvcy5iZWdpbi1jYXJldFBvcy5lbmQrMSksYmZmcj1hbGlnbkRpZ2l0cyhiZmZyLG9wdHMuZGlnaXRzLG9wdHMpLmpvaW4oXCJcIiksJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiLFtiZmZyLGNhcmV0UG9zLmJlZ2luPj1iZmZyLmxlbmd0aD9yYWRpeFBvcysxOmNhcmV0UG9zLmJlZ2luXSksITF9fX19LGN1cnJlbmN5OntwcmVmaXg6XCJcIixncm91cFNlcGFyYXRvcjpcIixcIixhbGlhczpcIm51bWVyaWNcIixkaWdpdHM6MixkaWdpdHNPcHRpb25hbDohMX0sZGVjaW1hbDp7YWxpYXM6XCJudW1lcmljXCJ9LGludGVnZXI6e2FsaWFzOlwibnVtZXJpY1wiLGRpZ2l0czowfSxwZXJjZW50YWdlOnthbGlhczpcIm51bWVyaWNcIixtaW46MCxtYXg6MTAwLHN1ZmZpeDpcIiAlXCIsZGlnaXRzOjAsYWxsb3dNaW51czohMX0saW5kaWFubnM6e2FsaWFzOlwibnVtZXJpY1wiLF9tYXNrOmZ1bmN0aW9uIF9tYXNrKG9wdHMpe3JldHVyblwiKFwiK29wdHMuZ3JvdXBTZXBhcmF0b3IrXCI5OSl7KnwxfShcIitvcHRzLmdyb3VwU2VwYXJhdG9yK1wiOTk5KXsxfDF9XCJ9LGdyb3VwU2VwYXJhdG9yOlwiLFwiLHJhZGl4UG9pbnQ6XCIuXCIscGxhY2Vob2xkZXI6XCIwXCIsZGlnaXRzOjIsZGlnaXRzT3B0aW9uYWw6ITF9fSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfd2luZG93PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1KSksX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMikpLF9jYW5Vc2VET009X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKTtmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX3R5cGVvZihvYmopfWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpfWZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKXt2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdD1faXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7cmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCl7dmFyIFN1cGVyPV9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSxyZXN1bHQ7aWYoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCl7dmFyIE5ld1RhcmdldD1fZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7cmVzdWx0PVJlZmxlY3QuY29uc3RydWN0KFN1cGVyLGFyZ3VtZW50cyxOZXdUYXJnZXQpfWVsc2UgcmVzdWx0PVN1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcyxyZXN1bHQpfX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT09X3R5cGVvZihjYWxsKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9fYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOmNhbGx9ZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKXtpZih2b2lkIDA9PT1zZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gc2VsZn1mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKXt2YXIgX2NhY2hlPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4gX3dyYXBOYXRpdmVTdXBlcj1mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKXtpZihudWxsPT09Q2xhc3N8fCFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpcmV0dXJuIENsYXNzO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIENsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgX2NhY2hlKXtpZihfY2FjaGUuaGFzKENsYXNzKSlyZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7X2NhY2hlLnNldChDbGFzcyxXcmFwcGVyKX1mdW5jdGlvbiBXcmFwcGVyKCl7cmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsYXJndW1lbnRzLF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIFdyYXBwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6V3JhcHBlcixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxfc2V0UHJvdG90eXBlT2YoV3JhcHBlcixDbGFzcyl9LF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpfWZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LGFyZ3MsQ2xhc3Mpe3JldHVybiBfY29uc3RydWN0PV9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKT9SZWZsZWN0LmNvbnN0cnVjdDpmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCxhcmdzLENsYXNzKXt2YXIgYT1bbnVsbF07YS5wdXNoLmFwcGx5KGEsYXJncyk7dmFyIENvbnN0cnVjdG9yPUZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LGEpLGluc3RhbmNlPW5ldyBDb25zdHJ1Y3RvcjtyZXR1cm4gQ2xhc3MmJl9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSxDbGFzcy5wcm90b3R5cGUpLGluc3RhbmNlfSxfY29uc3RydWN0LmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLGZ1bmN0aW9uKCl7fSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbil7cmV0dXJuLTEhPT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKX1mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobyxwKXtyZXR1cm4gX3NldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8scCl7cmV0dXJuIG8uX19wcm90b19fPXAsb30sX3NldFByb3RvdHlwZU9mKG8scCl9ZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pe3JldHVybiBfZ2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobyl7cmV0dXJuIG8uX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyl9LF9nZXRQcm90b3R5cGVPZihvKX1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIGRvY3VtZW50PV93aW5kb3cuZGVmYXVsdC5kb2N1bWVudDtpZihfY2FuVXNlRE9NLmRlZmF1bHQmJmRvY3VtZW50JiZkb2N1bWVudC5oZWFkJiZkb2N1bWVudC5oZWFkLmF0dGFjaFNoYWRvdyYmX3dpbmRvdy5kZWZhdWx0LmN1c3RvbUVsZW1lbnRzJiZ2b2lkIDA9PT1fd2luZG93LmRlZmF1bHQuY3VzdG9tRWxlbWVudHMuZ2V0KFwiaW5wdXQtbWFza1wiKSl7dmFyIElucHV0bWFza0VsZW1lbnQ9ZnVuY3Rpb24oX0hUTUxFbGVtZW50KXtfaW5oZXJpdHMoSW5wdXRtYXNrRWxlbWVudCxfSFRNTEVsZW1lbnQpO3ZhciBfc3VwZXI9X2NyZWF0ZVN1cGVyKElucHV0bWFza0VsZW1lbnQpO2Z1bmN0aW9uIElucHV0bWFza0VsZW1lbnQoKXt2YXIgX3RoaXM7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSW5wdXRtYXNrRWxlbWVudCksX3RoaXM9X3N1cGVyLmNhbGwodGhpcyk7dmFyIGF0dHJpYnV0ZU5hbWVzPV90aGlzLmdldEF0dHJpYnV0ZU5hbWVzKCksc2hhZG93PV90aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTpcImNsb3NlZFwifSksaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Zvcih2YXIgYXR0ciBpbiBpbnB1dC50eXBlPVwidGV4dFwiLHNoYWRvdy5hcHBlbmRDaGlsZChpbnB1dCksYXR0cmlidXRlTmFtZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJpYnV0ZU5hbWVzLGF0dHIpJiZpbnB1dC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZXNbYXR0cl0sX3RoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWVzW2F0dHJdKSk7dmFyIGltPW5ldyBfaW5wdXRtYXNrLmRlZmF1bHQ7cmV0dXJuIGltLmRhdGFBdHRyaWJ1dGU9XCJcIixpbS5tYXNrKGlucHV0KSxpbnB1dC5pbnB1dG1hc2suc2hhZG93Um9vdD1zaGFkb3csX3RoaXN9cmV0dXJuIElucHV0bWFza0VsZW1lbnR9KF93cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKTtfd2luZG93LmRlZmF1bHQuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiaW5wdXQtbWFza1wiLElucHV0bWFza0VsZW1lbnQpfX1dLGluc3RhbGxlZE1vZHVsZXM9e30sX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5yPWZ1bmN0aW9uKGV4cG9ydHMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LF9fd2VicGFja19yZXF1aXJlX18udD1mdW5jdGlvbih2YWx1ZSxtb2RlKXtpZigxJm1vZGUmJih2YWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKSksOCZtb2RlKXJldHVybiB2YWx1ZTtpZig0Jm1vZGUmJlwib2JqZWN0XCI9PXR5cGVvZiB2YWx1ZSYmdmFsdWUmJnZhbHVlLl9fZXNNb2R1bGUpcmV0dXJuIHZhbHVlO3ZhciBucz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKF9fd2VicGFja19yZXF1aXJlX18ucihucyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnZhbHVlfSksMiZtb2RlJiZcInN0cmluZ1wiIT10eXBlb2YgdmFsdWUpZm9yKHZhciBrZXkgaW4gdmFsdWUpX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLGtleSxmdW5jdGlvbihrZXkpe3JldHVybiB2YWx1ZVtrZXldfS5iaW5kKG51bGwsa2V5KSk7cmV0dXJuIG5zfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpe3JldHVybiBtb2R1bGUuZGVmYXVsdH06ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTE0KTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXZhciBtb2R1bGVzLGluc3RhbGxlZE1vZHVsZXN9KTsiLCIvKiEganMtY29va2llIHYzLjAuMC1yYy4xIHwgTUlUICovXG4hZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTooZT1lfHxzZWxmLGZ1bmN0aW9uKCl7dmFyIG49ZS5Db29raWVzLHI9ZS5Db29raWVzPXQoKTtyLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZS5Db29raWVzPW4scn19KCkpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pZVtyXT1uW3JdfXJldHVybiBlfXZhciB0PXtyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyglW1xcZEEtRl17Mn0pKy9naSxkZWNvZGVVUklDb21wb25lbnQpfSx3cml0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyUoMlszNDZCRl18M1tBQy1GXXw0MHw1W0JERV18NjB8N1tCQ0RdKS9nLGRlY29kZVVSSUNvbXBvbmVudCl9fTtyZXR1cm4gZnVuY3Rpb24gbihyLG8pe2Z1bmN0aW9uIGkodCxuLGkpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCl7XCJudW1iZXJcIj09dHlwZW9mKGk9ZSh7fSxvLGkpKS5leHBpcmVzJiYoaS5leHBpcmVzPW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqaS5leHBpcmVzKSksaS5leHBpcmVzJiYoaS5leHBpcmVzPWkuZXhwaXJlcy50b1VUQ1N0cmluZygpKSx0PWVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8lKDJbMzQ2Ql18NUV8NjB8N0MpL2csZGVjb2RlVVJJQ29tcG9uZW50KS5yZXBsYWNlKC9bKCldL2csZXNjYXBlKSxuPXIud3JpdGUobix0KTt2YXIgYz1cIlwiO2Zvcih2YXIgdSBpbiBpKWlbdV0mJihjKz1cIjsgXCIrdSwhMCE9PWlbdV0mJihjKz1cIj1cIitpW3VdLnNwbGl0KFwiO1wiKVswXSkpO3JldHVybiBkb2N1bWVudC5jb29raWU9dCtcIj1cIituK2N9fXJldHVybiBPYmplY3QuY3JlYXRlKHtzZXQ6aSxnZXQ6ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiYoIWFyZ3VtZW50cy5sZW5ndGh8fGUpKXtmb3IodmFyIG49ZG9jdW1lbnQuY29va2llP2RvY3VtZW50LmNvb2tpZS5zcGxpdChcIjsgXCIpOltdLG89e30saT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgYz1uW2ldLnNwbGl0KFwiPVwiKSx1PWMuc2xpY2UoMSkuam9pbihcIj1cIik7J1wiJz09PXVbMF0mJih1PXUuc2xpY2UoMSwtMSkpO3RyeXt2YXIgZj10LnJlYWQoY1swXSk7aWYob1tmXT1yLnJlYWQodSxmKSxlPT09ZilicmVha31jYXRjaChlKXt9fXJldHVybiBlP29bZV06b319LHJlbW92ZTpmdW5jdGlvbih0LG4pe2kodCxcIlwiLGUoe30sbix7ZXhwaXJlczotMX0pKX0sd2l0aEF0dHJpYnV0ZXM6ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcy5jb252ZXJ0ZXIsZSh7fSx0aGlzLmF0dHJpYnV0ZXMsdCkpfSx3aXRoQ29udmVydGVyOmZ1bmN0aW9uKHQpe3JldHVybiBuKGUoe30sdGhpcy5jb252ZXJ0ZXIsdCksdGhpcy5hdHRyaWJ1dGVzKX19LHthdHRyaWJ1dGVzOnt2YWx1ZTpPYmplY3QuZnJlZXplKG8pfSxjb252ZXJ0ZXI6e3ZhbHVlOk9iamVjdC5mcmVlemUocil9fSl9KHQse3BhdGg6XCIvXCJ9KX0pO1xuIiwiLypcbiAwQlNEXG4qL1xuKGZ1bmN0aW9uKEYseSl7XCJmdW5jdGlvblwiPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoeSk6XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXkoKTpGLnBpY2ttZXVwPXkoKX0pKHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBGKGEsYyxiKXtiPWJ8fFtdO2lmKGEgaW5zdGFuY2VvZiBFbGVtZW50KWMuYXBwbHkoYyxbYV0uY29uY2F0KGIpKTtlbHNle3ZhciBkO3ZhciBlPWEubGVuZ3RoO2ZvcihkPTA7ZDxlOysrZCljLmFwcGx5KGMsW2FbZF1dLmNvbmNhdChiKSl9fWZ1bmN0aW9uIHkoYSl7RihhLGZ1bmN0aW9uKGEpe2EucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChhKX0pfWZ1bmN0aW9uIEooYSxjKXtkbyBhPWEucGFyZW50RWxlbWVudDt3aGlsZShhJiYhQihhLGMpKTtyZXR1cm4gYX1mdW5jdGlvbiBCKGEsYyl7cmV0dXJuKGEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpLmNhbGwoYSxcbmMpfWZ1bmN0aW9uIGsoYSxjKXtyZXR1cm4gYSYmYS5jbGFzc0xpc3QuY29udGFpbnMoYyl9ZnVuY3Rpb24gbChhLGMpe2EuY2xhc3NMaXN0LmFkZChjKX1mdW5jdGlvbiBxKGEsYyxiLGQpe2lmKC0xIT09Yi5pbmRleE9mKFwiIFwiKSl7Yj1iLnNwbGl0KFwiIFwiKTt2YXIgZT1iLmxlbmd0aCxoO2ZvcihoPTA7aDxlOysraClxKGEsYyxiW2hdLGQpfWVsc2UgYS5fX3BpY2ttZXVwLmV2ZW50cy5wdXNoKFtjLGIsZF0pLGMuYWRkRXZlbnRMaXN0ZW5lcihiLGQpfWZ1bmN0aW9uIHooYSxjLGIsZCl7dmFyIGU7aWYoYiYmLTEhPT1iLmluZGV4T2YoXCIgXCIpKXt2YXIgaD1iLnNwbGl0KFwiIFwiKTt2YXIgbD1oLmxlbmd0aDtmb3IoZT0wO2U8bDsrK2UpeihhLGMsaFtlXSxkKX1lbHNlIGZvcihoPWEuX19waWNrbWV1cC5ldmVudHMsbD1oLmxlbmd0aCxlPTA7ZTxsOysrZSljJiZjIT09aFtlXVswXXx8YiYmYiE9PWhbZV1bMV18fGQmJmQhPT1oW2VdWzJdfHxoW2VdWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoaFtlXVsxXSxcbmhbZV1bMl0pfWZ1bmN0aW9uIE0oYSl7YT1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt0b3A6YS50b3Ard2luZG93LnBhZ2VZT2Zmc2V0LWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AsbGVmdDphLmxlZnQrd2luZG93LnBhZ2VYT2Zmc2V0LWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0fX1mdW5jdGlvbiBDKGEsYyxiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO2ImJihkLmRldGFpbD1iKTtkLmluaXRFdmVudChcInBpY2ttZXVwLVwiK2MsITEsITApO3JldHVybiBhLmRpc3BhdGNoRXZlbnQoZCl9ZnVuY3Rpb24gSyhhKXthPW5ldyBEYXRlKGEpO2Zvcih2YXIgYz0yOCxiPWEuZ2V0TW9udGgoKTthLmdldE1vbnRoKCk9PT1iOykrK2MsYS5zZXREYXRlKGMpO3JldHVybiBjLTF9ZnVuY3Rpb24gQShhLGMpe2Euc2V0RGF0ZShhLmdldERhdGUoKStjKX1mdW5jdGlvbiBwKGEsYyl7dmFyIGI9YS5nZXREYXRlKCk7YS5zZXREYXRlKDEpO1xuYS5zZXRNb250aChhLmdldE1vbnRoKCkrYyk7YS5zZXREYXRlKE1hdGgubWluKGIsSyhhKSkpfWZ1bmN0aW9uIHUoYSxjKXt2YXIgYj1hLmdldERhdGUoKTthLnNldERhdGUoMSk7YS5zZXRGdWxsWWVhcihhLmdldEZ1bGxZZWFyKCkrYyk7YS5zZXREYXRlKE1hdGgubWluKGIsSyhhKSkpfWZ1bmN0aW9uIE4oYSl7dmFyIGM9YS5fX3BpY2ttZXVwLmVsZW1lbnQsYj1hLl9fcGlja21ldXAub3B0aW9ucyxkPU1hdGguZmxvb3IoYi5jYWxlbmRhcnMvMiksZT1iLmRhdGUsaD1iLmN1cnJlbnQsbT1iLm1pbj9uZXcgRGF0ZShiLm1pbik6bnVsbCx2PWIubWF4P25ldyBEYXRlKGIubWF4KTpudWxsO20mJihtLnNldERhdGUoMSkscChtLDEpLEEobSwtMSkpO3YmJih2LnNldERhdGUoMSkscCh2LDEpLEEodiwtMSkpO3koQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYy5xdWVyeVNlbGVjdG9yQWxsKFwiLnBtdS1pbnN0YW5jZSA+IDpub3QobmF2KVwiKSkpO2Zvcih2YXIgdz0wO3c8Yi5jYWxlbmRhcnM7dysrKXt2YXIgZj1cbm5ldyBEYXRlKGgpO3goZik7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYy5xdWVyeVNlbGVjdG9yQWxsKFwiLnBtdS1pbnN0YW5jZVwiKSlbd107aWYoayhjLFwicG11LXZpZXcteWVhcnNcIikpe3UoZiwxMioody1kKSk7dmFyIEc9Zi5nZXRGdWxsWWVhcigpLTYrXCIgLSBcIisoZi5nZXRGdWxsWWVhcigpKzUpfWVsc2UgayhjLFwicG11LXZpZXctbW9udGhzXCIpPyh1KGYsdy1kKSxHPWYuZ2V0RnVsbFllYXIoKSk6ayhjLFwicG11LXZpZXctZGF5c1wiKSYmKHAoZix3LWQpLEc9XCJmdW5jdGlvblwiPT09dHlwZW9mIGIudGl0bGVfZm9ybWF0P2IudGl0bGVfZm9ybWF0KGYsYi5sb2NhbGVzW2IubG9jYWxlXSk6RChmLGIudGl0bGVfZm9ybWF0LGIubG9jYWxlc1tiLmxvY2FsZV0pKTtpZighciYmdil7dmFyIHI9bmV3IERhdGUoZik7Yi5zZWxlY3RfZGF5P3AocixiLmNhbGVuZGFycy0xKTpiLnNlbGVjdF9tb250aD91KHIsYi5jYWxlbmRhcnMtMSk6dShyLDEyKihiLmNhbGVuZGFycy0xKSk7XG5pZihyPnYpey0tdztwKGgsLTEpO3I9dm9pZCAwO2NvbnRpbnVlfX1yPW5ldyBEYXRlKGYpO2lmKCFnKXt2YXIgZz1uZXcgRGF0ZShmKTtnLnNldERhdGUoMSk7cChnLDEpO0EoZywtMSk7aWYobSYmbT5nKXstLXc7cChoLDEpO2c9dm9pZCAwO2NvbnRpbnVlfX1uLnF1ZXJ5U2VsZWN0b3IoXCIucG11LW1vbnRoXCIpLmlubmVySFRNTD1HO3ZhciBxPWZ1bmN0aW9uKGEpe3JldHVyblwicmFuZ2VcIj09PWIubW9kZSYmYT49KG5ldyBEYXRlKGVbMF0pKS5nZXRGdWxsWWVhcigpJiZhPD0obmV3IERhdGUoZVsxXSkpLmdldEZ1bGxZZWFyKCl8fFwibXVsdGlwbGVcIj09PWIubW9kZSYmLTEhPT1lLnJlZHVjZShmdW5jdGlvbihhLGIpe2EucHVzaCgobmV3IERhdGUoYikpLmdldEZ1bGxZZWFyKCkpO3JldHVybiBhfSxbXSkuaW5kZXhPZihhKXx8KG5ldyBEYXRlKGUpKS5nZXRGdWxsWWVhcigpPT09YX0sdD1mdW5jdGlvbihhLGMpe3ZhciBkPShuZXcgRGF0ZShlWzBdKSkuZ2V0RnVsbFllYXIoKSxmPShuZXcgRGF0ZShlWzFdKSkuZ2V0RnVsbFllYXIoKSxcbmg9KG5ldyBEYXRlKGVbMF0pKS5nZXRNb250aCgpLGc9KG5ldyBEYXRlKGVbMV0pKS5nZXRNb250aCgpO3JldHVyblwicmFuZ2VcIj09PWIubW9kZSYmKGE+ZCYmYTxmfHxhPmQmJmE9PT1mJiZjPD1nfHxhPT09ZCYmYTxmJiZjPj1ofHxhPT09ZCYmYT09PWYmJmM+PWgmJmM8PWcpfHxcIm11bHRpcGxlXCI9PT1iLm1vZGUmJi0xIT09ZS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtiPW5ldyBEYXRlKGIpO2EucHVzaChiLmdldEZ1bGxZZWFyKCkrXCItXCIrYi5nZXRNb250aCgpKTtyZXR1cm4gYX0sW10pLmluZGV4T2YoYStcIi1cIitjKXx8KG5ldyBEYXRlKGUpKS5nZXRGdWxsWWVhcigpPT09YSYmKG5ldyBEYXRlKGUpKS5nZXRNb250aCgpPT09Y307KGZ1bmN0aW9uKCl7dmFyIGE9W10sYz1mLmdldEZ1bGxZZWFyKCktNixkPShuZXcgRGF0ZShiLm1pbikpLmdldEZ1bGxZZWFyKCksZT0obmV3IERhdGUoYi5tYXgpKS5nZXRGdWxsWWVhcigpLGg7Zm9yKGg9MDsxMj5oOysraCl7dmFyIGc9YytoO3ZhciBtPVxuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTttLnRleHRDb250ZW50PWc7bS5fX3BpY2ttZXVwX3llYXI9ZztiLm1pbiYmZzxkfHxiLm1heCYmZz5lP2wobSxcInBtdS1kaXNhYmxlZFwiKTpxKGcpJiZsKG0sXCJwbXUtc2VsZWN0ZWRcIik7YS5wdXNoKG0pfW4uYXBwZW5kQ2hpbGQoYi5pbnN0YW5jZV9jb250ZW50X3RlbXBsYXRlKGEsXCJwbXUteWVhcnNcIikpfSkoKTsoZnVuY3Rpb24oKXt2YXIgYT1bXSxjPWYuZ2V0RnVsbFllYXIoKSxkPShuZXcgRGF0ZShiLm1pbikpLmdldEZ1bGxZZWFyKCksZT0obmV3IERhdGUoYi5taW4pKS5nZXRNb250aCgpLGc9KG5ldyBEYXRlKGIubWF4KSkuZ2V0RnVsbFllYXIoKSxoPShuZXcgRGF0ZShiLm1heCkpLmdldE1vbnRoKCksbTtmb3IobT0wOzEyPm07KyttKXt2YXIgaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2sudGV4dENvbnRlbnQ9Yi5sb2NhbGVzW2IubG9jYWxlXS5tb250aHNTaG9ydFttXTtrLl9fcGlja21ldXBfbW9udGg9bTtcbmsuX19waWNrbWV1cF95ZWFyPWM7Yi5taW4mJihjPGR8fG08ZSYmYz09PWQpfHxiLm1heCYmKGM+Z3x8bT5oJiZjPj1nKT9sKGssXCJwbXUtZGlzYWJsZWRcIik6dChjLG0pJiZsKGssXCJwbXUtc2VsZWN0ZWRcIik7YS5wdXNoKGspfW4uYXBwZW5kQ2hpbGQoYi5pbnN0YW5jZV9jb250ZW50X3RlbXBsYXRlKGEsXCJwbXUtbW9udGhzXCIpKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9W10sYz1mLmdldE1vbnRoKCksZD14KG5ldyBEYXRlKS52YWx1ZU9mKCksZTsoZnVuY3Rpb24oKXtmLnNldERhdGUoMSk7dmFyIGE9KGYuZ2V0RGF5KCktYi5maXJzdF9kYXkpJTc7QShmLC0oYSsoMD5hPzc6MCkpKX0pKCk7Zm9yKGU9MDs0Mj5lOysrZSl7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtnLnRleHRDb250ZW50PWYuZ2V0RGF0ZSgpO2cuX19waWNrbWV1cF9kYXk9Zi5nZXREYXRlKCk7Zy5fX3BpY2ttZXVwX21vbnRoPWYuZ2V0TW9udGgoKTtnLl9fcGlja21ldXBfeWVhcj1mLmdldEZ1bGxZZWFyKCk7XG5jIT09Zi5nZXRNb250aCgpJiZsKGcsXCJwbXUtbm90LWluLW1vbnRoXCIpOzA9PT1mLmdldERheSgpP2woZyxcInBtdS1zdW5kYXlcIik6Nj09PWYuZ2V0RGF5KCkmJmwoZyxcInBtdS1zYXR1cmRheVwiKTt2YXIgaD1iLnJlbmRlcihuZXcgRGF0ZShmKSl8fHt9O3ZhciBtPXgobmV3IERhdGUoZikpLnZhbHVlT2YoKTt2YXIgaz1iLm1pbiYmYi5taW4+Znx8Yi5tYXgmJmIubWF4PGY7dmFyIHY9Yi5kYXRlLnZhbHVlT2YoKT09PW18fGIuZGF0ZSBpbnN0YW5jZW9mIEFycmF5JiZiLmRhdGUucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGF8fG09PT1iLnZhbHVlT2YoKX0sITEpfHxcInJhbmdlXCI9PT1iLm1vZGUmJm0+PWIuZGF0ZVswXSYmbTw9Yi5kYXRlWzFdO2guZGlzYWJsZWR8fCEoXCJkaXNhYmxlZFwiaW4gaCkmJms/bChnLFwicG11LWRpc2FibGVkXCIpOihoLnNlbGVjdGVkfHwhKFwic2VsZWN0ZWRcImluIGgpJiZ2KSYmbChnLFwicG11LXNlbGVjdGVkXCIpO209PT1kJiZsKGcsXCJwbXUtdG9kYXlcIik7XG5oLmNsYXNzX25hbWUmJmguY2xhc3NfbmFtZS5zcGxpdChcIiBcIikuZm9yRWFjaChsLmJpbmQoZyxnKSk7YS5wdXNoKGcpO0EoZiwxKX1uLmFwcGVuZENoaWxkKGIuaW5zdGFuY2VfY29udGVudF90ZW1wbGF0ZShhLFwicG11LWRheXNcIikpfSkoKX1nLnNldERhdGUoMSk7ci5zZXREYXRlKDEpO3AociwxKTtBKHIsLTEpO2Q9Yy5xdWVyeVNlbGVjdG9yKFwiLnBtdS1wcmV2XCIpO2M9Yy5xdWVyeVNlbGVjdG9yKFwiLnBtdS1uZXh0XCIpO2QmJihkLnN0eWxlLnZpc2liaWxpdHk9Yi5taW4mJmIubWluPj1nP1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCIpO2MmJihjLnN0eWxlLnZpc2liaWxpdHk9Yi5tYXgmJmIubWF4PD1yP1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCIpO0MoYSxcImZpbGxcIil9ZnVuY3Rpb24gdChhLGMpe3ZhciBiPWMuZm9ybWF0LGQ9Yy5zZXBhcmF0b3IsZT1jLmxvY2FsZXNbYy5sb2NhbGVdO2lmKGEgaW5zdGFuY2VvZiBEYXRlfHxcIm51bWJlclwiPT09dHlwZW9mIGEpcmV0dXJuIHgobmV3IERhdGUoYSkpO1xuaWYoIWEpcmV0dXJuIHgobmV3IERhdGUpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7YT1hLnNsaWNlKCk7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYilhW2JdPXQoYVtiXSxjKTtyZXR1cm4gYX1kPWEuc3BsaXQoZCk7aWYoMTxkLmxlbmd0aClyZXR1cm4gZC5mb3JFYWNoKGZ1bmN0aW9uKGEsYixkKXtkW2JdPXQoYS50cmltKCksYyl9KSxkO2Q9W10uY29uY2F0KGUuZGF5c1Nob3J0LGUuZGF5c01pbixlLmRheXMsZS5tb250aHNTaG9ydCxlLm1vbnRocyk7ZD1kLm1hcChmdW5jdGlvbihhKXtyZXR1cm5cIihcIithK1wiKVwifSk7ZD1uZXcgUmVnRXhwKFwiW14wLTlhLXpBLVpcIitkLmpvaW4oXCJcIikrXCJdK1wiKTthPWEuc3BsaXQoZCk7ZD1iLnNwbGl0KGQpO3ZhciBoPW5ldyBEYXRlO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspc3dpdGNoKGRbYl0pe2Nhc2UgXCJiXCI6dmFyIG09ZS5tb250aHNTaG9ydC5pbmRleE9mKGFbYl0pO2JyZWFrO2Nhc2UgXCJCXCI6bT1lLm1vbnRocy5pbmRleE9mKGFbYl0pO2JyZWFrO1xuY2FzZSBcImRcIjpjYXNlIFwiZVwiOnZhciBsPXBhcnNlSW50KGFbYl0sMTApO2JyZWFrO2Nhc2UgXCJtXCI6bT1wYXJzZUludChhW2JdLDEwKS0xO2JyZWFrO2Nhc2UgXCJZXCI6Y2FzZSBcInlcIjp2YXIgaz1wYXJzZUludChhW2JdLDEwKTtrKz0xMDA8az8wOjI5Pms/MkUzOjE5MDA7YnJlYWs7Y2FzZSBcIkhcIjpjYXNlIFwiSVwiOmNhc2UgXCJrXCI6Y2FzZSBcImxcIjp2YXIgZj1wYXJzZUludChhW2JdLDEwKTticmVhaztjYXNlIFwiUFwiOmNhc2UgXCJwXCI6L3BtL2kudGVzdChhW2JdKSYmMTI+Zj9mKz0xMjovYW0vaS50ZXN0KGFbYl0pJiYxMjw9ZiYmKGYtPTEyKTticmVhaztjYXNlIFwiTVwiOnZhciBuPXBhcnNlSW50KGFbYl0sMTApfWU9bmV3IERhdGUodm9pZCAwPT09az9oLmdldEZ1bGxZZWFyKCk6ayx2b2lkIDA9PT1tP2guZ2V0TW9udGgoKTptLHZvaWQgMD09PWw/aC5nZXREYXRlKCk6bCx2b2lkIDA9PT1mP2guZ2V0SG91cnMoKTpmLHZvaWQgMD09PW4/aC5nZXRNaW51dGVzKCk6biwwKTtpc05hTigxKmUpJiZcbihlPW5ldyBEYXRlKTtyZXR1cm4geChlKX1mdW5jdGlvbiB4KGEpe2Euc2V0SG91cnMoMCwwLDAsMCk7cmV0dXJuIGF9ZnVuY3Rpb24gRChhLGMsYil7dmFyIGQ9YS5nZXRNb250aCgpLGU9YS5nZXREYXRlKCksaD1hLmdldEZ1bGxZZWFyKCksbT1hLmdldERheSgpLGs9YS5nZXRIb3VycygpLGw9MTI8PWssZj1sP2stMTI6azt2YXIgbj1uZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksYS5nZXRNb250aCgpLGEuZ2V0RGF0ZSgpLDAsMCwwKTt2YXIgcD1uZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksMCwwLDAsMCwwKTtuPU1hdGguZmxvb3IoKG4tcCkvODY0RTUpOzA9PT1mJiYoZj0xMik7cD1hLmdldE1pbnV0ZXMoKTt2YXIgcj1hLmdldFNlY29uZHMoKTtjPWMuc3BsaXQoXCJcIik7Zm9yKHZhciBnLHE9MDtxPGMubGVuZ3RoO3ErKyl7Zz1jW3FdO3N3aXRjaChnKXtjYXNlIFwiYVwiOmc9Yi5kYXlzU2hvcnRbbV07YnJlYWs7Y2FzZSBcIkFcIjpnPWIuZGF5c1ttXTticmVhaztjYXNlIFwiYlwiOmc9Yi5tb250aHNTaG9ydFtkXTtcbmJyZWFrO2Nhc2UgXCJCXCI6Zz1iLm1vbnRoc1tkXTticmVhaztjYXNlIFwiQ1wiOmc9MStNYXRoLmZsb29yKGgvMTAwKTticmVhaztjYXNlIFwiZFwiOmc9MTA+ZT9cIjBcIitlOmU7YnJlYWs7Y2FzZSBcImVcIjpnPWU7YnJlYWs7Y2FzZSBcIkhcIjpnPTEwPms/XCIwXCIrazprO2JyZWFrO2Nhc2UgXCJJXCI6Zz0xMD5mP1wiMFwiK2Y6ZjticmVhaztjYXNlIFwialwiOmc9MTAwPm4/MTA+bj9cIjAwXCIrbjpcIjBcIituOm47YnJlYWs7Y2FzZSBcImtcIjpnPWs7YnJlYWs7Y2FzZSBcImxcIjpnPWY7YnJlYWs7Y2FzZSBcIm1cIjpnPTk+ZD9cIjBcIisoMStkKToxK2Q7YnJlYWs7Y2FzZSBcIk1cIjpnPTEwPnA/XCIwXCIrcDpwO2JyZWFrO2Nhc2UgXCJwXCI6Y2FzZSBcIlBcIjpnPWw/XCJQTVwiOlwiQU1cIjticmVhaztjYXNlIFwic1wiOmc9TWF0aC5mbG9vcihhLmdldFRpbWUoKS8xRTMpO2JyZWFrO2Nhc2UgXCJTXCI6Zz0xMD5yP1wiMFwiK3I6cjticmVhaztjYXNlIFwidVwiOmc9bSsxO2JyZWFrO2Nhc2UgXCJ3XCI6Zz1tO2JyZWFrO2Nhc2UgXCJ5XCI6Zz0oXCJcIitoKS5zdWJzdHIoMixcbjIpO2JyZWFrO2Nhc2UgXCJZXCI6Zz1ofWNbcV09Z31yZXR1cm4gYy5qb2luKFwiXCIpfWZ1bmN0aW9uIE8oYSxjKXt2YXIgYj1hLl9fcGlja21ldXAub3B0aW9ucyxkO3goYyk7YTpzd2l0Y2goYi5tb2RlKXtjYXNlIFwibXVsdGlwbGVcIjp2YXIgZT1jLnZhbHVlT2YoKTtmb3IoZD0wO2Q8Yi5kYXRlLmxlbmd0aDsrK2QpaWYoYi5kYXRlW2RdLnZhbHVlT2YoKT09PWUpe2IuZGF0ZS5zcGxpY2UoZCwxKTticmVhayBhfWIuZGF0ZS5wdXNoKGMpO2JyZWFrO2Nhc2UgXCJyYW5nZVwiOmIubGFzdFNlbHx8KGIuZGF0ZVswXT1jKTtjPD1iLmRhdGVbMF0/KGIuZGF0ZVsxXT1iLmRhdGVbMF0sYi5kYXRlWzBdPWMpOmIuZGF0ZVsxXT1jO2IubGFzdFNlbD0hYi5sYXN0U2VsO2JyZWFrO2RlZmF1bHQ6Yi5kYXRlPWMudmFsdWVPZigpfWM9SChiKTtCKGEsXCJpbnB1dFwiKSYmKGEudmFsdWU9XCJzaW5nbGVcIj09PWIubW9kZT9jLmZvcm1hdHRlZF9kYXRlOmMuZm9ybWF0dGVkX2RhdGUuam9pbihiLnNlcGFyYXRvcikpO1xuQyhhLFwiY2hhbmdlXCIsYyk7Yi5mbGF0fHwhYi5oaWRlX29uX3NlbGVjdHx8XCJyYW5nZVwiPT09Yi5tb2RlJiZiLmxhc3RTZWx8fGIuYm91bmQuaGlkZSgpfWZ1bmN0aW9uIFAoYSxjKXt2YXIgYj1jLnRhcmdldDtrKGIsXCJwbXUtYnV0dG9uXCIpfHwoYj1KKGIsXCIucG11LWJ1dHRvblwiKSk7aWYoIWsoYixcInBtdS1idXR0b25cIil8fGsoYixcInBtdS1kaXNhYmxlZFwiKSlyZXR1cm4hMTtjLnByZXZlbnREZWZhdWx0KCk7Yy5zdG9wUHJvcGFnYXRpb24oKTthPWEuX19waWNrbWV1cC5vcHRpb25zO3ZhciBkPUooYixcIi5wbXUtaW5zdGFuY2VcIik7Yz1kLnBhcmVudEVsZW1lbnQ7ZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG11LWluc3RhbmNlXCIpKS5pbmRleE9mKGQpO0IoYi5wYXJlbnRFbGVtZW50LFwibmF2XCIpP2soYixcInBtdS1tb250aFwiKT8ocChhLmN1cnJlbnQsZC1NYXRoLmZsb29yKGEuY2FsZW5kYXJzLzIpKSxrKGMsXCJwbXUtdmlldy15ZWFyc1wiKT9cbihhLmN1cnJlbnQ9XCJzaW5nbGVcIiE9PWEubW9kZT9uZXcgRGF0ZShhLmRhdGVbYS5kYXRlLmxlbmd0aC0xXSk6bmV3IERhdGUoYS5kYXRlKSxhLnNlbGVjdF9kYXk/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LXllYXJzXCIpLGwoYyxcInBtdS12aWV3LWRheXNcIikpOmEuc2VsZWN0X21vbnRoJiYoYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXcteWVhcnNcIiksbChjLFwicG11LXZpZXctbW9udGhzXCIpKSk6ayhjLFwicG11LXZpZXctbW9udGhzXCIpP2Euc2VsZWN0X3llYXI/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LW1vbnRoc1wiKSxsKGMsXCJwbXUtdmlldy15ZWFyc1wiKSk6YS5zZWxlY3RfZGF5JiYoYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXctbW9udGhzXCIpLGwoYyxcInBtdS12aWV3LWRheXNcIikpOmsoYyxcInBtdS12aWV3LWRheXNcIikmJihhLnNlbGVjdF9tb250aD8oYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXctZGF5c1wiKSxsKGMsXCJwbXUtdmlldy1tb250aHNcIikpOlxuYS5zZWxlY3RfeWVhciYmKGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LWRheXNcIiksbChjLFwicG11LXZpZXcteWVhcnNcIikpKSk6ayhiLFwicG11LXByZXZcIik/YS5ib3VuZC5wcmV2KCExKTphLmJvdW5kLm5leHQoITEpOmsoYyxcInBtdS12aWV3LXllYXJzXCIpPyhhLmN1cnJlbnQuc2V0RnVsbFllYXIoYi5fX3BpY2ttZXVwX3llYXIpLGEuc2VsZWN0X21vbnRoPyhjLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtdmlldy15ZWFyc1wiKSxsKGMsXCJwbXUtdmlldy1tb250aHNcIikpOmEuc2VsZWN0X2RheT8oYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXcteWVhcnNcIiksbChjLFwicG11LXZpZXctZGF5c1wiKSk6YS5ib3VuZC51cGRhdGVfZGF0ZShhLmN1cnJlbnQpKTprKGMsXCJwbXUtdmlldy1tb250aHNcIik/KGEuY3VycmVudC5zZXRNb250aChiLl9fcGlja21ldXBfbW9udGgpLGEuY3VycmVudC5zZXRGdWxsWWVhcihiLl9fcGlja21ldXBfeWVhciksYS5zZWxlY3RfZGF5PyhjLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtdmlldy1tb250aHNcIiksXG5sKGMsXCJwbXUtdmlldy1kYXlzXCIpKTphLmJvdW5kLnVwZGF0ZV9kYXRlKGEuY3VycmVudCkscChhLmN1cnJlbnQsTWF0aC5mbG9vcihhLmNhbGVuZGFycy8yKS1kKSk6KGM9bmV3IERhdGUoYS5jdXJyZW50KSxjLnNldFllYXIoYi5fX3BpY2ttZXVwX3llYXIpLGMuc2V0TW9udGgoYi5fX3BpY2ttZXVwX21vbnRoKSxjLnNldERhdGUoYi5fX3BpY2ttZXVwX2RheSksYS5ib3VuZC51cGRhdGVfZGF0ZShjKSk7YS5ib3VuZC5maWxsKCk7cmV0dXJuITB9ZnVuY3Rpb24gSChhKXtpZihcInNpbmdsZVwiPT09YS5tb2RlKXt2YXIgYz1uZXcgRGF0ZShhLmRhdGUpO3JldHVybntmb3JtYXR0ZWRfZGF0ZTpEKGMsYS5mb3JtYXQsYS5sb2NhbGVzW2EubG9jYWxlXSksZGF0ZTpjfX1jPXtmb3JtYXR0ZWRfZGF0ZTpbXSxkYXRlOltdfTthLmRhdGUuZm9yRWFjaChmdW5jdGlvbihiKXtiPW5ldyBEYXRlKGIpO2MuZm9ybWF0dGVkX2RhdGUucHVzaChEKGIsYS5mb3JtYXQsYS5sb2NhbGVzW2EubG9jYWxlXSkpO1xuYy5kYXRlLnB1c2goYil9KTtyZXR1cm4gY31mdW5jdGlvbiBJKGEsYyl7dmFyIGI9YS5fX3BpY2ttZXVwLmVsZW1lbnQ7aWYoY3x8ayhiLFwicG11LWhpZGRlblwiKSl7dmFyIGQ9YS5fX3BpY2ttZXVwLm9wdGlvbnMsZT1NKGEpLGg9d2luZG93LnBhZ2VYT2Zmc2V0LG09d2luZG93LnBhZ2VZT2Zmc2V0LGw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHA9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxmPWUudG9wLG49ZS5sZWZ0O2QuYm91bmQuZmlsbCgpO0IoYSxcImlucHV0XCIpJiYoKGM9YS52YWx1ZSkmJmQuYm91bmQuc2V0X2RhdGUoYykscShhLGEsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7OT09PWEud2hpY2gmJmQuYm91bmQuaGlkZSgpfSksZC5sYXN0U2VsPSExKTtpZihDKGEsXCJzaG93XCIpJiYhZC5mbGF0KXtiLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtaGlkZGVuXCIpO2lmKGQucG9zaXRpb24gaW5zdGFuY2VvZiBGdW5jdGlvbillPWQucG9zaXRpb24uY2FsbChhKSxcbm49ZS5sZWZ0LGY9ZS50b3A7ZWxzZXtzd2l0Y2goZC5wb3NpdGlvbil7Y2FzZSBcInRvcFwiOmYtPWIub2Zmc2V0SGVpZ2h0O2JyZWFrO2Nhc2UgXCJsZWZ0XCI6bi09Yi5vZmZzZXRXaWR0aDticmVhaztjYXNlIFwicmlnaHRcIjpuKz1hLm9mZnNldFdpZHRoO2JyZWFrO2Nhc2UgXCJib3R0b21cIjpmKz1hLm9mZnNldEhlaWdodH1mK2Iub2Zmc2V0SGVpZ2h0Pm0rcCYmKGY9ZS50b3AtYi5vZmZzZXRIZWlnaHQpO2Y8bSYmKGY9ZS50b3ArYS5vZmZzZXRIZWlnaHQpO24rYi5vZmZzZXRXaWR0aD5oK2wmJihuPWUubGVmdC1iLm9mZnNldFdpZHRoKTtuPGgmJihuPWUubGVmdCthLm9mZnNldFdpZHRoKTtuKz1cInB4XCI7Zis9XCJweFwifWIuc3R5bGUubGVmdD1uO2Iuc3R5bGUudG9wPWY7c2V0VGltZW91dChmdW5jdGlvbigpe3EoYSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXCJjbGlja1wiLGQuYm91bmQuaGlkZSk7cShhLHdpbmRvdyxcInJlc2l6ZVwiLGQuYm91bmQuZm9yY2VkX3Nob3cpfSl9fX1mdW5jdGlvbiBRKGEsXG5jKXt2YXIgYj1hLl9fcGlja21ldXAuZWxlbWVudCxkPWEuX19waWNrbWV1cC5vcHRpb25zO2MmJmMudGFyZ2V0JiYoYy50YXJnZXQ9PT1hfHxiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGMudGFyZ2V0KSYxNil8fCFDKGEsXCJoaWRlXCIpfHwobChiLFwicG11LWhpZGRlblwiKSx6KGEsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFwiY2xpY2tcIixkLmJvdW5kLmhpZGUpLHooYSx3aW5kb3csXCJyZXNpemVcIixkLmJvdW5kLmZvcmNlZF9zaG93KSxkLmxhc3RTZWw9ITEpfWZ1bmN0aW9uIFIoYSl7dmFyIGM9YS5fX3BpY2ttZXVwLm9wdGlvbnM7eihhLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcImNsaWNrXCIsYy5ib3VuZC5oaWRlKTt6KGEsd2luZG93LFwicmVzaXplXCIsYy5ib3VuZC5mb3JjZWRfc2hvdyk7Yy5ib3VuZC5mb3JjZWRfc2hvdygpfWZ1bmN0aW9uIFMoYSl7YT1hLl9fcGlja21ldXAub3B0aW9ucztcInNpbmdsZVwiIT09YS5tb2RlJiYoYS5kYXRlPVtdLGEubGFzdFNlbD0hMSxhLmJvdW5kLmZpbGwoKSl9XG5mdW5jdGlvbiBUKGEsYyl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGMmJihjPSEwKTt2YXIgYj1hLl9fcGlja21ldXAuZWxlbWVudDthPWEuX19waWNrbWV1cC5vcHRpb25zO2soYixcInBtdS12aWV3LXllYXJzXCIpP3UoYS5jdXJyZW50LC0xMik6ayhiLFwicG11LXZpZXctbW9udGhzXCIpP3UoYS5jdXJyZW50LC0xKTprKGIsXCJwbXUtdmlldy1kYXlzXCIpJiZwKGEuY3VycmVudCwtMSk7YyYmYS5ib3VuZC5maWxsKCl9ZnVuY3Rpb24gVShhLGMpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBjJiYoYz0hMCk7dmFyIGI9YS5fX3BpY2ttZXVwLmVsZW1lbnQ7YT1hLl9fcGlja21ldXAub3B0aW9ucztrKGIsXCJwbXUtdmlldy15ZWFyc1wiKT91KGEuY3VycmVudCwxMik6ayhiLFwicG11LXZpZXctbW9udGhzXCIpP3UoYS5jdXJyZW50LDEpOmsoYixcInBtdS12aWV3LWRheXNcIikmJnAoYS5jdXJyZW50LDEpO2MmJmEuYm91bmQuZmlsbCgpfWZ1bmN0aW9uIFYoYSxjKXt2YXIgYj1hLl9fcGlja21ldXAub3B0aW9uczthPVxuSChiKTtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGM/KGE9YS5kYXRlLGEgaW5zdGFuY2VvZiBEYXRlP0QoYSxjLGIubG9jYWxlc1tiLmxvY2FsZV0pOmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBEKGEsYyxiLmxvY2FsZXNbYi5sb2NhbGVdKX0pKTphW2M/XCJmb3JtYXR0ZWRfZGF0ZVwiOlwiZGF0ZVwiXX1mdW5jdGlvbiBXKGEsYyxiKXt2YXIgZD1hLl9fcGlja21ldXAub3B0aW9ucztpZighKGMgaW5zdGFuY2VvZiBBcnJheSl8fDA8Yy5sZW5ndGgpaWYoZC5kYXRlPXQoYyxkKSxcInNpbmdsZVwiIT09ZC5tb2RlKWZvcihkLmRhdGUgaW5zdGFuY2VvZiBBcnJheT8oZC5kYXRlWzBdPWQuZGF0ZVswXXx8dChuZXcgRGF0ZSxkKSxcInJhbmdlXCI9PT1kLm1vZGUmJihkLmRhdGVbMV09ZC5kYXRlWzFdfHx0KGQuZGF0ZVswXSxkKSkpOihkLmRhdGU9W2QuZGF0ZV0sXCJyYW5nZVwiPT09ZC5tb2RlJiZkLmRhdGUucHVzaCh0KGQuZGF0ZVswXSxkKSkpLGM9MDtjPGQuZGF0ZS5sZW5ndGg7KytjKWQuZGF0ZVtjXT1cbkwoZC5kYXRlW2NdLGQubWluLGQubWF4KTtlbHNlIGQuZGF0ZSBpbnN0YW5jZW9mIEFycmF5JiYoZC5kYXRlPWQuZGF0ZVswXSksZC5kYXRlPUwoZC5kYXRlLGQubWluLGQubWF4KTtlbHNlIGQuZGF0ZT1bXTtpZighZC5zZWxlY3RfZGF5KWlmKGQuZGF0ZSBpbnN0YW5jZW9mIEFycmF5KWZvcihjPTA7YzxkLmRhdGUubGVuZ3RoOysrYylkLmRhdGVbY10uc2V0RGF0ZSgxKTtlbHNlIGQuZGF0ZS5zZXREYXRlKDEpO2lmKFwibXVsdGlwbGVcIj09PWQubW9kZSlmb3IoYz0wO2M8ZC5kYXRlLmxlbmd0aDsrK2MpZC5kYXRlLmluZGV4T2YoZC5kYXRlW2NdKSE9PWMmJihkLmRhdGUuc3BsaWNlKGMsMSksLS1jKTtiP2QuY3VycmVudD10KGIsZCk6KGI9XCJzaW5nbGVcIj09PWQubW9kZT9kLmRhdGU6ZC5kYXRlW2QuZGF0ZS5sZW5ndGgtMV0sZC5jdXJyZW50PWI/bmV3IERhdGUoYik6bmV3IERhdGUpO2QuY3VycmVudC5zZXREYXRlKDEpO2QuYm91bmQuZmlsbCgpO0IoYSxcImlucHV0XCIpJiYhMSE9PVxuZC5kZWZhdWx0X2RhdGUmJihiPUgoZCksYz1hLnZhbHVlLGQ9XCJzaW5nbGVcIj09PWQubW9kZT9iLmZvcm1hdHRlZF9kYXRlOmIuZm9ybWF0dGVkX2RhdGUuam9pbihkLnNlcGFyYXRvciksY3x8QyhhLFwiY2hhbmdlXCIsYiksYyE9PWQmJihhLnZhbHVlPWQpKX1mdW5jdGlvbiBYKGEpe3ZhciBjPWEuX19waWNrbWV1cC5lbGVtZW50O3ooYSk7eShjKTtkZWxldGUgYS5fX3BpY2ttZXVwfWZ1bmN0aW9uIEwoYSxjLGIpe3JldHVybiBjJiZjPmE/bmV3IERhdGUoYyk6YiYmYjxhP25ldyBEYXRlKGIpOmF9ZnVuY3Rpb24gRShhLGMpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpKTtpZighYSlyZXR1cm4gbnVsbDtpZighYS5fX3BpY2ttZXVwKXt2YXIgYixkPXt9O2M9Y3x8e307Zm9yKGIgaW4gRS5kZWZhdWx0cylkW2JdPWIgaW4gYz9jW2JdOkUuZGVmYXVsdHNbYl07Zm9yKGIgaW4gZCljPWEuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbXUtXCIrYiksbnVsbCE9PVxuYyYmKGRbYl09Yyk7XCJkYXlzXCIhPT1kLnZpZXd8fGQuc2VsZWN0X2RheXx8KGQudmlldz1cIm1vbnRoc1wiKTtcIm1vbnRoc1wiIT09ZC52aWV3fHxkLnNlbGVjdF9tb250aHx8KGQudmlldz1cInllYXJzXCIpO1wieWVhcnNcIiE9PWQudmlld3x8ZC5zZWxlY3RfeWVhcnx8KGQudmlldz1cImRheXNcIik7XCJkYXlzXCIhPT1kLnZpZXd8fGQuc2VsZWN0X2RheXx8KGQudmlldz1cIm1vbnRoc1wiKTtkLmNhbGVuZGFycz1NYXRoLm1heCgxLHBhcnNlSW50KGQuY2FsZW5kYXJzLDEwKXx8MSk7ZC5tb2RlPS9zaW5nbGV8bXVsdGlwbGV8cmFuZ2UvLnRlc3QoZC5tb2RlKT9kLm1vZGU6XCJzaW5nbGVcIjtkLm1pbiYmKGQubWluPXQoZC5taW4sZCksZC5zZWxlY3RfZGF5fHxkLm1pbi5zZXREYXRlKDEpKTtkLm1heCYmKGQubWF4PXQoZC5tYXgsZCksZC5zZWxlY3RfZGF5fHxkLm1heC5zZXREYXRlKDEpKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5fX3BpY2ttZXVwPXtvcHRpb25zOmQsZXZlbnRzOltdLFxuZWxlbWVudDpjfTtjLl9fcGlja21ldXBfdGFyZ2V0PWE7bChjLFwicGlja21ldXBcIik7ZC5jbGFzc19uYW1lJiZsKGMsZC5jbGFzc19uYW1lKTtkLmJvdW5kPXtmaWxsOk4uYmluZChhLGEpLHVwZGF0ZV9kYXRlOk8uYmluZChhLGEpLGNsaWNrOlAuYmluZChhLGEpLHNob3c6SS5iaW5kKGEsYSksZm9yY2VkX3Nob3c6SS5iaW5kKGEsYSwhMCksaGlkZTpRLmJpbmQoYSxhKSx1cGRhdGU6Ui5iaW5kKGEsYSksY2xlYXI6Uy5iaW5kKGEsYSkscHJldjpULmJpbmQoYSxhKSxuZXh0OlUuYmluZChhLGEpLGdldF9kYXRlOlYuYmluZChhLGEpLHNldF9kYXRlOlcuYmluZChhLGEpLGRlc3Ryb3k6WC5iaW5kKGEsYSl9O2woYyxcInBtdS12aWV3LVwiK2Qudmlldyk7dmFyIGU9ZC5pbnN0YW5jZV90ZW1wbGF0ZShkKSxoPVwiXCI7Zm9yKGI9MDtiPGQuY2FsZW5kYXJzOysrYiloKz1lO2MuaW5uZXJIVE1MPWg7cShhLGMsXCJjbGlja1wiLGQuYm91bmQuY2xpY2spO3EoYSxjLFwib25zZWxlY3RzdGFydFwiaW4gRWxlbWVudC5wcm90b3R5cGU/XG5cInNlbGVjdHN0YXJ0XCI6XCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KTtkLmZsYXQ/KGwoYyxcInBtdS1mbGF0XCIpLGEuYXBwZW5kQ2hpbGQoYykpOihsKGMsXCJwbXUtaGlkZGVuXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYykscShhLGEsXCJjbGlja1wiLEkuYmluZChhLGEsITEpKSxxKGEsYSxcImlucHV0XCIsZC5ib3VuZC51cGRhdGUpLHEoYSxhLFwiY2hhbmdlXCIsZC5ib3VuZC51cGRhdGUpKTtkLmJvdW5kLnNldF9kYXRlKGQuZGF0ZSxkLmN1cnJlbnQpfWQ9YS5fX3BpY2ttZXVwLm9wdGlvbnM7cmV0dXJue2hpZGU6ZC5ib3VuZC5oaWRlLHNob3c6ZC5ib3VuZC5zaG93LGNsZWFyOmQuYm91bmQuY2xlYXIsdXBkYXRlOmQuYm91bmQudXBkYXRlLHByZXY6ZC5ib3VuZC5wcmV2LG5leHQ6ZC5ib3VuZC5uZXh0LGdldF9kYXRlOmQuYm91bmQuZ2V0X2RhdGUsc2V0X2RhdGU6ZC5ib3VuZC5zZXRfZGF0ZSxkZXN0cm95OmQuYm91bmQuZGVzdHJveX19RS5kZWZhdWx0cz1cbntjdXJyZW50Om51bGwsZGF0ZTpuZXcgRGF0ZSxkZWZhdWx0X2RhdGU6bmV3IERhdGUsZmxhdDohMSxmaXJzdF9kYXk6MSxwcmV2OlwiJiM5NjY0O1wiLG5leHQ6XCImIzk2NTQ7XCIsbW9kZTpcInNpbmdsZVwiLHNlbGVjdF95ZWFyOiEwLHNlbGVjdF9tb250aDohMCxzZWxlY3RfZGF5OiEwLHZpZXc6XCJkYXlzXCIsY2FsZW5kYXJzOjEsZm9ybWF0OlwiZC1tLVlcIix0aXRsZV9mb3JtYXQ6XCJCLCBZXCIscG9zaXRpb246XCJib3R0b21cIixjbGFzc19uYW1lOlwiXCIsc2VwYXJhdG9yOlwiIC0gXCIsaGlkZV9vbl9zZWxlY3Q6ITEsbWluOm51bGwsbWF4Om51bGwscmVuZGVyOmZ1bmN0aW9uKCl7fSxsb2NhbGU6XCJlblwiLGxvY2FsZXM6e2VuOntkYXlzOlwiU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXlcIi5zcGxpdChcIiBcIiksZGF5c1Nob3J0OlwiU3VuIE1vbiBUdWUgV2VkIFRodSBGcmkgU2F0XCIuc3BsaXQoXCIgXCIpLGRheXNNaW46XCJTdSBNbyBUdSBXZSBUaCBGciBTYVwiLnNwbGl0KFwiIFwiKSxcbm1vbnRoczpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksbW9udGhzU2hvcnQ6XCJKYW4gRmViIE1hciBBcHIgTWF5IEp1biBKdWwgQXVnIFNlcCBPY3QgTm92IERlY1wiLnNwbGl0KFwiIFwiKX19LGluc3RhbmNlX3RlbXBsYXRlOmZ1bmN0aW9uKGEpe3ZhciBjPWEubG9jYWxlc1thLmxvY2FsZV0uZGF5c01pbi5zbGljZSgpO2EuZmlyc3RfZGF5JiZjLnB1c2goYy5zaGlmdCgpKTtyZXR1cm4nPGRpdiBjbGFzcz1cInBtdS1pbnN0YW5jZVwiPjxuYXY+PGRpdiBjbGFzcz1cInBtdS1wcmV2IHBtdS1idXR0b25cIj4nK2EucHJldisnPC9kaXY+PGRpdiBjbGFzcz1cInBtdS1tb250aCBwbXUtYnV0dG9uXCI+PC9kaXY+PGRpdiBjbGFzcz1cInBtdS1uZXh0IHBtdS1idXR0b25cIj4nK2EubmV4dCsnPC9kaXY+PC9uYXY+PG5hdiBjbGFzcz1cInBtdS1kYXktb2Ytd2Vla1wiPjxkaXY+JytcbmMuam9pbihcIjwvZGl2PjxkaXY+XCIpK1wiPC9kaXY+PC9uYXY+PC9kaXY+XCJ9LGluc3RhbmNlX2NvbnRlbnRfdGVtcGxhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2woYixjKTtmb3IoYz0wO2M8YS5sZW5ndGg7KytjKWwoYVtjXSxcInBtdS1idXR0b25cIiksYi5hcHBlbmRDaGlsZChhW2NdKTtyZXR1cm4gYn19O3JldHVybiBFfSk7XG4iLCIvKipcclxuICogQ29weXJpZ2h0IChjKSAyMDEwLDIwMTEsMjAxMiwyMDEzLDIwMTQgTW9yZ2FuIFJvZGVyaWNrIGh0dHA6Ly9yb2Rlcmljay5ka1xyXG4gKiBMaWNlbnNlOiBNSVQgLSBodHRwOi8vbXJnbnJkcmNrLm1pdC1saWNlbnNlLm9yZ1xyXG4gKlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbXJvZGVyaWNrL1B1YlN1YkpTXHJcbiAqL1xyXG4hZnVuY3Rpb24obix0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj17fTtuLlB1YlN1Yj1yO3ZhciBlPW4uZGVmaW5lOyFmdW5jdGlvbihuKXt2YXIgdD17fSxyPS0xO2Z1bmN0aW9uIGUobil7dmFyIHQ7Zm9yKHQgaW4gbilpZihuLmhhc093blByb3BlcnR5KHQpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIG8obix0LHIpe3RyeXtuKHQscil9Y2F0Y2gobil7c2V0VGltZW91dChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXt0aHJvdyBufX0obiksMCl9fWZ1bmN0aW9uIGkobix0LHIpe24odCxyKX1mdW5jdGlvbiB1KG4scixlLHUpe3ZhciBmLHM9dFtyXSxjPXU/aTpvO2lmKHQuaGFzT3duUHJvcGVydHkocikpZm9yKGYgaW4gcylzLmhhc093blByb3BlcnR5KGYpJiZjKHNbZl0sbixlKX1mdW5jdGlvbiBmKG4scixvLGkpe3ZhciBmPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1TdHJpbmcobiksbz1lLmxhc3RJbmRleE9mKFwiLlwiKTtmb3IodShuLG4sdCxyKTstMSE9PW87KWU9ZS5zdWJzdHIoMCxvKSxvPWUubGFzdEluZGV4T2YoXCIuXCIpLHUobixlLHQscil9fShuPVwic3ltYm9sXCI9PXR5cGVvZiBuP24udG9TdHJpbmcoKTpuLHIsaSkscz1mdW5jdGlvbihuKXt2YXIgcj1TdHJpbmcobiksbz1Cb29sZWFuKHQuaGFzT3duUHJvcGVydHkocikmJmUodFtyXSkpLGk9ci5sYXN0SW5kZXhPZihcIi5cIik7Zm9yKDshbyYmLTEhPT1pOylyPXIuc3Vic3RyKDAsaSksaT1yLmxhc3RJbmRleE9mKFwiLlwiKSxvPUJvb2xlYW4odC5oYXNPd25Qcm9wZXJ0eShyKSYmZSh0W3JdKSk7cmV0dXJuIG99KG4pO3JldHVybiEhcyYmKCEwPT09bz9mKCk6c2V0VGltZW91dChmLDApLCEwKX1uLnB1Ymxpc2g9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZih0LHIsITEsbi5pbW1lZGlhdGVFeGNlcHRpb25zKX0sbi5wdWJsaXNoU3luYz1mdW5jdGlvbih0LHIpe3JldHVybiBmKHQsciwhMCxuLmltbWVkaWF0ZUV4Y2VwdGlvbnMpfSxuLnN1YnNjcmliZT1mdW5jdGlvbihuLGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuITE7bj1cInN5bWJvbFwiPT10eXBlb2Ygbj9uLnRvU3RyaW5nKCk6bix0Lmhhc093blByb3BlcnR5KG4pfHwodFtuXT17fSk7dmFyIG89XCJ1aWRfXCIrU3RyaW5nKCsrcik7cmV0dXJuIHRbbl1bb109ZSxvfSxuLnN1YnNjcmliZU9uY2U9ZnVuY3Rpb24odCxyKXt2YXIgZT1uLnN1YnNjcmliZSh0LGZ1bmN0aW9uKCl7bi51bnN1YnNjcmliZShlKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO3JldHVybiBufSxuLmNsZWFyQWxsU3Vic2NyaXB0aW9ucz1mdW5jdGlvbigpe3Q9e319LG4uY2xlYXJTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKG4pe3ZhciByO2ZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmMD09PXIuaW5kZXhPZihuKSYmZGVsZXRlIHRbcl19LG4udW5zdWJzY3JpYmU9ZnVuY3Rpb24ocil7dmFyIGUsbyxpLHU9XCJzdHJpbmdcIj09dHlwZW9mIHImJih0Lmhhc093blByb3BlcnR5KHIpfHxmdW5jdGlvbihuKXt2YXIgcjtmb3IociBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkocikmJjA9PT1yLmluZGV4T2YobikpcmV0dXJuITA7cmV0dXJuITF9KHIpKSxmPSF1JiZcInN0cmluZ1wiPT10eXBlb2YgcixzPVwiZnVuY3Rpb25cIj09dHlwZW9mIHIsYz0hMTtpZighdSl7Zm9yKGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXtpZihvPXRbZV0sZiYmb1tyXSl7ZGVsZXRlIG9bcl0sYz1yO2JyZWFrfWlmKHMpZm9yKGkgaW4gbylvLmhhc093blByb3BlcnR5KGkpJiZvW2ldPT09ciYmKGRlbGV0ZSBvW2ldLGM9ITApfXJldHVybiBjfW4uY2xlYXJTdWJzY3JpcHRpb25zKHIpfX0ociksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5hbWQ/ZShmdW5jdGlvbigpe3JldHVybiByfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJih2b2lkIDAhPT1tb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1yKSxleHBvcnRzLlB1YlN1Yj1yLG1vZHVsZS5leHBvcnRzPWV4cG9ydHM9cil9KFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8dGhpcyk7IiwiLyohIFVURi04XHJcblxyXG7CqSBrb3ZyaWdpblxyXG7QktGB0LUg0L/RgNCw0LLQsCDRgNCw0LfRgNC10YjQtdC90Ytcclxu0LrRgNCw0YHQuNCy0YvQuSDQtNC40LfQsNC50L0g0LTQvtC70LbQtdC9INC40LzQtdGC0Ywg0LrRgNCw0YHQuNCy0YvQuSDQutC+0LTCrlxyXG5cclxuaHR0cHM6Ly9naXRodWIuY29tL2h0bWxwbHVzY3NzL1xyXG5cclxuKi9cclxuXHJcbiggKCkgPT4ge1xyXG5cclxuXHR3aW5kb3cuSU5USSA9IHt9O1xyXG5cdElOVEkucmVzaXplVGltZW91dCA9IG51bGw7XHJcblx0SU5USS53aW5kb3dXaWR0aE9MZCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XHJcblxyXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcblxyXG5cdFx0XHRpZiAoIUlOVEkucmVzaXplVGltZW91dCkge1xyXG5cclxuXHRcdFx0XHRJTlRJLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+ICB7XHJcblxyXG5cdFx0XHRcdFx0SU5USS5yZXNpemVUaW1lb3V0ID0gbnVsbDtcclxuXHJcblx0XHRcdFx0XHRpZihJTlRJLndpbmRvd1dpZHRoT0xkICE9PSB3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG5cclxuXHRcdFx0XHRcdFx0SU5USS53aW5kb3dXaWR0aE9MZCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cclxuXHRcdFx0XHRcdFx0UHViU3ViLnB1Ymxpc2goJ3dpbmRvd1dpZHRoUmVzaXplJyk7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9LCAxMDApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG5cclxuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG5cclxuXHRcdFx0UHViU3ViLnB1Ymxpc2goJ3dpbmRvd1Njcm9sbCcpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuXHJcblx0XHRQdWJTdWIucHVibGlzaCgnRE9NQ29udGVudExvYWRlZCcpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcclxuXHJcblx0XHRQdWJTdWIucHVibGlzaCgncGFnZUxvYWQnKTtcclxuXHJcblx0fSk7XHJcblxyXG5cdC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INCw0L3QuNC80LDRhtC40LlcclxuXHRJTlRJLmNzc0FuaW1hdGlvbiA9IGE9PntsZXQgYixjLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNzc2FuaW1hdGlvblwiKTtzd2l0Y2goYSl7Y2FzZSdhbmltYXRpb24nOmI9e1wiYW5pbWF0aW9uXCI6XCJhbmltYXRpb25lbmRcIixcIk9BbmltYXRpb25cIjpcIm9BbmltYXRpb25FbmRcIixcIk1vekFuaW1hdGlvblwiOlwiYW5pbWF0aW9uZW5kXCIsXCJXZWJraXRBbmltYXRpb25cIjpcIndlYmtpdEFuaW1hdGlvbkVuZFwifTticmVhaztjYXNlJ3RyYW5zaXRpb24nOmI9e1widHJhbnNpdGlvblwiOlwidHJhbnNpdGlvbmVuZFwiLFwiT1RyYW5zaXRpb25cIjpcIm9UcmFuc2l0aW9uRW5kXCIsXCJNb3pUcmFuc2l0aW9uXCI6XCJ0cmFuc2l0aW9uZW5kXCIsXCJXZWJraXRUcmFuc2l0aW9uXCI6XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCJ9fWZvcihjIGluIGIpaWYoZC5zdHlsZVtjXSE9PXVuZGVmaW5lZClyZXR1cm4gYltjXX1cclxuXHJcblx0Ly8gRGV0ZXJtaW5lIGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHZpc2libGUgdmlld3BvcnRcclxuXHRJTlRJLmlzSW5WaWV3cG9ydCA9IGVsID0+IHtcclxuXHRcdGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRcdHJldHVybiAocmVjdC50b3AgPj0gMCAmJiByZWN0LmJvdHRvbSA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG5cdH1cclxuXHJcbn0pKCk7IiwiKCBpdGVtcyA9PiB7XHJcblxyXG5cdGlmKCFpdGVtcy5sZW5ndGgpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgYWNjb3JkaW9uID0+IHtcclxuXHJcblx0XHRsZXQgYW5pbWF0ZU9uID0gZmFsc2U7XHJcblxyXG5cdFx0Y29uc3QgYnRucyA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19idG4nKTtcclxuXHJcblx0XHRBcnJheS5mcm9tKGJ0bnMsIGJ0biA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBpdGVtID0gYnRuLmNsb3Nlc3QoJy5hY2NvcmRpb25fX2l0ZW0nKSxcclxuXHRcdFx0XHQgIGhlYWQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hY2NvcmRpb25fX2hlYWQnKSxcclxuXHRcdFx0XHQgIGJvZHkgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hY2NvcmRpb25fX2JvZHknKTtcclxuXHJcblx0XHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHJcblx0XHRcdFx0YW5pbWF0ZU9uID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdhY2NvcmRpb25fX2l0ZW0tLW9wZW4nKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ym9keS5hZGRFdmVudExpc3RlbmVyKElOVEkuY3NzQW5pbWF0aW9uKCd0cmFuc2l0aW9uJyksICgpID0+IHtcclxuXHJcblx0XHRcdFx0aWYoYW5pbWF0ZU9uICYmICFJTlRJLmlzSW5WaWV3cG9ydChoZWFkKSl7XHJcblxyXG5cdFx0XHRcdFx0aGVhZC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRhbmltYXRlT24gPSBmYWxzZTtcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24nKSk7IiwiKCBzZWxlY3QgPT4ge1xyXG5cclxuXHRpZighc2VsZWN0KSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuXHJcblx0XHRpZihzZWxlY3QudmFsdWUgPT09ICdzaGlwcGluZycpIHtcclxuXHJcblx0XHRcdGNvbnN0IGV2ZW50TW9kYWxTaG93ID0gbmV3IEN1c3RvbUV2ZW50KFwibW9kYWxTaG93XCIsIHtcclxuXHRcdFx0XHRkZXRhaWw6IHtcclxuXHRcdFx0XHRcdHNlbGVjdG9yOiBcImRlbGl2ZXJ5LWludGlcIlxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR3aW5kb3cubW9kYWwuZGlzcGF0Y2hFdmVudChldmVudE1vZGFsU2hvdyk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLWRlbGl2ZXJ5LXNlbGVjdCcpKTsiLCIoIGZvcm0gPT4ge1xyXG5cclxuXHRpZighZm9ybSkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBpbnB1dCA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmNoYW5nZS1kYXRlLXRpbWVfX2lucHV0Jyk7XHJcblxyXG5cdEFycmF5LmZyb20oaW5wdXQsIGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG5cclxuXHRcdGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kYWw9XCJkZXBhcnR1cmUtZGF0ZVwiXScpLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuXHRcdGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kYWw9XCJkZXBhcnR1cmUtZGF0ZS1jaGFuZ2VcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcblxyXG5cdH0pKTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFuZ2UtZGF0ZS10aW1lJykpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdEFycmF5LmZyb20oaXRlbXMsIGZvcm0gPT4ge1xyXG5cclxuXHRcdGNvbnN0IGZvcm1FbmFibGVkID0gKCkgPT4ge1xyXG5cclxuXHRcdFx0Zm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZm9ybUVuYWJsZWQpO1xyXG5cclxuXHRcdFx0QXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYW55LWZvcm1fX2Rpc2FibGVkJyksIGVsID0+IGVsLmRpc2FibGVkID0gZmFsc2UpO1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZm9ybUVuYWJsZWQpO1xyXG5cclxuXHRcdC8vINC+0YLQv9GA0LDQstC60LAg0YTQvtGA0LzRi1xyXG5cdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0ZmV0Y2goZm9ybS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpLCB7XHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0Ym9keTogbmV3IEZvcm1EYXRhKGZvcm0pXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIGRhdGEtcmFkaW8tdG9nZ2xlXHJcblx0XHRjb25zdCBidG5SYWRpbyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcmFkaW8tdG9nZ2xlXScpLFxyXG5cdFx0XHQgIGl0ZW1zID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFueS1mb3JtX19yYWRpby10b2dnbGUtaXRlbScpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oYnRuUmFkaW8sIGJ0biA9PlxyXG5cdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PlxyXG5cdFx0XHRcdEFycmF5LmZyb20oaXRlbXMsIGVsID0+XHJcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJywgYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1yYWRpby10b2dnbGUnKSA9PT0gJ2hpZGUnKSkpKTtcclxuXHJcblx0XHQvLyByZW1vdmVcclxuXHRcdGNvbnN0IGJ0blJlbW92ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmNvbXBhbnktZm9ybV9fcmVtb3ZlJyk7XHJcblxyXG5cdFx0YnRuUmVtb3ZlICYmIGJ0blJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW0gPSBidG5SZW1vdmUuY2xvc2VzdCgnLmFjY29yZGlvbl9faXRlbScpO1xyXG5cclxuXHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKElOVEkuY3NzQW5pbWF0aW9uKCd0cmFuc2l0aW9uJyksICgpID0+IHtcclxuXHJcblx0XHRcdFx0aXRlbS5yZW1vdmUoKTtcclxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcGFueV9fYWRkJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjY29yZGlvbl9faXRlbS0tb3BlbicpO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCggKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRpdGVtLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG5cclxuXHRcdFx0fSwgMTAwMCk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHQvLyBDT0RFIHNtc1xyXG5cdGNvbnN0IGZvcm1Db2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbXBhbnktZm9ybS0tY29kZScpO1xyXG5cclxuXHQvLyDQvtGC0L/RgNCw0LLQutCwINGE0L7RgNC80YsgY29kZVxyXG5cdGZvcm1Db2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdGZldGNoKGZvcm1Db2RlLmdldEF0dHJpYnV0ZSgnYWN0aW9uJyksIHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGJvZHk6IG5ldyBGb3JtRGF0YShmb3JtQ29kZSlcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHN0YXRlIHNtcyDQvtGC0L/RgNCw0LLQu9C10L3QvlxyXG5cclxuXHRcdGZvcm1Db2RlLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwic2VuZC1jb2RlXCJdJykudmFsdWUgPSAxO1xyXG5cclxuXHRcdEFycmF5LmZyb20oZm9ybUNvZGUucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybV9fY29kZS1oaWRlJyksIGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKSk7XHJcblx0XHRBcnJheS5mcm9tKGZvcm1Db2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYW55LWZvcm1fX2NvZGUtc2hvdycpLCBlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJykpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0Ly8gcmVzZXQg0YTQvtGA0LzRiyBjb2RlXHJcblx0Zm9ybUNvZGUuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCBldmVudCA9PiB7XHJcblxyXG5cdFx0Ly8gc3RhdGUgc21zINC+0YLQv9GA0LDQstC70LXQvdC+XHJcblxyXG5cdFx0Zm9ybUNvZGUucXVlcnlTZWxlY3RvcignW25hbWU9XCJzZW5kLWNvZGVcIl0nKS52YWx1ZSA9IDA7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShmb3JtQ29kZS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFueS1mb3JtX19jb2RlLWhpZGUnKSwgZWwgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpKTtcclxuXHRcdEFycmF5LmZyb20oZm9ybUNvZGUucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybV9fY29kZS1zaG93JyksIGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKSk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybScpKTsiLCIoIGl0ZW1zID0+IHtcclxuXHJcblx0aWYoIWl0ZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBoYW5kbGVyID0gKGVsLCBjbG9uZSA9IGVsLmNsb25lTm9kZSh0cnVlKSkgPT4ge1xyXG5cclxuXHRcdGNvbnN0IGJ0biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5maWxlLWlucHV0X19idG4nKSxcclxuXHRcdFx0ICBpbnB1dCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJyk7XHJcblxyXG5cdFx0bGV0IGdyb3VwID0gZWwuY2xvc2VzdCgnLmZpbGUtaW5wdXQtZ3JvdXAnKTtcclxuXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRcdGJ0bi50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlO1xyXG5cdFx0XHRidG4uY2xhc3NMaXN0LmFkZCgnYnRuLS1saWdodCcpO1xyXG5cdFx0XHRidG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLS1zaWx2ZXInKTtcclxuXHJcblx0XHRcdGlmKGdyb3VwKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IF9jbG9uZSA9IGNsb25lLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcblx0XHRcdFx0Z3JvdXAuYXBwZW5kQ2hpbGQoX2Nsb25lKTtcclxuXHJcblx0XHRcdFx0X2Nsb25lLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykuc2V0QXR0cmlidXRlKCduYW1lJywgX2Nsb25lLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykuZ2V0QXR0cmlidXRlKCduYW1lJykgKyAnLScgKyBncm91cC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZS1pbnB1dCcpLmxlbmd0aCk7XHJcblxyXG5cdFx0XHRcdGhhbmRsZXIoX2Nsb25lLCBjbG9uZSk7XHJcblxyXG5cdFx0XHRcdGdyb3VwID0gbnVsbDtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9KTtcclxuXHJcblx0fTtcclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4gaGFuZGxlcihlbCkpO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbGUtaW5wdXQnKSk7IiwiKCBpdGVtcyA9PiB7XHJcblxyXG5cdGlmKCFpdGVtcy5sZW5ndGgpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgZm9ybSA9PiB7XHJcblxyXG5cdFx0Y29uc3QgaXRlbSA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tcmVxdWlyZWRfX2l0ZW0nKSxcclxuXHRcdFx0ICBzdWJtaXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXJlcXVpcmVkX19zdWJtaXQnKTtcclxuXHJcblx0XHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG5cclxuXHRcdFx0bGV0IGZhbGlkID0gdHJ1ZTtcclxuXHJcblx0XHRcdEFycmF5LmZyb20oaXRlbSwgZWwgPT4ge1xyXG5cclxuXHRcdFx0XHRpZihlbC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcblxyXG5cdFx0XHRcdFx0ZmFsaWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZihmYWxpZCkge1xyXG5cclxuXHRcdFx0XHRzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1yZXF1aXJlZCcpKTsiLCIoIGVsZW1zID0+IHtcclxuXHJcblx0aWYoIWVsZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRBcnJheS5mcm9tKGVsZW1zLCBlbCA9PiB7XHJcblxyXG5cdFx0bGV0IG1hc2tJbnB1dDtcclxuXHJcblx0XHRjb25zdCBwbGFjZWhvbGRlciA9IGVsLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSA/IGVsLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSA6IG51bGw7XHJcblxyXG5cdFx0aWYoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dG1hc2stLXBob25lJykpIHtcclxuXHJcblx0XHRcdG1hc2tJbnB1dCA9IG5ldyBJbnB1dG1hc2soe1xyXG5cdFx0XHRcdG1hc2s6IFwiKzcgOTk5IDk5OSA5OSA5OVwiLFxyXG5cdFx0XHRcdHNob3dNYXNrT25Ib3ZlcjogZmFsc2UsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyID8gcGxhY2Vob2xkZXIgOiBcIis3IF9fXyBfX18gX18gX19cIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0XHRlbHNlIGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRtYXNrLS1kYXRlJykpIHtcclxuXHJcblx0XHRcdG1hc2tJbnB1dCA9IG5ldyBJbnB1dG1hc2soe1xyXG5cdFx0XHRcdGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcblx0XHRcdFx0c2hvd01hc2tPbkhvdmVyOiBmYWxzZSxcclxuXHRcdFx0XHRpbnB1dEZvcm1hdDogXCJkZC9tbS95eXl5XCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyID8gcGxhY2Vob2xkZXIgOiBcIl9fL19fL19fX19cIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0XHRlbHNlIGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRtYXNrLS10aW1lJykpIHtcclxuXHJcblx0XHRcdG1hc2tJbnB1dCA9IG5ldyBJbnB1dG1hc2soe1xyXG5cdFx0XHRcdG1hc2s6IFwiOTk6OTlcIixcclxuXHRcdFx0XHRzaG93TWFza09uSG92ZXI6IGZhbHNlLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciA/IHBsYWNlaG9sZGVyIDogXCJfXzpfX1wiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRtYXNrSW5wdXQubWFzayhlbCk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0bWFzaycpKTsiLCIoIGZvcm0gPT4ge1xyXG5cclxuXHRpZighZm9ybSkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBidG4gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1kYXRlLWNhbmNlbGVkX19idG4tc2hvdycpLFxyXG5cdFx0ICBibG9jayA9IGZvcm0ucXVlcnlTZWxlY3RvcignLm1vZGFsLWRhdGUtY2FuY2VsZWRfX2JveC1kYXRlLXRpbWUnKSxcclxuXHRcdCAgaW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC1kYXRlLWNhbmNlbGVkX19pbnB1dCcpO1xyXG5cclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcblx0XHRibG9jay5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJykpO1xyXG5cclxuXHRBcnJheS5mcm9tKGlucHV0LCBlbCA9PlxyXG5cdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PlxyXG5cdFx0XHRmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uLWNoYW5nZScpKSkpO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWRhdGUtY2FuY2VsZWQnKSk7IiwiKCBtb2RhbCA9PiB7XHJcblxyXG5cdGlmKCFtb2RhbCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBpdGVtcyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbF9faXRlbScpLFxyXG5cdFx0ICBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kYWxdJyksXHJcblx0XHQgIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpO1xyXG5cclxuXHRsZXQgYWN0aXZlTW9kYWwgPSBudWxsLFxyXG5cdFx0d2luZG93U2Nyb2xsID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG5cclxuXHRtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdoaWRlJywgKCkgPT4ge1xyXG5cclxuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtc2hvdycpO1xyXG5cdFx0d3JhcHBlci5zdHlsZS50b3AgPSAwO1xyXG5cdFx0d2luZG93LnNjcm9sbFRvKDAsd2luZG93U2Nyb2xsKTtcclxuXHRcdGFjdGl2ZU1vZGFsID0gZmFsc2U7XHJcblxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBtb2RhbFNob3cgPSBzZWxlY3RvciA9PiB7XHJcblxyXG5cdFx0aWYoIWFjdGl2ZU1vZGFsKXtcclxuXHJcblx0XHRcdHdpbmRvd1Njcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0YWN0aXZlTW9kYWwgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2l0ZW0tLScgKyBzZWxlY3Rvcik7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZSgndmlzdWFsbHloaWRkZW4nLCBlbCAhPT0gYWN0aXZlTW9kYWwpKTtcclxuXHJcblx0XHR3cmFwcGVyLnN0eWxlLnRvcCA9IC13aW5kb3dTY3JvbGwgKyAncHgnO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1zaG93Jyk7XHJcblx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcclxuXHJcblx0XHRhY3RpdmVNb2RhbC5mb2N1cygpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbCcpIHx8IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2Nsb3NlJykpe1xyXG5cclxuXHRcdFx0bW9kYWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJoaWRlXCIpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHRBcnJheS5mcm9tKGJ0bnMsIGJ0biA9PlxyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cclxuXHRcdFx0bW9kYWxTaG93KGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kYWwnKSkpKTtcclxuXHJcblx0bW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignbW9kYWxTaG93JywgZXZlbnQgPT4gbW9kYWxTaG93KGV2ZW50LmRldGFpbC5zZWxlY3RvcikpO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJykpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdHBpY2ttZXVwLmRlZmF1bHRzLmxvY2FsZXNbJ3J1J10gPSB7XHJcblx0XHRkYXlzOiBbJ9CS0L7RgdC60YDQtdGB0LXQvdGM0LUnLCAn0J/QvtC90LXQtNC10LvRjNC90LjQuicsICfQktGC0L7RgNC90LjQuicsICfQodGA0LXQtNCwJywgJ9Cn0LXRgtCy0LXRgNCzJywgJ9Cf0Y/RgtC90LjRhtCwJywgJ9Ch0YPQsdCx0L7RgtCwJ10sXHJcblx0XHRkYXlzU2hvcnQ6IFsn0JLRgScsICfQn9C9JywgJ9CS0YInLCAn0KHRgCcsICfQp9GCJywgJ9Cf0YInLCAn0KHQsSddLFxyXG5cdFx0ZGF5c01pbjogWyfQktGBJywgJ9Cf0L0nLCAn0JLRgicsICfQodGAJywgJ9Cn0YInLCAn0J/RgicsICfQodCxJ10sXHJcblx0XHRtb250aHM6IFsn0K/QvdCy0LDRgNGMJywgJ9Ck0LXQstGA0LDQu9GMJywgJ9Cc0LDRgNGCJywgJ9CQ0L/RgNC10LvRjCcsICfQnNCw0LknLCAn0JjRjtC90YwnLCAn0JjRjtC70YwnLCAn0JDQstCz0YPRgdGCJywgJ9Ch0LXQvdGC0Y/QsdGA0YwnLCAn0J7QutGC0Y/QsdGA0YwnLCAn0J3QvtGP0LHRgNGMJywgJ9CU0LXQutCw0LHRgNGMJ10sXHJcblx0XHRtb250aHNTaG9ydDogWyfQr9C90LInLCAn0KTQtdCyJywgJ9Cc0LDRgCcsICfQkNC/0YAnLCAn0JzQsNC5JywgJ9CY0Y7QvScsICfQmNGO0LsnLCAn0JDQstCzJywgJ9Ch0LXQvScsICfQntC60YInLCAn0J3QvtGPJywgJ9CU0LXQuiddXHJcblx0fTtcclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4ge1xyXG5cclxuXHRcdGxldCBidG5JbnB1dCxcclxuXHRcdFx0aW5wdXRGb2N1cyA9IGZhbHNlO1xyXG5cclxuXHRcdGNvbnN0IGJ0biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1kYXRlX19idG4nKSxcclxuXHRcdFx0ICBpbnB1dCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1kYXRlX19pbnB1dCcpO1xyXG5cclxuXHRcdGJ0bklucHV0ID0gcGlja21ldXAoYnRuLCB7XHJcblxyXG5cdFx0XHRwb3NpdGlvbjogKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcblx0XHRcdFx0XHQgIHRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCArIHJlY3QuYm90dG9tICsgJ3B4JztcclxuXHRcdFx0XHRcdCAgbGVmdCA9IHJlY3QubGVmdCArICdweCc7XHJcblxyXG5cdFx0XHRcdHJldHVybiB7dG9wOiB0b3AsIGxlZnQ6IGxlZnR9XHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkYXRlOiBpbnB1dC52YWx1ZSxcclxuXHRcdFx0aGlkZV9vbl9zZWxlY3QgOiB0cnVlLFxyXG5cdFx0XHR0aXRsZV9mb3JtYXQ6ICdCIFknLFxyXG5cdFx0XHRmb3JtYXQ6ICdkL20vWScsXHJcblx0XHRcdGxvY2FsZTogJ3J1JyxcclxuXHRcdFx0cHJldjogJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNOSAxMWw0LjYtNC42QS45OS45OSAwIDExMTUgNy44bC0zLjkgMy45IDMuOSAzLjlhLjk5Ljk5IDAgMDEtMS40IDEuNEw5IDEyLjQxQTEgMSAwIDAxOSAxMXpcIi8+PC9zdmc+JyxcclxuXHRcdFx0bmV4dDogJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTUgMTFhMSAxIDAgMDEwIDEuNEwxMC40IDE3QS45OS45OSAwIDAxOSAxNS42bDMuOS0zLjlMOSA3LjhhLjk5Ljk5IDAgMDExLjQtMS40TDE1IDExelwiLz48L3N2Zz4nXHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3BpY2ttZXVwLWNoYW5nZScsICgpID0+IHtcclxuXHJcblx0XHRcdGlucHV0LmJsdXIoKTtcclxuXHJcblx0XHRcdGlmKGlucHV0LnZhbHVlICE9PSBidG5JbnB1dC5nZXRfZGF0ZSh0cnVlKSl7XHJcblxyXG5cdFx0XHRcdGlucHV0LnZhbHVlID0gYnRuSW5wdXQuZ2V0X2RhdGUodHJ1ZSk7XHJcblx0XHRcdFx0aW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIikpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdwaWNrbWV1cC1oaWRlJywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0aWYoaW5wdXRGb2N1cykge1xyXG5cclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRpZihldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAyNykge1xyXG5cclxuXHRcdFx0XHRpbnB1dC5ibHVyKCk7XHJcblx0XHRcdFx0YnRuSW5wdXQuaGlkZSgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xyXG5cclxuXHRcdFx0aW5wdXRGb2N1cyA9IHRydWU7XHJcblxyXG5cdFx0XHRidG5JbnB1dC5zaG93KCk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHJcblx0XHRcdGlucHV0Rm9jdXMgPSBmYWxzZTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHJcblx0XHRcdGJ0bklucHV0LnNob3coKTtcclxuXHRcdFx0YnRuSW5wdXQuc2V0X2RhdGUoaW5wdXQudmFsdWUpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC1kYXRlJykpOyIsIiggc2VsZWN0cyA9PiB7XHJcblxyXG5cdGlmKCFzZWxlY3RzLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBDdXN0b21FdmVudENoYW5nZSA9IG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiLCB7XHJcblx0XHRkZXRhaWw6IHtcclxuXHRcdFx0aGF6Y2hlZXNlYnVyZ2VyOiB0cnVlXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdEFycmF5LmZyb20oc2VsZWN0cywgc2VsZWN0ID0+IHtcclxuXHJcblx0XHRpZihzZWxlY3QucXVlcnlTZWxlY3RvcignLnNlbGVjdF9fbGlzdCcpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcblx0XHRcdCAgYXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG5cdFx0YXJyb3cuaW5uZXJIVE1MID0gJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNOC4zIDEwLjNhMSAxIDAgMDAwIDEuNDFsMi45MyAyLjk3Yy4yMi4yMS41LjMyLjc4LjMycy41Ni0uMS43Ny0uMzJsMi45My0yLjk2YTEuMDEgMS4wMSAwIDAwLS4zMi0xLjYzLjk5Ljk5IDAgMDAtMS4wOS4yMUwxMiAxMi42MmwtMi4zLTIuMzNhMSAxIDAgMDAtMS40IDB6XCIvPjwvc3ZnPic7XHJcblxyXG5cdFx0dmFsdWUuY2xhc3NOYW1lID0gJ3NlbGVjdF9fdmFsdWUnO1xyXG5cdFx0dmFsdWUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwic2VsZWN0X192YWx1ZS1pbm5lclwiPjwvc3Bhbj4nO1xyXG5cclxuXHRcdHZhbHVlLmFwcGVuZENoaWxkKGFycm93KTtcclxuXHRcdHNlbGVjdC5hcHBlbmRDaGlsZCh2YWx1ZSk7XHJcblxyXG5cdFx0Y29uc3QgZm9ybSA9IHNlbGVjdC5jbG9zZXN0KCdmb3JtJyksXHJcblx0XHRcdGNvbnRyb2wgPSBzZWxlY3QucXVlcnlTZWxlY3Rvcignc2VsZWN0JyksXHJcblx0XHRcdG9wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKSxcclxuXHRcdFx0c2VsZWN0ZWQgPSBzZWxlY3QucXVlcnlTZWxlY3Rvcignb3B0aW9uW3NlbGVjdGVkXScpLFxyXG5cdFx0XHR2YWx1ZVRleHQgPSBzZWxlY3QucXVlcnlTZWxlY3RvcignLnNlbGVjdF9fdmFsdWUtaW5uZXInKSxcclxuXHRcdFx0bGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuXHRcdGxpc3QuY2xhc3NOYW1lID0gJ3NlbGVjdF9fbGlzdCc7XHJcblxyXG5cdFx0Y29udHJvbC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuXHJcblx0XHRcdHZhbHVlVGV4dC50ZXh0Q29udGVudCA9IGNvbnRyb2wucXVlcnlTZWxlY3RvcignW3ZhbHVlPVwiJyArIGNvbnRyb2wudmFsdWUgKyAnXCJdJykudGV4dENvbnRlbnQ7XHJcblxyXG5cdFx0XHRzZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0LS1kZWZhdWx0Jyk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYoY29udHJvbC5kaXNhYmxlZCl7XHJcblxyXG5cdFx0XHRzZWxlY3QuY2xhc3NMaXN0LmFkZCgnc2VsZWN0LS1kaXNhYmxlZCcpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZihjb250cm9sLnZhbHVlID09PSAnbm9uZScpe1xyXG5cclxuXHRcdFx0c2VsZWN0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdC0tZGVmYXVsdCcpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR2YWx1ZVRleHQudGV4dENvbnRlbnQgPSBzZWxlY3QucXVlcnlTZWxlY3Rvcignb3B0aW9uW3ZhbHVlPVwiJyArIGNvbnRyb2wudmFsdWUgKyAnXCJdJykudGV4dENvbnRlbnQ7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShvcHRpb24sIGVsID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHJcblx0XHRcdG8uY2xhc3NOYW1lID0gJ2J1dHRvbiBzZWxlY3RfX2xpc3QtaXRlbSc7XHJcblxyXG5cdFx0XHRvLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuXHRcdFx0by5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZWwuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKTtcclxuXHJcblx0XHRcdG8udGV4dENvbnRlbnQgPSBlbC50ZXh0Q29udGVudDtcclxuXHJcblx0XHRcdGxpc3QuYXBwZW5kQ2hpbGQobyk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RfX2xpc3QtaXRlbScpKXtcclxuXHJcblx0XHRcdFx0Y29udHJvbC52YWx1ZSA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XHJcblxyXG5cdFx0XHRcdGNvbnRyb2wuZGlzcGF0Y2hFdmVudChDdXN0b21FdmVudENoYW5nZSk7XHJcblxyXG5cdFx0XHRcdGlmKGZvcm0pIHtcclxuXHJcblx0XHRcdFx0XHRmb3JtLmRpc3BhdGNoRXZlbnQoQ3VzdG9tRXZlbnRDaGFuZ2UpO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2VsZWN0LmFwcGVuZENoaWxkKGxpc3QpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcblxyXG5cdFx0Y29uc3QgaXNTZWxlY3QgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLnNlbGVjdCcpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oc2VsZWN0cywgc2VsZWN0ID0+IHtcclxuXHJcblx0XHRcdHNlbGVjdC5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3QtLW9wZW4nLCBzZWxlY3QgPT09IGlzU2VsZWN0ICYmICFpc1NlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC0tb3BlbicpKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0JykpOyIsIiggdGFicyA9PiB7XHJcblxyXG5cdGlmKCF0YWJzLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHQvLyDQv9GA0L7QstC10YDRj9C10LwgaGFzaFxyXG5cdGNvbnN0IGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xyXG5cclxuXHRjb25zdCBidG5IYXNoID0gKGJ0bnMsaXRlbXMpID0+IHtcclxuXHJcblx0XHRBcnJheS5mcm9tKGJ0bnMsIChfYnRuLCBpbmRleCkgPT4gc2V0QWN0aXZlKF9idG4sIGl0ZW1zW2luZGV4XSwgX2J0bi5ocmVmID09PSBsb2NhdGlvbi5ocmVmKSk7XHJcblxyXG5cdH07XHJcblxyXG5cdGNvbnN0IHNldEFjdGl2ZSA9IChidG4sIGl0ZW0sIHRvZ2dsZSkgPT4ge1xyXG5cclxuXHRcdGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnLCB0b2dnbGUpO1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnLCB0b2dnbGUpO1xyXG5cclxuXHR9XHJcblxyXG5cdEFycmF5LmZyb20odGFicywgdGFiID0+IHtcclxuXHJcblx0XHRjb25zdCBidG5zID0gdGFiLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzX19idG4nKSxcclxuXHRcdFx0ICBpdGVtcyA9IHRhYi5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19faXRlbScpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oYnRucywgYnRuID0+XHJcblx0XHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+XHJcblx0XHRcdFx0QXJyYXkuZnJvbShidG5zLCAoX2J0biwgaW5kZXgpID0+XHJcblx0XHRcdFx0XHRzZXRBY3RpdmUoX2J0biwgaXRlbXNbaW5kZXhdLCBfYnRuID09PSBidG4pKSkpO1xyXG5cclxuXHRcdGlmKGhhc2gpIHtcclxuXHJcblx0XHRcdGJ0bkhhc2goYnRucyxpdGVtcyk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgKCkgPT4gYnRuSGFzaChidG5zLGl0ZW1zKSk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnMnKSk7IiwiKCBpdGVtcyA9PiB7XHJcblxyXG5cdGlmKCFpdGVtcy5sZW5ndGgpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4ge1xyXG5cclxuXHRcdGNvbnN0IGJ0biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC10aW1lX19idG4nKSxcclxuXHRcdFx0ICBpbnB1dCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC10aW1lX19pbnB1dCcpLFxyXG5cdFx0XHQgIGRhdGFsaXN0ID0gZWwucXVlcnlTZWxlY3RvcignLmlucHV0LXRpbWVfX2RhdGFsaXN0Jyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShkYXRhbGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12YWx1ZV0nKSwgZWwgPT4ge1xyXG5cclxuXHRcdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtdGltZS0tb3BlbicpO1xyXG5cclxuXHRcdFx0XHRpZihpbnB1dC52YWx1ZSAhPT0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykpe1xyXG5cclxuXHRcdFx0XHRcdGlucHV0LnZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XHJcblx0XHRcdFx0XHRpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiKSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRpZihldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAyNykge1xyXG5cclxuXHRcdFx0XHRpbnB1dC5ibHVyKCk7XHJcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtdGltZS0tb3BlbicpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcblxyXG5cdFx0Y29uc3QgaXNJbnB1dFRpbWUgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLmlucHV0LXRpbWUnKTtcclxuXHJcblx0XHRBcnJheS5mcm9tKGl0ZW1zLCBlbCA9PiB7XHJcblxyXG5cdFx0XHRlbC5jbGFzc0xpc3QudG9nZ2xlKCdpbnB1dC10aW1lLS1vcGVuJywgZWwgPT09IGlzSW5wdXRUaW1lICYmICFpc0lucHV0VGltZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0LXRpbWUtLW9wZW4nKSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0LXRpbWUnKSk7IiwiKCB0b29sdGlwcyA9PiB7XHJcblxyXG5cdGlmKHRvb2x0aXBzLmxlbmd0aCl7XHJcblxyXG5cdFx0QXJyYXkuZnJvbSh0b29sdGlwcywgdG9vbHRpcCA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcblx0XHRcdHRpdGxlLmNsYXNzTmFtZSA9ICd0b29sdGlwLXRpdGxlX19pbm5lcic7XHJcblxyXG5cdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IHRvb2x0aXAuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xyXG5cdFx0XHR0b29sdGlwLmFwcGVuZENoaWxkKHRpdGxlKTtcclxuXHRcdFx0dG9vbHRpcC5yZW1vdmVBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwLXRpdGxlJykpO1xyXG5cclxuKCB0b29sdGlwcyA9PiB7XHJcblxyXG5cdGlmKHRvb2x0aXBzLmxlbmd0aCl7XHJcblxyXG5cdFx0Y29uc3QgaWNvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLFxyXG5cdFx0XHQgIGljb0NoYXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG5cdFx0aWNvLmlubmVySFRNTCA9ICc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMjAgMTJhOCA4IDAgMTEtMTYgMCA4IDggMCAwMTE2IDB6bS01Ljc0LTMuODdhMy4xOCAzLjE4IDAgMDEuNTYgMy43OGMtLjM4LjctMSAxLjIyLTEuNzQgMS40OWEuNC40IDAgMDAtLjI4LjM4di42MmEuOC44IDAgMDEtMS42IDBWMTIuOEEuOC44IDAgMDExMiAxMmMuODggMCAxLjYtLjcyIDEuNi0xLjZhMS42IDEuNiAwIDAwLTMuMiAwIC44LjggMCAwMS0xLjU5LjA4bC0uMDEtLjEyYy4wMS0yIDEuODYtMy41NSAzLjk1LTMuMDcuNTcuMTMgMS4xLjQyIDEuNTEuODR6TTEyLjggMTYuOGEuOC44IDAgMTEtMS42IDAgLjguOCAwIDAxMS42IDB6XCIvPjwvc3ZnPic7XHJcblxyXG5cdFx0aWNvQ2hhdC5pbm5lckhUTUwgPSAnPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xNSAxNmg0VjZINXYxMGg3LjMzTDE1IDE4di0yem0yIDJ2MmExIDEgMCAwMS0xLjYuOEwxMS42NyAxOEg1YTIgMiAwIDAxLTItMlY2YTIgMiAwIDAxMi0yaDE0YTIgMiAwIDAxMiAydjEwYTIgMiAwIDAxLTIgMmgtMnpcIi8+PHBhdGggZD1cIk03IDEwaDEwVjhIN3Yyem0wIDRoNnYtMkg3djJ6XCIvPjwvc3ZnPic7XHJcblxyXG5cdFx0bGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25SZWNvcmRzID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IHQgPSBtdXRhdGlvblJlY29yZHNbMF0udGFyZ2V0LFxyXG5cdFx0XHRcdCAgcmVjdCA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyhyZWN0LmxlZnQgPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHJlY3QucmlnaHQpO1xyXG4vKlxyXG5cdFx0XHRpZih0Lm9wZW4pIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgaW5uZXIgPSB0LnF1ZXJ5U2VsZWN0b3IoJy5hc2tfX2lubmVyJyk7XHJcblxyXG5cdFx0XHRcdGlmKHJlY3QubGVmdCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCkge1xyXG5cclxuXHRcdFx0XHRcdC8vINC/0YDQsNCy0LXQtVxyXG5cclxuXHRcdFx0XHRcdGlubmVyLnN0eWxlLmxlZnQgPSAnYXV0byc7XHJcblx0XHRcdFx0XHRpbm5lci5zdHlsZS5yaWdodCA9IDA7XHJcblx0XHRcdFx0XHRpbm5lci5zdHlsZS53aWR0aCA9IHJlY3QubGVmdCArICdweCc7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHJcblx0XHRcdFx0XHQvLyDQu9C10LLQtdC1XHJcblxyXG5cdFx0XHRcdFx0aW5uZXIuc3R5bGUucmlnaHQgPSAnYXV0byc7XHJcblx0XHRcdFx0XHRpbm5lci5zdHlsZS5sZWZ0ID0gMDtcclxuXHRcdFx0XHRcdGlubmVyLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0ICsgJ3B4JztcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuKi9cdFx0fSk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbSh0b29sdGlwcywgdG9vbHRpcCA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBidG4gPSB0b29sdGlwLnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwLWhlbHBfX2J0bicpO1xyXG5cclxuXHRcdFx0aWYodG9vbHRpcC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rvb2x0aXAtaGVscC0tY2hhdCcpKSB7XHJcblxyXG5cdFx0XHRcdGJ0bi5hcHBlbmRDaGlsZChpY29DaGF0LmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cclxuXHRcdFx0XHRidG4uYXBwZW5kQ2hpbGQoaWNvLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRvYnNlcnZlci5vYnNlcnZlKHRvb2x0aXAsIHtcclxuXHJcblx0XHRcdFx0YXR0cmlidXRlcyA6IHRydWVcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy50b29sdGlwLWhlbHAnKTtcclxuXHJcblx0XHRcdEFycmF5LmZyb20odG9vbHRpcHMsIHRvb2x0aXAgPT4ge1xyXG5cclxuXHRcdFx0XHRpZih0YXJnZXQgIT09IHRvb2x0aXApIHtcclxuXHJcblx0XHRcdFx0XHR0b29sdGlwLm9wZW4gPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwLWhlbHAnKSk7Il19
