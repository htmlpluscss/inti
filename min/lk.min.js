/*! js-cookie v3.0.0-rc.1 | MIT */
!function(e,t){var n,r;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,n=e.Cookies,(r=e.Cookies=t()).noConflict=function(){return e.Cookies=n,r})}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function n(r,o){function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n=r.write(n,t);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=t+"="+n+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var s=n[i].split("="),a=s.slice(1).join("=");'"'===a[0]&&(a=a.slice(1,-1));try{var c=t.read(s[0]);if(o[c]=r.read(a,c),e===c)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(r)}})}(t,{path:"/"})}),function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e.Mustache={},t(e.Mustache))}(this,function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var s=RegExp.prototype.test;var a=/\S/;function c(e){return!function(e,t){return s.call(e,t)}(a,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var u=/\s*/,d=/\s+/,f=/\s*=/,p=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function m(e){this.string=e,this.tail=e,this.pos=0}function v(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function y(){this.cache={}}m.prototype.eos=function(){return""===this.tail},m.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},m.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},v.prototype.push=function(e){return new v(e,this)},v.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var o,s,a=this,c=!1;a;){if(e.indexOf(".")>0)for(t=a.view,o=e.split("."),s=0;null!=t&&s<o.length;)s===o.length-1&&(c=i(t,o[s])),t=t[o[s++]];else t=a.view[e],c=i(a.view,e);if(c)break;a=a.parent}n[e]=t}return r(t)&&(t=t.call(this.view)),t},y.prototype.clearCache=function(){this.cache={}},y.prototype.parse=function(t,r){var i=this.cache,s=i[t];return null==s&&(s=i[t]=function(t,r){if(!t)return[];var i,s,a,l=[],v=[],y=[],w=!1,g=!1;function b(){if(w&&!g)for(;y.length;)delete v[y.pop()];else y=[];w=!1,g=!1}function S(e){if("string"==typeof e&&(e=e.split(d,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(o(e[0])+"\\s*"),s=new RegExp("\\s*"+o(e[1])),a=new RegExp("\\s*"+o("}"+e[1]))}S(r||e.tags);for(var _,A,L,x,E,k,q=new m(t);!q.eos();){if(_=q.pos,L=q.scanUntil(i))for(var C=0,T=L.length;C<T;++C)c(x=L.charAt(C))?y.push(v.length):g=!0,v.push(["text",x,_,_+1]),_+=1,"\n"===x&&b();if(!q.scan(i))break;if(w=!0,A=q.scan(h)||"name",q.scan(u),"="===A?(L=q.scanUntil(f),q.scan(f),q.scanUntil(s)):"{"===A?(L=q.scanUntil(a),q.scan(p),q.scanUntil(s),A="&"):L=q.scanUntil(s),!q.scan(s))throw new Error("Unclosed tag at "+q.pos);if(E=[A,L,_,q.pos],v.push(E),"#"===A||"^"===A)l.push(E);else if("/"===A){if(!(k=l.pop()))throw new Error('Unopened section "'+L+'" at '+_);if(k[1]!==L)throw new Error('Unclosed section "'+k[1]+'" at '+_)}else"name"===A||"{"===A||"&"===A?g=!0:"="===A&&S(L)}if(k=l.pop())throw new Error('Unclosed section "'+k[1]+'" at '+q.pos);return function(e){for(var t,n=[],r=n,o=[],i=0,s=e.length;i<s;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(v))}(t,r)),s},y.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof v?t:new v(t);return this.renderTokens(r,o,n,e)},y.prototype.renderTokens=function(e,t,n,r){for(var o,i,s,a="",c=0,l=e.length;c<l;++c)s=void 0,"#"===(i=(o=e[c])[0])?s=this.renderSection(o,t,n,r):"^"===i?s=this.renderInverted(o,t,n,r):">"===i?s=this.renderPartial(o,t,n,r):"&"===i?s=this.unescapedValue(o,t):"name"===i?s=this.escapedValue(o,t):"text"===i&&(s=this.rawValue(o)),void 0!==s&&(a+=s);return a},y.prototype.renderSection=function(e,t,o,i){var s=this,a="",c=t.lookup(e[1]);if(c){if(n(c))for(var l=0,u=c.length;l<u;++l)a+=this.renderTokens(e[4],t.push(c[l]),o,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(e[4],t.push(c),o,i);else if(r(c)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,i.slice(e[3],e[5]),function(e){return s.render(e,t,o)}))&&(a+=c)}else a+=this.renderTokens(e[4],t,o,i);return a}},y.prototype.renderInverted=function(e,t,r,o){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,r,o)},y.prototype.renderPartial=function(e,t,n){if(n){var o=r(n)?n(e[1]):n[e[1]];return null!=o?this.renderTokens(this.parse(o),t,n,o):void 0}},y.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},y.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},y.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["<%","%>"];var w=new y;return e.clearCache=function(){return w.clearCache()},e.parse=function(e,t){return w.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return w.render(e,t,r)},e.to_html=function(t,n,o,i){var s=e.render(t,n,o);if(!r(i))return s;i(s)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return l[e]})},e.Scanner=m,e.Context=v,e.Writer=y,e}),function(e,t){"use strict";var n={};e.PubSub=n;var r=e.define;!function(e){var t={},n=-1;function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function i(e,t,n){e(t,n)}function s(e,n,r,s){var a,c=t[n],l=s?i:o;if(t.hasOwnProperty(n))for(a in c)c.hasOwnProperty(a)&&l(c[a],e,r)}function a(e,n,o,i){var a=function(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(s(e,e,t,n);-1!==o;)o=(r=r.substr(0,o)).lastIndexOf("."),s(e,r,t,n)}}(e="symbol"==typeof e?e.toString():e,n,i);return!!function(e){for(var n=String(e),o=Boolean(t.hasOwnProperty(n)&&r(t[n])),i=n.lastIndexOf(".");!o&&-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),o=Boolean(t.hasOwnProperty(n)&&r(t[n]));return o}(e)&&(!0===o?a():setTimeout(a,0),!0)}e.publish=function(t,n){return a(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return a(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=r,o},e.subscribeOnce=function(t,n){var r=e.subscribe(t,function(){e.unsubscribe(r),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var r,o,i,s="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),a=!s&&"string"==typeof n,c="function"==typeof n,l=!1;if(!s){for(r in t)if(t.hasOwnProperty(r)){if(o=t[r],a&&o[n]){delete o[n],l=n;break}if(c)for(i in o)o.hasOwnProperty(i)&&o[i]===n&&(delete o[i],l=!0)}return l}e.clearSubscriptions(n)}}(n),"function"==typeof r&&r.amd?r(function(){return n}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=n),exports.PubSub=n,module.exports=exports=n)}("object"==typeof window&&window||this),
/*! UTF-8

© kovrigin
Все права разрешены
красивый дизайн должен иметь красивый код®

https://github.com/htmlpluscss/

*/
(()=>{let e=null,t=window.innerWidth;window.addEventListener("resize",()=>{window.requestAnimationFrame(()=>{e||(e=setTimeout(()=>{e=null,t!==window.innerWidth&&(t=window.innerWidth,PubSub.publish("windowWidthResize"))},100))})}),window.addEventListener("load",()=>{document.documentElement.style.setProperty("--transitionDefault",".3s")}),window.cssAnimation=(e=>{let t,n,r=document.createElement("cssanimation");switch(e){case"animation":t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};break;case"transition":t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}}for(n in t)if(void 0!==r.style[n])return t[n]}),window.isInViewport=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight}),window.sepNumber=function(e){return(e=(e=e.toString()).replace(/\s+/g,"")).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},window.strToNumber=function(e){return parseInt(e.replace(/\s+/g,""),10)},window.declension=((e,t)=>{let n,r=e%100;return n=r>4&&r<21?t[2]:1==(r%=10)?t[0]:r>1&&r<5?t[1]:t[2]})})(),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelectorAll(".checkbox__input"),n=e.querySelector('.checkbox__input[value="all"]'),r=Array.from(t).filter(e=>e!==n);Array.from(t,e=>{e.addEventListener("change",()=>{n&&(n===e?r.forEach(e=>e.checked=n.checked):n.checked=r.every(e=>!0===e.checked))})})})})(document.querySelectorAll(".checkbox-group")),(e=>{0!==e.length&&window.addEventListener("click",t=>{const n=t.target.closest(".context-menu");Array.from(e,e=>{e.classList.toggle("is-open",e===n&&!1===n.classList.contains("is-open"))})})})(document.querySelectorAll(".context-menu")),(e=>{if(e){const t=(t=0)=>{Array.from(e.querySelectorAll(".dashboard__desc"),e=>{t<e.clientHeight&&(t=e.clientHeight)}),document.documentElement.style.setProperty("--dashboardDescHeighgt",t+"px")};PubSub.subscribe("windowWidthResize",()=>t()),t()}})(document.querySelector(".dashboard")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".form-required__submit");e.addEventListener("input",()=>{let n=!0;Array.from(e.querySelectorAll("[required]"),t=>{"radio"===t.type&&0===e.querySelectorAll('[name="'+t.name+'"]:checked').length?n=!1:"none"!==t.value&&0!==t.value.length||(n=!1)}),t.disabled=!n})})})(document.querySelectorAll(".form-required")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".form__submit");e.addEventListener("submit",n=>{n.preventDefault(),e.classList.add("is-loading"),t.disabled=!0,fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.json()).then(n=>{if(console.log(n),e.classList.remove("is-loading"),t.disabled=!1,n.notification&&notification(...n.notification),n.redirect){const e=n.redirectDelay?1e3*n.redirectDelay:0;setTimeout(()=>location.assign(n.redirect),e)}n.reset&&e.reset(),n.refresh&&location.reload()})})})})(document.querySelectorAll(".form")),(e=>{e.length&&Array.from(e,e=>{e.querySelector("input").addEventListener("change",()=>{e.querySelector(".input-file__value").textContent=e.querySelector("input").value})})})(document.querySelectorAll(".input-file")),(e=>{e.length&&Array.from(e,e=>{e.addEventListener("change",()=>{event.preventDefault(),e.classList.add("is-loading"),fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.json()).then(t=>{if(console.log(t),e.classList.remove("is-loading"),alert("вырианты ответов: rejected | removed | pending, link "),t.pending){document.querySelector("#modal-invitations-complete-link").href=t.link;const n=new CustomEvent("modalShow",{detail:{selector:"invitations-complete"}});window.modal.dispatchEvent(n),e.remove()}t.rejected&&e.classList.add("invitations--rejected"),t.removed&&(e.addEventListener(window.cssAnimation("transition"),()=>e.remove()),setTimeout(()=>e.classList.add("is-removed")))})})})})(document.querySelectorAll(".invitations")),(e=>{e.length&&(Array.from(e,e=>{const t=[],n=e.querySelector(".live-search-docs__form"),r=n.querySelector(".live-search-docs__input"),o=(n.querySelector(".live-search-docs__reset"),e.querySelector(".live-search-docs__empty"),e.querySelectorAll(".live-search-docs__item")),i=e=>{e.length?t.forEach((t,n)=>{t.some(t=>-1!==t.toLowerCase().indexOf(e.toLowerCase()))?(Array.from(o[n].querySelectorAll(".live-search-docs__string"),(n,r)=>{n.innerHTML=t[r].replace(e,'<span class="highlight">'+e+"</span>")}),o[n].classList.remove("live-search-docs__hide")):(o[n].classList.add("live-search-docs__hide"),Array.from(o[n].querySelectorAll(".live-search-docs__string"),(e,n)=>{e.textContent=t[n]}))}):Array.from(o,(e,n)=>{Array.from(e.querySelectorAll(".live-search-docs__string"),(e,r)=>e.textContent=t[n][r]),e.classList.remove("live-search-docs__hide")})};Array.from(o,(e,n)=>{t[n]=[],Array.from(e.querySelectorAll(".live-search-docs__string"),e=>{t[n].push(e.textContent.trim())})}),r.addEventListener("focus",()=>e.classList.add("is-focus")),n.addEventListener("reset",()=>{n.classList.add("is-empty"),e.classList.remove("is-focus","is-noempty"),i("")}),r.addEventListener("keyup",()=>{n.classList.toggle("is-empty",0===r.value.length),e.classList.toggle("is-noempty",r.value.length),i(r.value)})}),window.addEventListener("click",t=>{const n=t.target.closest(".live-search-docs__form");Array.from(e,e=>{n!==e.querySelector(".live-search-docs__form")&&e.classList.remove("is-focus")})}))})(document.querySelectorAll(".live-search-docs")),(e=>{e&&window.addEventListener("click",t=>{t.target.closest(".header__user-btn")?e.classList.toggle("is-open"):null===t.target.closest(".header__user")&&e.classList.remove("is-open")})})(document.querySelector(".header__user")),(e=>{if(!e)return;const t=e.querySelectorAll(".modal__item"),n=(document.querySelectorAll("[data-modal]"),document.querySelector(".wrapper"));let r=null,o=window.pageYOffset;e.addEventListener("hide",()=>{document.body.classList.remove("modal-show"),n.style.top=0,window.scrollTo(0,o),r=!1}),e.addEventListener("keyup",t=>{"Escape"===t.key&&e.dispatchEvent(new CustomEvent("hide"))});const i=i=>{r||(o=window.pageYOffset),r=e.querySelector(".modal__item--"+i),Array.from(t,e=>e.classList.toggle("visuallyhidden",e!==r)),n.style.top=-o+"px",document.body.classList.add("modal-show"),window.scrollTo(0,0),r.focus(),PubSub.publish("open-"+i)};e.addEventListener("click",t=>{(t.target.classList.contains("modal")||t.target.closest(".modal__close"))&&e.dispatchEvent(new CustomEvent("hide"))}),document.addEventListener("click",e=>{let t=e.target;for(;t!==document;)t.hasAttribute("data-modal")&&i(t.getAttribute("data-modal")),t=t.parentNode}),e.addEventListener("modalShow",e=>i(e.detail.selector)),e.ok=((t,n,r="")=>{e.querySelector(".modal__item--ok").setAttribute("data-mod",r),e.querySelector(".modal__item--ok .modal-mini__title").innerHTML=t||"",e.querySelector(".modal__item--ok .modal-mini__text").innerHTML=n||"",i("ok")})})(document.querySelector(".modal")),(e=>{if(!e)return;const t=document.querySelector("#notification-template").innerHTML;window.notification=((n,r,o=10)=>{e.insertAdjacentHTML("beforeend",Mustache.render(t,{head:n,text:r}));const i=e.querySelector(".is-new");setTimeout(()=>{i.classList.remove("is-new"),i.style.height=i.clientHeight+"px"},100),i.addEventListener(window.cssAnimation("transition"),()=>{i.classList.contains("is-hide")&&i.remove()}),i.addEventListener("click",()=>{i.classList.add("is-hide")}),setTimeout(()=>{i.classList.add("is-hide")},1e3*o)});const n=()=>{let e=document.querySelector(".header").getBoundingClientRect().bottom-window.pageYOffset;document.documentElement.style.setProperty("--notificationTop",e<10?10:e+"px")};window.addEventListener("scroll",()=>window.requestAnimationFrame(()=>n())),n()})(document.querySelector(".notification")),window.selects=(e=>{if(e.querySelector(".select__list"))return;const t=document.createElement("div");t.className="select__value",t.innerHTML='<span class="select__value-inner"></span>',t.insertAdjacentHTML("beforeend",'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 14.5L16 10H8L12 14.5Z"/></svg>'),e.appendChild(t);const n=e.closest("form"),r=e.querySelector("select"),o=e.querySelectorAll("option"),i=e.querySelector(".select__value-inner"),s=(e.classList.contains("select--filter"),document.createElement("div"));s.className="select__list";const a=r.querySelector('[value="'+r.value+'"]').textContent;(r.disabled||"none"===r.value||""===r.value)&&e.classList.add("select--default"),""!==r.value&&(i.textContent=e.querySelector('option[value="'+r.value+'"]').textContent),Array.from(o,t=>{if(t.disabled||"none"===t.value||""===t.value)return;const n=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input");n.className="select__list-item",a.type="radio",a.name=r.name,a.value=t.value,o.textContent=t.textContent,r.value===t.value&&(a.checked=!0),r.required&&(a.required=!0),a.addEventListener("change",()=>{i.textContent=t.textContent,e.classList.remove("select--open")}),n.appendChild(a),n.appendChild(o),s.appendChild(n)}),e.appendChild(s),n&&n.addEventListener("reset",()=>{e.classList.add("select--default"),i.textContent=a}),r.remove()}),window.selectsCollection=document.querySelectorAll(".select"),window.selectsCollection.length&&Array.from(window.selectsCollection,e=>window.selects(e)),window.addEventListener("click",e=>{const t=e.target.closest(".select");Array.from(window.selectsCollection,e=>{e.classList.toggle("select--open",e===t&&!1===t.classList.contains("select--open"))})}),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".tab-filter__form"),n=e.querySelectorAll(".tab-filter__item");t&&t.addEventListener("change",()=>{const e=t.elements.filter.value;Array.from(n,t=>{"all"===e?t.classList.remove("hide"):t.classList.toggle("hide",t.getAttribute("data-filter")!==e)})})})})(document.querySelectorAll(".tab-filter")),(e=>{e.length&&Array.from(e,e=>{e.addEventListener("submit",t=>{t.preventDefault(),fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.json()).then(t=>{console.log(t);const n=e.closest("table-workgroups").querySelectorAll(".table-workgroups-unread-item");Array.from(n,e=>e.classList.remove("table-workgroups-unread-item"))})})})})(document.querySelectorAll(".table-workgroups-read-all"));