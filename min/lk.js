/*!
 * dist/inputmask.min
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2021 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.6-beta.29
 */
!function webpackUniversalModuleDefinition(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return modules=[function(module){module.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"CONTROL":17,"KEY_229":229}')},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.caret=caret,exports.determineLastRequiredPosition=determineLastRequiredPosition,exports.determineNewCaretPosition=determineNewCaretPosition,exports.getBuffer=getBuffer,exports.getBufferTemplate=getBufferTemplate,exports.getLastValidPosition=getLastValidPosition,exports.isMask=isMask,exports.resetMaskSet=resetMaskSet,exports.seekNext=seekNext,exports.seekPrevious=seekPrevious,exports.translatePosition=translatePosition;var _validationTests=__webpack_require__(3),_validation=__webpack_require__(4);function caret(input,begin,end,notranslate,isDelete){var inputmask=this,opts=this.opts,range;if(void 0===begin)return"selectionStart"in input&&"selectionEnd"in input?(begin=input.selectionStart,end=input.selectionEnd):window.getSelection?(range=window.getSelection().getRangeAt(0),range.commonAncestorContainer.parentNode!==input&&range.commonAncestorContainer!==input||(begin=range.startOffset,end=range.endOffset)):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-input.inputmask._valueGet().length),end=begin+range.text.length),{begin:notranslate?begin:translatePosition.call(this,begin),end:notranslate?end:translatePosition.call(this,end)};if(Array.isArray(begin)&&(end=this.isRTL?begin[0]:begin[1],begin=this.isRTL?begin[1]:begin[0]),void 0!==begin.begin&&(end=this.isRTL?begin.begin:begin.end,begin=this.isRTL?begin.end:begin.begin),"number"==typeof begin){begin=notranslate?begin:translatePosition.call(this,begin),end=notranslate?end:translatePosition.call(this,end),end="number"==typeof end?end:begin;var scrollCalc=parseInt(((input.ownerDocument.defaultView||window).getComputedStyle?(input.ownerDocument.defaultView||window).getComputedStyle(input,null):input.currentStyle).fontSize)*end;if(input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0,input.inputmask.caretPos={begin:begin,end:end},opts.insertModeVisual&&!1===opts.insertMode&&begin===end&&(isDelete||end++),input===(input.inputmask.shadowRoot||document).activeElement)if("setSelectionRange"in input)input.setSelectionRange(begin,end);else if(window.getSelection){if(range=document.createRange(),void 0===input.firstChild||null===input.firstChild){var textNode=document.createTextNode("");input.appendChild(textNode)}range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length),range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length),range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else input.createTextRange&&(range=input.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select())}}function determineLastRequiredPosition(returnDefinition){var inputmask=this,maskset=this.maskset,$=this.dependencyLib,buffer=_validationTests.getMaskTemplate.call(this,!0,getLastValidPosition.call(this),!0,!0),bl=buffer.length,pos,lvp=getLastValidPosition.call(this),positions={},lvTest=maskset.validPositions[lvp],ndxIntlzr=void 0!==lvTest?lvTest.locator.slice():void 0,testPos;for(pos=lvp+1;pos<buffer.length;pos++)testPos=_validationTests.getTestTemplate.call(this,pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);var lvTestAlt=lvTest&&void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation]:void 0;for(pos=bl-1;lvp<pos&&(testPos=positions[pos],(testPos.match.optionality||testPos.match.optionalQuantifier&&testPos.match.newBlockMarker||lvTestAlt&&(lvTestAlt!==positions[pos].locator[lvTest.alternation]&&1!=testPos.match.static||!0===testPos.match.static&&testPos.locator[lvTest.alternation]&&_validation.checkAlternationMatch.call(this,testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&""!==_validationTests.getTests.call(this,pos)[0].def))&&buffer[pos]===_validationTests.getPlaceholder.call(this,pos,testPos.match));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function determineNewCaretPosition(selectedCaret,tabbed){var inputmask=this,maskset=this.maskset,opts=this.opts;function doRadixFocus(clickPos){if(""!==opts.radixPoint&&0!==opts.digits){var vps=maskset.validPositions;if(void 0===vps[clickPos]||vps[clickPos].input===_validationTests.getPlaceholder.call(inputmask,clickPos)){if(clickPos<seekNext.call(inputmask,-1))return!0;var radixPos=getBuffer.call(inputmask).indexOf(opts.radixPoint);if(-1!==radixPos){for(var vp in vps)if(vps[vp]&&radixPos<vp&&vps[vp].input!==_validationTests.getPlaceholder.call(inputmask,vp))return!1;return!0}}}return!1}if(tabbed&&(inputmask.isRTL?selectedCaret.end=selectedCaret.begin:selectedCaret.begin=selectedCaret.end),selectedCaret.begin===selectedCaret.end){switch(opts.positionCaretOnClick){case"none":break;case"select":selectedCaret={begin:0,end:getBuffer.call(inputmask).length};break;case"ignore":selectedCaret.end=selectedCaret.begin=seekNext.call(inputmask,getLastValidPosition.call(inputmask));break;case"radixFocus":if(doRadixFocus(selectedCaret.begin)){var radixPos=getBuffer.call(inputmask).join("").indexOf(opts.radixPoint);selectedCaret.end=selectedCaret.begin=opts.numericInput?seekNext.call(inputmask,radixPos):radixPos;break}default:var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition.call(inputmask,clickPosition,!0),lastPosition=seekNext.call(inputmask,-1!==lvclickPosition||isMask.call(inputmask,0)?lvclickPosition:-1);if(clickPosition<=lastPosition)selectedCaret.end=selectedCaret.begin=isMask.call(inputmask,clickPosition,!1,!0)?clickPosition:seekNext.call(inputmask,clickPosition);else{var lvp=maskset.validPositions[lvclickPosition],tt=_validationTests.getTestTemplate.call(inputmask,lastPosition,lvp?lvp.match.locator:void 0,lvp),placeholder=_validationTests.getPlaceholder.call(inputmask,lastPosition,tt.match);if(""!==placeholder&&getBuffer.call(inputmask)[lastPosition]!==placeholder&&!0!==tt.match.optionalQuantifier&&!0!==tt.match.newBlockMarker||!isMask.call(inputmask,lastPosition,opts.keepStatic,!0)&&tt.match.def===placeholder){var newPos=seekNext.call(inputmask,lastPosition);(newPos<=clickPosition||clickPosition===lastPosition)&&(lastPosition=newPos)}selectedCaret.end=selectedCaret.begin=lastPosition}}return selectedCaret}}function getBuffer(noCache){var inputmask=this,maskset=this.maskset;return void 0!==maskset.buffer&&!0!==noCache||(maskset.buffer=_validationTests.getMaskTemplate.call(this,!0,getLastValidPosition.call(this),!0),void 0===maskset._buffer&&(maskset._buffer=maskset.buffer.slice())),maskset.buffer}function getBufferTemplate(){var inputmask=this,maskset=this.maskset;return void 0===maskset._buffer&&(maskset._buffer=_validationTests.getMaskTemplate.call(this,!1,1),void 0===maskset.buffer&&(maskset.buffer=maskset._buffer.slice())),maskset._buffer}function getLastValidPosition(closestTo,strict,validPositions){var maskset=this.maskset,before=-1,after=-1,valids=validPositions||maskset.validPositions;for(var posNdx in void 0===closestTo&&(closestTo=-1),valids){var psNdx=parseInt(posNdx);valids[psNdx]&&(strict||!0!==valids[psNdx].generatedInput)&&(psNdx<=closestTo&&(before=psNdx),closestTo<=psNdx&&(after=psNdx))}return-1===before||before==closestTo?after:-1==after?before:closestTo-before<after-closestTo?before:after}function isMask(pos,strict,fuzzy){var inputmask=this,maskset=this.maskset,test=_validationTests.getTestTemplate.call(this,pos).match;if(""===test.def&&(test=_validationTests.getTest.call(this,pos).match),!0!==test.static)return test.fn;if(!0===fuzzy&&void 0!==maskset.validPositions[pos]&&!0!==maskset.validPositions[pos].generatedInput)return!0;if(!0!==strict&&-1<pos){if(fuzzy){var tests=_validationTests.getTests.call(this,pos);return tests.length>1+(""===tests[tests.length-1].match.def?1:0)}var testTemplate=_validationTests.determineTestTemplate.call(this,pos,_validationTests.getTests.call(this,pos)),testPlaceHolder=_validationTests.getPlaceholder.call(this,pos,testTemplate.match);return testTemplate.match.def!==testPlaceHolder}return!1}function resetMaskSet(soft){var maskset=this.maskset;maskset.buffer=void 0,!0!==soft&&(maskset.validPositions={},maskset.p=0)}function seekNext(pos,newBlock,fuzzy){var inputmask=this;void 0===fuzzy&&(fuzzy=!0);for(var position=pos+1;""!==_validationTests.getTest.call(this,position).match.def&&(!0===newBlock&&(!0!==_validationTests.getTest.call(this,position).match.newBlockMarker||!isMask.call(this,position,void 0,!0))||!0!==newBlock&&!isMask.call(this,position,void 0,fuzzy));)position++;return position}function seekPrevious(pos,newBlock){var inputmask=this,position=pos-1;if(pos<=0)return 0;for(;0<position&&(!0===newBlock&&(!0!==_validationTests.getTest.call(this,position).match.newBlockMarker||!isMask.call(this,position,void 0,!0))||!0!==newBlock&&!isMask.call(this,position,void 0,!0));)position--;return position}function translatePosition(pos){var inputmask=this,opts=this.opts,el=this.el;return!this.isRTL||"number"!=typeof pos||opts.greedy&&""===opts.placeholder||!el||(pos=Math.abs(this._valueGet().length-pos)),pos}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(16),__webpack_require__(17);var _mask=__webpack_require__(18),_inputmask=_interopRequireDefault(__webpack_require__(10)),_window=_interopRequireDefault(__webpack_require__(5)),_maskLexer=__webpack_require__(21),_validationTests=__webpack_require__(3),_positioning=__webpack_require__(1),_validation=__webpack_require__(4),_inputHandling=__webpack_require__(7),_eventruler=__webpack_require__(11),_definitions=_interopRequireDefault(__webpack_require__(22)),_defaults=_interopRequireDefault(__webpack_require__(23)),_canUseDOM=_interopRequireDefault(__webpack_require__(6));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document,dataKey="_inputmask_opts";function Inputmask(alias,options,internal){if(_canUseDOM.default){if(!(this instanceof Inputmask))return new Inputmask(alias,options,internal);this.dependencyLib=_inputmask.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==internal&&("[object Object]"===Object.prototype.toString.call(alias)?options=alias:(options=options||{},alias&&(options.alias=alias)),this.opts=_inputmask.default.extend(!0,{},this.defaults,options),this.noMasksCache=options&&void 0!==options.definitions,this.userOptions=options||{},resolveAlias(this.opts.alias,options,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.originalPlaceholder=void 0,this.isComposing=!1}}function resolveAlias(aliasStr,options,opts){var aliasDefinition=Inputmask.prototype.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),_inputmask.default.extend(!0,opts,aliasDefinition),_inputmask.default.extend(!0,opts,options),!0):(null===opts.mask&&(opts.mask=aliasStr),!1)}function importAttributeOptions(npt,opts,userOptions,dataAttribute){function importOption(option,optionData){var attrOption=""===dataAttribute?option:dataAttribute+"-"+option;optionData=void 0!==optionData?optionData:npt.getAttribute(attrOption),null!==optionData&&("string"==typeof optionData&&(0===option.indexOf("on")?optionData=_window.default[optionData]:"false"===optionData?optionData=!1:"true"===optionData&&(optionData=!0)),userOptions[option]=optionData)}if(!0===opts.importDataAttributes){var attrOptions=npt.getAttribute(dataAttribute),option,dataoptions,optionData,p;if(attrOptions&&""!==attrOptions&&(attrOptions=attrOptions.replace(/'/g,'"'),dataoptions=JSON.parse("{"+attrOptions+"}")),dataoptions)for(p in optionData=void 0,dataoptions)if("alias"===p.toLowerCase()){optionData=dataoptions[p];break}for(option in importOption("alias",optionData),userOptions.alias&&resolveAlias(userOptions.alias,userOptions,opts),opts){if(dataoptions)for(p in optionData=void 0,dataoptions)if(p.toLowerCase()===option.toLowerCase()){optionData=dataoptions[p];break}importOption(option,optionData)}}return _inputmask.default.extend(!0,opts,userOptions),"rtl"!==npt.dir&&!opts.rightAlign||(npt.style.textAlign="right"),"rtl"!==npt.dir&&!opts.numericInput||(npt.dir="ltr",npt.removeAttribute("dir"),opts.isRTL=!0),Object.keys(userOptions).length}Inputmask.prototype={dataAttribute:"data-inputmask",defaults:_defaults.default,definitions:_definitions.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function mask(elems){var that=this;return"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:Array.isArray(elems)?elems:Array.from(elems),elems.forEach(function(el,ndx){var scopedOpts=_inputmask.default.extend(!0,{},that.opts);if(importAttributeOptions(el,scopedOpts,_inputmask.default.extend(!0,{},that.userOptions),that.dataAttribute)){var maskset=(0,_maskLexer.generateMaskSet)(scopedOpts,that.noMasksCache);void 0!==maskset&&(void 0!==el.inputmask&&(el.inputmask.opts.autoUnmask=!0,el.inputmask.remove()),el.inputmask=new Inputmask(void 0,void 0,!0),el.inputmask.opts=scopedOpts,el.inputmask.noMasksCache=that.noMasksCache,el.inputmask.userOptions=_inputmask.default.extend(!0,{},that.userOptions),el.inputmask.el=el,el.inputmask.$el=(0,_inputmask.default)(el),el.inputmask.maskset=maskset,_inputmask.default.data(el,dataKey,that.userOptions),_mask.mask.call(el.inputmask))}}),elems&&elems[0]&&elems[0].inputmask||this},option:function option(options,noremask){return"string"==typeof options?this.opts[options]:"object"===_typeof(options)?(_inputmask.default.extend(this.userOptions,options),this.el&&!0!==noremask&&this.mask(this.el),this):void 0},unmaskedvalue:function unmaskedvalue(value){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==value){var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!1,!1,valueBuffer),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,_positioning.getBuffer.call(this),0,this.opts)}return _inputHandling.unmaskedvalue.call(this,this.el)},remove:function remove(){if(this.el){_inputmask.default.data(this.el,dataKey,null);var cv=this.opts.autoUnmask?(0,_inputHandling.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask),valueProperty;cv!==_positioning.getBufferTemplate.call(this).join("")?this._valueSet(cv,this.opts.autoUnmask):this._valueSet(""),_eventruler.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(valueProperty=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value"),valueProperty&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0})):document.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function getemptymask(){return this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),_positioning.getBufferTemplate.call(this).join("")},hasMaskedValue:function hasMaskedValue(){return!this.opts.autoUnmask},isComplete:function isComplete(){return this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),_validation.isComplete.call(this,_positioning.getBuffer.call(this))},getmetadata:function getmetadata(){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var maskTarget=_validationTests.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach(function(mtdt){return mtdt.mask!==maskTarget||(maskTarget=mtdt,!1)}),maskTarget}return this.maskset.metadata},isValid:function isValid(value){if(this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache),value){var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!0,!1,valueBuffer)}else value=this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join("");for(var buffer=_positioning.getBuffer.call(this),rl=_positioning.determineLastRequiredPosition.call(this),lmib=buffer.length-1;rl<lmib&&!_positioning.isMask.call(this,lmib);lmib--);return buffer.splice(rl,lmib+1-rl),_validation.isComplete.call(this,buffer)&&value===(this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join(""))},format:function format(value,metadata){this.maskset=this.maskset||(0,_maskLexer.generateMaskSet)(this.opts,this.noMasksCache);var valueBuffer=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,value,this.opts)||value).split("");_inputHandling.checkVal.call(this,void 0,!0,!1,valueBuffer);var formattedValue=this.isRTL?_positioning.getBuffer.call(this).slice().reverse().join(""):_positioning.getBuffer.call(this).join("");return metadata?{value:formattedValue,metadata:this.getmetadata()}:formattedValue},setValue:function setValue(value){this.el&&(0,_inputmask.default)(this.el).trigger("setvalue",[value])},analyseMask:_maskLexer.analyseMask},Inputmask.extendDefaults=function(options){_inputmask.default.extend(!0,Inputmask.prototype.defaults,options)},Inputmask.extendDefinitions=function(definition){_inputmask.default.extend(!0,Inputmask.prototype.definitions,definition)},Inputmask.extendAliases=function(alias){_inputmask.default.extend(!0,Inputmask.prototype.aliases,alias)},Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata)},Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value)},Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value)},Inputmask.remove=function(elems){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,elems.forEach(function(el){el.inputmask&&el.inputmask.remove()})},Inputmask.setValue=function(elems,value){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,elems.forEach(function(el){el.inputmask?el.inputmask.setValue(value):(0,_inputmask.default)(el).trigger("setvalue",[value])})},Inputmask.dependencyLib=_inputmask.default,_window.default.Inputmask=Inputmask;var _default=Inputmask;exports.default=_default},function(module,exports,__webpack_require__){"use strict";function getLocator(tst,align){var locator=(null!=tst.alternation?tst.mloc[getDecisionTaker(tst)]:tst.locator).join("");if(""!==locator)for(;locator.length<align;)locator+="0";return locator}function getDecisionTaker(tst){var decisionTaker=tst.locator[tst.alternation];return"string"==typeof decisionTaker&&0<decisionTaker.length&&(decisionTaker=decisionTaker.split(",")[0]),void 0!==decisionTaker?decisionTaker.toString():""}function getPlaceholder(pos,test,returnPL){var inputmask=this,opts=this.opts,maskset=this.maskset;if(test=test||getTest.call(this,pos).match,void 0!==test.placeholder||!0===returnPL)return"function"==typeof test.placeholder?test.placeholder(opts):test.placeholder;if(!0!==test.static)return opts.placeholder.charAt(pos%opts.placeholder.length);if(-1<pos&&void 0===maskset.validPositions[pos]){var tests=getTests.call(this,pos),staticAlternations=[],prevTest;if(tests.length>1+(""===tests[tests.length-1].match.def?1:0))for(var i=0;i<tests.length;i++)if(""!==tests[i].match.def&&!0!==tests[i].match.optionality&&!0!==tests[i].match.optionalQuantifier&&(!0===tests[i].match.static||void 0===prevTest||!1!==tests[i].match.fn.test(prevTest.match.def,maskset,pos,!0,opts))&&(staticAlternations.push(tests[i]),!0===tests[i].match.static&&(prevTest=tests[i]),1<staticAlternations.length&&/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)))return opts.placeholder.charAt(pos%opts.placeholder.length)}return test.def}function getMaskTemplate(baseOnInput,minimalPos,includeMode,noJit,clearOptionalTail){var inputmask=this,opts=this.opts,maskset=this.maskset,greedy=opts.greedy;clearOptionalTail&&(opts.greedy=!1),minimalPos=minimalPos||0;var maskTemplate=[],ndxIntlzr,pos=0,test,testPos,jitRenderStatic;do{if(!0===baseOnInput&&maskset.validPositions[pos])testPos=clearOptionalTail&&!0===maskset.validPositions[pos].match.optionality&&void 0===maskset.validPositions[pos+1]&&(!0===maskset.validPositions[pos].generatedInput||maskset.validPositions[pos].input==opts.skipOptionalPartCharacter&&0<pos)?determineTestTemplate.call(this,pos,getTests.call(this,pos,ndxIntlzr,pos-1)):maskset.validPositions[pos],test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(!0===includeMode?testPos.input:!1===includeMode?test.nativeDef:getPlaceholder.call(this,pos,test));else{testPos=getTestTemplate.call(this,pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice();var jitMasking=!0!==noJit&&(!1!==opts.jitMasking?opts.jitMasking:test.jit);jitRenderStatic=(jitRenderStatic&&test.static&&test.def!==opts.groupSeparator&&null===test.fn||maskset.validPositions[pos-1]&&test.static&&test.def!==opts.groupSeparator&&null===test.fn)&&maskset.tests[pos]&&1===maskset.tests[pos].length,jitRenderStatic||!1===jitMasking||void 0===jitMasking||"number"==typeof jitMasking&&isFinite(jitMasking)&&pos<jitMasking?maskTemplate.push(!1===includeMode?test.nativeDef:getPlaceholder.call(this,pos,test)):jitRenderStatic=!1}pos++}while((void 0===this.maxLength||pos<this.maxLength)&&(!0!==test.static||""!==test.def)||pos<minimalPos);return""===maskTemplate[maskTemplate.length-1]&&maskTemplate.pop(),!1===includeMode&&void 0!==maskset.maskLength||(maskset.maskLength=pos-1),opts.greedy=greedy,maskTemplate}function getTestTemplate(pos,ndxIntlzr,tstPs){var inputmask=this,maskset=this.maskset;return maskset.validPositions[pos]||determineTestTemplate.call(this,pos,getTests.call(this,pos,ndxIntlzr?ndxIntlzr.slice():ndxIntlzr,tstPs))}function determineTestTemplate(pos,tests){var inputmask=this,opts=this.opts;pos=0<pos?pos-1:0;for(var altTest=getTest.call(this,pos),targetLocator=getLocator(altTest),tstLocator,closest,bestMatch,ndx=0;ndx<tests.length;ndx++){var tst=tests[ndx];tstLocator=getLocator(tst,targetLocator.length);var distance=Math.abs(tstLocator-targetLocator);(void 0===closest||""!==tstLocator&&distance<closest||bestMatch&&!opts.greedy&&bestMatch.match.optionality&&"master"===bestMatch.match.newBlockMarker&&(!tst.match.optionality||!tst.match.newBlockMarker)||bestMatch&&bestMatch.match.optionalQuantifier&&!tst.match.optionalQuantifier)&&(closest=distance,bestMatch=tst)}return bestMatch}function getTest(pos,tests){var inputmask=this,maskset=this.maskset;return maskset.validPositions[pos]?maskset.validPositions[pos]:(tests||getTests.call(this,pos))[0]}function isSubsetOf(source,target,opts){function expand(pattern){for(var expanded=[],start=-1,end,i=0,l=pattern.length;i<l;i++)if("-"===pattern.charAt(i))for(end=pattern.charCodeAt(i+1);++start<end;)expanded.push(String.fromCharCode(start));else start=pattern.charCodeAt(i),expanded.push(pattern.charAt(i));return expanded.join("")}return source.match.def===target.match.nativeDef||!(!(opts.regex||source.match.fn instanceof RegExp&&target.match.fn instanceof RegExp)||!0===source.match.static||!0===target.match.static)&&-1!==expand(target.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(expand(source.match.fn.toString().replace(/[[\]/]/g,"")))}function getTests(pos,ndxIntlzr,tstPs){var inputmask=this,$=this.dependencyLib,maskset=this.maskset,opts=this.opts,el=this.el,maskTokens=maskset.maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr?ndxIntlzr.slice():[0],matches=[],insertStop=!1,latestMatch,cacheDependency=ndxIntlzr?ndxIntlzr.join(""):"";function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){function isFirstMatch(latestMatch,tokenGroup){var firstMatch=0===tokenGroup.matches.indexOf(latestMatch);return firstMatch||tokenGroup.matches.every(function(match,ndx){return!0===match.isQuantifier?firstMatch=isFirstMatch(latestMatch,tokenGroup.matches[ndx-1]):Object.prototype.hasOwnProperty.call(match,"matches")&&(firstMatch=isFirstMatch(latestMatch,match)),!firstMatch}),firstMatch}function resolveNdxInitializer(pos,alternateNdx,targetAlternation){var bestMatch,indexPos;if((maskset.tests[pos]||maskset.validPositions[pos])&&(maskset.tests[pos]||[maskset.validPositions[pos]]).every(function(lmnt,ndx){if(lmnt.mloc[alternateNdx])return bestMatch=lmnt,!1;var alternation=void 0!==targetAlternation?targetAlternation:lmnt.alternation,ndxPos=void 0!==lmnt.locator[alternation]?lmnt.locator[alternation].toString().indexOf(alternateNdx):-1;return(void 0===indexPos||ndxPos<indexPos)&&-1!==ndxPos&&(bestMatch=lmnt,indexPos=ndxPos),!0}),bestMatch){var bestMatchAltIndex=bestMatch.locator[bestMatch.alternation],locator=bestMatch.mloc[alternateNdx]||bestMatch.mloc[bestMatchAltIndex]||bestMatch.locator;return locator.slice((void 0!==targetAlternation?targetAlternation:bestMatch.alternation)+1)}return void 0!==targetAlternation?resolveNdxInitializer(pos,alternateNdx):void 0}function staticCanMatchDefinition(source,target){return!0===source.match.static&&!0!==target.match.static&&target.match.fn.test(source.match.def,maskset,pos,!1,opts,!1)}function setMergeLocators(targetMatch,altMatch){var alternationNdx=targetMatch.alternation,shouldMerge=void 0===altMatch||alternationNdx===altMatch.alternation&&-1===targetMatch.locator[alternationNdx].toString().indexOf(altMatch.locator[alternationNdx]);if(!shouldMerge&&alternationNdx>altMatch.alternation)for(var i=altMatch.alternation;i<alternationNdx;i++)if(targetMatch.locator[i]!==altMatch.locator[i]){alternationNdx=i,shouldMerge=!0;break}if(shouldMerge){targetMatch.mloc=targetMatch.mloc||{};var locNdx=targetMatch.locator[alternationNdx];if(void 0!==locNdx){if("string"==typeof locNdx&&(locNdx=locNdx.split(",")[0]),void 0===targetMatch.mloc[locNdx]&&(targetMatch.mloc[locNdx]=targetMatch.locator.slice()),void 0!==altMatch){for(var ndx in altMatch.mloc)"string"==typeof ndx&&(ndx=ndx.split(",")[0]),void 0===targetMatch.mloc[ndx]&&(targetMatch.mloc[ndx]=altMatch.mloc[ndx]);targetMatch.locator[alternationNdx]=Object.keys(targetMatch.mloc).join(",")}return!0}targetMatch.alternation=void 0}return!1}function isSameLevel(targetMatch,altMatch){if(targetMatch.locator.length!==altMatch.locator.length)return!1;for(var locNdx=targetMatch.alternation+1;locNdx<targetMatch.locator.length;locNdx++)if(targetMatch.locator[locNdx]!==altMatch.locator[locNdx])return!1;return!0}if(testPos>pos+opts._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+maskset.mask;if(testPos===pos&&void 0===match.matches)return matches.push({match:match,locator:loopNdx.reverse(),cd:cacheDependency,mloc:{}}),!0;if(void 0!==match.matches){if(match.isGroup&&quantifierRecurse!==match){if(match=handleMatch(maskToken.matches[maskToken.matches.indexOf(match)+1],loopNdx,quantifierRecurse),match)return!0}else if(match.isOptional){var optionalToken=match,mtchsNdx=matches.length;if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match){if(matches.forEach(function(mtch,ndx){mtchsNdx<=ndx&&(mtch.match.optionality=!0)}),latestMatch=matches[matches.length-1].match,void 0!==quantifierRecurse||!isFirstMatch(latestMatch,optionalToken))return!0;insertStop=!0,testPos=pos}}else if(match.isAlternator){var alternateToken=match,malternateMatches=[],maltMatches,currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,unMatchedAlternation=!1,altIndex=0<ndxInitializer.length?ndxInitializer.shift():-1;if(-1===altIndex||"string"==typeof altIndex){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[],amndx;if("string"==typeof altIndex)altIndexArr=altIndex.split(",");else for(amndx=0;amndx<alternateToken.matches.length;amndx++)altIndexArr.push(amndx.toString());if(void 0!==maskset.excludes[pos]){for(var altIndexArrClone=altIndexArr.slice(),i=0,exl=maskset.excludes[pos].length;i<exl;i++){var excludeSet=maskset.excludes[pos][i].toString().split(":");loopNdx.length==excludeSet[1]&&altIndexArr.splice(altIndexArr.indexOf(excludeSet[0]),1)}0===altIndexArr.length&&(delete maskset.excludes[pos],altIndexArr=altIndexArrClone)}(!0===opts.keepStatic||isFinite(parseInt(opts.keepStatic))&&currentPos>=opts.keepStatic)&&(altIndexArr=altIndexArr.slice(0,1));for(var ndx=0;ndx<altIndexArr.length;ndx++){amndx=parseInt(altIndexArr[ndx]),matches=[],ndxInitializer="string"==typeof altIndex&&resolveNdxInitializer(testPos,amndx,loopNdxCnt)||ndxInitializerClone.slice();var tokenMatch=alternateToken.matches[amndx];if(tokenMatch&&handleMatch(tokenMatch,[amndx].concat(loopNdx),quantifierRecurse))match=!0;else if(0===ndx&&(unMatchedAlternation=!0),tokenMatch&&tokenMatch.matches&&tokenMatch.matches.length>alternateToken.matches[0].matches.length)break;maltMatches=matches.slice(),testPos=currentPos,matches=[];for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1],dropMatch=!1;altMatch.match.jit=altMatch.match.jit||unMatchedAlternation,altMatch.alternation=altMatch.alternation||loopNdxCnt,setMergeLocators(altMatch);for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if("string"!=typeof altIndex||void 0!==altMatch.alternation&&altIndexArr.includes(altMatch.locator[altMatch.alternation].toString())){if(altMatch.match.nativeDef===altMatch2.match.nativeDef){dropMatch=!0,setMergeLocators(altMatch2,altMatch);break}if(isSubsetOf(altMatch,altMatch2,opts)){setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch));break}if(isSubsetOf(altMatch2,altMatch,opts)){setMergeLocators(altMatch2,altMatch);break}if(staticCanMatchDefinition(altMatch,altMatch2)){isSameLevel(altMatch,altMatch2)||void 0!==el.inputmask.userOptions.keepStatic?setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch)):opts.keepStatic=!0;break}}}dropMatch||malternateMatches.push(altMatch)}}matches=currentMatches.concat(malternateMatches),testPos=pos,insertStop=0<matches.length,match=0<malternateMatches.length,ndxInitializer=ndxInitializerClone.slice()}else match=handleMatch(alternateToken.matches[altIndex]||maskToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse);if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[maskToken.matches.indexOf(match)-1])for(var qt=match,qndx=0<ndxInitializer.length?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&testPos<=pos;qndx++){var tokenGroup=maskToken.matches[maskToken.matches.indexOf(qt)-1];if(match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup),match){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>=qt.quantifier.min,latestMatch.jit=(qndx||1)*tokenGroup.matches.indexOf(latestMatch)>=qt.quantifier.jit,latestMatch.optionalQuantifier&&isFirstMatch(latestMatch,tokenGroup)){insertStop=!0,testPos=pos;break}return latestMatch.jit&&(maskset.jitOffset[pos]=tokenGroup.matches.length-tokenGroup.matches.indexOf(latestMatch)),!0}}else if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match)return!0}else testPos++}for(var tndx=0<ndxInitializer.length?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(!0!==maskToken.matches[tndx].isQuantifier){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos)return match;if(pos<testPos)break}}function mergeLocators(pos,tests){var locator=[],alternation;return Array.isArray(tests)||(tests=[tests]),0<tests.length&&(void 0===tests[0].alternation||!0===opts.keepStatic?(locator=determineTestTemplate.call(inputmask,pos,tests.slice()).locator.slice(),0===locator.length&&(locator=tests[0].locator.slice())):tests.forEach(function(tst){""!==tst.def&&(0===locator.length?(alternation=tst.alternation,locator=tst.locator.slice()):tst.locator[alternation]&&-1===locator[alternation].toString().indexOf(tst.locator[alternation])&&(locator[alternation]+=","+tst.locator[alternation]))})),locator}if(-1<pos&&(void 0===inputmask.maxLength||pos<inputmask.maxLength)){if(void 0===ndxIntlzr){for(var previousPos=pos-1,test;void 0===(test=maskset.validPositions[previousPos]||maskset.tests[previousPos])&&-1<previousPos;)previousPos--;void 0!==test&&-1<previousPos&&(ndxInitializer=mergeLocators(previousPos,test),cacheDependency=ndxInitializer.join(""),testPos=previousPos)}if(maskset.tests[pos]&&maskset.tests[pos][0].cd===cacheDependency)return maskset.tests[pos];for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if(match&&testPos===pos||pos<testPos)break}}return 0!==matches.length&&!insertStop||matches.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:cacheDependency}),void 0!==ndxIntlzr&&maskset.tests[pos]?$.extend(!0,[],matches):(maskset.tests[pos]=$.extend(!0,[],matches),maskset.tests[pos])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.determineTestTemplate=determineTestTemplate,exports.getDecisionTaker=getDecisionTaker,exports.getMaskTemplate=getMaskTemplate,exports.getPlaceholder=getPlaceholder,exports.getTest=getTest,exports.getTests=getTests,exports.getTestTemplate=getTestTemplate,exports.isSubsetOf=isSubsetOf},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.alternate=alternate,exports.checkAlternationMatch=checkAlternationMatch,exports.isComplete=isComplete,exports.isValid=isValid,exports.refreshFromBuffer=refreshFromBuffer,exports.revalidateMask=revalidateMask,exports.handleRemove=handleRemove;var _validationTests=__webpack_require__(3),_keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function alternate(maskPos,c,strict,fromIsValid,rAltPos,selection){var inputmask=this,$=this.dependencyLib,opts=this.opts,maskset=this.maskset,validPsClone=$.extend(!0,{},maskset.validPositions),tstClone=$.extend(!0,{},maskset.tests),lastAlt,alternation,isValidRslt=!1,returnRslt=!1,altPos,prevAltPos,i,validPos,decisionPos,lAltPos=void 0!==rAltPos?rAltPos:_positioning.getLastValidPosition.call(this),nextPos,input,begin,end;if(selection&&(begin=selection.begin,end=selection.end,selection.begin>selection.end&&(begin=selection.end,end=selection.begin)),-1===lAltPos&&void 0===rAltPos)lastAlt=0,prevAltPos=_validationTests.getTest.call(this,lastAlt),alternation=prevAltPos.alternation;else for(;0<=lAltPos;lAltPos--)if(altPos=maskset.validPositions[lAltPos],altPos&&void 0!==altPos.alternation){if(prevAltPos&&prevAltPos.locator[altPos.alternation]!==altPos.locator[altPos.alternation])break;lastAlt=lAltPos,alternation=maskset.validPositions[lastAlt].alternation,prevAltPos=altPos}if(void 0!==alternation){decisionPos=parseInt(lastAlt),maskset.excludes[decisionPos]=maskset.excludes[decisionPos]||[],!0!==maskPos&&maskset.excludes[decisionPos].push((0,_validationTests.getDecisionTaker)(prevAltPos)+":"+prevAltPos.alternation);var validInputs=[],resultPos=-1;for(i=decisionPos;i<_positioning.getLastValidPosition.call(this,void 0,!0)+1;i++)-1===resultPos&&maskPos<=i&&void 0!==c&&(validInputs.push(c),resultPos=validInputs.length-1),validPos=maskset.validPositions[i],validPos&&!0!==validPos.generatedInput&&(void 0===selection||i<begin||end<=i)&&validInputs.push(validPos.input),delete maskset.validPositions[i];for(-1===resultPos&&void 0!==c&&(validInputs.push(c),resultPos=validInputs.length-1);void 0!==maskset.excludes[decisionPos]&&maskset.excludes[decisionPos].length<10;){for(maskset.tests={},_positioning.resetMaskSet.call(this,!0),isValidRslt=!0,i=0;i<validInputs.length&&(nextPos=isValidRslt.caret||_positioning.getLastValidPosition.call(this,void 0,!0)+1,input=validInputs[i],isValidRslt=isValid.call(this,nextPos,input,!1,fromIsValid,!0));i++)i===resultPos&&(returnRslt=isValidRslt),1==maskPos&&isValidRslt&&(returnRslt={caretPos:i});if(isValidRslt)break;if(_positioning.resetMaskSet.call(this),prevAltPos=_validationTests.getTest.call(this,decisionPos),maskset.validPositions=$.extend(!0,{},validPsClone),maskset.tests=$.extend(!0,{},tstClone),!maskset.excludes[decisionPos]){returnRslt=alternate.call(this,maskPos,c,strict,fromIsValid,decisionPos-1,selection);break}var decisionTaker=(0,_validationTests.getDecisionTaker)(prevAltPos);if(-1!==maskset.excludes[decisionPos].indexOf(decisionTaker+":"+prevAltPos.alternation)){returnRslt=alternate.call(this,maskPos,c,strict,fromIsValid,decisionPos-1,selection);break}for(maskset.excludes[decisionPos].push(decisionTaker+":"+prevAltPos.alternation),i=decisionPos;i<_positioning.getLastValidPosition.call(this,void 0,!0)+1;i++)delete maskset.validPositions[i]}}return returnRslt&&!1===opts.keepStatic||delete maskset.excludes[decisionPos],returnRslt}function casing(elem,test,pos){var opts=this.opts,maskset=this.maskset;switch(opts.casing||test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase();break;case"title":var posBefore=maskset.validPositions[pos-1];elem=0===pos||posBefore&&posBefore.input===String.fromCharCode(_keycode.default.SPACE)?elem.toUpperCase():elem.toLowerCase();break;default:if("function"==typeof opts.casing){var args=Array.prototype.slice.call(arguments);args.push(maskset.validPositions),elem=opts.casing.apply(this,args)}}return elem}function checkAlternationMatch(altArr1,altArr2,na){for(var opts=this.opts,altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,naArr=void 0!==na?na.split(","):[],naNdx,i=0;i<naArr.length;i++)-1!==(naNdx=altArr1.indexOf(naArr[i]))&&altArr1.splice(naNdx,1);for(var alndx=0;alndx<altArr1.length;alndx++)if(altArrC.includes(altArr1[alndx])){isMatch=!0;break}return isMatch}function handleRemove(input,k,pos,strict,fromIsValid){var inputmask=this,maskset=this.maskset,opts=this.opts;if((opts.numericInput||this.isRTL)&&(k===_keycode.default.BACKSPACE?k=_keycode.default.DELETE:k===_keycode.default.DELETE&&(k=_keycode.default.BACKSPACE),this.isRTL)){var pend=pos.end;pos.end=pos.begin,pos.begin=pend}var lvp=_positioning.getLastValidPosition.call(this,void 0,!0),offset;if(pos.end>=_positioning.getBuffer.call(this).length&&lvp>=pos.end&&(pos.end=lvp+1),k===_keycode.default.BACKSPACE?pos.end-pos.begin<1&&(pos.begin=_positioning.seekPrevious.call(this,pos.begin)):k===_keycode.default.DELETE&&pos.begin===pos.end&&(pos.end=_positioning.isMask.call(this,pos.end,!0,!0)?pos.end+1:_positioning.seekNext.call(this,pos.end)+1),!1!==(offset=revalidateMask.call(this,pos))){if(!0!==strict&&!1!==opts.keepStatic||null!==opts.regex&&-1!==_validationTests.getTest.call(this,pos.begin).match.def.indexOf("|")){var result=alternate.call(this,!0);if(result){var newPos=void 0!==result.caret?result.caret:result.pos?_positioning.seekNext.call(this,result.pos.begin?result.pos.begin:result.pos):_positioning.getLastValidPosition.call(this,-1,!0);(k!==_keycode.default.DELETE||pos.begin>newPos)&&pos.begin}}!0!==strict&&(maskset.p=k===_keycode.default.DELETE?pos.begin+offset:pos.begin)}}function isComplete(buffer){var inputmask=this,opts=this.opts,maskset=this.maskset;if("function"==typeof opts.isComplete)return opts.isComplete(buffer,opts);if("*"!==opts.repeat){var complete=!1,lrp=_positioning.determineLastRequiredPosition.call(this,!0),aml=_positioning.seekPrevious.call(this,lrp.l);if(void 0===lrp.def||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=!0;for(var i=0;i<=aml;i++){var test=_validationTests.getTestTemplate.call(this,i).match;if(!0!==test.static&&void 0===maskset.validPositions[i]&&!0!==test.optionality&&!0!==test.optionalQuantifier||!0===test.static&&buffer[i]!==_validationTests.getPlaceholder.call(this,i,test)){complete=!1;break}}}return complete}}function isValid(pos,c,strict,fromIsValid,fromAlternate,validateOnly,fromCheckval){var inputmask=this,$=this.dependencyLib,opts=this.opts,maskset=inputmask.maskset;function isSelection(posObj){return inputmask.isRTL?1<posObj.begin-posObj.end||posObj.begin-posObj.end==1:1<posObj.end-posObj.begin||posObj.end-posObj.begin==1}strict=!0===strict;var maskPos=pos;function processCommandObject(commandObj){if(void 0!==commandObj){if(void 0!==commandObj.remove&&(Array.isArray(commandObj.remove)||(commandObj.remove=[commandObj.remove]),commandObj.remove.sort(function(a,b){return b.pos-a.pos}).forEach(function(lmnt){revalidateMask.call(inputmask,{begin:lmnt,end:lmnt+1})}),commandObj.remove=void 0),void 0!==commandObj.insert&&(Array.isArray(commandObj.insert)||(commandObj.insert=[commandObj.insert]),commandObj.insert.sort(function(a,b){return a.pos-b.pos}).forEach(function(lmnt){""!==lmnt.c&&isValid.call(inputmask,lmnt.pos,lmnt.c,void 0===lmnt.strict||lmnt.strict,void 0!==lmnt.fromIsValid?lmnt.fromIsValid:fromIsValid)}),commandObj.insert=void 0),commandObj.refreshFromBuffer&&commandObj.buffer){var refresh=commandObj.refreshFromBuffer;refreshFromBuffer.call(inputmask,!0===refresh?refresh:refresh.start,refresh.end,commandObj.buffer),commandObj.refreshFromBuffer=void 0}void 0!==commandObj.rewritePosition&&(maskPos=commandObj.rewritePosition,commandObj=!0)}return commandObj}function _isValid(position,c,strict){var rslt=!1;return _validationTests.getTests.call(inputmask,position).every(function(tst,ndx){var test=tst.match;if(_positioning.getBuffer.call(inputmask,!0),rslt=null!=test.fn?test.fn.test(c,maskset,position,strict,opts,isSelection(pos)):(c===test.def||c===opts.skipOptionalPartCharacter)&&""!==test.def&&{c:_validationTests.getPlaceholder.call(inputmask,position,test,!0)||test.def,pos:position},!1===rslt)return!0;var elem=void 0!==rslt.c?rslt.c:c,validatedPos=position;return elem=elem===opts.skipOptionalPartCharacter&&!0===test.static?_validationTests.getPlaceholder.call(inputmask,position,test,!0)||test.def:elem,rslt=processCommandObject(rslt),!0!==rslt&&void 0!==rslt.pos&&rslt.pos!==position&&(validatedPos=rslt.pos),!0!==rslt&&void 0===rslt.pos&&void 0===rslt.c||!1===revalidateMask.call(inputmask,pos,$.extend({},tst,{input:casing.call(inputmask,elem,test,validatedPos)}),fromIsValid,validatedPos)&&(rslt=!1),!1}),rslt}void 0!==pos.begin&&(maskPos=inputmask.isRTL?pos.end:pos.begin);var result=!0,positionsClone=$.extend(!0,{},maskset.validPositions);if(!1===opts.keepStatic&&void 0!==maskset.excludes[maskPos]&&!0!==fromAlternate&&!0!==fromIsValid)for(var i=maskPos;i<(inputmask.isRTL?pos.begin:pos.end);i++)void 0!==maskset.excludes[i]&&(maskset.excludes[i]=void 0,delete maskset.tests[i]);if("function"==typeof opts.preValidation&&!0!==fromIsValid&&!0!==validateOnly&&(result=opts.preValidation.call(inputmask,_positioning.getBuffer.call(inputmask),maskPos,c,isSelection(pos),opts,maskset,pos,strict||fromAlternate),result=processCommandObject(result)),!0===result){if(void 0===inputmask.maxLength||maskPos<_positioning.translatePosition.call(inputmask,inputmask.maxLength)){if(result=_isValid(maskPos,c,strict),(!strict||!0===fromIsValid)&&!1===result&&!0!==validateOnly){var currentPosValid=maskset.validPositions[maskPos];if(!currentPosValid||!0!==currentPosValid.match.static||currentPosValid.match.def!==c&&c!==opts.skipOptionalPartCharacter){if(opts.insertMode||void 0===maskset.validPositions[_positioning.seekNext.call(inputmask,maskPos)]||pos.end>maskPos){var skip=!1;if(maskset.jitOffset[maskPos]&&void 0===maskset.validPositions[_positioning.seekNext.call(inputmask,maskPos)]&&(result=isValid.call(inputmask,maskPos+maskset.jitOffset[maskPos],c,!0),!1!==result&&(!0!==fromAlternate&&(result.caret=maskPos),skip=!0)),pos.end>maskPos&&(maskset.validPositions[maskPos]=void 0),!skip&&!_positioning.isMask.call(inputmask,maskPos,opts.keepStatic&&0===maskPos))for(var nPos=maskPos+1,snPos=_positioning.seekNext.call(inputmask,maskPos,!1,0!==maskPos);nPos<=snPos;nPos++)if(result=_isValid(nPos,c,strict),!1!==result){result=trackbackPositions.call(inputmask,maskPos,void 0!==result.pos?result.pos:nPos)||result,maskPos=nPos;break}}}else result={caret:_positioning.seekNext.call(inputmask,maskPos)}}}else result=!1;!1!==result||!opts.keepStatic||!isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&0!==maskPos||strict||!0===fromAlternate?isSelection(pos)&&maskset.tests[maskPos]&&1<maskset.tests[maskPos].length&&opts.keepStatic&&!strict&&!0!==fromAlternate&&(result=alternate.call(inputmask,!0)):result=alternate.call(inputmask,maskPos,c,strict,fromIsValid,void 0,pos),!0===result&&(result={pos:maskPos})}if("function"==typeof opts.postValidation&&!0!==fromIsValid&&!0!==validateOnly){var postResult=opts.postValidation.call(inputmask,_positioning.getBuffer.call(inputmask,!0),void 0!==pos.begin?inputmask.isRTL?pos.end:pos.begin:pos,c,result,opts,maskset,strict,fromCheckval);void 0!==postResult&&(result=!0===postResult?result:postResult)}result&&void 0===result.pos&&(result.pos=maskPos),!1===result||!0===validateOnly?(_positioning.resetMaskSet.call(inputmask,!0),maskset.validPositions=$.extend(!0,{},positionsClone)):trackbackPositions.call(inputmask,void 0,maskPos,!0);var endResult=processCommandObject(result);return endResult}function positionCanMatchDefinition(pos,testDefinition,opts){for(var inputmask=this,maskset=this.maskset,valid=!1,tests=_validationTests.getTests.call(this,pos),tndx=0;tndx<tests.length;tndx++){if(tests[tndx].match&&(tests[tndx].match.nativeDef===testDefinition.match[opts.shiftPositions?"def":"nativeDef"]&&(!opts.shiftPositions||!testDefinition.match.static)||tests[tndx].match.nativeDef===testDefinition.match.nativeDef||opts.regex&&!tests[tndx].match.static&&tests[tndx].match.fn.test(testDefinition.input))){valid=!0;break}if(tests[tndx].match&&tests[tndx].match.def===testDefinition.match.nativeDef){valid=void 0;break}}return!1===valid&&void 0!==maskset.jitOffset[pos]&&(valid=positionCanMatchDefinition.call(this,pos+maskset.jitOffset[pos],testDefinition,opts)),valid}function refreshFromBuffer(start,end,buffer){var inputmask=this,maskset=this.maskset,opts=this.opts,$=this.dependencyLib,el=this.el,i,p,skipOptionalPartCharacter=opts.skipOptionalPartCharacter,bffr=this.isRTL?buffer.slice().reverse():buffer;if(opts.skipOptionalPartCharacter="",!0===start)_positioning.resetMaskSet.call(this),maskset.tests={},start=0,end=buffer.length,p=_positioning.determineNewCaretPosition.call(this,{begin:0,end:0},!1).begin;else{for(i=start;i<end;i++)delete maskset.validPositions[i];p=start}var keypress=new $.Event("keypress");for(i=start;i<end;i++){keypress.which=bffr[i].toString().charCodeAt(0),this.ignorable=!1;var valResult=_eventhandlers.EventHandlers.keypressEvent.call(el,keypress,!0,!1,!1,p);!1!==valResult&&(p=valResult.forwardPosition)}opts.skipOptionalPartCharacter=skipOptionalPartCharacter}function trackbackPositions(originalPos,newPos,fillOnly){var inputmask=this,maskset=this.maskset,$=this.dependencyLib;if(void 0===originalPos)for(originalPos=newPos-1;0<originalPos&&!maskset.validPositions[originalPos];originalPos--);for(var ps=originalPos;ps<newPos;ps++)if(void 0===maskset.validPositions[ps]&&!_positioning.isMask.call(this,ps,!1)){var vp=0==ps?_validationTests.getTest.call(this,ps):maskset.validPositions[ps-1];if(vp){var tests=_validationTests.getTests.call(this,ps).slice();""===tests[tests.length-1].match.def&&tests.pop();var bestMatch=_validationTests.determineTestTemplate.call(this,ps,tests),np;if(bestMatch&&(!0!==bestMatch.match.jit||"master"===bestMatch.match.newBlockMarker&&(np=maskset.validPositions[ps+1])&&!0===np.match.optionalQuantifier)&&(bestMatch=$.extend({},bestMatch,{input:_validationTests.getPlaceholder.call(this,ps,bestMatch.match,!0)||bestMatch.match.def}),bestMatch.generatedInput=!0,revalidateMask.call(this,ps,bestMatch,!0),!0!==fillOnly)){var cvpInput=maskset.validPositions[newPos].input;return maskset.validPositions[newPos]=void 0,isValid.call(this,newPos,cvpInput,!0,!0)}}}}function revalidateMask(pos,validTest,fromIsValid,validatedPos){var inputmask=this,maskset=this.maskset,opts=this.opts,$=this.dependencyLib;function IsEnclosedStatic(pos,valids,selection){var posMatch=valids[pos];if(void 0===posMatch||!0!==posMatch.match.static||!0===posMatch.match.optionality||void 0!==valids[0]&&void 0!==valids[0].alternation)return!1;var prevMatch=selection.begin<=pos-1?valids[pos-1]&&!0===valids[pos-1].match.static&&valids[pos-1]:valids[pos-1],nextMatch=selection.end>pos+1?valids[pos+1]&&!0===valids[pos+1].match.static&&valids[pos+1]:valids[pos+1];return prevMatch&&nextMatch}var offset=0,begin=void 0!==pos.begin?pos.begin:pos,end=void 0!==pos.end?pos.end:pos;if(pos.begin>pos.end&&(begin=pos.end,end=pos.begin),validatedPos=void 0!==validatedPos?validatedPos:begin,begin!==end||opts.insertMode&&void 0!==maskset.validPositions[validatedPos]&&void 0===fromIsValid||void 0===validTest){var positionsClone=$.extend(!0,{},maskset.validPositions),lvp=_positioning.getLastValidPosition.call(this,void 0,!0),i;for(maskset.p=begin,i=lvp;begin<=i;i--)delete maskset.validPositions[i],void 0===validTest&&delete maskset.tests[i+1];var valid=!0,j=validatedPos,posMatch=j,t,canMatch;for(validTest&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest),posMatch++,j++),i=validTest?end:end-1;i<=lvp;i++){if(void 0!==(t=positionsClone[i])&&!0!==t.generatedInput&&(end<=i||begin<=i&&IsEnclosedStatic(i,positionsClone,{begin:begin,end:end}))){for(;""!==_validationTests.getTest.call(this,posMatch).match.def;){if(!1!==(canMatch=positionCanMatchDefinition.call(this,posMatch,t,opts))||"+"===t.match.def){"+"===t.match.def&&_positioning.getBuffer.call(this,!0);var result=isValid.call(this,posMatch,t.input,"+"!==t.match.def,"+"!==t.match.def);if(valid=!1!==result,j=(result.pos||posMatch)+1,!valid&&canMatch)break}else valid=!1;if(valid){void 0===validTest&&t.match.static&&i===pos.begin&&offset++;break}if(!valid&&posMatch>maskset.maskLength)break;posMatch++}""==_validationTests.getTest.call(this,posMatch).match.def&&(valid=!1),posMatch=j}if(!valid)break}if(!valid)return maskset.validPositions=$.extend(!0,{},positionsClone),_positioning.resetMaskSet.call(this,!0),!1}else validTest&&_validationTests.getTest.call(this,validatedPos).match.cd===validTest.match.cd&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest));return _positioning.resetMaskSet.call(this,!0),offset}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _canUseDOM=_interopRequireDefault(__webpack_require__(6));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=_canUseDOM.default?window:{};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),_default=canUseDOM;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyInputValue=applyInputValue,exports.clearOptionalTail=clearOptionalTail,exports.checkVal=checkVal,exports.HandleNativePlaceholder=HandleNativePlaceholder,exports.unmaskedvalue=unmaskedvalue,exports.writeBuffer=writeBuffer;var _keycode=_interopRequireDefault(__webpack_require__(0)),_validationTests=__webpack_require__(3),_positioning=__webpack_require__(1),_validation=__webpack_require__(4),_environment=__webpack_require__(9),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyInputValue(input,value){var inputmask=input?input.inputmask:this,opts=inputmask.opts;input.inputmask.refreshValue=!1,"function"==typeof opts.onBeforeMask&&(value=opts.onBeforeMask.call(inputmask,value,opts)||value),value=value.toString().split(""),checkVal(input,!0,!1,value),inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===_positioning.getBufferTemplate.call(inputmask).join("")&&-1===_positioning.getLastValidPosition.call(inputmask)&&input.inputmask._valueSet("")}function clearOptionalTail(buffer){var inputmask=this;buffer.length=0;for(var template=_validationTests.getMaskTemplate.call(this,!0,0,!0,void 0,!0),lmnt;void 0!==(lmnt=template.shift());)buffer.push(lmnt);return buffer}function checkVal(input,writeOut,strict,nptvl,initiatingEvent){var inputmask=input?input.inputmask:this,maskset=inputmask.maskset,opts=inputmask.opts,$=inputmask.dependencyLib,inputValue=nptvl.slice(),charCodes="",initialNdx=-1,result=void 0,skipOptionalPartCharacter=opts.skipOptionalPartCharacter;function isTemplateMatch(ndx,charCodes){for(var targetTemplate=_validationTests.getMaskTemplate.call(inputmask,!0,0).slice(ndx,_positioning.seekNext.call(inputmask,ndx,!1,!1)).join("").replace(/'/g,""),charCodeNdx=targetTemplate.indexOf(charCodes);0<charCodeNdx&&" "===targetTemplate[charCodeNdx-1];)charCodeNdx--;var match=0===charCodeNdx&&!_positioning.isMask.call(inputmask,ndx)&&(_validationTests.getTest.call(inputmask,ndx).match.nativeDef===charCodes.charAt(0)||!0===_validationTests.getTest.call(inputmask,ndx).match.static&&_validationTests.getTest.call(inputmask,ndx).match.nativeDef==="'"+charCodes.charAt(0)||" "===_validationTests.getTest.call(inputmask,ndx).match.nativeDef&&(_validationTests.getTest.call(inputmask,ndx+1).match.nativeDef===charCodes.charAt(0)||!0===_validationTests.getTest.call(inputmask,ndx+1).match.static&&_validationTests.getTest.call(inputmask,ndx+1).match.nativeDef==="'"+charCodes.charAt(0)));if(!match&&0<charCodeNdx&&!_positioning.isMask.call(inputmask,ndx,!1,!0)){var nextPos=_positioning.seekNext.call(inputmask,ndx);inputmask.caretPos.begin<nextPos&&(inputmask.caretPos={begin:nextPos})}return match}opts.skipOptionalPartCharacter="",_positioning.resetMaskSet.call(inputmask),maskset.tests={},initialNdx=opts.radixPoint?_positioning.determineNewCaretPosition.call(inputmask,{begin:0,end:0}).begin:0,maskset.p=initialNdx,inputmask.caretPos={begin:initialNdx};var staticMatches=[],prevCaretPos=inputmask.caretPos;if(inputValue.forEach(function(charCode,ndx){if(void 0!==charCode){var keypress=new $.Event("_checkval");keypress.which=charCode.toString().charCodeAt(0),charCodes+=charCode;var lvp=_positioning.getLastValidPosition.call(inputmask,void 0,!0);isTemplateMatch(initialNdx,charCodes)?result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,lvp+1):(result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,inputmask.caretPos.begin),result&&(initialNdx=inputmask.caretPos.begin+1,charCodes="")),result?(void 0!==result.pos&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static&&void 0===maskset.validPositions[result.pos].alternation&&(staticMatches.push(result.pos),inputmask.isRTL||(result.forwardPosition=result.pos+1)),writeBuffer.call(inputmask,void 0,_positioning.getBuffer.call(inputmask),result.forwardPosition,keypress,!1),inputmask.caretPos={begin:result.forwardPosition,end:result.forwardPosition},prevCaretPos=inputmask.caretPos):void 0===maskset.validPositions[ndx]&&inputValue[ndx]===_validationTests.getPlaceholder.call(inputmask,ndx)&&_positioning.isMask.call(inputmask,ndx,!0)?inputmask.caretPos.begin++:inputmask.caretPos=prevCaretPos}}),0<staticMatches.length){var sndx,validPos,nextValid=_positioning.seekNext.call(inputmask,-1,void 0,!1);if(!_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&staticMatches.length<=nextValid||_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&0<staticMatches.length&&staticMatches.length!==nextValid&&0===staticMatches[0])for(var nextSndx=nextValid;void 0!==(sndx=staticMatches.shift());){var keypress=new $.Event("_checkval");if(validPos=maskset.validPositions[sndx],validPos.generatedInput=!0,keypress.which=validPos.input.charCodeAt(0),result=_eventhandlers.EventHandlers.keypressEvent.call(inputmask,keypress,!0,!1,strict,nextSndx),result&&void 0!==result.pos&&result.pos!==sndx&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static)staticMatches.push(result.pos);else if(!result)break;nextSndx++}}writeOut&&writeBuffer.call(inputmask,input,_positioning.getBuffer.call(inputmask),result?result.forwardPosition:inputmask.caretPos.begin,initiatingEvent||new $.Event("checkval"),initiatingEvent&&"input"===initiatingEvent.type&&inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")),opts.skipOptionalPartCharacter=skipOptionalPartCharacter}function HandleNativePlaceholder(npt,value){var inputmask=npt?npt.inputmask:this;if(_environment.ie){if(npt.inputmask._valueGet()!==value&&(npt.placeholder!==value||""===npt.placeholder)){var buffer=_positioning.getBuffer.call(inputmask).slice(),nptValue=npt.inputmask._valueGet();if(nptValue!==value){var lvp=_positioning.getLastValidPosition.call(inputmask);-1===lvp&&nptValue===_positioning.getBufferTemplate.call(inputmask).join("")?buffer=[]:-1!==lvp&&clearOptionalTail.call(inputmask,buffer),writeBuffer(npt,buffer)}}}else npt.placeholder!==value&&(npt.placeholder=value,""===npt.placeholder&&npt.removeAttribute("placeholder"))}function unmaskedvalue(input){var inputmask=input?input.inputmask:this,opts=inputmask.opts,maskset=inputmask.maskset;if(input){if(void 0===input.inputmask)return input.value;input.inputmask&&input.inputmask.refreshValue&&applyInputValue(input,input.inputmask._valueGet(!0))}var umValue=[],vps=maskset.validPositions;for(var pndx in vps)vps[pndx]&&vps[pndx].match&&(1!=vps[pndx].match.static||Array.isArray(maskset.metadata)&&!0!==vps[pndx].generatedInput)&&umValue.push(vps[pndx].input);var unmaskedValue=0===umValue.length?"":(inputmask.isRTL?umValue.reverse():umValue).join("");if("function"==typeof opts.onUnMask){var bufferValue=(inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice().reverse():_positioning.getBuffer.call(inputmask)).join("");unmaskedValue=opts.onUnMask.call(inputmask,bufferValue,unmaskedValue,opts)}return unmaskedValue}function writeBuffer(input,buffer,caretPos,event,triggerEvents){var inputmask=input?input.inputmask:this,opts=inputmask.opts,$=inputmask.dependencyLib;if(event&&"function"==typeof opts.onBeforeWrite){var result=opts.onBeforeWrite.call(inputmask,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;_validation.refreshFromBuffer.call(inputmask,!0===refresh?refresh:refresh.start,refresh.end,result.buffer||buffer),buffer=_positioning.getBuffer.call(inputmask,!0)}void 0!==caretPos&&(caretPos=void 0!==result.caret?result.caret:caretPos)}}if(void 0!==input&&(input.inputmask._valueSet(buffer.join("")),void 0===caretPos||void 0!==event&&"blur"===event.type||_positioning.caret.call(inputmask,input,caretPos,void 0,void 0,void 0!==event&&"keydown"===event.type&&(event.keyCode===_keycode.default.DELETE||event.keyCode===_keycode.default.BACKSPACE)),!0===triggerEvents)){var $input=$(input),nptVal=input.inputmask._valueGet();input.inputmask.skipInputEvent=!0,$input.trigger("input"),setTimeout(function(){nptVal===_positioning.getBufferTemplate.call(inputmask).join("")?$input.trigger("cleared"):!0===_validation.isComplete.call(inputmask,buffer)&&$input.trigger("complete")},0)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventHandlers=void 0;var _positioning=__webpack_require__(1),_keycode=_interopRequireDefault(__webpack_require__(0)),_environment=__webpack_require__(9),_validation=__webpack_require__(4),_inputHandling=__webpack_require__(7),_validationTests=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventHandlers={keydownEvent:function keydownEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib,maskset=inputmask.maskset,input=this,$input=$(input),k=e.keyCode,pos=_positioning.caret.call(inputmask,input),kdResult=opts.onKeyDown.call(this,e,_positioning.getBuffer.call(inputmask),pos,opts);if(void 0!==kdResult)return kdResult;if(k===_keycode.default.BACKSPACE||k===_keycode.default.DELETE||_environment.iphone&&k===_keycode.default.BACKSPACE_SAFARI||e.ctrlKey&&k===_keycode.default.X&&!("oncut"in input))e.preventDefault(),_validation.handleRemove.call(inputmask,input,k,pos),(0,_inputHandling.writeBuffer)(input,_positioning.getBuffer.call(inputmask,!0),maskset.p,e,input.inputmask._valueGet()!==_positioning.getBuffer.call(inputmask).join(""));else if(k===_keycode.default.END||k===_keycode.default.PAGE_DOWN){e.preventDefault();var caretPos=_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask));_positioning.caret.call(inputmask,input,e.shiftKey?pos.begin:caretPos,caretPos,!0)}else k===_keycode.default.HOME&&!e.shiftKey||k===_keycode.default.PAGE_UP?(e.preventDefault(),_positioning.caret.call(inputmask,input,0,e.shiftKey?pos.begin:0,!0)):(opts.undoOnEscape&&k===_keycode.default.ESCAPE||90===k&&e.ctrlKey)&&!0!==e.altKey?((0,_inputHandling.checkVal)(input,!0,!1,inputmask.undoValue.split("")),$input.trigger("click")):!0===opts.tabThrough&&k===_keycode.default.TAB?!0===e.shiftKey?(pos.end=_positioning.seekPrevious.call(inputmask,pos.end,!0),!0===_validationTests.getTest.call(inputmask,pos.end-1).match.static&&pos.end--,pos.begin=_positioning.seekPrevious.call(inputmask,pos.end,!0),0<=pos.begin&&0<pos.end&&(e.preventDefault(),_positioning.caret.call(inputmask,input,pos.begin,pos.end))):(pos.begin=_positioning.seekNext.call(inputmask,pos.begin,!0),pos.end=_positioning.seekNext.call(inputmask,pos.begin,!0),pos.end<maskset.maskLength&&pos.end--,pos.begin<=maskset.maskLength&&(e.preventDefault(),_positioning.caret.call(inputmask,input,pos.begin,pos.end))):e.shiftKey||opts.insertModeVisual&&!1===opts.insertMode&&(k===_keycode.default.RIGHT?setTimeout(function(){var caretPos=_positioning.caret.call(inputmask,input);_positioning.caret.call(inputmask,input,caretPos.begin)},0):k===_keycode.default.LEFT&&setTimeout(function(){var caretPos_begin=_positioning.translatePosition.call(inputmask,input.inputmask.caretPos.begin),caretPos_end=_positioning.translatePosition.call(inputmask,input.inputmask.caretPos.end);inputmask.isRTL?_positioning.caret.call(inputmask,input,caretPos_begin+(caretPos_begin===maskset.maskLength?0:1)):_positioning.caret.call(inputmask,input,caretPos_begin-(0===caretPos_begin?0:1))},0));inputmask.ignorable=opts.ignorables.includes(k)},keypressEvent:function keypressEvent(e,checkval,writeOut,strict,ndx){var inputmask=this.inputmask||this,opts=inputmask.opts,$=inputmask.dependencyLib,maskset=inputmask.maskset,input=inputmask.el,$input=$(input),k=e.which||e.charCode||e.keyCode;if(!(!0===checkval||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||inputmask.ignorable))return k===_keycode.default.ENTER&&inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&(inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),setTimeout(function(){$input.trigger("change")},0)),inputmask.skipInputEvent=!0,!0;if(k){44!==k&&46!==k||3!==e.location||""===opts.radixPoint||(k=opts.radixPoint.charCodeAt(0));var pos=checkval?{begin:ndx,end:ndx}:_positioning.caret.call(inputmask,input),forwardPosition,c=String.fromCharCode(k);maskset.writeOutBuffer=!0;var valResult=_validation.isValid.call(inputmask,pos,c,strict,void 0,void 0,void 0,checkval);if(!1!==valResult&&(_positioning.resetMaskSet.call(inputmask,!0),forwardPosition=void 0!==valResult.caret?valResult.caret:_positioning.seekNext.call(inputmask,valResult.pos.begin?valResult.pos.begin:valResult.pos),maskset.p=forwardPosition),forwardPosition=opts.numericInput&&void 0===valResult.caret?_positioning.seekPrevious.call(inputmask,forwardPosition):forwardPosition,!1!==writeOut&&(setTimeout(function(){opts.onKeyValidation.call(input,k,valResult)},0),maskset.writeOutBuffer&&!1!==valResult)){var buffer=_positioning.getBuffer.call(inputmask);(0,_inputHandling.writeBuffer)(input,buffer,forwardPosition,e,!0!==checkval)}if(e.preventDefault(),checkval)return!1!==valResult&&(valResult.forwardPosition=forwardPosition),valResult}},keyupEvent:function keyupEvent(e){var inputmask=this.inputmask;!inputmask.isComposing||e.keyCode!==_keycode.default.KEY_229&&e.keyCode!==_keycode.default.ENTER||inputmask.$el.trigger("input")},pasteEvent:function pasteEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,input=this,inputValue=inputmask._valueGet(!0),caretPos=_positioning.caret.call(inputmask,this),tempValue;inputmask.isRTL&&(tempValue=caretPos.end,caretPos.end=caretPos.begin,caretPos.begin=tempValue);var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);if(valueBeforeCaret==(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret==(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData)inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret;else{if(!e.clipboardData||!e.clipboardData.getData)return!0;inputValue=valueBeforeCaret+e.clipboardData.getData("text/plain")+valueAfterCaret}var pasteValue=inputValue;if("function"==typeof opts.onBeforePaste){if(pasteValue=opts.onBeforePaste.call(inputmask,inputValue,opts),!1===pasteValue)return e.preventDefault();pasteValue=pasteValue||inputValue}return(0,_inputHandling.checkVal)(this,!0,!1,pasteValue.toString().split(""),e),e.preventDefault()},inputFallBackEvent:function inputFallBackEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib;function ieMobileHandler(input,inputValue,caretPos){if(_environment.iemobile){var inputChar=inputValue.replace(_positioning.getBuffer.call(inputmask).join(""),"");if(1===inputChar.length){var iv=inputValue.split("");iv.splice(caretPos.begin,0,inputChar),inputValue=iv.join("")}}return inputValue}function analyseChanges(inputValue,buffer,caretPos){for(var frontPart=inputValue.substr(0,caretPos.begin).split(""),backPart=inputValue.substr(caretPos.begin).split(""),frontBufferPart=buffer.substr(0,caretPos.begin).split(""),backBufferPart=buffer.substr(caretPos.begin).split(""),fpl=frontPart.length>=frontBufferPart.length?frontPart.length:frontBufferPart.length,bpl=backPart.length>=backBufferPart.length?backPart.length:backBufferPart.length,bl,i,action="",data=[],marker="~",placeholder;frontPart.length<fpl;)frontPart.push("~");for(;frontBufferPart.length<fpl;)frontBufferPart.push("~");for(;backPart.length<bpl;)backPart.unshift("~");for(;backBufferPart.length<bpl;)backBufferPart.unshift("~");var newBuffer=frontPart.concat(backPart),oldBuffer=frontBufferPart.concat(backBufferPart);for(i=0,bl=newBuffer.length;i<bl;i++)switch(placeholder=_validationTests.getPlaceholder.call(inputmask,_positioning.translatePosition.call(inputmask,i)),action){case"insertText":oldBuffer[i-1]===newBuffer[i]&&caretPos.begin==newBuffer.length-1&&data.push(newBuffer[i]),i=bl;break;case"insertReplacementText":"~"===newBuffer[i]?caretPos.end++:i=bl;break;case"deleteContentBackward":"~"===newBuffer[i]?caretPos.end++:i=bl;break;default:newBuffer[i]!==oldBuffer[i]&&("~"!==newBuffer[i+1]&&newBuffer[i+1]!==placeholder&&void 0!==newBuffer[i+1]||(oldBuffer[i]!==placeholder||"~"!==oldBuffer[i+1])&&"~"!==oldBuffer[i]?"~"===oldBuffer[i+1]&&oldBuffer[i]===newBuffer[i+1]?(action="insertText",data.push(newBuffer[i]),caretPos.begin--,caretPos.end--):newBuffer[i]!==placeholder&&"~"!==newBuffer[i]&&("~"===newBuffer[i+1]||oldBuffer[i]!==newBuffer[i]&&oldBuffer[i+1]===newBuffer[i+1])?(action="insertReplacementText",data.push(newBuffer[i]),caretPos.begin--):"~"===newBuffer[i]?(action="deleteContentBackward",!_positioning.isMask.call(inputmask,_positioning.translatePosition.call(inputmask,i),!0)&&oldBuffer[i]!==opts.radixPoint||caretPos.end++):i=bl:(action="insertText",data.push(newBuffer[i]),caretPos.begin--,caretPos.end--));break}return{action:action,data:data,caret:caretPos}}var input=this,inputValue=input.inputmask._valueGet(!0),buffer=(inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice().reverse():_positioning.getBuffer.call(inputmask)).join(""),caretPos=_positioning.caret.call(inputmask,input,void 0,void 0,!0);if(buffer!==inputValue){inputValue=ieMobileHandler(input,inputValue,caretPos);var changes=analyseChanges(inputValue,buffer,caretPos);switch((input.inputmask.shadowRoot||document).activeElement!==input&&input.focus(),(0,_inputHandling.writeBuffer)(input,_positioning.getBuffer.call(inputmask)),_positioning.caret.call(inputmask,input,caretPos.begin,caretPos.end,!0),changes.action){case"insertText":case"insertReplacementText":changes.data.forEach(function(entry,ndx){var keypress=new $.Event("keypress");keypress.which=entry.charCodeAt(0),inputmask.ignorable=!1,EventHandlers.keypressEvent.call(input,keypress)}),setTimeout(function(){inputmask.$el.trigger("keyup")},0);break;case"deleteContentBackward":var keydown=new $.Event("keydown");keydown.keyCode=_keycode.default.BACKSPACE,EventHandlers.keydownEvent.call(input,keydown);break;default:(0,_inputHandling.applyInputValue)(input,inputValue);break}e.preventDefault()}},compositionendEvent:function compositionendEvent(e){var inputmask=this.inputmask;inputmask.isComposing=!1,inputmask.$el.trigger("input")},setValueEvent:function setValueEvent(e,argument_1,argument_2){var inputmask=this.inputmask,input=this,value=e&&e.detail?e.detail[0]:argument_1;void 0===value&&(value=this.inputmask._valueGet(!0)),(0,_inputHandling.applyInputValue)(this,value),(e.detail&&void 0!==e.detail[1]||void 0!==argument_2)&&_positioning.caret.call(inputmask,this,e.detail?e.detail[1]:argument_2)},focusEvent:function focusEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,input=this,nptValue=this.inputmask._valueGet();opts.showMaskOnFocus&&nptValue!==_positioning.getBuffer.call(inputmask).join("")&&(0,_inputHandling.writeBuffer)(this,_positioning.getBuffer.call(inputmask),_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask))),!0!==opts.positionCaretOnTab||!1!==inputmask.mouseEnter||_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&-1!==_positioning.getLastValidPosition.call(inputmask)||EventHandlers.clickEvent.apply(this,[e,!0]),inputmask.undoValue=_positioning.getBuffer.call(inputmask).join("")},invalidEvent:function invalidEvent(e){this.inputmask.validationEvent=!0},mouseleaveEvent:function mouseleaveEvent(){var inputmask=this.inputmask,opts=inputmask.opts,input=this;inputmask.mouseEnter=!1,opts.clearMaskOnLostFocus&&(this.inputmask.shadowRoot||document).activeElement!==this&&(0,_inputHandling.HandleNativePlaceholder)(this,inputmask.originalPlaceholder)},clickEvent:function clickEvent(e,tabbed){var inputmask=this.inputmask,input=this;if((this.inputmask.shadowRoot||document).activeElement===this){var newCaretPosition=_positioning.determineNewCaretPosition.call(inputmask,_positioning.caret.call(inputmask,this),tabbed);void 0!==newCaretPosition&&_positioning.caret.call(inputmask,this,newCaretPosition)}},cutEvent:function cutEvent(e){var inputmask=this.inputmask,maskset=inputmask.maskset,input=this,pos=_positioning.caret.call(inputmask,this),clipboardData=window.clipboardData||e.clipboardData,clipData=inputmask.isRTL?_positioning.getBuffer.call(inputmask).slice(pos.end,pos.begin):_positioning.getBuffer.call(inputmask).slice(pos.begin,pos.end);clipboardData.setData("text",inputmask.isRTL?clipData.reverse().join(""):clipData.join("")),document.execCommand&&document.execCommand("copy"),_validation.handleRemove.call(inputmask,this,_keycode.default.DELETE,pos),(0,_inputHandling.writeBuffer)(this,_positioning.getBuffer.call(inputmask),maskset.p,e,inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join(""))},blurEvent:function blurEvent(e){var inputmask=this.inputmask,opts=inputmask.opts,$=inputmask.dependencyLib,$input=$(this),input=this;if(this.inputmask){(0,_inputHandling.HandleNativePlaceholder)(this,inputmask.originalPlaceholder);var nptValue=this.inputmask._valueGet(),buffer=_positioning.getBuffer.call(inputmask).slice();""!==nptValue&&(opts.clearMaskOnLostFocus&&(-1===_positioning.getLastValidPosition.call(inputmask)&&nptValue===_positioning.getBufferTemplate.call(inputmask).join("")?buffer=[]:_inputHandling.clearOptionalTail.call(inputmask,buffer)),!1===_validation.isComplete.call(inputmask,buffer)&&(setTimeout(function(){$input.trigger("incomplete")},0),opts.clearIncomplete&&(_positioning.resetMaskSet.call(inputmask),buffer=opts.clearMaskOnLostFocus?[]:_positioning.getBufferTemplate.call(inputmask).slice())),(0,_inputHandling.writeBuffer)(this,buffer,void 0,e)),inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&(inputmask.undoValue=_positioning.getBuffer.call(inputmask).join(""),$input.trigger("change"))}},mouseenterEvent:function mouseenterEvent(){var inputmask=this.inputmask,opts=inputmask.opts,input=this;if(inputmask.mouseEnter=!0,(this.inputmask.shadowRoot||document).activeElement!==this){var bufferTemplate=(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).join("");inputmask.placeholder!==bufferTemplate&&this.placeholder!==inputmask.originalPlaceholder&&(inputmask.originalPlaceholder=this.placeholder),opts.showMaskOnHover&&(0,_inputHandling.HandleNativePlaceholder)(this,bufferTemplate)}},submitEvent:function submitEvent(){var inputmask=this.inputmask,opts=inputmask.opts;inputmask.undoValue!==_positioning.getBuffer.call(inputmask).join("")&&inputmask.$el.trigger("change"),opts.clearMaskOnLostFocus&&-1===_positioning.getLastValidPosition.call(inputmask)&&inputmask._valueGet&&inputmask._valueGet()===_positioning.getBufferTemplate.call(inputmask).join("")&&inputmask._valueSet(""),opts.clearIncomplete&&!1===_validation.isComplete.call(inputmask,_positioning.getBuffer.call(inputmask))&&inputmask._valueSet(""),opts.removeMaskOnSubmit&&(inputmask._valueSet(inputmask.unmaskedvalue(),!0),setTimeout(function(){(0,_inputHandling.writeBuffer)(inputmask.el,_positioning.getBuffer.call(inputmask))},0))},resetEvent:function resetEvent(){var inputmask=this.inputmask;inputmask.refreshValue=!0,setTimeout(function(){(0,_inputHandling.applyInputValue)(inputmask.el,inputmask._valueGet(!0))},0)}};exports.EventHandlers=EventHandlers},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iphone=exports.iemobile=exports.mobile=exports.ie=exports.ua=void 0;var _window=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ua=_window.default.navigator&&_window.default.navigator.userAgent||"",ie=0<ua.indexOf("MSIE ")||0<ua.indexOf("Trident/"),mobile="ontouchstart"in _window.default,iemobile=/iemobile/i.test(ua),iphone=/iphone/i.test(ua)&&!iemobile;exports.iphone=iphone,exports.iemobile=iemobile,exports.mobile=mobile,exports.ie=ie,exports.ua=ua},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extend=_interopRequireDefault(__webpack_require__(12)),_window=_interopRequireDefault(__webpack_require__(5)),_data=_interopRequireDefault(__webpack_require__(19)),_events=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document;function DependencyLib(elem){return elem instanceof DependencyLib?elem:this instanceof DependencyLib?void(null!=elem&&elem!==_window.default&&(this[0]=elem.nodeName?elem:void 0!==elem[0]&&elem[0].nodeName?elem[0]:document.querySelector(elem),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new DependencyLib(elem)}DependencyLib.prototype={on:_events.on,off:_events.off,trigger:_events.trigger},DependencyLib.extend=_extend.default,DependencyLib.data=_data.default,DependencyLib.Event=_events.Event;var _default=DependencyLib;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventRuler=void 0;var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_inputHandling=__webpack_require__(7);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventRuler={on:function on(input,eventName,eventHandler){var $=input.inputmask.dependencyLib,ev=function ev(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var that=this,args,inputmask=that.inputmask,opts=inputmask?inputmask.opts:void 0;if(void 0===inputmask&&"FORM"!==this.nodeName){var imOpts=$.data(that,"_inputmask_opts");$(that).off(),imOpts&&new _inputmask.default(imOpts).mask(that)}else{if(["submit","reset","setvalue"].includes(e.type)||"FORM"===this.nodeName||!(that.disabled||that.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===opts.tabThrough&&e.keyCode===_keycode.default.TAB))){switch(e.type){case"input":if(!0===inputmask.skipInputEvent||e.inputType&&"insertCompositionText"===e.inputType)return inputmask.skipInputEvent=!1,e.preventDefault();break;case"keydown":inputmask.skipKeyPressEvent=!1,inputmask.skipInputEvent=inputmask.isComposing=e.keyCode===_keycode.default.KEY_229;break;case"keyup":case"compositionend":inputmask.isComposing&&(inputmask.skipInputEvent=!1);break;case"keypress":if(!0===inputmask.skipKeyPressEvent)return e.preventDefault();inputmask.skipKeyPressEvent=!0;break;case"click":case"focus":return inputmask.validationEvent?(inputmask.validationEvent=!1,input.blur(),(0,_inputHandling.HandleNativePlaceholder)(input,(inputmask.isRTL?_positioning.getBufferTemplate.call(inputmask).slice().reverse():_positioning.getBufferTemplate.call(inputmask)).join("")),setTimeout(function(){input.focus()},3e3)):(args=arguments,setTimeout(function(){input.inputmask&&eventHandler.apply(that,args)},0)),!1}var returnVal=eventHandler.apply(that,arguments);return!1===returnVal&&(e.preventDefault(),e.stopPropagation()),returnVal}e.preventDefault()}};["submit","reset"].includes(eventName)?(ev=ev.bind(input),null!==input.form&&$(input.form).on(eventName,ev)):$(input).on(eventName,ev),input.inputmask.events[eventName]=input.inputmask.events[eventName]||[],input.inputmask.events[eventName].push(ev)},off:function off(input,event){if(input.inputmask&&input.inputmask.events){var $=input.inputmask.dependencyLib,events=input.inputmask.events;for(var eventName in event&&(events=[],events[event]=input.inputmask.events[event]),events){for(var evArr=events[eventName];0<evArr.length;){var ev=evArr.pop();["submit","reset"].includes(eventName)?null!==input.form&&$(input.form).off(eventName,ev):$(input).off(eventName,ev)}delete input.inputmask.events[eventName]}}}};exports.EventRuler=EventRuler},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"!==_typeof(target)&&"function"!=typeof target&&(target={});i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&("[object Object]"===Object.prototype.toString.call(copy)||(copyIsArray=Array.isArray(copy)))?(clone=copyIsArray?(copyIsArray=!1,src&&Array.isArray(src)?src:[]):src&&"[object Object]"===Object.prototype.toString.call(src)?src:{},target[name]=extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=extend},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var escapeRegexRegex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim");function _default(str){return str.replace(escapeRegexRegex,"\\$1")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(15),__webpack_require__(24),__webpack_require__(25),__webpack_require__(26);var _inputmask2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=_inputmask2.default;exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_positioning=__webpack_require__(1),_validationTests=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_inputmask.default.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var ipValidatorRegex=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function ipValidator(chrs,maskset,pos,strict,opts){return chrs=-1<pos-1&&"."!==maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,-1<pos-2&&"."!==maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):"00"+chrs,ipValidatorRegex.test(chrs)}_inputmask.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:ipValidator},j:{validator:ipValidator},k:{validator:ipValidator},l:{validator:ipValidator}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function onBeforePaste(pastedValue,opts){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict){var bffr=_validationTests.getMaskTemplate.call(this,!0,_positioning.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(bffr.join(""))}}})},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===_typeof("test".__proto__)?function(object){return object.__proto__}:function(object){return object.constructor.prototype})},function(module,exports,__webpack_require__){"use strict";Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function value(searchElement,fromIndex){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if(0==len)return!1;for(var n=0|fromIndex,k=Math.max(0<=n?n:len-Math.abs(n),0);k<len;){if(o[k]===searchElement)return!0;k++}return!1}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mask=mask;var _keycode=_interopRequireDefault(__webpack_require__(0)),_positioning=__webpack_require__(1),_inputHandling=__webpack_require__(7),_eventruler=__webpack_require__(11),_environment=__webpack_require__(9),_validation=__webpack_require__(4),_eventhandlers=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function mask(){var inputmask=this,opts=this.opts,el=this.el,$=this.dependencyLib;function isElementTypeSupported(input,opts){function patchValueProperty(npt){var valueGet,valueSet;function patchValhook(type){if($.valHooks&&(void 0===$.valHooks[type]||!0!==$.valHooks[type].inputmaskpatch)){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function get(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask)return elem.inputmask.unmaskedvalue();var result=valhookGet(elem);return-1!==_positioning.getLastValidPosition.call(inputmask,void 0,void 0,elem.inputmask.maskset.validPositions)||!0!==opts.nullable?result:""}return valhookGet(elem)},set:function set(elem,value){var result=valhookSet(elem,value);return elem.inputmask&&(0,_inputHandling.applyInputValue)(elem,value),result},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==_positioning.getLastValidPosition.call(inputmask)||!0!==opts.nullable?(this.inputmask.shadowRoot||document.activeElement)===this&&opts.clearMaskOnLostFocus?(inputmask.isRTL?_inputHandling.clearOptionalTail.call(inputmask,_positioning.getBuffer.call(inputmask).slice()).reverse():_inputHandling.clearOptionalTail.call(inputmask,_positioning.getBuffer.call(inputmask).slice())).join(""):valueGet.call(this):"":valueGet.call(this)}function setter(value){valueSet.call(this,value),this.inputmask&&(0,_inputHandling.applyInputValue)(this,value)}function installNativeValueSetFallback(npt){_eventruler.EventRuler.on(npt,"mouseenter",function(){var input=this,value=this.inputmask._valueGet(!0);value!==(inputmask.isRTL?_positioning.getBuffer.call(inputmask).reverse():_positioning.getBuffer.call(inputmask)).join("")&&(0,_inputHandling.applyInputValue)(this,value)})}if(!npt.inputmask.__valueGet){if(!0!==opts.noValuePatching){if(Object.getOwnPropertyDescriptor){var valueProperty=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt),"value"):void 0;valueProperty&&valueProperty.get&&valueProperty.set?(valueGet=valueProperty.get,valueSet=valueProperty.set,Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0})):"input"!==npt.tagName.toLowerCase()&&(valueGet=function valueGet(){return this.textContent},valueSet=function valueSet(value){this.textContent=value},Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0}))}else document.__lookupGetter__&&npt.__lookupGetter__("value")&&(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter));npt.inputmask.__valueGet=valueGet,npt.inputmask.__valueSet=valueSet}npt.inputmask._valueGet=function(overruleRTL){return inputmask.isRTL&&!0!==overruleRTL?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el)},npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,null==value?"":!0!==overruleRTL&&inputmask.isRTL?value.split("").reverse().join(""):value)},void 0===valueGet&&(valueGet=function valueGet(){return this.value},valueSet=function valueSet(value){this.value=value},patchValhook(npt.type),installNativeValueSetFallback(npt))}}"textarea"!==input.tagName.toLowerCase()&&opts.ignorables.push(_keycode.default.ENTER);var elementType=input.getAttribute("type"),isSupported="input"===input.tagName.toLowerCase()&&opts.supportsInputType.includes(elementType)||input.isContentEditable||"textarea"===input.tagName.toLowerCase();if(!isSupported)if("input"===input.tagName.toLowerCase()){var el=document.createElement("input");el.setAttribute("type",elementType),isSupported="text"===el.type,el=null}else isSupported="partial";return!1!==isSupported?patchValueProperty(input):input.inputmask=void 0,isSupported}_eventruler.EventRuler.off(el);var isSupported=isElementTypeSupported(el,opts);if(!1!==isSupported){inputmask.originalPlaceholder=el.placeholder,inputmask.maxLength=void 0!==el?el.maxLength:void 0,-1===inputmask.maxLength&&(inputmask.maxLength=void 0),"inputMode"in el&&null===el.getAttribute("inputmode")&&(el.inputMode=opts.inputmode,el.setAttribute("inputmode",opts.inputmode)),!0===isSupported&&(opts.showMaskOnFocus=opts.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(el.autocomplete),_environment.iphone&&(opts.insertModeVisual=!1),_eventruler.EventRuler.on(el,"submit",_eventhandlers.EventHandlers.submitEvent),_eventruler.EventRuler.on(el,"reset",_eventhandlers.EventHandlers.resetEvent),_eventruler.EventRuler.on(el,"blur",_eventhandlers.EventHandlers.blurEvent),_eventruler.EventRuler.on(el,"focus",_eventhandlers.EventHandlers.focusEvent),_eventruler.EventRuler.on(el,"invalid",_eventhandlers.EventHandlers.invalidEvent),_eventruler.EventRuler.on(el,"click",_eventhandlers.EventHandlers.clickEvent),_eventruler.EventRuler.on(el,"mouseleave",_eventhandlers.EventHandlers.mouseleaveEvent),_eventruler.EventRuler.on(el,"mouseenter",_eventhandlers.EventHandlers.mouseenterEvent),_eventruler.EventRuler.on(el,"paste",_eventhandlers.EventHandlers.pasteEvent),_eventruler.EventRuler.on(el,"cut",_eventhandlers.EventHandlers.cutEvent),_eventruler.EventRuler.on(el,"complete",opts.oncomplete),_eventruler.EventRuler.on(el,"incomplete",opts.onincomplete),_eventruler.EventRuler.on(el,"cleared",opts.oncleared),!0!==opts.inputEventOnly&&(_eventruler.EventRuler.on(el,"keydown",_eventhandlers.EventHandlers.keydownEvent),_eventruler.EventRuler.on(el,"keypress",_eventhandlers.EventHandlers.keypressEvent),_eventruler.EventRuler.on(el,"keyup",_eventhandlers.EventHandlers.keyupEvent)),(_environment.mobile||opts.inputEventOnly)&&el.removeAttribute("maxLength"),_eventruler.EventRuler.on(el,"input",_eventhandlers.EventHandlers.inputFallBackEvent),_eventruler.EventRuler.on(el,"compositionend",_eventhandlers.EventHandlers.compositionendEvent)),_eventruler.EventRuler.on(el,"setvalue",_eventhandlers.EventHandlers.setValueEvent),inputmask.undoValue=_positioning.getBufferTemplate.call(inputmask).join("");var activeElement=(el.inputmask.shadowRoot||document).activeElement;if(""!==el.inputmask._valueGet(!0)||!1===opts.clearMaskOnLostFocus||activeElement===el){(0,_inputHandling.applyInputValue)(el,el.inputmask._valueGet(!0),opts);var buffer=_positioning.getBuffer.call(inputmask).slice();!1===_validation.isComplete.call(inputmask,buffer)&&opts.clearIncomplete&&_positioning.resetMaskSet.call(inputmask),opts.clearMaskOnLostFocus&&activeElement!==el&&(-1===_positioning.getLastValidPosition.call(inputmask)?buffer=[]:_inputHandling.clearOptionalTail.call(inputmask,buffer)),(!1===opts.clearMaskOnLostFocus||opts.showMaskOnFocus&&activeElement===el||""!==el.inputmask._valueGet(!0))&&(0,_inputHandling.writeBuffer)(el,buffer),activeElement===el&&_positioning.caret.call(inputmask,el,_positioning.seekNext.call(inputmask,_positioning.getLastValidPosition.call(inputmask)))}}}},function(module,exports,__webpack_require__){"use strict";function _default(owner,key,value){if(void 0===value)return owner.__data?owner.__data[key]:null;owner.__data=owner.__data||{},owner.__data[key]=value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=on,exports.off=off,exports.trigger=trigger,exports.Event=void 0;var _extend=_interopRequireDefault(__webpack_require__(12)),_window=_interopRequireDefault(__webpack_require__(5)),_inputmask=_interopRequireDefault(__webpack_require__(10)),_canUseDOM=_interopRequireDefault(__webpack_require__(6)),Event;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isValidElement(elem){return elem instanceof Element}function on(events,handler){function addEvent(ev,namespace){elem.addEventListener?elem.addEventListener(ev,handler,!1):elem.attachEvent&&elem.attachEvent("on"+ev,handler),eventRegistry[ev]=eventRegistry[ev]||{},eventRegistry[ev][namespace]=eventRegistry[ev][namespace]||[],eventRegistry[ev][namespace].push(handler)}if(isValidElement(this[0]))for(var eventRegistry=this[0].eventRegistry,elem=this[0],_events=events.split(" "),endx=0;endx<_events.length;endx++){var nsEvent=_events[endx].split("."),ev=nsEvent[0],namespace=nsEvent[1]||"global";addEvent(ev,namespace)}return this}function off(events,handler){var eventRegistry,elem;function removeEvent(ev,namespace,handler){if(ev in eventRegistry==!0)if(elem.removeEventListener?elem.removeEventListener(ev,handler,!1):elem.detachEvent&&elem.detachEvent("on"+ev,handler),"global"===namespace)for(var nmsp in eventRegistry[ev])eventRegistry[ev][nmsp].splice(eventRegistry[ev][nmsp].indexOf(handler),1);else eventRegistry[ev][namespace].splice(eventRegistry[ev][namespace].indexOf(handler),1)}function resolveNamespace(ev,namespace){var evts=[],hndx,hndL;if(0<ev.length)if(void 0===handler)for(hndx=0,hndL=eventRegistry[ev][namespace].length;hndx<hndL;hndx++)evts.push({ev:ev,namespace:namespace&&0<namespace.length?namespace:"global",handler:eventRegistry[ev][namespace][hndx]});else evts.push({ev:ev,namespace:namespace&&0<namespace.length?namespace:"global",handler:handler});else if(0<namespace.length)for(var evNdx in eventRegistry)for(var nmsp in eventRegistry[evNdx])if(nmsp===namespace)if(void 0===handler)for(hndx=0,hndL=eventRegistry[evNdx][nmsp].length;hndx<hndL;hndx++)evts.push({ev:evNdx,namespace:nmsp,handler:eventRegistry[evNdx][nmsp][hndx]});else evts.push({ev:evNdx,namespace:nmsp,handler:handler});return evts}if(isValidElement(this[0])&&events){eventRegistry=this[0].eventRegistry,elem=this[0];for(var _events=events.split(" "),endx=0;endx<_events.length;endx++)for(var nsEvent=_events[endx].split("."),offEvents=resolveNamespace(nsEvent[0],nsEvent[1]),i=0,offEventsL=offEvents.length;i<offEventsL;i++)removeEvent(offEvents[i].ev,offEvents[i].namespace,offEvents[i].handler)}return this}function trigger(events){if(isValidElement(this[0]))for(var eventRegistry=this[0].eventRegistry,elem=this[0],_events="string"==typeof events?events.split(" "):[events.type],endx=0;endx<_events.length;endx++){var nsEvent=_events[endx].split("."),ev=nsEvent[0],namespace=nsEvent[1]||"global";if(void 0!==document&&"global"===namespace){var evnt,i,params={bubbles:!0,cancelable:!0,detail:arguments[1]};if(document.createEvent){try{switch(ev){case"input":evnt=new InputEvent(ev,params);break;default:evnt=new CustomEvent(ev,params)}}catch(e){evnt=document.createEvent("CustomEvent"),evnt.initCustomEvent(ev,params.bubbles,params.cancelable,params.detail)}events.type&&(0,_extend.default)(evnt,events),elem.dispatchEvent(evnt)}else evnt=document.createEventObject(),evnt.eventType=ev,evnt.detail=arguments[1],events.type&&(0,_extend.default)(evnt,events),elem.fireEvent("on"+evnt.eventType,evnt)}else if(void 0!==eventRegistry[ev])if(arguments[0]=arguments[0].type?arguments[0]:_inputmask.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1),"global"===namespace)for(var nmsp in eventRegistry[ev])for(i=0;i<eventRegistry[ev][nmsp].length;i++)eventRegistry[ev][nmsp][i].apply(elem,arguments);else for(i=0;i<eventRegistry[ev][namespace].length;i++)eventRegistry[ev][namespace][i].apply(elem,arguments)}return this}exports.Event=Event,"function"==typeof _window.default.CustomEvent?exports.Event=Event=_window.default.CustomEvent:_canUseDOM.default&&(exports.Event=Event=function Event(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt},Event.prototype=_window.default.Event.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateMaskSet=generateMaskSet,exports.analyseMask=analyseMask;var _inputmask=_interopRequireDefault(__webpack_require__(10));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function generateMaskSet(opts,nocache){var ms;function generateMask(mask,metadata,opts){var regexMask=!1,masksetDefinition,maskdefKey;if(null!==mask&&""!==mask||(regexMask=null!==opts.regex,mask=regexMask?(mask=opts.regex,mask.replace(/^(\^)(.*)(\$)$/,"$2")):(regexMask=!0,".*")),1===mask.length&&!1===opts.greedy&&0!==opts.repeat&&(opts.placeholder=""),0<opts.repeat||"*"===opts.repeat||"+"===opts.repeat){var repeatStart="*"===opts.repeat?0:"+"===opts.repeat?1:opts.repeat;mask=opts.groupmarker[0]+mask+opts.groupmarker[1]+opts.quantifiermarker[0]+repeatStart+","+opts.repeat+opts.quantifiermarker[1]}return maskdefKey=regexMask?"regex_"+opts.regex:opts.numericInput?mask.split("").reverse().join(""):mask,!1!==opts.keepStatic&&(maskdefKey="ks_"+maskdefKey),void 0===Inputmask.prototype.masksCache[maskdefKey]||!0===nocache?(masksetDefinition={mask:mask,maskToken:Inputmask.prototype.analyseMask(mask,regexMask,opts),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:metadata,maskLength:void 0,jitOffset:{}},!0!==nocache&&(Inputmask.prototype.masksCache[maskdefKey]=masksetDefinition,masksetDefinition=_inputmask.default.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]))):masksetDefinition=_inputmask.default.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]),masksetDefinition}if("function"==typeof opts.mask&&(opts.mask=opts.mask(opts)),Array.isArray(opts.mask)){if(1<opts.mask.length){null===opts.keepStatic&&(opts.keepStatic=!0);var altMask=opts.groupmarker[0];return(opts.isRTL?opts.mask.reverse():opts.mask).forEach(function(msk){1<altMask.length&&(altMask+=opts.groupmarker[1]+opts.alternatormarker+opts.groupmarker[0]),void 0!==msk.mask&&"function"!=typeof msk.mask?altMask+=msk.mask:altMask+=msk}),altMask+=opts.groupmarker[1],generateMask(altMask,opts.mask,opts)}opts.mask=opts.mask.pop()}return null===opts.keepStatic&&(opts.keepStatic=!1),ms=opts.mask&&void 0!==opts.mask.mask&&"function"!=typeof opts.mask.mask?generateMask(opts.mask.mask,opts.mask,opts):generateMask(opts.mask,opts.mask,opts),ms}function analyseMask(mask,regexMask,opts){var tokenizer=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,regexTokenizer=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,escaped=!1,currentToken=new MaskToken,match,m,openenings=[],maskTokens=[],openingToken,currentOpeningToken,alternator,lastMatch,closeRegexGroup=!1;function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[],this.openGroup=isGroup||!1,this.alternatorGroup=!1,this.isGroup=isGroup||!1,this.isOptional=isOptional||!1,this.isQuantifier=isQuantifier||!1,this.isAlternator=isAlternator||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){position=void 0!==position?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(regexMask)0===element.indexOf("[")||escaped&&/\\d|\\s|\\w]/i.test(element)||"."===element?mtoken.matches.splice(position++,0,{fn:new RegExp(element,opts.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element,casing:null,def:element,placeholder:void 0,nativeDef:element}):(escaped&&(element=element[element.length-1]),element.split("").forEach(function(lmnt,ndx){prevMatch=mtoken.matches[position-1],mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||lmnt)?new RegExp("["+(opts.staticDefinitionSymbol||lmnt)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==lmnt&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||lmnt,placeholder:void 0!==opts.staticDefinitionSymbol?lmnt:void 0,nativeDef:(escaped?"'":"")+lmnt})})),escaped=!1;else{var maskdef=opts.definitions&&opts.definitions[element]||opts.usePrototypeDefinitions&&Inputmask.prototype.definitions[element];maskdef&&!escaped?mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator,opts.casing?"i":""):new function(){this.test=maskdef.validator}:new RegExp("."),static:maskdef.static||!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,nativeDef:element,generated:maskdef.generated}):(mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||element)?new RegExp("["+(opts.staticDefinitionSymbol||element)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||element,placeholder:void 0!==opts.staticDefinitionSymbol?element:void 0,nativeDef:(escaped?"'":"")+element}),escaped=!1)}}function verifyGroupMarker(maskToken){maskToken&&maskToken.matches&&maskToken.matches.forEach(function(token,ndx){var nextToken=maskToken.matches[ndx+1];(void 0===nextToken||void 0===nextToken.matches||!1===nextToken.isQuantifier)&&token&&token.isGroup&&(token.isGroup=!1,regexMask||(insertTestDefinition(token,opts.groupmarker[0],0),!0!==token.openGroup&&insertTestDefinition(token,opts.groupmarker[1]))),verifyGroupMarker(token)})}function defaultCase(){if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],insertTestDefinition(currentOpeningToken,m),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup&&(alternator.matches[mndx].isGroup=!1);0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else insertTestDefinition(currentToken,m)}function reverseTokens(maskToken){function reverseStatic(st){return st===opts.optionalmarker[0]?st=opts.optionalmarker[1]:st===opts.optionalmarker[1]?st=opts.optionalmarker[0]:st===opts.groupmarker[0]?st=opts.groupmarker[1]:st===opts.groupmarker[1]&&(st=opts.groupmarker[0]),st}for(var match in maskToken.matches=maskToken.matches.reverse(),maskToken.matches)if(Object.prototype.hasOwnProperty.call(maskToken.matches,match)){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1),maskToken.matches.splice(intMatch+1,0,qt)}void 0!==maskToken.matches[match].matches?maskToken.matches[match]=reverseTokens(maskToken.matches[match]):maskToken.matches[match]=reverseStatic(maskToken.matches[match])}return maskToken}function groupify(matches){var groupToken=new MaskToken(!0);return groupToken.openGroup=!1,groupToken.matches=matches,groupToken}function closeGroup(){if(openingToken=openenings.pop(),openingToken.openGroup=!1,void 0!==openingToken)if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1,alternator.matches[mndx].alternatorGroup=!1;0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);else defaultCase()}function groupQuantifier(matches){var lastMatch=matches.pop();return lastMatch.isQuantifier&&(lastMatch=groupify([matches.pop(),lastMatch])),lastMatch}for(regexMask&&(opts.optionalmarker[0]=void 0,opts.optionalmarker[1]=void 0);match=regexMask?regexTokenizer.exec(mask):tokenizer.exec(mask);){if(m=match[0],regexMask)switch(m.charAt(0)){case"?":m="{0,1}";break;case"+":case"*":m="{"+m+"}";break;case"|":if(0===openenings.length){var altRegexGroup=groupify(currentToken.matches);altRegexGroup.openGroup=!0,openenings.push(altRegexGroup),currentToken.matches=[],closeRegexGroup=!0}break}if(escaped)defaultCase();else switch(m.charAt(0)){case"$":case"^":regexMask||defaultCase();break;case"(?=":break;case"(?!":break;case"(?<=":break;case"(?<!":break;case opts.escapeChar:escaped=!0,regexMask&&defaultCase();break;case opts.optionalmarker[1]:case opts.groupmarker[1]:closeGroup();break;case opts.optionalmarker[0]:openenings.push(new MaskToken(!1,!0));break;case opts.groupmarker[0]:openenings.push(new MaskToken(!0));break;case opts.quantifiermarker[0]:var quantifier=new MaskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mqj=m.split("|"),mq=mqj[0].split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);"*"!==mq0&&"+"!==mq0||(mq0="*"===mq1?0:1),quantifier.quantifier={min:mq0,max:mq1,jit:mqj[1]};var matches=0<openenings.length?openenings[openenings.length-1].matches:currentToken.matches;if(match=matches.pop(),match.isAlternator){matches.push(match),matches=match.matches;var groupToken=new MaskToken(!0),tmpMatch=matches.pop();matches.push(groupToken),matches=groupToken.matches,match=tmpMatch}match.isGroup||(match=groupify([match])),matches.push(match),matches.push(quantifier);break;case opts.alternatormarker:if(0<openenings.length){currentOpeningToken=openenings[openenings.length-1];var subToken=currentOpeningToken.matches[currentOpeningToken.matches.length-1];lastMatch=currentOpeningToken.openGroup&&(void 0===subToken.matches||!1===subToken.isGroup&&!1===subToken.isAlternator)?openenings.pop():groupQuantifier(currentOpeningToken.matches)}else lastMatch=groupQuantifier(currentToken.matches);if(lastMatch.isAlternator)openenings.push(lastMatch);else if(lastMatch.alternatorGroup?(alternator=openenings.pop(),lastMatch.alternatorGroup=!1):alternator=new MaskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator),lastMatch.openGroup){lastMatch.openGroup=!1;var alternatorGroup=new MaskToken(!0);alternatorGroup.alternatorGroup=!0,openenings.push(alternatorGroup)}break;default:defaultCase()}}for(closeRegexGroup&&closeGroup();0<openenings.length;)openingToken=openenings.pop(),currentToken.matches.push(openingToken);return 0<currentToken.matches.length&&(verifyGroupMarker(currentToken),maskTokens.push(currentToken)),(opts.numericInput||opts.isRTL)&&reverseTokens(maskTokens[0]),maskTokens}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={9:{validator:"[0-9\uff10-\uff19]",definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",definitionSymbol:"*"},"*":{validator:"[0-9\uff10-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]"}};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function oncomplete(){},onincomplete:function onincomplete(){},oncleared:function oncleared(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function onKeyDown(){},onBeforeMask:null,onBeforePaste:function onBeforePaste(pastedValue,opts){return"function"==typeof opts.onBeforeMask?opts.onBeforeMask.call(this,pastedValue,opts):pastedValue},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function onKeyValidation(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0};exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_escapeRegex=_interopRequireDefault(__webpack_require__(13)),_positioning=__webpack_require__(1);function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=_inputmask.default.dependencyLib,currentYear=(new Date).getFullYear(),formatCode={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return pad(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return pad(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],hx:[function(x){return"[0-9]{".concat(x,"}")},Date.prototype.setHours,"hours",function(x){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],Hx:[function(x){return"[0-9]{".concat(x,"}")},Date.prototype.setHours,"hours",function(x){return function(){return pad(Date.prototype.getHours.call(this),x)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return pad(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return pad(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},formatAlias={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function formatcode(match){var dynMatches=new RegExp("\\d+$").exec(match[0]);if(dynMatches&&void 0!==dynMatches[0]){var fcode=formatCode[match[0][0]+"x"].slice("");return fcode[0]=fcode[0](dynMatches[0]),fcode[3]=fcode[3](dynMatches[0]),fcode}if(formatCode[match[0]])return formatCode[match[0]]}function getTokenizer(opts){if(!opts.tokenizer){var tokens=[],dyntokens=[];for(var ndx in formatCode)if(/\.*x$/.test(ndx)){var dynToken=ndx[0]+"\\d+";-1===dyntokens.indexOf(dynToken)&&dyntokens.push(dynToken)}else-1===tokens.indexOf(ndx[0])&&tokens.push(ndx[0]);opts.tokenizer="("+(0<dyntokens.length?dyntokens.join("|")+"|":"")+tokens.join("+|")+")+?|.",opts.tokenizer=new RegExp(opts.tokenizer,"g")}return opts.tokenizer}function prefillYear(dateParts,currentResult,opts){if(dateParts.year!==dateParts.rawyear){var crrntyear=currentYear.toString(),enteredPart=dateParts.rawyear.replace(/[^0-9]/g,""),currentYearPart=crrntyear.slice(0,enteredPart.length),currentYearNextPart=crrntyear.slice(enteredPart.length);if(2===enteredPart.length&&enteredPart===currentYearPart){var entryCurrentYear=new Date(currentYear,dateParts.month-1,dateParts.day);dateParts.day==entryCurrentYear.getDate()&&(!opts.max||opts.max.date.getTime()>=entryCurrentYear.getTime())&&(dateParts.date.setFullYear(currentYear),dateParts.year=crrntyear,currentResult.insert=[{pos:currentResult.pos+1,c:currentYearNextPart[0]},{pos:currentResult.pos+2,c:currentYearNextPart[1]}])}}return currentResult}function isValidDate(dateParts,currentResult,opts){if(void 0===dateParts.rawday||!isFinite(dateParts.rawday)&&new Date(dateParts.date.getFullYear(),isFinite(dateParts.rawmonth)?dateParts.month:dateParts.date.getMonth()+1,0).getDate()>=dateParts.day||"29"==dateParts.day&&!isFinite(dateParts.rawyear)||new Date(dateParts.date.getFullYear(),isFinite(dateParts.rawmonth)?dateParts.month:dateParts.date.getMonth()+1,0).getDate()>=dateParts.day)return currentResult;if("29"==dateParts.day){var tokenMatch=getTokenMatch(currentResult.pos,opts);if("yyyy"===tokenMatch.targetMatch[0]&&currentResult.pos-tokenMatch.targetMatchIndex==2)return currentResult.remove=currentResult.pos+1,currentResult}else if("02"==dateParts.month&&"30"==dateParts.day)return dateParts.day="03",dateParts.date.setDate(3),dateParts.date.setMonth(1),currentResult.insert=[{pos:currentResult.pos,c:"0"},{pos:currentResult.pos+1,c:currentResult.c}],currentResult.caret=_positioning.seekNext.call(this,currentResult.pos+1),currentResult;return!1}function isDateInRange(dateParts,result,opts,maskset,fromCheckval){if(!result)return result;if(opts.min){if(dateParts.rawyear){var rawYear=dateParts.rawyear.replace(/[^0-9]/g,""),minYear=opts.min.year.substr(0,rawYear.length),maxYear;if(rawYear<minYear){var tokenMatch=getTokenMatch(result.pos,opts);if(rawYear=dateParts.rawyear.substr(0,result.pos-tokenMatch.targetMatchIndex+1).replace(/[^0-9]/g,"0"),minYear=opts.min.year.substr(0,rawYear.length),minYear<=rawYear)return result.remove=tokenMatch.targetMatchIndex+rawYear.length,result;if(rawYear="yyyy"===tokenMatch.targetMatch[0]?dateParts.rawyear.substr(1,1):dateParts.rawyear.substr(0,1),minYear=opts.min.year.substr(2,1),maxYear=opts.max?opts.max.year.substr(2,1):rawYear,1===rawYear.length&&minYear<=rawYear&&rawYear<=maxYear&&!0!==fromCheckval)return"yyyy"===tokenMatch.targetMatch[0]?(result.insert=[{pos:result.pos+1,c:rawYear,strict:!0}],result.caret=result.pos+2,maskset.validPositions[result.pos].input=opts.min.year[1]):(result.insert=[{pos:result.pos+1,c:opts.min.year[1],strict:!0},{pos:result.pos+2,c:rawYear,strict:!0}],result.caret=result.pos+3,maskset.validPositions[result.pos].input=opts.min.year[0]),result;result=!1}}result&&dateParts.year&&dateParts.year===dateParts.rawyear&&opts.min.date.getTime()==opts.min.date.getTime()&&(result=opts.min.date.getTime()<=dateParts.date.getTime())}return result&&opts.max&&opts.max.date.getTime()==opts.max.date.getTime()&&(result=opts.max.date.getTime()>=dateParts.date.getTime()),result}function parse(format,dateObjValue,opts,raw){var mask="",match,fcode;for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(format);)if(void 0===dateObjValue)if(fcode=formatcode(match))mask+="("+fcode[0]+")";else switch(match[0]){case"[":mask+="(";break;case"]":mask+=")?";break;default:mask+=(0,_escapeRegex.default)(match[0])}else if(fcode=formatcode(match))if(!0!==raw&&fcode[3]){var getFn=fcode[3];mask+=getFn.call(dateObjValue.date)}else fcode[2]?mask+=dateObjValue["raw"+fcode[2]]:mask+=match[0];else mask+=match[0];return mask}function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val}function analyseMask(maskString,format,opts){var dateObj={date:new Date(1,0,1)},targetProp,mask=maskString,match,dateOperation;function setValue(dateObj,value,opts){if(dateObj[targetProp]=value.replace(/[^0-9]/g,"0"),dateObj["raw"+targetProp]=value,void 0!==dateOperation){var datavalue=dateObj[targetProp];"day"===targetProp&&0===parseInt(datavalue)&&(datavalue=1),"month"===targetProp&&(datavalue=parseInt(datavalue),0<datavalue)&&(datavalue-=1),dateOperation.call(dateObj.date,datavalue)}}if("string"==typeof mask){for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(format);){var dynMatches=new RegExp("\\d+$").exec(match[0]),fcode=dynMatches?match[0][0]+"x":match[0],value=void 0;if(dynMatches){var lastIndex=getTokenizer(opts).lastIndex,tokanMatch=getTokenMatch(match.index,opts);getTokenizer(opts).lastIndex=lastIndex,value=mask.slice(0,mask.indexOf(tokanMatch.nextMatch[0]))}else value=mask.slice(0,fcode.length);Object.prototype.hasOwnProperty.call(formatCode,fcode)&&(targetProp=formatCode[fcode][2],dateOperation=formatCode[fcode][1],setValue(dateObj,value,opts)),mask=mask.slice(value.length)}return dateObj}if(mask&&"object"===_typeof(mask)&&Object.prototype.hasOwnProperty.call(mask,"date"))return mask}function importDate(dateObj,opts){return parse(opts.inputFormat,{date:dateObj},opts)}function getTokenMatch(pos,opts){var calcPos=0,targetMatch,match,matchLength=0;for(getTokenizer(opts).lastIndex=0;match=getTokenizer(opts).exec(opts.inputFormat);){var dynMatches=new RegExp("\\d+$").exec(match[0]);if(matchLength=dynMatches?parseInt(dynMatches[0]):match[0].length,calcPos+=matchLength,pos<=calcPos){targetMatch=match,match=getTokenizer(opts).exec(opts.inputFormat);break}}return{targetMatchIndex:calcPos-matchLength,nextMatch:match,targetMatch:targetMatch}}_inputmask.default.extendAliases({datetime:{mask:function mask(opts){return opts.numericInput=!1,formatCode.S=opts.i18n.ordinalSuffix.join("|"),opts.inputFormat=formatAlias[opts.inputFormat]||opts.inputFormat,opts.displayFormat=formatAlias[opts.displayFormat]||opts.displayFormat||opts.inputFormat,opts.outputFormat=formatAlias[opts.outputFormat]||opts.outputFormat||opts.inputFormat,opts.placeholder=""!==opts.placeholder?opts.placeholder:opts.inputFormat.replace(/[[\]]/,""),opts.regex=parse(opts.inputFormat,void 0,opts),opts.min=analyseMask(opts.min,opts.inputFormat,opts),opts.max=analyseMask(opts.max,opts.inputFormat,opts),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset,caretPos,strict){if(strict)return!0;if(isNaN(c)&&buffer[pos]!==c){var tokenMatch=getTokenMatch(pos,opts);if(tokenMatch.nextMatch&&tokenMatch.nextMatch[0]===c&&1<tokenMatch.targetMatch[0].length){var validator=formatCode[tokenMatch.targetMatch[0]][0];if(new RegExp(validator).test("0"+buffer[pos-1]))return buffer[pos]=buffer[pos-1],buffer[pos-1]="0",{fuzzy:!0,buffer:buffer,refreshFromBuffer:{start:pos-1,end:pos+1},pos:pos+1}}}return!0},postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict,fromCheckval){var inputmask=this,tokenMatch,validator;if(strict)return!0;if(!1===currentResult&&(tokenMatch=getTokenMatch(pos+1,opts),tokenMatch.targetMatch&&tokenMatch.targetMatchIndex===pos&&1<tokenMatch.targetMatch[0].length&&void 0!==formatCode[tokenMatch.targetMatch[0]]&&(validator=formatCode[tokenMatch.targetMatch[0]][0],void 0!==maskset.validPositions[pos+1]&&new RegExp(validator).test(c+"0")?(buffer[pos]=c,buffer[pos+1]="0",currentResult={pos:pos+2,caret:pos}):new RegExp(validator).test("0"+c)&&(buffer[pos]="0",buffer[pos+1]=c,currentResult={pos:pos+2})),!1===currentResult))return currentResult;if(currentResult.fuzzy&&(buffer=currentResult.buffer,pos=currentResult.pos),tokenMatch=getTokenMatch(pos,opts),tokenMatch.targetMatch&&tokenMatch.targetMatch[0]&&void 0!==formatCode[tokenMatch.targetMatch[0]]){validator=formatCode[tokenMatch.targetMatch[0]][0];var part=buffer.slice(tokenMatch.targetMatchIndex,tokenMatch.targetMatchIndex+tokenMatch.targetMatch[0].length);!1===new RegExp(validator).test(part.join(""))&&2===tokenMatch.targetMatch[0].length&&maskset.validPositions[tokenMatch.targetMatchIndex]&&maskset.validPositions[tokenMatch.targetMatchIndex+1]&&(maskset.validPositions[tokenMatch.targetMatchIndex+1].input="0")}var result=currentResult,dateParts=analyseMask(buffer.join(""),opts.inputFormat,opts);return result&&dateParts.date.getTime()==dateParts.date.getTime()&&(result=prefillYear(dateParts,result,opts),result=isValidDate.call(this,dateParts,result,opts),result=isDateInRange(dateParts,result,opts,maskset,fromCheckval)),pos&&result&&currentResult.pos!==pos?{buffer:parse(opts.inputFormat,dateParts,opts).split(""),refreshFromBuffer:{start:pos,end:currentResult.pos},pos:currentResult.caret||currentResult.pos}:result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var input=this;e.ctrlKey&&e.keyCode===_keycode.default.RIGHT&&(this.inputmask._valueSet(importDate(new Date,opts)),$(this).trigger("setvalue"))},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return unmaskedValue?parse(opts.outputFormat,analyseMask(maskedValue,opts.inputFormat,opts),opts,!0):unmaskedValue},casing:function casing(elem,test,pos,validPositions){return 0==test.nativeDef.indexOf("[ap]")?elem.toLowerCase():0==test.nativeDef.indexOf("[AP]")?elem.toUpperCase():elem},onBeforeMask:function onBeforeMask(initialValue,opts){return"[object Date]"===Object.prototype.toString.call(initialValue)&&(initialValue=importDate(initialValue,opts)),initialValue},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric"}})},function(module,exports,__webpack_require__){"use strict";var _inputmask=_interopRequireDefault(__webpack_require__(2)),_keycode=_interopRequireDefault(__webpack_require__(0)),_escapeRegex=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=_inputmask.default.dependencyLib;function autoEscape(txt,opts){for(var escapedTxt="",i=0;i<txt.length;i++)_inputmask.default.prototype.definitions[txt.charAt(i)]||opts.definitions[txt.charAt(i)]||opts.optionalmarker[0]===txt.charAt(i)||opts.optionalmarker[1]===txt.charAt(i)||opts.quantifiermarker[0]===txt.charAt(i)||opts.quantifiermarker[1]===txt.charAt(i)||opts.groupmarker[0]===txt.charAt(i)||opts.groupmarker[1]===txt.charAt(i)||opts.alternatormarker===txt.charAt(i)?escapedTxt+="\\"+txt.charAt(i):escapedTxt+=txt.charAt(i);return escapedTxt}function alignDigits(buffer,digits,opts,force){if(0<buffer.length&&0<digits&&(!opts.digitsOptional||force)){var radixPosition=buffer.indexOf(opts.radixPoint),negationBack=!1;opts.negationSymbol.back===buffer[buffer.length-1]&&(negationBack=!0,buffer.length--),-1===radixPosition&&(buffer.push(opts.radixPoint),radixPosition=buffer.length-1);for(var i=1;i<=digits;i++)isFinite(buffer[radixPosition+i])||(buffer[radixPosition+i]="0")}return negationBack&&buffer.push(opts.negationSymbol.back),buffer}function findValidator(symbol,maskset){var posNdx=0;if("+"===symbol){for(posNdx in maskset.validPositions);posNdx=parseInt(posNdx)}for(var tstNdx in maskset.tests)if(tstNdx=parseInt(tstNdx),posNdx<=tstNdx)for(var ndx=0,ndxl=maskset.tests[tstNdx].length;ndx<ndxl;ndx++)if((void 0===maskset.validPositions[tstNdx]||"-"===symbol)&&maskset.tests[tstNdx][ndx].match.def===symbol)return tstNdx+(void 0!==maskset.validPositions[tstNdx]&&"-"!==symbol?1:0);return posNdx}function findValid(symbol,maskset){var ret=-1;for(var ndx in maskset.validPositions){var tst=maskset.validPositions[ndx];if(tst&&tst.match.def===symbol){ret=parseInt(ndx);break}}return ret}function parseMinMaxOptions(opts){void 0===opts.parseMinMaxOptions&&(null!==opts.min&&(opts.min=opts.min.toString().replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.min=opts.min.replace(opts.radixPoint,".")),opts.min=isFinite(opts.min)?parseFloat(opts.min):NaN,isNaN(opts.min)&&(opts.min=Number.MIN_VALUE)),null!==opts.max&&(opts.max=opts.max.toString().replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.max=opts.max.replace(opts.radixPoint,".")),opts.max=isFinite(opts.max)?parseFloat(opts.max):NaN,isNaN(opts.max)&&(opts.max=Number.MAX_VALUE)),opts.parseMinMaxOptions="done")}function genMask(opts){opts.repeat=0,opts.groupSeparator===opts.radixPoint&&opts.digits&&"0"!==opts.digits&&("."===opts.radixPoint?opts.groupSeparator=",":","===opts.radixPoint?opts.groupSeparator=".":opts.groupSeparator="")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),1<opts.placeholder.length&&(opts.placeholder=opts.placeholder.charAt(0)),"radixFocus"===opts.positionCaretOnClick&&""===opts.placeholder&&(opts.positionCaretOnClick="lvp");var decimalDef="0",radixPointDef=opts.radixPoint;!0===opts.numericInput&&void 0===opts.__financeInput?(decimalDef="1",opts.positionCaretOnClick="radixFocus"===opts.positionCaretOnClick?"lvp":opts.positionCaretOnClick,opts.digitsOptional=!1,isNaN(opts.digits)&&(opts.digits=2),opts._radixDance=!1,radixPointDef=","===opts.radixPoint?"?":"!",""!==opts.radixPoint&&void 0===opts.definitions[radixPointDef]&&(opts.definitions[radixPointDef]={},opts.definitions[radixPointDef].validator="["+opts.radixPoint+"]",opts.definitions[radixPointDef].placeholder=opts.radixPoint,opts.definitions[radixPointDef].static=!0,opts.definitions[radixPointDef].generated=!0)):(opts.__financeInput=!1,opts.numericInput=!0);var mask="[+]",altMask;if(mask+=autoEscape(opts.prefix,opts),""!==opts.groupSeparator?(void 0===opts.definitions[opts.groupSeparator]&&(opts.definitions[opts.groupSeparator]={},opts.definitions[opts.groupSeparator].validator="["+opts.groupSeparator+"]",opts.definitions[opts.groupSeparator].placeholder=opts.groupSeparator,opts.definitions[opts.groupSeparator].static=!0,opts.definitions[opts.groupSeparator].generated=!0),mask+=opts._mask(opts)):mask+="9{+}",void 0!==opts.digits&&0!==opts.digits){var dq=opts.digits.toString().split(",");isFinite(dq[0])&&dq[1]&&isFinite(dq[1])?mask+=radixPointDef+decimalDef+"{"+opts.digits+"}":(isNaN(opts.digits)||0<parseInt(opts.digits))&&(opts.digitsOptional?(altMask=mask+radixPointDef+decimalDef+"{0,"+opts.digits+"}",opts.keepStatic=!0):mask+=radixPointDef+decimalDef+"{"+opts.digits+"}")}return mask+=autoEscape(opts.suffix,opts),mask+="[-]",altMask&&(mask=[altMask+autoEscape(opts.suffix,opts)+"[-]",mask]),opts.greedy=!1,parseMinMaxOptions(opts),mask}function hanndleRadixDance(pos,c,radixPos,maskset,opts){return opts._radixDance&&opts.numericInput&&c!==opts.negationSymbol.back&&pos<=radixPos&&(0<radixPos||c==opts.radixPoint)&&(void 0===maskset.validPositions[pos-1]||maskset.validPositions[pos-1].input!==opts.negationSymbol.back)&&(pos-=1),pos}function decimalValidator(chrs,maskset,pos,strict,opts){var radixPos=maskset.buffer?maskset.buffer.indexOf(opts.radixPoint):-1,result=-1!==radixPos&&new RegExp("[0-9\uff11-\uff19]").test(chrs);return opts._radixDance&&result&&null==maskset.validPositions[radixPos]?{insert:{pos:radixPos===pos?radixPos+1:radixPos,c:opts.radixPoint},pos:pos}:result}function checkForLeadingZeroes(buffer,opts){var numberMatches=new RegExp("(^"+(""!==opts.negationSymbol.front?(0,_escapeRegex.default)(opts.negationSymbol.front)+"?":"")+(0,_escapeRegex.default)(opts.prefix)+")(.*)("+(0,_escapeRegex.default)(opts.suffix)+(""!=opts.negationSymbol.back?(0,_escapeRegex.default)(opts.negationSymbol.back)+"?":"")+"$)").exec(buffer.slice().reverse().join("")),number=numberMatches?numberMatches[2]:"",leadingzeroes=!1;return number&&(number=number.split(opts.radixPoint.charAt(0))[0],leadingzeroes=new RegExp("^[0"+opts.groupSeparator+"]*").exec(number)),!(!leadingzeroes||!(1<leadingzeroes[0].length||0<leadingzeroes[0].length&&leadingzeroes[0].length<number.length))&&leadingzeroes}_inputmask.default.extendAliases({numeric:{mask:genMask,_mask:function _mask(opts){return"("+opts.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"numeric",shortcuts:{k:"000",m:"000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",definitions:{0:{validator:decimalValidator},1:{validator:decimalValidator,definitionSymbol:"9"},"+":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&("-"===chrs||chrs===opts.negationSymbol.front)}},"-":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&chrs===opts.negationSymbol.back}}},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset,caretPos,strict){if(!1!==opts.__financeInput&&c===opts.radixPoint)return!1;var pattern;if(pattern=opts.shortcuts&&opts.shortcuts[c]){if(1<pattern.length)for(var inserts=[],i=0;i<pattern.length;i++)inserts.push({pos:pos+i,c:pattern[i],strict:!1});return{insert:inserts}}var radixPos=buffer.indexOf(opts.radixPoint),initPos=pos;if(pos=hanndleRadixDance(pos,c,radixPos,maskset,opts),"-"===c||c===opts.negationSymbol.front){if(!0!==opts.allowMinus)return!1;var isNegative=!1,front=findValid("+",maskset),back=findValid("-",maskset);return-1!==front&&(isNegative=[front,back]),!1!==isNegative?{remove:isNegative,caret:initPos-opts.negationSymbol.front.length}:{insert:[{pos:findValidator("+",maskset),c:opts.negationSymbol.front,fromIsValid:!0},{pos:findValidator("-",maskset),c:opts.negationSymbol.back,fromIsValid:void 0}],caret:initPos+opts.negationSymbol.back.length}}if(c===opts.groupSeparator)return{caret:initPos};if(strict)return!0;if(-1!==radixPos&&!0===opts._radixDance&&!1===isSelection&&c===opts.radixPoint&&void 0!==opts.digits&&(isNaN(opts.digits)||0<parseInt(opts.digits))&&radixPos!==pos)return{caret:opts._radixDance&&pos===radixPos-1?radixPos+1:radixPos};if(!1===opts.__financeInput)if(isSelection){if(opts.digitsOptional)return{rewritePosition:caretPos.end};if(!opts.digitsOptional){if(caretPos.begin>radixPos&&caretPos.end<=radixPos)return c===opts.radixPoint?{insert:{pos:radixPos+1,c:"0",fromIsValid:!0},rewritePosition:radixPos}:{rewritePosition:radixPos+1};if(caretPos.begin<radixPos)return{rewritePosition:caretPos.begin-1}}}else if(!opts.showMaskOnHover&&!opts.showMaskOnFocus&&!opts.digitsOptional&&0<opts.digits&&""===this.__valueGet.call(this.el))return{rewritePosition:radixPos};return{rewritePosition:pos}},postValidation:function postValidation(buffer,pos,c,currentResult,opts,maskset,strict){if(!1===currentResult)return currentResult;if(strict)return!0;if(null!==opts.min||null!==opts.max){var unmasked=opts.onUnMask(buffer.slice().reverse().join(""),void 0,$.extend({},opts,{unmaskAsNumber:!0}));if(null!==opts.min&&unmasked<opts.min&&(unmasked.toString().length>opts.min.toString().length||unmasked<0))return!1;if(null!==opts.max&&unmasked>opts.max)return!!opts.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:alignDigits(opts.max.toString().replace(".",opts.radixPoint).split(""),opts.digits,opts).reverse()}}return currentResult},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){if(""===unmaskedValue&&!0===opts.nullable)return unmaskedValue;var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator),"g"),""),""!==opts.placeholder.charAt(0)&&(processValue=processValue.replace(new RegExp(opts.placeholder.charAt(0),"g"),"0")),opts.unmaskAsNumber?(""!==opts.radixPoint&&-1!==processValue.indexOf(opts.radixPoint)&&(processValue=processValue.replace(_escapeRegex.default.call(this,opts.radixPoint),".")),processValue=processValue.replace(new RegExp("^"+(0,_escapeRegex.default)(opts.negationSymbol.front)),"-"),processValue=processValue.replace(new RegExp((0,_escapeRegex.default)(opts.negationSymbol.back)+"$"),""),Number(processValue)):processValue},isComplete:function isComplete(buffer,opts){var maskedValue=(opts.numericInput?buffer.slice().reverse():buffer).join("");return maskedValue=maskedValue.replace(new RegExp("^"+(0,_escapeRegex.default)(opts.negationSymbol.front)),"-"),maskedValue=maskedValue.replace(new RegExp((0,_escapeRegex.default)(opts.negationSymbol.back)+"$"),""),maskedValue=maskedValue.replace(opts.prefix,""),maskedValue=maskedValue.replace(opts.suffix,""),maskedValue=maskedValue.replace(new RegExp((0,_escapeRegex.default)(opts.groupSeparator)+"([0-9]{3})","g"),"$1"),","===opts.radixPoint&&(maskedValue=maskedValue.replace((0,_escapeRegex.default)(opts.radixPoint),".")),isFinite(maskedValue)},onBeforeMask:function onBeforeMask(initialValue,opts){var radixPoint=opts.radixPoint||",";isFinite(opts.digits)&&(opts.digits=parseInt(opts.digits)),"number"!=typeof initialValue&&"number"!==opts.inputType||""===radixPoint||(initialValue=initialValue.toString().replace(".",radixPoint));var isNagtive="-"===initialValue.charAt(0)||initialValue.charAt(0)===opts.negationSymbol.front,valueParts=initialValue.split(radixPoint),integerPart=valueParts[0].replace(/[^\-0-9]/g,""),decimalPart=1<valueParts.length?valueParts[1].replace(/[^0-9]/g,""):"",forceDigits=1<valueParts.length;initialValue=integerPart+(""!==decimalPart?radixPoint+decimalPart:decimalPart);var digits=0;if(""!==radixPoint&&(digits=opts.digitsOptional?opts.digits<decimalPart.length?opts.digits:decimalPart.length:opts.digits,""!==decimalPart||!opts.digitsOptional)){var digitsFactor=Math.pow(10,digits||1);initialValue=initialValue.replace((0,_escapeRegex.default)(radixPoint),"."),isNaN(parseFloat(initialValue))||(initialValue=(opts.roundingFN(parseFloat(initialValue)*digitsFactor)/digitsFactor).toFixed(digits)),initialValue=initialValue.toString().replace(".",radixPoint)}if(0===opts.digits&&-1!==initialValue.indexOf(radixPoint)&&(initialValue=initialValue.substring(0,initialValue.indexOf(radixPoint))),null!==opts.min||null!==opts.max){var numberValue=initialValue.toString().replace(radixPoint,".");null!==opts.min&&numberValue<opts.min?initialValue=opts.min.toString().replace(".",radixPoint):null!==opts.max&&numberValue>opts.max&&(initialValue=opts.max.toString().replace(".",radixPoint))}return isNagtive&&"-"!==initialValue.charAt(0)&&(initialValue="-"+initialValue),alignDigits(initialValue.toString().split(""),digits,opts,forceDigits).join("")},onBeforeWrite:function onBeforeWrite(e,buffer,caretPos,opts){function stripBuffer(buffer,stripRadix){if(!1!==opts.__financeInput||stripRadix){var position=buffer.indexOf(opts.radixPoint);-1!==position&&buffer.splice(position,1)}if(""!==opts.groupSeparator)for(;-1!==(position=buffer.indexOf(opts.groupSeparator));)buffer.splice(position,1);return buffer}var result,leadingzeroes=checkForLeadingZeroes(buffer,opts);if(leadingzeroes)for(var caretNdx=buffer.join("").lastIndexOf(leadingzeroes[0].split("").reverse().join(""))-(leadingzeroes[0]==leadingzeroes.input?0:1),offset=leadingzeroes[0]==leadingzeroes.input?1:0,i=leadingzeroes[0].length-offset;0<i;i--)delete this.maskset.validPositions[caretNdx+i],delete buffer[caretNdx+i];if(e)switch(e.type){case"blur":case"checkval":if(null!==opts.min){var unmasked=opts.onUnMask(buffer.slice().reverse().join(""),void 0,$.extend({},opts,{unmaskAsNumber:!0}));if(null!==opts.min&&unmasked<opts.min)return{refreshFromBuffer:!0,buffer:alignDigits(opts.min.toString().replace(".",opts.radixPoint).split(""),opts.digits,opts).reverse()}}if(buffer[buffer.length-1]===opts.negationSymbol.front){var nmbrMtchs=new RegExp("(^"+(""!=opts.negationSymbol.front?(0,_escapeRegex.default)(opts.negationSymbol.front)+"?":"")+(0,_escapeRegex.default)(opts.prefix)+")(.*)("+(0,_escapeRegex.default)(opts.suffix)+(""!=opts.negationSymbol.back?(0,_escapeRegex.default)(opts.negationSymbol.back)+"?":"")+"$)").exec(stripBuffer(buffer.slice(),!0).reverse().join("")),number=nmbrMtchs?nmbrMtchs[2]:"";0==number&&(result={refreshFromBuffer:!0,buffer:[0]})}else""!==opts.radixPoint&&buffer[0]===opts.radixPoint&&(result&&result.buffer?result.buffer.shift():(buffer.shift(),result={refreshFromBuffer:!0,buffer:stripBuffer(buffer)}));if(opts.enforceDigitsOnBlur){result=result||{};var bffr=result&&result.buffer||buffer.slice().reverse();result.refreshFromBuffer=!0,result.buffer=alignDigits(bffr,opts.digits,opts,!0).reverse()}}return result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var $input=$(this),bffr;if(e.ctrlKey)switch(e.keyCode){case _keycode.default.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(opts.step)),$input.trigger("setvalue"),!1;case _keycode.default.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(opts.step)),$input.trigger("setvalue"),!1}if(!e.shiftKey&&(e.keyCode===_keycode.default.DELETE||e.keyCode===_keycode.default.BACKSPACE||e.keyCode===_keycode.default.BACKSPACE_SAFARI)&&caretPos.begin!==buffer.length){if(buffer[e.keyCode===_keycode.default.DELETE?caretPos.begin-1:caretPos.end]===opts.negationSymbol.front)return bffr=buffer.slice().reverse(),""!==opts.negationSymbol.front&&bffr.shift(),""!==opts.negationSymbol.back&&bffr.pop(),$input.trigger("setvalue",[bffr.join(""),caretPos.begin]),!1;if(!0===opts._radixDance){var radixPos=buffer.indexOf(opts.radixPoint);if(opts.digitsOptional){if(0===radixPos)return bffr=buffer.slice().reverse(),bffr.pop(),$input.trigger("setvalue",[bffr.join(""),caretPos.begin>=bffr.length?bffr.length:caretPos.begin]),!1}else if(-1!==radixPos&&(caretPos.begin<radixPos||caretPos.end<radixPos||e.keyCode===_keycode.default.DELETE&&caretPos.begin===radixPos))return caretPos.begin!==caretPos.end||e.keyCode!==_keycode.default.BACKSPACE&&e.keyCode!==_keycode.default.BACKSPACE_SAFARI||caretPos.begin++,bffr=buffer.slice().reverse(),bffr.splice(bffr.length-caretPos.begin,caretPos.begin-caretPos.end+1),bffr=alignDigits(bffr,opts.digits,opts).join(""),$input.trigger("setvalue",[bffr,caretPos.begin>=bffr.length?radixPos+1:caretPos.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function _mask(opts){return"("+opts.groupSeparator+"99){*|1}("+opts.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},function(module,exports,__webpack_require__){"use strict";var _window=_interopRequireDefault(__webpack_require__(5)),_inputmask=_interopRequireDefault(__webpack_require__(2)),_canUseDOM=_interopRequireDefault(__webpack_require__(6));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!_isNativeFunction(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof _cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a),instance=new Constructor;return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var document=_window.default.document;if(_canUseDOM.default&&document&&document.head&&document.head.attachShadow&&_window.default.customElements&&void 0===_window.default.customElements.get("input-mask")){var InputmaskElement=function(_HTMLElement){_inherits(InputmaskElement,_HTMLElement);var _super=_createSuper(InputmaskElement);function InputmaskElement(){var _this;_classCallCheck(this,InputmaskElement),_this=_super.call(this);var attributeNames=_this.getAttributeNames(),shadow=_this.attachShadow({mode:"closed"}),input=document.createElement("input");for(var attr in input.type="text",shadow.appendChild(input),attributeNames)Object.prototype.hasOwnProperty.call(attributeNames,attr)&&input.setAttribute(attributeNames[attr],_this.getAttribute(attributeNames[attr]));var im=new _inputmask.default;return im.dataAttribute="",im.mask(input),input.inputmask.shadowRoot=shadow,_this}return InputmaskElement}(_wrapNativeSuper(HTMLElement));_window.default.customElements.define("input-mask",InputmaskElement)}}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=14);function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var modules,installedModules});
/*! js-cookie v3.0.0-rc.1 | MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,r=e.Cookies=t();r.noConflict=function(){return e.Cookies=n,r}}())}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function n(r,o){function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n=r.write(n,t);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+c}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var c=n[i].split("="),u=c.slice(1).join("=");'"'===u[0]&&(u=u.slice(1,-1));try{var f=t.read(c[0]);if(o[f]=r.read(u,f),e===f)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(r)}})}(t,{path:"/"})});

/*
 0BSD
*/
(function(F,y){"function"===typeof define&&define.amd?define(y):"object"===typeof exports?module.exports=y():F.pickmeup=y()})(this,function(){function F(a,c,b){b=b||[];if(a instanceof Element)c.apply(c,[a].concat(b));else{var d;var e=a.length;for(d=0;d<e;++d)c.apply(c,[a[d]].concat(b))}}function y(a){F(a,function(a){a.parentElement.removeChild(a)})}function J(a,c){do a=a.parentElement;while(a&&!B(a,c));return a}function B(a,c){return(a.matches||a.webkitMatchesSelector||a.msMatchesSelector).call(a,
c)}function k(a,c){return a&&a.classList.contains(c)}function l(a,c){a.classList.add(c)}function q(a,c,b,d){if(-1!==b.indexOf(" ")){b=b.split(" ");var e=b.length,h;for(h=0;h<e;++h)q(a,c,b[h],d)}else a.__pickmeup.events.push([c,b,d]),c.addEventListener(b,d)}function z(a,c,b,d){var e;if(b&&-1!==b.indexOf(" ")){var h=b.split(" ");var l=h.length;for(e=0;e<l;++e)z(a,c,h[e],d)}else for(h=a.__pickmeup.events,l=h.length,e=0;e<l;++e)c&&c!==h[e][0]||b&&b!==h[e][1]||d&&d!==h[e][2]||h[e][0].removeEventListener(h[e][1],
h[e][2])}function M(a){a=a.getBoundingClientRect();return{top:a.top+window.pageYOffset-document.documentElement.clientTop,left:a.left+window.pageXOffset-document.documentElement.clientLeft}}function C(a,c,b){var d=document.createEvent("Event");b&&(d.detail=b);d.initEvent("pickmeup-"+c,!1,!0);return a.dispatchEvent(d)}function K(a){a=new Date(a);for(var c=28,b=a.getMonth();a.getMonth()===b;)++c,a.setDate(c);return c-1}function A(a,c){a.setDate(a.getDate()+c)}function p(a,c){var b=a.getDate();a.setDate(1);
a.setMonth(a.getMonth()+c);a.setDate(Math.min(b,K(a)))}function u(a,c){var b=a.getDate();a.setDate(1);a.setFullYear(a.getFullYear()+c);a.setDate(Math.min(b,K(a)))}function N(a){var c=a.__pickmeup.element,b=a.__pickmeup.options,d=Math.floor(b.calendars/2),e=b.date,h=b.current,m=b.min?new Date(b.min):null,v=b.max?new Date(b.max):null;m&&(m.setDate(1),p(m,1),A(m,-1));v&&(v.setDate(1),p(v,1),A(v,-1));y(Array.prototype.slice.call(c.querySelectorAll(".pmu-instance > :not(nav)")));for(var w=0;w<b.calendars;w++){var f=
new Date(h);x(f);var n=Array.prototype.slice.call(c.querySelectorAll(".pmu-instance"))[w];if(k(c,"pmu-view-years")){u(f,12*(w-d));var G=f.getFullYear()-6+" - "+(f.getFullYear()+5)}else k(c,"pmu-view-months")?(u(f,w-d),G=f.getFullYear()):k(c,"pmu-view-days")&&(p(f,w-d),G="function"===typeof b.title_format?b.title_format(f,b.locales[b.locale]):D(f,b.title_format,b.locales[b.locale]));if(!r&&v){var r=new Date(f);b.select_day?p(r,b.calendars-1):b.select_month?u(r,b.calendars-1):u(r,12*(b.calendars-1));
if(r>v){--w;p(h,-1);r=void 0;continue}}r=new Date(f);if(!g){var g=new Date(f);g.setDate(1);p(g,1);A(g,-1);if(m&&m>g){--w;p(h,1);g=void 0;continue}}n.querySelector(".pmu-month").innerHTML=G;var q=function(a){return"range"===b.mode&&a>=(new Date(e[0])).getFullYear()&&a<=(new Date(e[1])).getFullYear()||"multiple"===b.mode&&-1!==e.reduce(function(a,b){a.push((new Date(b)).getFullYear());return a},[]).indexOf(a)||(new Date(e)).getFullYear()===a},t=function(a,c){var d=(new Date(e[0])).getFullYear(),f=(new Date(e[1])).getFullYear(),
h=(new Date(e[0])).getMonth(),g=(new Date(e[1])).getMonth();return"range"===b.mode&&(a>d&&a<f||a>d&&a===f&&c<=g||a===d&&a<f&&c>=h||a===d&&a===f&&c>=h&&c<=g)||"multiple"===b.mode&&-1!==e.reduce(function(a,b){b=new Date(b);a.push(b.getFullYear()+"-"+b.getMonth());return a},[]).indexOf(a+"-"+c)||(new Date(e)).getFullYear()===a&&(new Date(e)).getMonth()===c};(function(){var a=[],c=f.getFullYear()-6,d=(new Date(b.min)).getFullYear(),e=(new Date(b.max)).getFullYear(),h;for(h=0;12>h;++h){var g=c+h;var m=
document.createElement("div");m.textContent=g;m.__pickmeup_year=g;b.min&&g<d||b.max&&g>e?l(m,"pmu-disabled"):q(g)&&l(m,"pmu-selected");a.push(m)}n.appendChild(b.instance_content_template(a,"pmu-years"))})();(function(){var a=[],c=f.getFullYear(),d=(new Date(b.min)).getFullYear(),e=(new Date(b.min)).getMonth(),g=(new Date(b.max)).getFullYear(),h=(new Date(b.max)).getMonth(),m;for(m=0;12>m;++m){var k=document.createElement("div");k.textContent=b.locales[b.locale].monthsShort[m];k.__pickmeup_month=m;
k.__pickmeup_year=c;b.min&&(c<d||m<e&&c===d)||b.max&&(c>g||m>h&&c>=g)?l(k,"pmu-disabled"):t(c,m)&&l(k,"pmu-selected");a.push(k)}n.appendChild(b.instance_content_template(a,"pmu-months"))})();(function(){var a=[],c=f.getMonth(),d=x(new Date).valueOf(),e;(function(){f.setDate(1);var a=(f.getDay()-b.first_day)%7;A(f,-(a+(0>a?7:0)))})();for(e=0;42>e;++e){var g=document.createElement("div");g.textContent=f.getDate();g.__pickmeup_day=f.getDate();g.__pickmeup_month=f.getMonth();g.__pickmeup_year=f.getFullYear();
c!==f.getMonth()&&l(g,"pmu-not-in-month");0===f.getDay()?l(g,"pmu-sunday"):6===f.getDay()&&l(g,"pmu-saturday");var h=b.render(new Date(f))||{};var m=x(new Date(f)).valueOf();var k=b.min&&b.min>f||b.max&&b.max<f;var v=b.date.valueOf()===m||b.date instanceof Array&&b.date.reduce(function(a,b){return a||m===b.valueOf()},!1)||"range"===b.mode&&m>=b.date[0]&&m<=b.date[1];h.disabled||!("disabled"in h)&&k?l(g,"pmu-disabled"):(h.selected||!("selected"in h)&&v)&&l(g,"pmu-selected");m===d&&l(g,"pmu-today");
h.class_name&&h.class_name.split(" ").forEach(l.bind(g,g));a.push(g);A(f,1)}n.appendChild(b.instance_content_template(a,"pmu-days"))})()}g.setDate(1);r.setDate(1);p(r,1);A(r,-1);d=c.querySelector(".pmu-prev");c=c.querySelector(".pmu-next");d&&(d.style.visibility=b.min&&b.min>=g?"hidden":"visible");c&&(c.style.visibility=b.max&&b.max<=r?"hidden":"visible");C(a,"fill")}function t(a,c){var b=c.format,d=c.separator,e=c.locales[c.locale];if(a instanceof Date||"number"===typeof a)return x(new Date(a));
if(!a)return x(new Date);if(a instanceof Array){a=a.slice();for(b=0;b<a.length;++b)a[b]=t(a[b],c);return a}d=a.split(d);if(1<d.length)return d.forEach(function(a,b,d){d[b]=t(a.trim(),c)}),d;d=[].concat(e.daysShort,e.daysMin,e.days,e.monthsShort,e.months);d=d.map(function(a){return"("+a+")"});d=new RegExp("[^0-9a-zA-Z"+d.join("")+"]+");a=a.split(d);d=b.split(d);var h=new Date;for(b=0;b<a.length;b++)switch(d[b]){case "b":var m=e.monthsShort.indexOf(a[b]);break;case "B":m=e.months.indexOf(a[b]);break;
case "d":case "e":var l=parseInt(a[b],10);break;case "m":m=parseInt(a[b],10)-1;break;case "Y":case "y":var k=parseInt(a[b],10);k+=100<k?0:29>k?2E3:1900;break;case "H":case "I":case "k":case "l":var f=parseInt(a[b],10);break;case "P":case "p":/pm/i.test(a[b])&&12>f?f+=12:/am/i.test(a[b])&&12<=f&&(f-=12);break;case "M":var n=parseInt(a[b],10)}e=new Date(void 0===k?h.getFullYear():k,void 0===m?h.getMonth():m,void 0===l?h.getDate():l,void 0===f?h.getHours():f,void 0===n?h.getMinutes():n,0);isNaN(1*e)&&
(e=new Date);return x(e)}function x(a){a.setHours(0,0,0,0);return a}function D(a,c,b){var d=a.getMonth(),e=a.getDate(),h=a.getFullYear(),m=a.getDay(),k=a.getHours(),l=12<=k,f=l?k-12:k;var n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var p=new Date(a.getFullYear(),0,0,0,0,0);n=Math.floor((n-p)/864E5);0===f&&(f=12);p=a.getMinutes();var r=a.getSeconds();c=c.split("");for(var g,q=0;q<c.length;q++){g=c[q];switch(g){case "a":g=b.daysShort[m];break;case "A":g=b.days[m];break;case "b":g=b.monthsShort[d];
break;case "B":g=b.months[d];break;case "C":g=1+Math.floor(h/100);break;case "d":g=10>e?"0"+e:e;break;case "e":g=e;break;case "H":g=10>k?"0"+k:k;break;case "I":g=10>f?"0"+f:f;break;case "j":g=100>n?10>n?"00"+n:"0"+n:n;break;case "k":g=k;break;case "l":g=f;break;case "m":g=9>d?"0"+(1+d):1+d;break;case "M":g=10>p?"0"+p:p;break;case "p":case "P":g=l?"PM":"AM";break;case "s":g=Math.floor(a.getTime()/1E3);break;case "S":g=10>r?"0"+r:r;break;case "u":g=m+1;break;case "w":g=m;break;case "y":g=(""+h).substr(2,
2);break;case "Y":g=h}c[q]=g}return c.join("")}function O(a,c){var b=a.__pickmeup.options,d;x(c);a:switch(b.mode){case "multiple":var e=c.valueOf();for(d=0;d<b.date.length;++d)if(b.date[d].valueOf()===e){b.date.splice(d,1);break a}b.date.push(c);break;case "range":b.lastSel||(b.date[0]=c);c<=b.date[0]?(b.date[1]=b.date[0],b.date[0]=c):b.date[1]=c;b.lastSel=!b.lastSel;break;default:b.date=c.valueOf()}c=H(b);B(a,"input")&&(a.value="single"===b.mode?c.formatted_date:c.formatted_date.join(b.separator));
C(a,"change",c);b.flat||!b.hide_on_select||"range"===b.mode&&b.lastSel||b.bound.hide()}function P(a,c){var b=c.target;k(b,"pmu-button")||(b=J(b,".pmu-button"));if(!k(b,"pmu-button")||k(b,"pmu-disabled"))return!1;c.preventDefault();c.stopPropagation();a=a.__pickmeup.options;var d=J(b,".pmu-instance");c=d.parentElement;d=Array.prototype.slice.call(c.querySelectorAll(".pmu-instance")).indexOf(d);B(b.parentElement,"nav")?k(b,"pmu-month")?(p(a.current,d-Math.floor(a.calendars/2)),k(c,"pmu-view-years")?
(a.current="single"!==a.mode?new Date(a.date[a.date.length-1]):new Date(a.date),a.select_day?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-days")):a.select_month&&(c.classList.remove("pmu-view-years"),l(c,"pmu-view-months"))):k(c,"pmu-view-months")?a.select_year?(c.classList.remove("pmu-view-months"),l(c,"pmu-view-years")):a.select_day&&(c.classList.remove("pmu-view-months"),l(c,"pmu-view-days")):k(c,"pmu-view-days")&&(a.select_month?(c.classList.remove("pmu-view-days"),l(c,"pmu-view-months")):
a.select_year&&(c.classList.remove("pmu-view-days"),l(c,"pmu-view-years")))):k(b,"pmu-prev")?a.bound.prev(!1):a.bound.next(!1):k(c,"pmu-view-years")?(a.current.setFullYear(b.__pickmeup_year),a.select_month?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-months")):a.select_day?(c.classList.remove("pmu-view-years"),l(c,"pmu-view-days")):a.bound.update_date(a.current)):k(c,"pmu-view-months")?(a.current.setMonth(b.__pickmeup_month),a.current.setFullYear(b.__pickmeup_year),a.select_day?(c.classList.remove("pmu-view-months"),
l(c,"pmu-view-days")):a.bound.update_date(a.current),p(a.current,Math.floor(a.calendars/2)-d)):(c=new Date(a.current),c.setYear(b.__pickmeup_year),c.setMonth(b.__pickmeup_month),c.setDate(b.__pickmeup_day),a.bound.update_date(c));a.bound.fill();return!0}function H(a){if("single"===a.mode){var c=new Date(a.date);return{formatted_date:D(c,a.format,a.locales[a.locale]),date:c}}c={formatted_date:[],date:[]};a.date.forEach(function(b){b=new Date(b);c.formatted_date.push(D(b,a.format,a.locales[a.locale]));
c.date.push(b)});return c}function I(a,c){var b=a.__pickmeup.element;if(c||k(b,"pmu-hidden")){var d=a.__pickmeup.options,e=M(a),h=window.pageXOffset,m=window.pageYOffset,l=document.documentElement.clientWidth,p=document.documentElement.clientHeight,f=e.top,n=e.left;d.bound.fill();B(a,"input")&&((c=a.value)&&d.bound.set_date(c),q(a,a,"keydown",function(a){9===a.which&&d.bound.hide()}),d.lastSel=!1);if(C(a,"show")&&!d.flat){b.classList.remove("pmu-hidden");if(d.position instanceof Function)e=d.position.call(a),
n=e.left,f=e.top;else{switch(d.position){case "top":f-=b.offsetHeight;break;case "left":n-=b.offsetWidth;break;case "right":n+=a.offsetWidth;break;case "bottom":f+=a.offsetHeight}f+b.offsetHeight>m+p&&(f=e.top-b.offsetHeight);f<m&&(f=e.top+a.offsetHeight);n+b.offsetWidth>h+l&&(n=e.left-b.offsetWidth);n<h&&(n=e.left+a.offsetWidth);n+="px";f+="px"}b.style.left=n;b.style.top=f;setTimeout(function(){q(a,document.documentElement,"click",d.bound.hide);q(a,window,"resize",d.bound.forced_show)})}}}function Q(a,
c){var b=a.__pickmeup.element,d=a.__pickmeup.options;c&&c.target&&(c.target===a||b.compareDocumentPosition(c.target)&16)||!C(a,"hide")||(l(b,"pmu-hidden"),z(a,document.documentElement,"click",d.bound.hide),z(a,window,"resize",d.bound.forced_show),d.lastSel=!1)}function R(a){var c=a.__pickmeup.options;z(a,document.documentElement,"click",c.bound.hide);z(a,window,"resize",c.bound.forced_show);c.bound.forced_show()}function S(a){a=a.__pickmeup.options;"single"!==a.mode&&(a.date=[],a.lastSel=!1,a.bound.fill())}
function T(a,c){"undefined"==typeof c&&(c=!0);var b=a.__pickmeup.element;a=a.__pickmeup.options;k(b,"pmu-view-years")?u(a.current,-12):k(b,"pmu-view-months")?u(a.current,-1):k(b,"pmu-view-days")&&p(a.current,-1);c&&a.bound.fill()}function U(a,c){"undefined"==typeof c&&(c=!0);var b=a.__pickmeup.element;a=a.__pickmeup.options;k(b,"pmu-view-years")?u(a.current,12):k(b,"pmu-view-months")?u(a.current,1):k(b,"pmu-view-days")&&p(a.current,1);c&&a.bound.fill()}function V(a,c){var b=a.__pickmeup.options;a=
H(b);return"string"===typeof c?(a=a.date,a instanceof Date?D(a,c,b.locales[b.locale]):a.map(function(a){return D(a,c,b.locales[b.locale])})):a[c?"formatted_date":"date"]}function W(a,c,b){var d=a.__pickmeup.options;if(!(c instanceof Array)||0<c.length)if(d.date=t(c,d),"single"!==d.mode)for(d.date instanceof Array?(d.date[0]=d.date[0]||t(new Date,d),"range"===d.mode&&(d.date[1]=d.date[1]||t(d.date[0],d))):(d.date=[d.date],"range"===d.mode&&d.date.push(t(d.date[0],d))),c=0;c<d.date.length;++c)d.date[c]=
L(d.date[c],d.min,d.max);else d.date instanceof Array&&(d.date=d.date[0]),d.date=L(d.date,d.min,d.max);else d.date=[];if(!d.select_day)if(d.date instanceof Array)for(c=0;c<d.date.length;++c)d.date[c].setDate(1);else d.date.setDate(1);if("multiple"===d.mode)for(c=0;c<d.date.length;++c)d.date.indexOf(d.date[c])!==c&&(d.date.splice(c,1),--c);b?d.current=t(b,d):(b="single"===d.mode?d.date:d.date[d.date.length-1],d.current=b?new Date(b):new Date);d.current.setDate(1);d.bound.fill();B(a,"input")&&!1!==
d.default_date&&(b=H(d),c=a.value,d="single"===d.mode?b.formatted_date:b.formatted_date.join(d.separator),c||C(a,"change",b),c!==d&&(a.value=d))}function X(a){var c=a.__pickmeup.element;z(a);y(c);delete a.__pickmeup}function L(a,c,b){return c&&c>a?new Date(c):b&&b<a?new Date(b):a}function E(a,c){"string"==typeof a&&(a=document.querySelector(a));if(!a)return null;if(!a.__pickmeup){var b,d={};c=c||{};for(b in E.defaults)d[b]=b in c?c[b]:E.defaults[b];for(b in d)c=a.getAttribute("data-pmu-"+b),null!==
c&&(d[b]=c);"days"!==d.view||d.select_day||(d.view="months");"months"!==d.view||d.select_month||(d.view="years");"years"!==d.view||d.select_year||(d.view="days");"days"!==d.view||d.select_day||(d.view="months");d.calendars=Math.max(1,parseInt(d.calendars,10)||1);d.mode=/single|multiple|range/.test(d.mode)?d.mode:"single";d.min&&(d.min=t(d.min,d),d.select_day||d.min.setDate(1));d.max&&(d.max=t(d.max,d),d.select_day||d.max.setDate(1));c=document.createElement("div");a.__pickmeup={options:d,events:[],
element:c};c.__pickmeup_target=a;l(c,"pickmeup");d.class_name&&l(c,d.class_name);d.bound={fill:N.bind(a,a),update_date:O.bind(a,a),click:P.bind(a,a),show:I.bind(a,a),forced_show:I.bind(a,a,!0),hide:Q.bind(a,a),update:R.bind(a,a),clear:S.bind(a,a),prev:T.bind(a,a),next:U.bind(a,a),get_date:V.bind(a,a),set_date:W.bind(a,a),destroy:X.bind(a,a)};l(c,"pmu-view-"+d.view);var e=d.instance_template(d),h="";for(b=0;b<d.calendars;++b)h+=e;c.innerHTML=h;q(a,c,"click",d.bound.click);q(a,c,"onselectstart"in Element.prototype?
"selectstart":"mousedown",function(a){a.preventDefault()});d.flat?(l(c,"pmu-flat"),a.appendChild(c)):(l(c,"pmu-hidden"),document.body.appendChild(c),q(a,a,"click",I.bind(a,a,!1)),q(a,a,"input",d.bound.update),q(a,a,"change",d.bound.update));d.bound.set_date(d.date,d.current)}d=a.__pickmeup.options;return{hide:d.bound.hide,show:d.bound.show,clear:d.bound.clear,update:d.bound.update,prev:d.bound.prev,next:d.bound.next,get_date:d.bound.get_date,set_date:d.bound.set_date,destroy:d.bound.destroy}}E.defaults=
{current:null,date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},locale:"en",locales:{en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),
months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},instance_template:function(a){var c=a.locales[a.locale].daysMin.slice();a.first_day&&c.push(c.shift());return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+a.prev+'</div><div class="pmu-month pmu-button"></div><div class="pmu-next pmu-button">'+a.next+'</div></nav><nav class="pmu-day-of-week"><div>'+
c.join("</div><div>")+"</div></nav></div>"},instance_content_template:function(a,c){var b=document.createElement("div");l(b,c);for(c=0;c<a.length;++c)l(a[c],"pmu-button"),b.appendChild(a[c]);return b}};return E});

/**
 * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
 * License: MIT - http://mrgnrdrck.mit-license.org
 *
 * https://github.com/mroderick/PubSubJS
 */
!function(n,t){"use strict";var r={};n.PubSub=r;var e=n.define;!function(n){var t={},r=-1;function e(n){var t;for(t in n)if(n.hasOwnProperty(t))return!0;return!1}function o(n,t,r){try{n(t,r)}catch(n){setTimeout(function(n){return function(){throw n}}(n),0)}}function i(n,t,r){n(t,r)}function u(n,r,e,u){var f,s=t[r],c=u?i:o;if(t.hasOwnProperty(r))for(f in s)s.hasOwnProperty(f)&&c(s[f],n,e)}function f(n,r,o,i){var f=function(n,t,r){return function(){var e=String(n),o=e.lastIndexOf(".");for(u(n,n,t,r);-1!==o;)e=e.substr(0,o),o=e.lastIndexOf("."),u(n,e,t,r)}}(n="symbol"==typeof n?n.toString():n,r,i),s=function(n){var r=String(n),o=Boolean(t.hasOwnProperty(r)&&e(t[r])),i=r.lastIndexOf(".");for(;!o&&-1!==i;)r=r.substr(0,i),i=r.lastIndexOf("."),o=Boolean(t.hasOwnProperty(r)&&e(t[r]));return o}(n);return!!s&&(!0===o?f():setTimeout(f,0),!0)}n.publish=function(t,r){return f(t,r,!1,n.immediateExceptions)},n.publishSync=function(t,r){return f(t,r,!0,n.immediateExceptions)},n.subscribe=function(n,e){if("function"!=typeof e)return!1;n="symbol"==typeof n?n.toString():n,t.hasOwnProperty(n)||(t[n]={});var o="uid_"+String(++r);return t[n][o]=e,o},n.subscribeOnce=function(t,r){var e=n.subscribe(t,function(){n.unsubscribe(e),r.apply(this,arguments)});return n},n.clearAllSubscriptions=function(){t={}},n.clearSubscriptions=function(n){var r;for(r in t)t.hasOwnProperty(r)&&0===r.indexOf(n)&&delete t[r]},n.unsubscribe=function(r){var e,o,i,u="string"==typeof r&&(t.hasOwnProperty(r)||function(n){var r;for(r in t)if(t.hasOwnProperty(r)&&0===r.indexOf(n))return!0;return!1}(r)),f=!u&&"string"==typeof r,s="function"==typeof r,c=!1;if(!u){for(e in t)if(t.hasOwnProperty(e)){if(o=t[e],f&&o[r]){delete o[r],c=r;break}if(s)for(i in o)o.hasOwnProperty(i)&&o[i]===r&&(delete o[i],c=!0)}return c}n.clearSubscriptions(r)}}(r),"function"==typeof e&&e.amd?e(function(){return r}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=r),exports.PubSub=r,module.exports=exports=r)}("object"==typeof window&&window||this);
/*! UTF-8

 kovrigin
  
     

https://github.com/htmlpluscss/

*/

( () => {

	window.INTI = {};
	INTI.resizeTimeout = null;
	INTI.windowWidthOLd = window.innerWidth;

	window.addEventListener("resize", () => {

		window.requestAnimationFrame(() => {

			if (!INTI.resizeTimeout) {

				INTI.resizeTimeout = setTimeout(() =>  {

					INTI.resizeTimeout = null;

					if(INTI.windowWidthOLd !== window.innerWidth) {

						INTI.windowWidthOLd = window.innerWidth;

						PubSub.publish('windowWidthResize');

					}

				}, 100);

			}

		});

	});

	window.addEventListener("scroll", () => {

		window.requestAnimationFrame(() => {

			PubSub.publish('windowScroll');

		});

	});

	window.addEventListener("DOMContentLoaded", () => {

		PubSub.publish('DOMContentLoaded');

	});

	window.addEventListener("load", () => {

		PubSub.publish('pageLoad');

	});

	//  
	INTI.cssAnimation = a=>{let b,c,d=document.createElement("cssanimation");switch(a){case'animation':b={"animation":"animationend","OAnimation":"oAnimationEnd","MozAnimation":"animationend","WebkitAnimation":"webkitAnimationEnd"};break;case'transition':b={"transition":"transitionend","OTransition":"oTransitionEnd","MozTransition":"transitionend","WebkitTransition":"webkitTransitionEnd"}}for(c in b)if(d.style[c]!==undefined)return b[c]}

	// Determine if an element is in the visible viewport
	INTI.isInViewport = el => {
		const rect = el.getBoundingClientRect();
		return (rect.top >= 0 && rect.bottom <= window.innerHeight);
	}

})();
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, accordion => {

		let animateOn = false;

		const btns = accordion.querySelectorAll('.accordion__btn');

		Array.from(btns, btn => {

			const item = btn.closest('.accordion__item'),
				  head = item.querySelector('.accordion__head'),
				  body = item.querySelector('.accordion__body');

			btn.addEventListener('click', () => {

				animateOn = true;

				item.classList.toggle('accordion__item--open');

			});

			body.addEventListener(INTI.cssAnimation('transition'), () => {

				if(animateOn && !INTI.isInViewport(head)){

					head.scrollIntoView({ behavior: 'smooth' });

				}

				animateOn = false;

			});

		});

	});

})(document.querySelectorAll('.accordion'));
( block => {

	if(block && block.querySelectorAll('.certification-change-date-time__input').length) {

		const input = block.querySelectorAll('.certification-change-date-time__input'),
			  date = block.querySelector('.certification-change-date-time__input--date'),
			  time = block.querySelector('.certification-change-date-time__input--time'),
			  dateDefault = date.value,
			  timeDefault = time.value,
			  reset = document.querySelector('.modal__item--certification-date-change');

		Array.from(input, el => el.addEventListener("change", () => {

			block.querySelector('[data-modal="certification-date"]').classList.add('hide');
			block.querySelector('[data-modal="certification-date-change"]').classList.remove('hide');

		}));

		reset.addEventListener("reset", () => {

			date.value = dateDefault;
			time.value = timeDefault;

			date.dispatchEvent(new CustomEvent("change"));
			time.dispatchEvent(new CustomEvent("change"));

			modal.dispatchEvent(new CustomEvent("hide"));

			block.querySelector('[data-modal="certification-date"]').classList.remove('hide');
			block.querySelector('[data-modal="certification-date-change"]').classList.add('hide');

		});

	}

})(document.querySelector('.certification-change-date-time'));
( select => {

	if(!select) {

		return;

	}

	select.addEventListener("change", () => {

		if(select.value === 'shipping') {

			const eventModalShow = new CustomEvent("modalShow", {
				detail: {
					selector: "certification-delivery-inti"
				}
			});

			window.modal.dispatchEvent(eventModalShow);

		}

		select.closest('.form').setAttribute('novalidate','novalidate');

	});

})(document.querySelector('.certification-delivery-select'));
( form => {

	if(!form) {

		return;

	}

	const btn = form.querySelector('.certification-modal-date-canceled__btn-show'),
		  block = form.querySelector('.certification-modal-date-canceled__box-date-time'),
		  input = form.querySelectorAll('.certification-modal-date-canceled__input');

	btn.addEventListener("click", () => {

		btn.classList.add('hide');
		block.classList.remove('hide');

	});

	Array.from(input, el =>
		el.addEventListener("change", () =>
			form.setAttribute('action', form.getAttribute('data-action-change'))));

})(document.querySelector('.certification-modal-date-canceled'));

( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, form => {

		const formEnabled = () => {

			form.removeEventListener("input", formEnabled);

			Array.from(form.querySelectorAll('.company-form__disabled'), el => el.disabled = false);

		};

		form.addEventListener("input", formEnabled);

		//  
		form.addEventListener('submit', event => {

			event.preventDefault();

			fetch(form.getAttribute('action'), {
				method: 'POST',
				body: new FormData(form)
			});

		});

		// data-radio-toggle
		const btnRadio = form.querySelectorAll('[data-radio-toggle]'),
			  items = form.querySelectorAll('.company-form__radio-toggle-item');

		Array.from(btnRadio, btn =>
			btn.addEventListener("change", () =>
				Array.from(items, el =>
					el.classList.toggle('hide', btn.getAttribute('data-radio-toggle') === 'hide'))));

		// remove
		const btnRemove = form.querySelector('.company-form__remove');

		btnRemove && btnRemove.addEventListener('click', () => {

			const item = btnRemove.closest('.accordion__item');

			item.addEventListener(INTI.cssAnimation('transition'), () => {

				item.remove();
				document.querySelector('.company__add').classList.remove('hide');

			});

			item.classList.remove('accordion__item--open');

			setTimeout( () => {

				item.style.opacity = 0;

			}, 1000);

		});

	});

	// CODE sms
	const formCode = document.querySelector('.company-form--code');

	//   code
	formCode.addEventListener('submit', event => {

		event.preventDefault();

		fetch(formCode.getAttribute('action'), {
			method: 'POST',
			body: new FormData(formCode)
		});

		// state sms 

		formCode.querySelector('[name="send-code"]').value = 1;

		Array.from(formCode.querySelectorAll('.company-form__code-hide'), el => el.classList.add('hide'));
		Array.from(formCode.querySelectorAll('.company-form__code-show'), el => el.classList.remove('hide'));

	});

	// reset  code
	formCode.addEventListener('reset', event => {

		// state sms 

		formCode.querySelector('[name="send-code"]').value = 0;

		Array.from(formCode.querySelectorAll('.company-form__code-hide'), el => el.classList.remove('hide'));
		Array.from(formCode.querySelectorAll('.company-form__code-show'), el => el.classList.add('hide'));

	});

})(document.querySelectorAll('.company-form'));
( items => {

	if(!items.length) {

		return;

	}

	const handler = (el, clone = el.cloneNode(true)) => {

		const btn = el.querySelector('.file-input__btn'),
			  input = el.querySelector('input[type="file"]');

		let group = el.closest('.file-input-group');

		input.addEventListener("change", event => {

			btn.textContent = input.value;
			el.classList.add('file-input--value');

			if(group) {

				const _clone = clone.cloneNode(true);

				group.appendChild(_clone);

				_clone.querySelector('input[type="file"]').setAttribute('name', _clone.querySelector('input[type="file"]').getAttribute('name') + '-' + group.querySelectorAll('.file-input').length);

				handler(_clone, clone);

				group = null;

			}

		});

	};

	Array.from(items, el => handler(el));

})(document.querySelectorAll('.file-input'));
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, form => {

		const item = form.querySelectorAll('.form-required__item'),
			  submit = form.querySelector('.form-required__submit');

		form.addEventListener("change", () => {

			let falid = true;

			Array.from(item, el => {

				if(el.value === 'none') {

					falid = false;

				}

			});

			if(falid) {

				submit.disabled = false;

			}

		});

	});

})(document.querySelectorAll('.form-required'));
( forms => {

	if(!forms.length) {

		return;

	}

	Array.from(forms, form => {

		const input = form.querySelector('.live-search__input'),
			  result = form.querySelector('.live-search__result');

		input.addEventListener('keyup', event => {

			if(input.value.length > 2 && event.key !== 'enter'){

				form.classList.add('live-search--loading', 'live-search--open');

				fetch(form.getAttribute('action'), {
					method: 'POST',
					body: new FormData(form)
				})
				.then(response => response.text())
				.then(html => {

					console.log(html);

					result.innerHTML = html;
					form.classList.remove('live-search--loading');

				});

			}

		});

	});

	window.addEventListener("click", event => {

		const isForm = event.target.closest('.live-search');

		Array.from(forms, form => {

			if(isForm !== form) {

				form.classList.remove('live-search--open');

			}

		});

	});

})(document.querySelectorAll('.live-search'));
( elems => {

	if(!elems.length) {

		return;

	}

	Array.from(elems, el => {

		let maskInput;

		const placeholder = el.getAttribute('placeholder') ? el.getAttribute('placeholder') : null;

		if(el.classList.contains('inputmask--phone')) {

			maskInput = new Inputmask({
				mask: "+7 999 999 99 99",
				showMaskOnHover: false,
				placeholder: placeholder ? placeholder : "+7 ___ ___ __ __"
			});

		}
		else if(el.classList.contains('inputmask--date')) {

			maskInput = new Inputmask({
				alias: "datetime",
				showMaskOnHover: false,
				inputFormat: "dd/mm/yyyy",
				placeholder: placeholder ? placeholder : "__/__/____"
			});

		}
		else if(el.classList.contains('inputmask--time')) {

			maskInput = new Inputmask({
				mask: "99:99",
				showMaskOnHover: false,
				placeholder: placeholder ? placeholder : "__:__"
			});

		}

		maskInput.mask(el);

	});

})(document.querySelectorAll('.inputmask'));
// btn toggle

	document.querySelector('.btn-menu-toggle').addEventListener('click', () => document.body.classList.toggle('menu-show'));

( menuItems => {

	if(!menuItems.length) {

		return;

	}

	Array.from(menuItems, item => {

		const btn = item.querySelector('.menu-main__arrow');

		btn && btn.addEventListener('click', () => item.classList.toggle('menu-main__item--open'));

	});

})(document.querySelectorAll('.menu-main__item'));
( modal => {

	if(!modal) {

		return;

	}

	const items = modal.querySelectorAll('.modal__item'),
		  btns = document.querySelectorAll('[data-modal]'),
		  wrapper = document.querySelector('.wrapper');

	let activeModal = null,
		windowScroll = window.pageYOffset;

	modal.addEventListener('hide', () => {

		document.body.classList.remove('modal-show');
		wrapper.style.top = 0;
		window.scrollTo(0,windowScroll);
		activeModal = false;

	});

	const modalShow = selector => {

		if(!activeModal){

			windowScroll = window.pageYOffset;

		}

		activeModal = modal.querySelector('.modal__item--' + selector);

		Array.from(items, el => el.classList.toggle('visuallyhidden', el !== activeModal));

		wrapper.style.top = -windowScroll + 'px';
		document.body.classList.add('modal-show');
		window.scrollTo(0,0);

		activeModal.focus();

	};

	modal.addEventListener('click', event => {

		if(event.target.classList.contains('modal') || event.target.closest('.modal__close')){

			modal.dispatchEvent(new CustomEvent("hide"));

		}

	});

	Array.from(btns, btn =>
		btn.addEventListener('click', () =>
			modalShow(btn.getAttribute('data-modal'))));

	modal.addEventListener('modalShow', event => modalShow(event.detail.selector));

})(document.querySelector('.modal'));
( block => {

	if(block) {

		const inner = block.querySelector('.one-more-expert__inner'),
			  btn = block.querySelector('.one-more-expert__add'),
			  template = block.querySelector('.one-more-expert__template');

		btn.addEventListener("click", () => {

			const newSelect = document.createElement('div');

			newSelect.innerHTML = template.innerHTML;

			window.selects(newSelect.querySelector('.select'));

			inner.appendChild(newSelect);

			window.selectsCollection = document.querySelectorAll('.select');

		});

	}

})(document.querySelector('.one-more-expert'));
( items => {

	if(!items.length) {

		return;

	}

	pickmeup.defaults.locales['ru'] = {
		days: ['', '', '', '', '', '', ''],
		daysShort: ['', '', '', '', '', '', ''],
		daysMin: ['', '', '', '', '', '', ''],
		months: ['', '', '', '', '', '', '', '', '', '', '', ''],
		monthsShort: ['', '', '', '', '', '', '', '', '', '', '', '']
	};

	Array.from(items, el => {

		let btnInput,
			inputFocus = false;

		const btn = el.querySelector('.input-date__btn'),
			  input = el.querySelector('.input-date__input');

		if(input.disabled) {

			return;

		}

		btnInput = pickmeup(btn, {

			position: () => {

				const rect = el.getBoundingClientRect(),
					  top = window.pageYOffset + rect.bottom + 'px';
					  left = rect.left + 'px';

				return {top: top, left: left}

			},
			date: input.value,
			hide_on_select : true,
			title_format: 'B Y',
			format: 'd/m/Y',
			locale: 'ru',
			prev: '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M9 11l4.6-4.6A.99.99 0 1115 7.8l-3.9 3.9 3.9 3.9a.99.99 0 01-1.4 1.4L9 12.41A1 1 0 019 11z"/></svg>',
			next: '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M15 11a1 1 0 010 1.4L10.4 17A.99.99 0 019 15.6l3.9-3.9L9 7.8a.99.99 0 011.4-1.4L15 11z"/></svg>'

		});

		btn.addEventListener('pickmeup-change', () => {

			input.blur();

			if(input.value !== btnInput.get_date(true)){

				input.value = btnInput.get_date(true);
				input.dispatchEvent(new CustomEvent("change"));

			}

		});

		btn.addEventListener('pickmeup-hide', event => {

			if(inputFocus) {

				event.preventDefault();

			}

		});

		input.addEventListener('keydown', event => {

			if(event.keyCode === 13 || event.keyCode === 27) {

				input.blur();
				btnInput.hide();

			}

		});

		input.addEventListener('focus', () => {

			inputFocus = true;

			btnInput.show();

		});

		input.addEventListener('blur', () => {

			inputFocus = false;

		});

		input.addEventListener('input', () => {

			btnInput.show();
			btnInput.set_date(input.value);

		});

	});

})(document.querySelectorAll('.input-date'));
window.selects = select => {

	if(select.querySelector('.select__list')) {

		return;

	}

	const value = document.createElement('div'),
		  arrow = document.createElement('span'),
		  color = select.classList.contains('select--color');

	arrow.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M8.3 10.3a1 1 0 000 1.41l2.93 2.97c.22.21.5.32.78.32s.56-.1.77-.32l2.93-2.96a1.01 1.01 0 00-.32-1.63.99.99 0 00-1.09.21L12 12.62l-2.3-2.33a1 1 0 00-1.4 0z"/></svg>';

	value.className = 'select__value';
	value.innerHTML = '<span class="select__value-inner"></span>';

	value.appendChild(arrow);
	select.appendChild(value);

	const form = select.closest('form'),
		control = select.querySelector('select'),
		option = select.querySelectorAll('option'),
		valueText = select.querySelector('.select__value-inner'),
		list = document.createElement('div');

	list.className = 'select__list';

	let selected = control.querySelector('[value="' + control.value + '"]');

	control.addEventListener("change", () => {

		selected = control.querySelector('[value="' + control.value + '"]');

		valueText.textContent = selected.textContent;

		select.classList.remove('select--default');

		if (color) {

			value.setAttribute('data-color', selected.getAttribute('data-color'));

		}

	});

	if(control.disabled){

		select.classList.add('select--disabled');

	}

	if(control.value === 'none'){

		select.classList.add('select--default');

	}

	valueText.textContent = select.querySelector('option[value="' + control.value + '"]').textContent;

	Array.from(option, el => {

		const o = document.createElement('button');

		o.className = 'button select__list-item';

		o.setAttribute('type', 'button');
		o.setAttribute('value', el.getAttribute('value'));

		o.textContent = el.textContent;

		list.appendChild(o);

	});

	select.addEventListener("click", event => {

		if(event.target.classList.contains('select__list-item')){

			control.value = event.target.getAttribute('value');

			control.dispatchEvent(new CustomEvent("change"));

			if(form) {

				form.dispatchEvent(new CustomEvent("change"));

			}

		}

	});

	select.appendChild(list);

	// color
	if (color) {

		value.setAttribute('data-color', selected.getAttribute('data-color'));

	}

};

( () => {

	window.selectsCollection = document.querySelectorAll('.select');

	if(window.selectsCollection.length) {

		Array.from(window.selectsCollection, select => window.selects(select));

	}

	window.addEventListener("click", event => {

		const isSelect = event.target.closest('.select');

		Array.from(window.selectsCollection, select => {

			select.classList.toggle('select--open', select === isSelect && !isSelect.classList.contains('select--open'));

		});

	});

})();
( tabs => {

	if(!tabs.length) {

		return;

	}

	//  hash
	const hash = location.hash;

	const btnHash = (btns,items) => {

		Array.from(btns, (_btn, index) => setActive(_btn, items[index], _btn.href === location.href));

	};

	const setActive = (btn, item, toggle) => {

		btn.classList.toggle('is-active', toggle);
		item.classList.toggle('is-active', toggle);

	}

	Array.from(tabs, tab => {

		const btns = tab.querySelectorAll('.tabs__btn'),
			  items = tab.querySelectorAll('.tabs__item');

		Array.from(btns, btn =>
			btn.addEventListener('click', event =>
				Array.from(btns, (_btn, index) =>
					setActive(_btn, items[index], _btn === btn))));

		if(hash) {

			btnHash(btns,items);

		}

		window.addEventListener('hashchange', () => btnHash(btns,items));

	});

})(document.querySelectorAll('.tabs'));
( items => {

	if(!items.length) {

		return;

	}

	Array.from(items, el => {

		const btn = el.querySelector('.input-time__btn'),
			  input = el.querySelector('.input-time__input'),
			  datalist = el.querySelector('.input-time__datalist');

		if(input.disabled) {

			return;

		}

		Array.from(datalist.querySelectorAll('[data-value]'), el => {

			el.addEventListener('click', event => {

				event.preventDefault();
				el.classList.remove('input-time--open');

				if(input.value !== el.getAttribute('data-value')){

					input.value = el.getAttribute('data-value');
					input.dispatchEvent(new CustomEvent("change"));

				}

			});

		});

		input.addEventListener('keydown', event => {

			if(event.keyCode === 13 || event.keyCode === 27) {

				input.blur();
				el.classList.remove('input-time--open');

			}

		});

	});

	window.addEventListener("click", event => {

		const isInputTime = event.target.closest('.input-time');

		Array.from(items, el => {

			el.classList.toggle('input-time--open', el === isInputTime && !isInputTime.classList.contains('input-time--open'));

		});

	});

})(document.querySelectorAll('.input-time'));
( tooltips => {

	if(tooltips.length){

		Array.from(tooltips, tooltip => {

			const title = document.createElement('span');

			title.className = 'tooltip-title__inner';

			title.textContent = tooltip.getAttribute('title');
			tooltip.appendChild(title);
			tooltip.removeAttribute('title');

		});

	}

})(document.querySelectorAll('.tooltip-title'));

( tooltips => {

	if(tooltips.length){

		const ico = document.createElement('span'),
			  icoChat = document.createElement('span');

		ico.innerHTML = '<svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 12a8 8 0 11-16 0 8 8 0 0116 0zm-5.74-3.87a3.18 3.18 0 01.56 3.78c-.38.7-1 1.22-1.74 1.49a.4.4 0 00-.28.38v.62a.8.8 0 01-1.6 0V12.8A.8.8 0 0112 12c.88 0 1.6-.72 1.6-1.6a1.6 1.6 0 00-3.2 0 .8.8 0 01-1.59.08l-.01-.12c.01-2 1.86-3.55 3.95-3.07.57.13 1.1.42 1.51.84zM12.8 16.8a.8.8 0 11-1.6 0 .8.8 0 011.6 0z"/></svg>';

		icoChat.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24"><path d="M15 16h4V6H5v10h7.33L15 18v-2zm2 2v2a1 1 0 01-1.6.8L11.67 18H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2h-2z"/><path d="M7 10h10V8H7v2zm0 4h6v-2H7v2z"/></svg>';

		let observer = new MutationObserver(mutationRecords => {

			const t = mutationRecords[0].target,
				  rect = t.getBoundingClientRect();

			console.log(rect.left > window.innerWidth - rect.right);
/*
			if(t.open) {

				const inner = t.querySelector('.ask__inner');

				if(rect.left > window.innerWidth - rect.right) {

					// 

					inner.style.left = 'auto';
					inner.style.right = 0;
					inner.style.width = rect.left + 'px';

				}
				else {

					// 

					inner.style.right = 'auto';
					inner.style.left = 0;
					inner.style.width = window.innerWidth - rect.right + 'px';

				}

			}

*/		});

		Array.from(tooltips, tooltip => {

			const btn = tooltip.querySelector('.tooltip-help__btn');

			if(tooltip.classList.contains('tooltip-help--chat')) {

				btn.appendChild(icoChat.cloneNode(true));

			}
			else {

				btn.appendChild(ico.cloneNode(true));

			}

			observer.observe(tooltip, {

				attributes : true

			});

		});

		window.addEventListener("click", event => {

			const target = event.target.closest('.tooltip-help');

			Array.from(tooltips, tooltip => {

				if(target !== tooltip) {

					tooltip.open = false;

				}

			});

		});

	}

})(document.querySelectorAll('.tooltip-help'));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0bWFzay5taW4uanMiLCJqcy5jb29raWUubWluLmpzIiwicGlja21ldXAubWluLmpzIiwicHVic3ViLm1pbi5qcyIsImpzLmpzIiwiYWNjb3JkaW9uLmpzIiwiY2VydGlmaWNhdGlvbi1jaGFuZ2UtZGF0ZS10aW1lLmpzIiwiY2VydGlmaWNhdGlvbi1kZWxpdmVyeS1zZWxlY3QuanMiLCJjZXJ0aWZpY2F0aW9uLW1vZGFsLWRhdGUtY2FuY2VsZWQuanMiLCJjb21wYW55LWZvcm0uanMiLCJmaWxlLWlucHV0LmpzIiwiZm9ybS1yZXF1aXJlZC5qcyIsImxpdmUtc2VhcmNoLmpzIiwibWFzay5qcyIsIm1lbnUuanMiLCJtb2RhbC5qcyIsIm9uZS1tb3JlLWV4cGVydC5qcyIsInBpY2ttZXVwLmpzIiwic2VsZWN0LmpzIiwidGFicy5qcyIsInRpbWUuanMiLCJ0b29sdGlwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNQQTtBQUNBO0FBQ0E7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibGsuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogZGlzdC9pbnB1dG1hc2subWluXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Sb2JpbkhlcmJvdHMvSW5wdXRtYXNrXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMCAtIDIwMjEgUm9iaW4gSGVyYm90c1xyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogVmVyc2lvbjogNS4wLjYtYmV0YS4yOVxyXG4gKi9cclxuIWZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsZmFjdG9yeSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZmFjdG9yeSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxmYWN0b3J5KTtlbHNle3ZhciBhPWZhY3RvcnkoKTtmb3IodmFyIGkgaW4gYSkoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czpyb290KVtpXT1hW2ldfX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBtb2R1bGVzPVtmdW5jdGlvbihtb2R1bGUpe21vZHVsZS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcIkJBQ0tTUEFDRVwiOjgsXCJCQUNLU1BBQ0VfU0FGQVJJXCI6MTI3LFwiREVMRVRFXCI6NDYsXCJET1dOXCI6NDAsXCJFTkRcIjozNSxcIkVOVEVSXCI6MTMsXCJFU0NBUEVcIjoyNyxcIkhPTUVcIjozNixcIklOU0VSVFwiOjQ1LFwiTEVGVFwiOjM3LFwiUEFHRV9ET1dOXCI6MzQsXCJQQUdFX1VQXCI6MzMsXCJSSUdIVFwiOjM5LFwiU1BBQ0VcIjozMixcIlRBQlwiOjksXCJVUFwiOjM4LFwiWFwiOjg4LFwiQ09OVFJPTFwiOjE3LFwiS0VZXzIyOVwiOjIyOX0nKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5jYXJldD1jYXJldCxleHBvcnRzLmRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uPWRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uLGV4cG9ydHMuZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbj1kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uLGV4cG9ydHMuZ2V0QnVmZmVyPWdldEJ1ZmZlcixleHBvcnRzLmdldEJ1ZmZlclRlbXBsYXRlPWdldEJ1ZmZlclRlbXBsYXRlLGV4cG9ydHMuZ2V0TGFzdFZhbGlkUG9zaXRpb249Z2V0TGFzdFZhbGlkUG9zaXRpb24sZXhwb3J0cy5pc01hc2s9aXNNYXNrLGV4cG9ydHMucmVzZXRNYXNrU2V0PXJlc2V0TWFza1NldCxleHBvcnRzLnNlZWtOZXh0PXNlZWtOZXh0LGV4cG9ydHMuc2Vla1ByZXZpb3VzPXNlZWtQcmV2aW91cyxleHBvcnRzLnRyYW5zbGF0ZVBvc2l0aW9uPXRyYW5zbGF0ZVBvc2l0aW9uO3ZhciBfdmFsaWRhdGlvblRlc3RzPV9fd2VicGFja19yZXF1aXJlX18oMyksX3ZhbGlkYXRpb249X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtmdW5jdGlvbiBjYXJldChpbnB1dCxiZWdpbixlbmQsbm90cmFuc2xhdGUsaXNEZWxldGUpe3ZhciBpbnB1dG1hc2s9dGhpcyxvcHRzPXRoaXMub3B0cyxyYW5nZTtpZih2b2lkIDA9PT1iZWdpbilyZXR1cm5cInNlbGVjdGlvblN0YXJ0XCJpbiBpbnB1dCYmXCJzZWxlY3Rpb25FbmRcImluIGlucHV0PyhiZWdpbj1pbnB1dC5zZWxlY3Rpb25TdGFydCxlbmQ9aW5wdXQuc2VsZWN0aW9uRW5kKTp3aW5kb3cuZ2V0U2VsZWN0aW9uPyhyYW5nZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKSxyYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lci5wYXJlbnROb2RlIT09aW5wdXQmJnJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIT09aW5wdXR8fChiZWdpbj1yYW5nZS5zdGFydE9mZnNldCxlbmQ9cmFuZ2UuZW5kT2Zmc2V0KSk6ZG9jdW1lbnQuc2VsZWN0aW9uJiZkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UmJihyYW5nZT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxiZWdpbj0wLXJhbmdlLmR1cGxpY2F0ZSgpLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC1pbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKSxlbmQ9YmVnaW4rcmFuZ2UudGV4dC5sZW5ndGgpLHtiZWdpbjpub3RyYW5zbGF0ZT9iZWdpbjp0cmFuc2xhdGVQb3NpdGlvbi5jYWxsKHRoaXMsYmVnaW4pLGVuZDpub3RyYW5zbGF0ZT9lbmQ6dHJhbnNsYXRlUG9zaXRpb24uY2FsbCh0aGlzLGVuZCl9O2lmKEFycmF5LmlzQXJyYXkoYmVnaW4pJiYoZW5kPXRoaXMuaXNSVEw/YmVnaW5bMF06YmVnaW5bMV0sYmVnaW49dGhpcy5pc1JUTD9iZWdpblsxXTpiZWdpblswXSksdm9pZCAwIT09YmVnaW4uYmVnaW4mJihlbmQ9dGhpcy5pc1JUTD9iZWdpbi5iZWdpbjpiZWdpbi5lbmQsYmVnaW49dGhpcy5pc1JUTD9iZWdpbi5lbmQ6YmVnaW4uYmVnaW4pLFwibnVtYmVyXCI9PXR5cGVvZiBiZWdpbil7YmVnaW49bm90cmFuc2xhdGU/YmVnaW46dHJhbnNsYXRlUG9zaXRpb24uY2FsbCh0aGlzLGJlZ2luKSxlbmQ9bm90cmFuc2xhdGU/ZW5kOnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwodGhpcyxlbmQpLGVuZD1cIm51bWJlclwiPT10eXBlb2YgZW5kP2VuZDpiZWdpbjt2YXIgc2Nyb2xsQ2FsYz1wYXJzZUludCgoKGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZT8oaW5wdXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGlucHV0LG51bGwpOmlucHV0LmN1cnJlbnRTdHlsZSkuZm9udFNpemUpKmVuZDtpZihpbnB1dC5zY3JvbGxMZWZ0PXNjcm9sbENhbGM+aW5wdXQuc2Nyb2xsV2lkdGg/c2Nyb2xsQ2FsYzowLGlucHV0LmlucHV0bWFzay5jYXJldFBvcz17YmVnaW46YmVnaW4sZW5kOmVuZH0sb3B0cy5pbnNlcnRNb2RlVmlzdWFsJiYhMT09PW9wdHMuaW5zZXJ0TW9kZSYmYmVnaW49PT1lbmQmJihpc0RlbGV0ZXx8ZW5kKyspLGlucHV0PT09KGlucHV0LmlucHV0bWFzay5zaGFkb3dSb290fHxkb2N1bWVudCkuYWN0aXZlRWxlbWVudClpZihcInNldFNlbGVjdGlvblJhbmdlXCJpbiBpbnB1dClpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShiZWdpbixlbmQpO2Vsc2UgaWYod2luZG93LmdldFNlbGVjdGlvbil7aWYocmFuZ2U9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSx2b2lkIDA9PT1pbnB1dC5maXJzdENoaWxkfHxudWxsPT09aW5wdXQuZmlyc3RDaGlsZCl7dmFyIHRleHROb2RlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2lucHV0LmFwcGVuZENoaWxkKHRleHROb2RlKX1yYW5nZS5zZXRTdGFydChpbnB1dC5maXJzdENoaWxkLGJlZ2luPGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGg/YmVnaW46aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCkscmFuZ2Uuc2V0RW5kKGlucHV0LmZpcnN0Q2hpbGQsZW5kPGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGg/ZW5kOmlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLHJhbmdlLmNvbGxhcHNlKCEwKTt2YXIgc2VsPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtzZWwucmVtb3ZlQWxsUmFuZ2VzKCksc2VsLmFkZFJhbmdlKHJhbmdlKX1lbHNlIGlucHV0LmNyZWF0ZVRleHRSYW5nZSYmKHJhbmdlPWlucHV0LmNyZWF0ZVRleHRSYW5nZSgpLHJhbmdlLmNvbGxhcHNlKCEwKSxyYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsZW5kKSxyYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIixiZWdpbikscmFuZ2Uuc2VsZWN0KCkpfX1mdW5jdGlvbiBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbihyZXR1cm5EZWZpbml0aW9uKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsJD10aGlzLmRlcGVuZGVuY3lMaWIsYnVmZmVyPV92YWxpZGF0aW9uVGVzdHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywhMCxnZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMpLCEwLCEwKSxibD1idWZmZXIubGVuZ3RoLHBvcyxsdnA9Z2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzKSxwb3NpdGlvbnM9e30sbHZUZXN0PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbHZwXSxuZHhJbnRsenI9dm9pZCAwIT09bHZUZXN0P2x2VGVzdC5sb2NhdG9yLnNsaWNlKCk6dm9pZCAwLHRlc3RQb3M7Zm9yKHBvcz1sdnArMTtwb3M8YnVmZmVyLmxlbmd0aDtwb3MrKyl0ZXN0UG9zPV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdFRlbXBsYXRlLmNhbGwodGhpcyxwb3MsbmR4SW50bHpyLHBvcy0xKSxuZHhJbnRsenI9dGVzdFBvcy5sb2NhdG9yLnNsaWNlKCkscG9zaXRpb25zW3Bvc109JC5leHRlbmQoITAse30sdGVzdFBvcyk7dmFyIGx2VGVzdEFsdD1sdlRlc3QmJnZvaWQgMCE9PWx2VGVzdC5hbHRlcm5hdGlvbj9sdlRlc3QubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dOnZvaWQgMDtmb3IocG9zPWJsLTE7bHZwPHBvcyYmKHRlc3RQb3M9cG9zaXRpb25zW3Bvc10sKHRlc3RQb3MubWF0Y2gub3B0aW9uYWxpdHl8fHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyJiZ0ZXN0UG9zLm1hdGNoLm5ld0Jsb2NrTWFya2VyfHxsdlRlc3RBbHQmJihsdlRlc3RBbHQhPT1wb3NpdGlvbnNbcG9zXS5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0mJjEhPXRlc3RQb3MubWF0Y2guc3RhdGljfHwhMD09PXRlc3RQb3MubWF0Y2guc3RhdGljJiZ0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSYmX3ZhbGlkYXRpb24uY2hlY2tBbHRlcm5hdGlvbk1hdGNoLmNhbGwodGhpcyx0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSxsdlRlc3RBbHQudG9TdHJpbmcoKS5zcGxpdChcIixcIikpJiZcIlwiIT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0cy5jYWxsKHRoaXMscG9zKVswXS5kZWYpKSYmYnVmZmVyW3Bvc109PT1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwodGhpcyxwb3MsdGVzdFBvcy5tYXRjaCkpO3Bvcy0tKWJsLS07cmV0dXJuIHJldHVybkRlZmluaXRpb24/e2w6YmwsZGVmOnBvc2l0aW9uc1tibF0/cG9zaXRpb25zW2JsXS5tYXRjaDp2b2lkIDB9OmJsfWZ1bmN0aW9uIGRldGVybWluZU5ld0NhcmV0UG9zaXRpb24oc2VsZWN0ZWRDYXJldCx0YWJiZWQpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCxvcHRzPXRoaXMub3B0cztmdW5jdGlvbiBkb1JhZGl4Rm9jdXMoY2xpY2tQb3Mpe2lmKFwiXCIhPT1vcHRzLnJhZGl4UG9pbnQmJjAhPT1vcHRzLmRpZ2l0cyl7dmFyIHZwcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zO2lmKHZvaWQgMD09PXZwc1tjbGlja1Bvc118fHZwc1tjbGlja1Bvc10uaW5wdXQ9PT1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwoaW5wdXRtYXNrLGNsaWNrUG9zKSl7aWYoY2xpY2tQb3M8c2Vla05leHQuY2FsbChpbnB1dG1hc2ssLTEpKXJldHVybiEwO3ZhciByYWRpeFBvcz1nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KTtpZigtMSE9PXJhZGl4UG9zKXtmb3IodmFyIHZwIGluIHZwcylpZih2cHNbdnBdJiZyYWRpeFBvczx2cCYmdnBzW3ZwXS5pbnB1dCE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbChpbnB1dG1hc2ssdnApKXJldHVybiExO3JldHVybiEwfX19cmV0dXJuITF9aWYodGFiYmVkJiYoaW5wdXRtYXNrLmlzUlRMP3NlbGVjdGVkQ2FyZXQuZW5kPXNlbGVjdGVkQ2FyZXQuYmVnaW46c2VsZWN0ZWRDYXJldC5iZWdpbj1zZWxlY3RlZENhcmV0LmVuZCksc2VsZWN0ZWRDYXJldC5iZWdpbj09PXNlbGVjdGVkQ2FyZXQuZW5kKXtzd2l0Y2gob3B0cy5wb3NpdGlvbkNhcmV0T25DbGljayl7Y2FzZVwibm9uZVwiOmJyZWFrO2Nhc2VcInNlbGVjdFwiOnNlbGVjdGVkQ2FyZXQ9e2JlZ2luOjAsZW5kOmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykubGVuZ3RofTticmVhaztjYXNlXCJpZ25vcmVcIjpzZWxlY3RlZENhcmV0LmVuZD1zZWxlY3RlZENhcmV0LmJlZ2luPXNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLGdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKSk7YnJlYWs7Y2FzZVwicmFkaXhGb2N1c1wiOmlmKGRvUmFkaXhGb2N1cyhzZWxlY3RlZENhcmV0LmJlZ2luKSl7dmFyIHJhZGl4UG9zPWdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKS5pbmRleE9mKG9wdHMucmFkaXhQb2ludCk7c2VsZWN0ZWRDYXJldC5lbmQ9c2VsZWN0ZWRDYXJldC5iZWdpbj1vcHRzLm51bWVyaWNJbnB1dD9zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxyYWRpeFBvcyk6cmFkaXhQb3M7YnJlYWt9ZGVmYXVsdDp2YXIgY2xpY2tQb3NpdGlvbj1zZWxlY3RlZENhcmV0LmJlZ2luLGx2Y2xpY2tQb3NpdGlvbj1nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayxjbGlja1Bvc2l0aW9uLCEwKSxsYXN0UG9zaXRpb249c2Vla05leHQuY2FsbChpbnB1dG1hc2ssLTEhPT1sdmNsaWNrUG9zaXRpb258fGlzTWFzay5jYWxsKGlucHV0bWFzaywwKT9sdmNsaWNrUG9zaXRpb246LTEpO2lmKGNsaWNrUG9zaXRpb248PWxhc3RQb3NpdGlvbilzZWxlY3RlZENhcmV0LmVuZD1zZWxlY3RlZENhcmV0LmJlZ2luPWlzTWFzay5jYWxsKGlucHV0bWFzayxjbGlja1Bvc2l0aW9uLCExLCEwKT9jbGlja1Bvc2l0aW9uOnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLGNsaWNrUG9zaXRpb24pO2Vsc2V7dmFyIGx2cD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2x2Y2xpY2tQb3NpdGlvbl0sdHQ9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0VGVtcGxhdGUuY2FsbChpbnB1dG1hc2ssbGFzdFBvc2l0aW9uLGx2cD9sdnAubWF0Y2gubG9jYXRvcjp2b2lkIDAsbHZwKSxwbGFjZWhvbGRlcj1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwoaW5wdXRtYXNrLGxhc3RQb3NpdGlvbix0dC5tYXRjaCk7aWYoXCJcIiE9PXBsYWNlaG9sZGVyJiZnZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spW2xhc3RQb3NpdGlvbl0hPT1wbGFjZWhvbGRlciYmITAhPT10dC5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXImJiEwIT09dHQubWF0Y2gubmV3QmxvY2tNYXJrZXJ8fCFpc01hc2suY2FsbChpbnB1dG1hc2ssbGFzdFBvc2l0aW9uLG9wdHMua2VlcFN0YXRpYywhMCkmJnR0Lm1hdGNoLmRlZj09PXBsYWNlaG9sZGVyKXt2YXIgbmV3UG9zPXNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLGxhc3RQb3NpdGlvbik7KG5ld1Bvczw9Y2xpY2tQb3NpdGlvbnx8Y2xpY2tQb3NpdGlvbj09PWxhc3RQb3NpdGlvbikmJihsYXN0UG9zaXRpb249bmV3UG9zKX1zZWxlY3RlZENhcmV0LmVuZD1zZWxlY3RlZENhcmV0LmJlZ2luPWxhc3RQb3NpdGlvbn19cmV0dXJuIHNlbGVjdGVkQ2FyZXR9fWZ1bmN0aW9uIGdldEJ1ZmZlcihub0NhY2hlKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQ7cmV0dXJuIHZvaWQgMCE9PW1hc2tzZXQuYnVmZmVyJiYhMCE9PW5vQ2FjaGV8fChtYXNrc2V0LmJ1ZmZlcj1fdmFsaWRhdGlvblRlc3RzLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHRoaXMsITAsZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzKSwhMCksdm9pZCAwPT09bWFza3NldC5fYnVmZmVyJiYobWFza3NldC5fYnVmZmVyPW1hc2tzZXQuYnVmZmVyLnNsaWNlKCkpKSxtYXNrc2V0LmJ1ZmZlcn1mdW5jdGlvbiBnZXRCdWZmZXJUZW1wbGF0ZSgpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldDtyZXR1cm4gdm9pZCAwPT09bWFza3NldC5fYnVmZmVyJiYobWFza3NldC5fYnVmZmVyPV92YWxpZGF0aW9uVGVzdHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywhMSwxKSx2b2lkIDA9PT1tYXNrc2V0LmJ1ZmZlciYmKG1hc2tzZXQuYnVmZmVyPW1hc2tzZXQuX2J1ZmZlci5zbGljZSgpKSksbWFza3NldC5fYnVmZmVyfWZ1bmN0aW9uIGdldExhc3RWYWxpZFBvc2l0aW9uKGNsb3Nlc3RUbyxzdHJpY3QsdmFsaWRQb3NpdGlvbnMpe3ZhciBtYXNrc2V0PXRoaXMubWFza3NldCxiZWZvcmU9LTEsYWZ0ZXI9LTEsdmFsaWRzPXZhbGlkUG9zaXRpb25zfHxtYXNrc2V0LnZhbGlkUG9zaXRpb25zO2Zvcih2YXIgcG9zTmR4IGluIHZvaWQgMD09PWNsb3Nlc3RUbyYmKGNsb3Nlc3RUbz0tMSksdmFsaWRzKXt2YXIgcHNOZHg9cGFyc2VJbnQocG9zTmR4KTt2YWxpZHNbcHNOZHhdJiYoc3RyaWN0fHwhMCE9PXZhbGlkc1twc05keF0uZ2VuZXJhdGVkSW5wdXQpJiYocHNOZHg8PWNsb3Nlc3RUbyYmKGJlZm9yZT1wc05keCksY2xvc2VzdFRvPD1wc05keCYmKGFmdGVyPXBzTmR4KSl9cmV0dXJuLTE9PT1iZWZvcmV8fGJlZm9yZT09Y2xvc2VzdFRvP2FmdGVyOi0xPT1hZnRlcj9iZWZvcmU6Y2xvc2VzdFRvLWJlZm9yZTxhZnRlci1jbG9zZXN0VG8/YmVmb3JlOmFmdGVyfWZ1bmN0aW9uIGlzTWFzayhwb3Msc3RyaWN0LGZ1enp5KXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsdGVzdD1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMscG9zKS5tYXRjaDtpZihcIlwiPT09dGVzdC5kZWYmJih0ZXN0PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscG9zKS5tYXRjaCksITAhPT10ZXN0LnN0YXRpYylyZXR1cm4gdGVzdC5mbjtpZighMD09PWZ1enp5JiZ2b2lkIDAhPT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10mJiEwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLmdlbmVyYXRlZElucHV0KXJldHVybiEwO2lmKCEwIT09c3RyaWN0JiYtMTxwb3Mpe2lmKGZ1enp5KXt2YXIgdGVzdHM9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0cy5jYWxsKHRoaXMscG9zKTtyZXR1cm4gdGVzdHMubGVuZ3RoPjErKFwiXCI9PT10ZXN0c1t0ZXN0cy5sZW5ndGgtMV0ubWF0Y2guZGVmPzE6MCl9dmFyIHRlc3RUZW1wbGF0ZT1fdmFsaWRhdGlvblRlc3RzLmRldGVybWluZVRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMscG9zLF92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdHMuY2FsbCh0aGlzLHBvcykpLHRlc3RQbGFjZUhvbGRlcj1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwodGhpcyxwb3MsdGVzdFRlbXBsYXRlLm1hdGNoKTtyZXR1cm4gdGVzdFRlbXBsYXRlLm1hdGNoLmRlZiE9PXRlc3RQbGFjZUhvbGRlcn1yZXR1cm4hMX1mdW5jdGlvbiByZXNldE1hc2tTZXQoc29mdCl7dmFyIG1hc2tzZXQ9dGhpcy5tYXNrc2V0O21hc2tzZXQuYnVmZmVyPXZvaWQgMCwhMCE9PXNvZnQmJihtYXNrc2V0LnZhbGlkUG9zaXRpb25zPXt9LG1hc2tzZXQucD0wKX1mdW5jdGlvbiBzZWVrTmV4dChwb3MsbmV3QmxvY2ssZnV6enkpe3ZhciBpbnB1dG1hc2s9dGhpczt2b2lkIDA9PT1mdXp6eSYmKGZ1enp5PSEwKTtmb3IodmFyIHBvc2l0aW9uPXBvcysxO1wiXCIhPT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBvc2l0aW9uKS5tYXRjaC5kZWYmJighMD09PW5ld0Jsb2NrJiYoITAhPT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBvc2l0aW9uKS5tYXRjaC5uZXdCbG9ja01hcmtlcnx8IWlzTWFzay5jYWxsKHRoaXMscG9zaXRpb24sdm9pZCAwLCEwKSl8fCEwIT09bmV3QmxvY2smJiFpc01hc2suY2FsbCh0aGlzLHBvc2l0aW9uLHZvaWQgMCxmdXp6eSkpOylwb3NpdGlvbisrO3JldHVybiBwb3NpdGlvbn1mdW5jdGlvbiBzZWVrUHJldmlvdXMocG9zLG5ld0Jsb2NrKXt2YXIgaW5wdXRtYXNrPXRoaXMscG9zaXRpb249cG9zLTE7aWYocG9zPD0wKXJldHVybiAwO2Zvcig7MDxwb3NpdGlvbiYmKCEwPT09bmV3QmxvY2smJighMCE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscG9zaXRpb24pLm1hdGNoLm5ld0Jsb2NrTWFya2VyfHwhaXNNYXNrLmNhbGwodGhpcyxwb3NpdGlvbix2b2lkIDAsITApKXx8ITAhPT1uZXdCbG9jayYmIWlzTWFzay5jYWxsKHRoaXMscG9zaXRpb24sdm9pZCAwLCEwKSk7KXBvc2l0aW9uLS07cmV0dXJuIHBvc2l0aW9ufWZ1bmN0aW9uIHRyYW5zbGF0ZVBvc2l0aW9uKHBvcyl7dmFyIGlucHV0bWFzaz10aGlzLG9wdHM9dGhpcy5vcHRzLGVsPXRoaXMuZWw7cmV0dXJuIXRoaXMuaXNSVEx8fFwibnVtYmVyXCIhPXR5cGVvZiBwb3N8fG9wdHMuZ3JlZWR5JiZcIlwiPT09b3B0cy5wbGFjZWhvbGRlcnx8IWVsfHwocG9zPU1hdGguYWJzKHRoaXMuX3ZhbHVlR2V0KCkubGVuZ3RoLXBvcykpLHBvc319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDAsX193ZWJwYWNrX3JlcXVpcmVfXygxNiksX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7dmFyIF9tYXNrPV9fd2VicGFja19yZXF1aXJlX18oMTgpLF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSksX3dpbmRvdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNSkpLF9tYXNrTGV4ZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyMSksX3ZhbGlkYXRpb25UZXN0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF92YWxpZGF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNCksX2lucHV0SGFuZGxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxfZXZlbnRydWxlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfZGVmaW5pdGlvbnM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSksX2RlZmF1bHRzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMykpLF9jYW5Vc2VET009X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKTtmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX3R5cGVvZihvYmopfWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgZG9jdW1lbnQ9X3dpbmRvdy5kZWZhdWx0LmRvY3VtZW50LGRhdGFLZXk9XCJfaW5wdXRtYXNrX29wdHNcIjtmdW5jdGlvbiBJbnB1dG1hc2soYWxpYXMsb3B0aW9ucyxpbnRlcm5hbCl7aWYoX2NhblVzZURPTS5kZWZhdWx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBJbnB1dG1hc2spKXJldHVybiBuZXcgSW5wdXRtYXNrKGFsaWFzLG9wdGlvbnMsaW50ZXJuYWwpO3RoaXMuZGVwZW5kZW5jeUxpYj1faW5wdXRtYXNrLmRlZmF1bHQsdGhpcy5lbD12b2lkIDAsdGhpcy5ldmVudHM9e30sdGhpcy5tYXNrc2V0PXZvaWQgMCwhMCE9PWludGVybmFsJiYoXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhbGlhcyk/b3B0aW9ucz1hbGlhczoob3B0aW9ucz1vcHRpb25zfHx7fSxhbGlhcyYmKG9wdGlvbnMuYWxpYXM9YWxpYXMpKSx0aGlzLm9wdHM9X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCx7fSx0aGlzLmRlZmF1bHRzLG9wdGlvbnMpLHRoaXMubm9NYXNrc0NhY2hlPW9wdGlvbnMmJnZvaWQgMCE9PW9wdGlvbnMuZGVmaW5pdGlvbnMsdGhpcy51c2VyT3B0aW9ucz1vcHRpb25zfHx7fSxyZXNvbHZlQWxpYXModGhpcy5vcHRzLmFsaWFzLG9wdGlvbnMsdGhpcy5vcHRzKSksdGhpcy5yZWZyZXNoVmFsdWU9ITEsdGhpcy51bmRvVmFsdWU9dm9pZCAwLHRoaXMuJGVsPXZvaWQgMCx0aGlzLnNraXBLZXlQcmVzc0V2ZW50PSExLHRoaXMuc2tpcElucHV0RXZlbnQ9ITEsdGhpcy52YWxpZGF0aW9uRXZlbnQ9ITEsdGhpcy5pZ25vcmFibGU9ITEsdGhpcy5tYXhMZW5ndGgsdGhpcy5tb3VzZUVudGVyPSExLHRoaXMub3JpZ2luYWxQbGFjZWhvbGRlcj12b2lkIDAsdGhpcy5pc0NvbXBvc2luZz0hMX19ZnVuY3Rpb24gcmVzb2x2ZUFsaWFzKGFsaWFzU3RyLG9wdGlvbnMsb3B0cyl7dmFyIGFsaWFzRGVmaW5pdGlvbj1JbnB1dG1hc2sucHJvdG90eXBlLmFsaWFzZXNbYWxpYXNTdHJdO3JldHVybiBhbGlhc0RlZmluaXRpb24/KGFsaWFzRGVmaW5pdGlvbi5hbGlhcyYmcmVzb2x2ZUFsaWFzKGFsaWFzRGVmaW5pdGlvbi5hbGlhcyx2b2lkIDAsb3B0cyksX2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCxvcHRzLGFsaWFzRGVmaW5pdGlvbiksX2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCxvcHRzLG9wdGlvbnMpLCEwKToobnVsbD09PW9wdHMubWFzayYmKG9wdHMubWFzaz1hbGlhc1N0ciksITEpfWZ1bmN0aW9uIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMobnB0LG9wdHMsdXNlck9wdGlvbnMsZGF0YUF0dHJpYnV0ZSl7ZnVuY3Rpb24gaW1wb3J0T3B0aW9uKG9wdGlvbixvcHRpb25EYXRhKXt2YXIgYXR0ck9wdGlvbj1cIlwiPT09ZGF0YUF0dHJpYnV0ZT9vcHRpb246ZGF0YUF0dHJpYnV0ZStcIi1cIitvcHRpb247b3B0aW9uRGF0YT12b2lkIDAhPT1vcHRpb25EYXRhP29wdGlvbkRhdGE6bnB0LmdldEF0dHJpYnV0ZShhdHRyT3B0aW9uKSxudWxsIT09b3B0aW9uRGF0YSYmKFwic3RyaW5nXCI9PXR5cGVvZiBvcHRpb25EYXRhJiYoMD09PW9wdGlvbi5pbmRleE9mKFwib25cIik/b3B0aW9uRGF0YT1fd2luZG93LmRlZmF1bHRbb3B0aW9uRGF0YV06XCJmYWxzZVwiPT09b3B0aW9uRGF0YT9vcHRpb25EYXRhPSExOlwidHJ1ZVwiPT09b3B0aW9uRGF0YSYmKG9wdGlvbkRhdGE9ITApKSx1c2VyT3B0aW9uc1tvcHRpb25dPW9wdGlvbkRhdGEpfWlmKCEwPT09b3B0cy5pbXBvcnREYXRhQXR0cmlidXRlcyl7dmFyIGF0dHJPcHRpb25zPW5wdC5nZXRBdHRyaWJ1dGUoZGF0YUF0dHJpYnV0ZSksb3B0aW9uLGRhdGFvcHRpb25zLG9wdGlvbkRhdGEscDtpZihhdHRyT3B0aW9ucyYmXCJcIiE9PWF0dHJPcHRpb25zJiYoYXR0ck9wdGlvbnM9YXR0ck9wdGlvbnMucmVwbGFjZSgvJy9nLCdcIicpLGRhdGFvcHRpb25zPUpTT04ucGFyc2UoXCJ7XCIrYXR0ck9wdGlvbnMrXCJ9XCIpKSxkYXRhb3B0aW9ucylmb3IocCBpbiBvcHRpb25EYXRhPXZvaWQgMCxkYXRhb3B0aW9ucylpZihcImFsaWFzXCI9PT1wLnRvTG93ZXJDYXNlKCkpe29wdGlvbkRhdGE9ZGF0YW9wdGlvbnNbcF07YnJlYWt9Zm9yKG9wdGlvbiBpbiBpbXBvcnRPcHRpb24oXCJhbGlhc1wiLG9wdGlvbkRhdGEpLHVzZXJPcHRpb25zLmFsaWFzJiZyZXNvbHZlQWxpYXModXNlck9wdGlvbnMuYWxpYXMsdXNlck9wdGlvbnMsb3B0cyksb3B0cyl7aWYoZGF0YW9wdGlvbnMpZm9yKHAgaW4gb3B0aW9uRGF0YT12b2lkIDAsZGF0YW9wdGlvbnMpaWYocC50b0xvd2VyQ2FzZSgpPT09b3B0aW9uLnRvTG93ZXJDYXNlKCkpe29wdGlvbkRhdGE9ZGF0YW9wdGlvbnNbcF07YnJlYWt9aW1wb3J0T3B0aW9uKG9wdGlvbixvcHRpb25EYXRhKX19cmV0dXJuIF9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAsb3B0cyx1c2VyT3B0aW9ucyksXCJydGxcIiE9PW5wdC5kaXImJiFvcHRzLnJpZ2h0QWxpZ258fChucHQuc3R5bGUudGV4dEFsaWduPVwicmlnaHRcIiksXCJydGxcIiE9PW5wdC5kaXImJiFvcHRzLm51bWVyaWNJbnB1dHx8KG5wdC5kaXI9XCJsdHJcIixucHQucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpLG9wdHMuaXNSVEw9ITApLE9iamVjdC5rZXlzKHVzZXJPcHRpb25zKS5sZW5ndGh9SW5wdXRtYXNrLnByb3RvdHlwZT17ZGF0YUF0dHJpYnV0ZTpcImRhdGEtaW5wdXRtYXNrXCIsZGVmYXVsdHM6X2RlZmF1bHRzLmRlZmF1bHQsZGVmaW5pdGlvbnM6X2RlZmluaXRpb25zLmRlZmF1bHQsYWxpYXNlczp7fSxtYXNrc0NhY2hlOnt9LGdldCBpc1JUTCgpe3JldHVybiB0aGlzLm9wdHMuaXNSVEx8fHRoaXMub3B0cy5udW1lcmljSW5wdXR9LG1hc2s6ZnVuY3Rpb24gbWFzayhlbGVtcyl7dmFyIHRoYXQ9dGhpcztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZWxlbXMmJihlbGVtcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtcyl8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbXMpKSxlbGVtcz1lbGVtcy5ub2RlTmFtZT9bZWxlbXNdOkFycmF5LmlzQXJyYXkoZWxlbXMpP2VsZW1zOkFycmF5LmZyb20oZWxlbXMpLGVsZW1zLmZvckVhY2goZnVuY3Rpb24oZWwsbmR4KXt2YXIgc2NvcGVkT3B0cz1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLHt9LHRoYXQub3B0cyk7aWYoaW1wb3J0QXR0cmlidXRlT3B0aW9ucyhlbCxzY29wZWRPcHRzLF9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmQoITAse30sdGhhdC51c2VyT3B0aW9ucyksdGhhdC5kYXRhQXR0cmlidXRlKSl7dmFyIG1hc2tzZXQ9KDAsX21hc2tMZXhlci5nZW5lcmF0ZU1hc2tTZXQpKHNjb3BlZE9wdHMsdGhhdC5ub01hc2tzQ2FjaGUpO3ZvaWQgMCE9PW1hc2tzZXQmJih2b2lkIDAhPT1lbC5pbnB1dG1hc2smJihlbC5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrPSEwLGVsLmlucHV0bWFzay5yZW1vdmUoKSksZWwuaW5wdXRtYXNrPW5ldyBJbnB1dG1hc2sodm9pZCAwLHZvaWQgMCwhMCksZWwuaW5wdXRtYXNrLm9wdHM9c2NvcGVkT3B0cyxlbC5pbnB1dG1hc2subm9NYXNrc0NhY2hlPXRoYXQubm9NYXNrc0NhY2hlLGVsLmlucHV0bWFzay51c2VyT3B0aW9ucz1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLHt9LHRoYXQudXNlck9wdGlvbnMpLGVsLmlucHV0bWFzay5lbD1lbCxlbC5pbnB1dG1hc2suJGVsPSgwLF9pbnB1dG1hc2suZGVmYXVsdCkoZWwpLGVsLmlucHV0bWFzay5tYXNrc2V0PW1hc2tzZXQsX2lucHV0bWFzay5kZWZhdWx0LmRhdGEoZWwsZGF0YUtleSx0aGF0LnVzZXJPcHRpb25zKSxfbWFzay5tYXNrLmNhbGwoZWwuaW5wdXRtYXNrKSl9fSksZWxlbXMmJmVsZW1zWzBdJiZlbGVtc1swXS5pbnB1dG1hc2t8fHRoaXN9LG9wdGlvbjpmdW5jdGlvbiBvcHRpb24ob3B0aW9ucyxub3JlbWFzayl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG9wdGlvbnM/dGhpcy5vcHRzW29wdGlvbnNdOlwib2JqZWN0XCI9PT1fdHlwZW9mKG9wdGlvbnMpPyhfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKHRoaXMudXNlck9wdGlvbnMsb3B0aW9ucyksdGhpcy5lbCYmITAhPT1ub3JlbWFzayYmdGhpcy5tYXNrKHRoaXMuZWwpLHRoaXMpOnZvaWQgMH0sdW5tYXNrZWR2YWx1ZTpmdW5jdGlvbiB1bm1hc2tlZHZhbHVlKHZhbHVlKXtpZih0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHwoMCxfbWFza0xleGVyLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSx2b2lkIDA9PT10aGlzLmVsfHx2b2lkIDAhPT12YWx1ZSl7dmFyIHZhbHVlQnVmZmVyPShcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdHMub25CZWZvcmVNYXNrJiZ0aGlzLm9wdHMub25CZWZvcmVNYXNrLmNhbGwodGhpcyx2YWx1ZSx0aGlzLm9wdHMpfHx2YWx1ZSkuc3BsaXQoXCJcIik7X2lucHV0SGFuZGxpbmcuY2hlY2tWYWwuY2FsbCh0aGlzLHZvaWQgMCwhMSwhMSx2YWx1ZUJ1ZmZlciksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRzLm9uQmVmb3JlV3JpdGUmJnRoaXMub3B0cy5vbkJlZm9yZVdyaXRlLmNhbGwodGhpcyx2b2lkIDAsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLDAsdGhpcy5vcHRzKX1yZXR1cm4gX2lucHV0SGFuZGxpbmcudW5tYXNrZWR2YWx1ZS5jYWxsKHRoaXMsdGhpcy5lbCl9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoKXtpZih0aGlzLmVsKXtfaW5wdXRtYXNrLmRlZmF1bHQuZGF0YSh0aGlzLmVsLGRhdGFLZXksbnVsbCk7dmFyIGN2PXRoaXMub3B0cy5hdXRvVW5tYXNrPygwLF9pbnB1dEhhbmRsaW5nLnVubWFza2VkdmFsdWUpKHRoaXMuZWwpOnRoaXMuX3ZhbHVlR2V0KHRoaXMub3B0cy5hdXRvVW5tYXNrKSx2YWx1ZVByb3BlcnR5O2N2IT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwodGhpcykuam9pbihcIlwiKT90aGlzLl92YWx1ZVNldChjdix0aGlzLm9wdHMuYXV0b1VubWFzayk6dGhpcy5fdmFsdWVTZXQoXCJcIiksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vZmYodGhpcy5lbCksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciYmT2JqZWN0LmdldFByb3RvdHlwZU9mPyh2YWx1ZVByb3BlcnR5PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMuZWwpLFwidmFsdWVcIiksdmFsdWVQcm9wZXJ0eSYmdGhpcy5fX3ZhbHVlR2V0JiZPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5lbCxcInZhbHVlXCIse2dldDp0aGlzLl9fdmFsdWVHZXQsc2V0OnRoaXMuX192YWx1ZVNldCxjb25maWd1cmFibGU6ITB9KSk6ZG9jdW1lbnQuX19sb29rdXBHZXR0ZXJfXyYmdGhpcy5lbC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikmJnRoaXMuX192YWx1ZUdldCYmKHRoaXMuZWwuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsdGhpcy5fX3ZhbHVlR2V0KSx0aGlzLmVsLl9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLHRoaXMuX192YWx1ZVNldCkpLHRoaXMuZWwuaW5wdXRtYXNrPXZvaWQgMH1yZXR1cm4gdGhpcy5lbH0sZ2V0ZW1wdHltYXNrOmZ1bmN0aW9uIGdldGVtcHR5bWFzaygpe3JldHVybiB0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHwoMCxfbWFza0xleGVyLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbCh0aGlzKS5qb2luKFwiXCIpfSxoYXNNYXNrZWRWYWx1ZTpmdW5jdGlvbiBoYXNNYXNrZWRWYWx1ZSgpe3JldHVybiF0aGlzLm9wdHMuYXV0b1VubWFza30saXNDb21wbGV0ZTpmdW5jdGlvbiBpc0NvbXBsZXRlKCl7cmV0dXJuIHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fCgwLF9tYXNrTGV4ZXIuZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLF92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbCh0aGlzLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKSl9LGdldG1ldGFkYXRhOmZ1bmN0aW9uIGdldG1ldGFkYXRhKCl7aWYodGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8KDAsX21hc2tMZXhlci5nZW5lcmF0ZU1hc2tTZXQpKHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksQXJyYXkuaXNBcnJheSh0aGlzLm1hc2tzZXQubWV0YWRhdGEpKXt2YXIgbWFza1RhcmdldD1fdmFsaWRhdGlvblRlc3RzLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHRoaXMsITAsMCwhMSkuam9pbihcIlwiKTtyZXR1cm4gdGhpcy5tYXNrc2V0Lm1ldGFkYXRhLmZvckVhY2goZnVuY3Rpb24obXRkdCl7cmV0dXJuIG10ZHQubWFzayE9PW1hc2tUYXJnZXR8fChtYXNrVGFyZ2V0PW10ZHQsITEpfSksbWFza1RhcmdldH1yZXR1cm4gdGhpcy5tYXNrc2V0Lm1ldGFkYXRhfSxpc1ZhbGlkOmZ1bmN0aW9uIGlzVmFsaWQodmFsdWUpe2lmKHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fCgwLF9tYXNrTGV4ZXIuZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLHZhbHVlKXt2YXIgdmFsdWVCdWZmZXI9KFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5vbkJlZm9yZU1hc2smJnRoaXMub3B0cy5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLHZhbHVlLHRoaXMub3B0cyl8fHZhbHVlKS5zcGxpdChcIlwiKTtfaW5wdXRIYW5kbGluZy5jaGVja1ZhbC5jYWxsKHRoaXMsdm9pZCAwLCEwLCExLHZhbHVlQnVmZmVyKX1lbHNlIHZhbHVlPXRoaXMuaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIik6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLmpvaW4oXCJcIik7Zm9yKHZhciBidWZmZXI9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMpLHJsPV9wb3NpdGlvbmluZy5kZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbi5jYWxsKHRoaXMpLGxtaWI9YnVmZmVyLmxlbmd0aC0xO3JsPGxtaWImJiFfcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwodGhpcyxsbWliKTtsbWliLS0pO3JldHVybiBidWZmZXIuc3BsaWNlKHJsLGxtaWIrMS1ybCksX3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKHRoaXMsYnVmZmVyKSYmdmFsdWU9PT0odGhpcy5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykuam9pbihcIlwiKSl9LGZvcm1hdDpmdW5jdGlvbiBmb3JtYXQodmFsdWUsbWV0YWRhdGEpe3RoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fCgwLF9tYXNrTGV4ZXIuZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpO3ZhciB2YWx1ZUJ1ZmZlcj0oXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRzLm9uQmVmb3JlTWFzayYmdGhpcy5vcHRzLm9uQmVmb3JlTWFzay5jYWxsKHRoaXMsdmFsdWUsdGhpcy5vcHRzKXx8dmFsdWUpLnNwbGl0KFwiXCIpO19pbnB1dEhhbmRsaW5nLmNoZWNrVmFsLmNhbGwodGhpcyx2b2lkIDAsITAsITEsdmFsdWVCdWZmZXIpO3ZhciBmb3JtYXR0ZWRWYWx1ZT10aGlzLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbCh0aGlzKS5qb2luKFwiXCIpO3JldHVybiBtZXRhZGF0YT97dmFsdWU6Zm9ybWF0dGVkVmFsdWUsbWV0YWRhdGE6dGhpcy5nZXRtZXRhZGF0YSgpfTpmb3JtYXR0ZWRWYWx1ZX0sc2V0VmFsdWU6ZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpe3RoaXMuZWwmJigwLF9pbnB1dG1hc2suZGVmYXVsdCkodGhpcy5lbCkudHJpZ2dlcihcInNldHZhbHVlXCIsW3ZhbHVlXSl9LGFuYWx5c2VNYXNrOl9tYXNrTGV4ZXIuYW5hbHlzZU1hc2t9LElucHV0bWFzay5leHRlbmREZWZhdWx0cz1mdW5jdGlvbihvcHRpb25zKXtfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLElucHV0bWFzay5wcm90b3R5cGUuZGVmYXVsdHMsb3B0aW9ucyl9LElucHV0bWFzay5leHRlbmREZWZpbml0aW9ucz1mdW5jdGlvbihkZWZpbml0aW9uKXtfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLElucHV0bWFzay5wcm90b3R5cGUuZGVmaW5pdGlvbnMsZGVmaW5pdGlvbil9LElucHV0bWFzay5leHRlbmRBbGlhc2VzPWZ1bmN0aW9uKGFsaWFzKXtfaW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kKCEwLElucHV0bWFzay5wcm90b3R5cGUuYWxpYXNlcyxhbGlhcyl9LElucHV0bWFzay5mb3JtYXQ9ZnVuY3Rpb24odmFsdWUsb3B0aW9ucyxtZXRhZGF0YSl7cmV0dXJuIElucHV0bWFzayhvcHRpb25zKS5mb3JtYXQodmFsdWUsbWV0YWRhdGEpfSxJbnB1dG1hc2sudW5tYXNrPWZ1bmN0aW9uKHZhbHVlLG9wdGlvbnMpe3JldHVybiBJbnB1dG1hc2sob3B0aW9ucykudW5tYXNrZWR2YWx1ZSh2YWx1ZSl9LElucHV0bWFzay5pc1ZhbGlkPWZ1bmN0aW9uKHZhbHVlLG9wdGlvbnMpe3JldHVybiBJbnB1dG1hc2sob3B0aW9ucykuaXNWYWxpZCh2YWx1ZSl9LElucHV0bWFzay5yZW1vdmU9ZnVuY3Rpb24oZWxlbXMpe1wic3RyaW5nXCI9PXR5cGVvZiBlbGVtcyYmKGVsZW1zPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1zKXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtcykpLGVsZW1zPWVsZW1zLm5vZGVOYW1lP1tlbGVtc106ZWxlbXMsZWxlbXMuZm9yRWFjaChmdW5jdGlvbihlbCl7ZWwuaW5wdXRtYXNrJiZlbC5pbnB1dG1hc2sucmVtb3ZlKCl9KX0sSW5wdXRtYXNrLnNldFZhbHVlPWZ1bmN0aW9uKGVsZW1zLHZhbHVlKXtcInN0cmluZ1wiPT10eXBlb2YgZWxlbXMmJihlbGVtcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtcyl8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbXMpKSxlbGVtcz1lbGVtcy5ub2RlTmFtZT9bZWxlbXNdOmVsZW1zLGVsZW1zLmZvckVhY2goZnVuY3Rpb24oZWwpe2VsLmlucHV0bWFzaz9lbC5pbnB1dG1hc2suc2V0VmFsdWUodmFsdWUpOigwLF9pbnB1dG1hc2suZGVmYXVsdCkoZWwpLnRyaWdnZXIoXCJzZXR2YWx1ZVwiLFt2YWx1ZV0pfSl9LElucHV0bWFzay5kZXBlbmRlbmN5TGliPV9pbnB1dG1hc2suZGVmYXVsdCxfd2luZG93LmRlZmF1bHQuSW5wdXRtYXNrPUlucHV0bWFzazt2YXIgX2RlZmF1bHQ9SW5wdXRtYXNrO2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZ2V0TG9jYXRvcih0c3QsYWxpZ24pe3ZhciBsb2NhdG9yPShudWxsIT10c3QuYWx0ZXJuYXRpb24/dHN0Lm1sb2NbZ2V0RGVjaXNpb25UYWtlcih0c3QpXTp0c3QubG9jYXRvcikuam9pbihcIlwiKTtpZihcIlwiIT09bG9jYXRvcilmb3IoO2xvY2F0b3IubGVuZ3RoPGFsaWduOylsb2NhdG9yKz1cIjBcIjtyZXR1cm4gbG9jYXRvcn1mdW5jdGlvbiBnZXREZWNpc2lvblRha2VyKHRzdCl7dmFyIGRlY2lzaW9uVGFrZXI9dHN0LmxvY2F0b3JbdHN0LmFsdGVybmF0aW9uXTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZGVjaXNpb25UYWtlciYmMDxkZWNpc2lvblRha2VyLmxlbmd0aCYmKGRlY2lzaW9uVGFrZXI9ZGVjaXNpb25UYWtlci5zcGxpdChcIixcIilbMF0pLHZvaWQgMCE9PWRlY2lzaW9uVGFrZXI/ZGVjaXNpb25UYWtlci50b1N0cmluZygpOlwiXCJ9ZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXIocG9zLHRlc3QscmV0dXJuUEwpe3ZhciBpbnB1dG1hc2s9dGhpcyxvcHRzPXRoaXMub3B0cyxtYXNrc2V0PXRoaXMubWFza3NldDtpZih0ZXN0PXRlc3R8fGdldFRlc3QuY2FsbCh0aGlzLHBvcykubWF0Y2gsdm9pZCAwIT09dGVzdC5wbGFjZWhvbGRlcnx8ITA9PT1yZXR1cm5QTClyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0ZXN0LnBsYWNlaG9sZGVyP3Rlc3QucGxhY2Vob2xkZXIob3B0cyk6dGVzdC5wbGFjZWhvbGRlcjtpZighMCE9PXRlc3Quc3RhdGljKXJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3Mlb3B0cy5wbGFjZWhvbGRlci5sZW5ndGgpO2lmKC0xPHBvcyYmdm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdKXt2YXIgdGVzdHM9Z2V0VGVzdHMuY2FsbCh0aGlzLHBvcyksc3RhdGljQWx0ZXJuYXRpb25zPVtdLHByZXZUZXN0O2lmKHRlc3RzLmxlbmd0aD4xKyhcIlwiPT09dGVzdHNbdGVzdHMubGVuZ3RoLTFdLm1hdGNoLmRlZj8xOjApKWZvcih2YXIgaT0wO2k8dGVzdHMubGVuZ3RoO2krKylpZihcIlwiIT09dGVzdHNbaV0ubWF0Y2guZGVmJiYhMCE9PXRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsaXR5JiYhMCE9PXRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmKCEwPT09dGVzdHNbaV0ubWF0Y2guc3RhdGljfHx2b2lkIDA9PT1wcmV2VGVzdHx8ITEhPT10ZXN0c1tpXS5tYXRjaC5mbi50ZXN0KHByZXZUZXN0Lm1hdGNoLmRlZixtYXNrc2V0LHBvcywhMCxvcHRzKSkmJihzdGF0aWNBbHRlcm5hdGlvbnMucHVzaCh0ZXN0c1tpXSksITA9PT10ZXN0c1tpXS5tYXRjaC5zdGF0aWMmJihwcmV2VGVzdD10ZXN0c1tpXSksMTxzdGF0aWNBbHRlcm5hdGlvbnMubGVuZ3RoJiYvWzAtOWEtYkEtWl0vLnRlc3Qoc3RhdGljQWx0ZXJuYXRpb25zWzBdLm1hdGNoLmRlZikpKXJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3Mlb3B0cy5wbGFjZWhvbGRlci5sZW5ndGgpfXJldHVybiB0ZXN0LmRlZn1mdW5jdGlvbiBnZXRNYXNrVGVtcGxhdGUoYmFzZU9uSW5wdXQsbWluaW1hbFBvcyxpbmNsdWRlTW9kZSxub0ppdCxjbGVhck9wdGlvbmFsVGFpbCl7dmFyIGlucHV0bWFzaz10aGlzLG9wdHM9dGhpcy5vcHRzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LGdyZWVkeT1vcHRzLmdyZWVkeTtjbGVhck9wdGlvbmFsVGFpbCYmKG9wdHMuZ3JlZWR5PSExKSxtaW5pbWFsUG9zPW1pbmltYWxQb3N8fDA7dmFyIG1hc2tUZW1wbGF0ZT1bXSxuZHhJbnRsenIscG9zPTAsdGVzdCx0ZXN0UG9zLGppdFJlbmRlclN0YXRpYztkb3tpZighMD09PWJhc2VPbklucHV0JiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10pdGVzdFBvcz1jbGVhck9wdGlvbmFsVGFpbCYmITA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10ubWF0Y2gub3B0aW9uYWxpdHkmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zKzFdJiYoITA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uZ2VuZXJhdGVkSW5wdXR8fG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5pbnB1dD09b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyJiYwPHBvcyk/ZGV0ZXJtaW5lVGVzdFRlbXBsYXRlLmNhbGwodGhpcyxwb3MsZ2V0VGVzdHMuY2FsbCh0aGlzLHBvcyxuZHhJbnRsenIscG9zLTEpKTptYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10sdGVzdD10ZXN0UG9zLm1hdGNoLG5keEludGx6cj10ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKSxtYXNrVGVtcGxhdGUucHVzaCghMD09PWluY2x1ZGVNb2RlP3Rlc3RQb3MuaW5wdXQ6ITE9PT1pbmNsdWRlTW9kZT90ZXN0Lm5hdGl2ZURlZjpnZXRQbGFjZWhvbGRlci5jYWxsKHRoaXMscG9zLHRlc3QpKTtlbHNle3Rlc3RQb3M9Z2V0VGVzdFRlbXBsYXRlLmNhbGwodGhpcyxwb3MsbmR4SW50bHpyLHBvcy0xKSx0ZXN0PXRlc3RQb3MubWF0Y2gsbmR4SW50bHpyPXRlc3RQb3MubG9jYXRvci5zbGljZSgpO3ZhciBqaXRNYXNraW5nPSEwIT09bm9KaXQmJighMSE9PW9wdHMuaml0TWFza2luZz9vcHRzLmppdE1hc2tpbmc6dGVzdC5qaXQpO2ppdFJlbmRlclN0YXRpYz0oaml0UmVuZGVyU3RhdGljJiZ0ZXN0LnN0YXRpYyYmdGVzdC5kZWYhPT1vcHRzLmdyb3VwU2VwYXJhdG9yJiZudWxsPT09dGVzdC5mbnx8bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MtMV0mJnRlc3Quc3RhdGljJiZ0ZXN0LmRlZiE9PW9wdHMuZ3JvdXBTZXBhcmF0b3ImJm51bGw9PT10ZXN0LmZuKSYmbWFza3NldC50ZXN0c1twb3NdJiYxPT09bWFza3NldC50ZXN0c1twb3NdLmxlbmd0aCxqaXRSZW5kZXJTdGF0aWN8fCExPT09aml0TWFza2luZ3x8dm9pZCAwPT09aml0TWFza2luZ3x8XCJudW1iZXJcIj09dHlwZW9mIGppdE1hc2tpbmcmJmlzRmluaXRlKGppdE1hc2tpbmcpJiZwb3M8aml0TWFza2luZz9tYXNrVGVtcGxhdGUucHVzaCghMT09PWluY2x1ZGVNb2RlP3Rlc3QubmF0aXZlRGVmOmdldFBsYWNlaG9sZGVyLmNhbGwodGhpcyxwb3MsdGVzdCkpOmppdFJlbmRlclN0YXRpYz0hMX1wb3MrK313aGlsZSgodm9pZCAwPT09dGhpcy5tYXhMZW5ndGh8fHBvczx0aGlzLm1heExlbmd0aCkmJighMCE9PXRlc3Quc3RhdGljfHxcIlwiIT09dGVzdC5kZWYpfHxwb3M8bWluaW1hbFBvcyk7cmV0dXJuXCJcIj09PW1hc2tUZW1wbGF0ZVttYXNrVGVtcGxhdGUubGVuZ3RoLTFdJiZtYXNrVGVtcGxhdGUucG9wKCksITE9PT1pbmNsdWRlTW9kZSYmdm9pZCAwIT09bWFza3NldC5tYXNrTGVuZ3RofHwobWFza3NldC5tYXNrTGVuZ3RoPXBvcy0xKSxvcHRzLmdyZWVkeT1ncmVlZHksbWFza1RlbXBsYXRlfWZ1bmN0aW9uIGdldFRlc3RUZW1wbGF0ZShwb3MsbmR4SW50bHpyLHRzdFBzKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQ7cmV0dXJuIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXXx8ZGV0ZXJtaW5lVGVzdFRlbXBsYXRlLmNhbGwodGhpcyxwb3MsZ2V0VGVzdHMuY2FsbCh0aGlzLHBvcyxuZHhJbnRsenI/bmR4SW50bHpyLnNsaWNlKCk6bmR4SW50bHpyLHRzdFBzKSl9ZnVuY3Rpb24gZGV0ZXJtaW5lVGVzdFRlbXBsYXRlKHBvcyx0ZXN0cyl7dmFyIGlucHV0bWFzaz10aGlzLG9wdHM9dGhpcy5vcHRzO3Bvcz0wPHBvcz9wb3MtMTowO2Zvcih2YXIgYWx0VGVzdD1nZXRUZXN0LmNhbGwodGhpcyxwb3MpLHRhcmdldExvY2F0b3I9Z2V0TG9jYXRvcihhbHRUZXN0KSx0c3RMb2NhdG9yLGNsb3Nlc3QsYmVzdE1hdGNoLG5keD0wO25keDx0ZXN0cy5sZW5ndGg7bmR4Kyspe3ZhciB0c3Q9dGVzdHNbbmR4XTt0c3RMb2NhdG9yPWdldExvY2F0b3IodHN0LHRhcmdldExvY2F0b3IubGVuZ3RoKTt2YXIgZGlzdGFuY2U9TWF0aC5hYnModHN0TG9jYXRvci10YXJnZXRMb2NhdG9yKTsodm9pZCAwPT09Y2xvc2VzdHx8XCJcIiE9PXRzdExvY2F0b3ImJmRpc3RhbmNlPGNsb3Nlc3R8fGJlc3RNYXRjaCYmIW9wdHMuZ3JlZWR5JiZiZXN0TWF0Y2gubWF0Y2gub3B0aW9uYWxpdHkmJlwibWFzdGVyXCI9PT1iZXN0TWF0Y2gubWF0Y2gubmV3QmxvY2tNYXJrZXImJighdHN0Lm1hdGNoLm9wdGlvbmFsaXR5fHwhdHN0Lm1hdGNoLm5ld0Jsb2NrTWFya2VyKXx8YmVzdE1hdGNoJiZiZXN0TWF0Y2gubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyJiYhdHN0Lm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllcikmJihjbG9zZXN0PWRpc3RhbmNlLGJlc3RNYXRjaD10c3QpfXJldHVybiBiZXN0TWF0Y2h9ZnVuY3Rpb24gZ2V0VGVzdChwb3MsdGVzdHMpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldDtyZXR1cm4gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdP21hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXToodGVzdHN8fGdldFRlc3RzLmNhbGwodGhpcyxwb3MpKVswXX1mdW5jdGlvbiBpc1N1YnNldE9mKHNvdXJjZSx0YXJnZXQsb3B0cyl7ZnVuY3Rpb24gZXhwYW5kKHBhdHRlcm4pe2Zvcih2YXIgZXhwYW5kZWQ9W10sc3RhcnQ9LTEsZW5kLGk9MCxsPXBhdHRlcm4ubGVuZ3RoO2k8bDtpKyspaWYoXCItXCI9PT1wYXR0ZXJuLmNoYXJBdChpKSlmb3IoZW5kPXBhdHRlcm4uY2hhckNvZGVBdChpKzEpOysrc3RhcnQ8ZW5kOylleHBhbmRlZC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoc3RhcnQpKTtlbHNlIHN0YXJ0PXBhdHRlcm4uY2hhckNvZGVBdChpKSxleHBhbmRlZC5wdXNoKHBhdHRlcm4uY2hhckF0KGkpKTtyZXR1cm4gZXhwYW5kZWQuam9pbihcIlwiKX1yZXR1cm4gc291cmNlLm1hdGNoLmRlZj09PXRhcmdldC5tYXRjaC5uYXRpdmVEZWZ8fCEoIShvcHRzLnJlZ2V4fHxzb3VyY2UubWF0Y2guZm4gaW5zdGFuY2VvZiBSZWdFeHAmJnRhcmdldC5tYXRjaC5mbiBpbnN0YW5jZW9mIFJlZ0V4cCl8fCEwPT09c291cmNlLm1hdGNoLnN0YXRpY3x8ITA9PT10YXJnZXQubWF0Y2guc3RhdGljKSYmLTEhPT1leHBhbmQodGFyZ2V0Lm1hdGNoLmZuLnRvU3RyaW5nKCkucmVwbGFjZSgvW1tcXF0vXS9nLFwiXCIpKS5pbmRleE9mKGV4cGFuZChzb3VyY2UubWF0Y2guZm4udG9TdHJpbmcoKS5yZXBsYWNlKC9bW1xcXS9dL2csXCJcIikpKX1mdW5jdGlvbiBnZXRUZXN0cyhwb3MsbmR4SW50bHpyLHRzdFBzKXt2YXIgaW5wdXRtYXNrPXRoaXMsJD10aGlzLmRlcGVuZGVuY3lMaWIsbWFza3NldD10aGlzLm1hc2tzZXQsb3B0cz10aGlzLm9wdHMsZWw9dGhpcy5lbCxtYXNrVG9rZW5zPW1hc2tzZXQubWFza1Rva2VuLHRlc3RQb3M9bmR4SW50bHpyP3RzdFBzOjAsbmR4SW5pdGlhbGl6ZXI9bmR4SW50bHpyP25keEludGx6ci5zbGljZSgpOlswXSxtYXRjaGVzPVtdLGluc2VydFN0b3A9ITEsbGF0ZXN0TWF0Y2gsY2FjaGVEZXBlbmRlbmN5PW5keEludGx6cj9uZHhJbnRsenIuam9pbihcIlwiKTpcIlwiO2Z1bmN0aW9uIHJlc29sdmVUZXN0RnJvbVRva2VuKG1hc2tUb2tlbixuZHhJbml0aWFsaXplcixsb29wTmR4LHF1YW50aWZpZXJSZWN1cnNlKXtmdW5jdGlvbiBoYW5kbGVNYXRjaChtYXRjaCxsb29wTmR4LHF1YW50aWZpZXJSZWN1cnNlKXtmdW5jdGlvbiBpc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsdG9rZW5Hcm91cCl7dmFyIGZpcnN0TWF0Y2g9MD09PXRva2VuR3JvdXAubWF0Y2hlcy5pbmRleE9mKGxhdGVzdE1hdGNoKTtyZXR1cm4gZmlyc3RNYXRjaHx8dG9rZW5Hcm91cC5tYXRjaGVzLmV2ZXJ5KGZ1bmN0aW9uKG1hdGNoLG5keCl7cmV0dXJuITA9PT1tYXRjaC5pc1F1YW50aWZpZXI/Zmlyc3RNYXRjaD1pc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsdG9rZW5Hcm91cC5tYXRjaGVzW25keC0xXSk6T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hdGNoLFwibWF0Y2hlc1wiKSYmKGZpcnN0TWF0Y2g9aXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLG1hdGNoKSksIWZpcnN0TWF0Y2h9KSxmaXJzdE1hdGNofWZ1bmN0aW9uIHJlc29sdmVOZHhJbml0aWFsaXplcihwb3MsYWx0ZXJuYXRlTmR4LHRhcmdldEFsdGVybmF0aW9uKXt2YXIgYmVzdE1hdGNoLGluZGV4UG9zO2lmKChtYXNrc2V0LnRlc3RzW3Bvc118fG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSkmJihtYXNrc2V0LnRlc3RzW3Bvc118fFttYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc11dKS5ldmVyeShmdW5jdGlvbihsbW50LG5keCl7aWYobG1udC5tbG9jW2FsdGVybmF0ZU5keF0pcmV0dXJuIGJlc3RNYXRjaD1sbW50LCExO3ZhciBhbHRlcm5hdGlvbj12b2lkIDAhPT10YXJnZXRBbHRlcm5hdGlvbj90YXJnZXRBbHRlcm5hdGlvbjpsbW50LmFsdGVybmF0aW9uLG5keFBvcz12b2lkIDAhPT1sbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dP2xtbnQubG9jYXRvclthbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5pbmRleE9mKGFsdGVybmF0ZU5keCk6LTE7cmV0dXJuKHZvaWQgMD09PWluZGV4UG9zfHxuZHhQb3M8aW5kZXhQb3MpJiYtMSE9PW5keFBvcyYmKGJlc3RNYXRjaD1sbW50LGluZGV4UG9zPW5keFBvcyksITB9KSxiZXN0TWF0Y2gpe3ZhciBiZXN0TWF0Y2hBbHRJbmRleD1iZXN0TWF0Y2gubG9jYXRvcltiZXN0TWF0Y2guYWx0ZXJuYXRpb25dLGxvY2F0b3I9YmVzdE1hdGNoLm1sb2NbYWx0ZXJuYXRlTmR4XXx8YmVzdE1hdGNoLm1sb2NbYmVzdE1hdGNoQWx0SW5kZXhdfHxiZXN0TWF0Y2gubG9jYXRvcjtyZXR1cm4gbG9jYXRvci5zbGljZSgodm9pZCAwIT09dGFyZ2V0QWx0ZXJuYXRpb24/dGFyZ2V0QWx0ZXJuYXRpb246YmVzdE1hdGNoLmFsdGVybmF0aW9uKSsxKX1yZXR1cm4gdm9pZCAwIT09dGFyZ2V0QWx0ZXJuYXRpb24/cmVzb2x2ZU5keEluaXRpYWxpemVyKHBvcyxhbHRlcm5hdGVOZHgpOnZvaWQgMH1mdW5jdGlvbiBzdGF0aWNDYW5NYXRjaERlZmluaXRpb24oc291cmNlLHRhcmdldCl7cmV0dXJuITA9PT1zb3VyY2UubWF0Y2guc3RhdGljJiYhMCE9PXRhcmdldC5tYXRjaC5zdGF0aWMmJnRhcmdldC5tYXRjaC5mbi50ZXN0KHNvdXJjZS5tYXRjaC5kZWYsbWFza3NldCxwb3MsITEsb3B0cywhMSl9ZnVuY3Rpb24gc2V0TWVyZ2VMb2NhdG9ycyh0YXJnZXRNYXRjaCxhbHRNYXRjaCl7dmFyIGFsdGVybmF0aW9uTmR4PXRhcmdldE1hdGNoLmFsdGVybmF0aW9uLHNob3VsZE1lcmdlPXZvaWQgMD09PWFsdE1hdGNofHxhbHRlcm5hdGlvbk5keD09PWFsdE1hdGNoLmFsdGVybmF0aW9uJiYtMT09PXRhcmdldE1hdGNoLmxvY2F0b3JbYWx0ZXJuYXRpb25OZHhdLnRvU3RyaW5nKCkuaW5kZXhPZihhbHRNYXRjaC5sb2NhdG9yW2FsdGVybmF0aW9uTmR4XSk7aWYoIXNob3VsZE1lcmdlJiZhbHRlcm5hdGlvbk5keD5hbHRNYXRjaC5hbHRlcm5hdGlvbilmb3IodmFyIGk9YWx0TWF0Y2guYWx0ZXJuYXRpb247aTxhbHRlcm5hdGlvbk5keDtpKyspaWYodGFyZ2V0TWF0Y2gubG9jYXRvcltpXSE9PWFsdE1hdGNoLmxvY2F0b3JbaV0pe2FsdGVybmF0aW9uTmR4PWksc2hvdWxkTWVyZ2U9ITA7YnJlYWt9aWYoc2hvdWxkTWVyZ2Upe3RhcmdldE1hdGNoLm1sb2M9dGFyZ2V0TWF0Y2gubWxvY3x8e307dmFyIGxvY05keD10YXJnZXRNYXRjaC5sb2NhdG9yW2FsdGVybmF0aW9uTmR4XTtpZih2b2lkIDAhPT1sb2NOZHgpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBsb2NOZHgmJihsb2NOZHg9bG9jTmR4LnNwbGl0KFwiLFwiKVswXSksdm9pZCAwPT09dGFyZ2V0TWF0Y2gubWxvY1tsb2NOZHhdJiYodGFyZ2V0TWF0Y2gubWxvY1tsb2NOZHhdPXRhcmdldE1hdGNoLmxvY2F0b3Iuc2xpY2UoKSksdm9pZCAwIT09YWx0TWF0Y2gpe2Zvcih2YXIgbmR4IGluIGFsdE1hdGNoLm1sb2MpXCJzdHJpbmdcIj09dHlwZW9mIG5keCYmKG5keD1uZHguc3BsaXQoXCIsXCIpWzBdKSx2b2lkIDA9PT10YXJnZXRNYXRjaC5tbG9jW25keF0mJih0YXJnZXRNYXRjaC5tbG9jW25keF09YWx0TWF0Y2gubWxvY1tuZHhdKTt0YXJnZXRNYXRjaC5sb2NhdG9yW2FsdGVybmF0aW9uTmR4XT1PYmplY3Qua2V5cyh0YXJnZXRNYXRjaC5tbG9jKS5qb2luKFwiLFwiKX1yZXR1cm4hMH10YXJnZXRNYXRjaC5hbHRlcm5hdGlvbj12b2lkIDB9cmV0dXJuITF9ZnVuY3Rpb24gaXNTYW1lTGV2ZWwodGFyZ2V0TWF0Y2gsYWx0TWF0Y2gpe2lmKHRhcmdldE1hdGNoLmxvY2F0b3IubGVuZ3RoIT09YWx0TWF0Y2gubG9jYXRvci5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBsb2NOZHg9dGFyZ2V0TWF0Y2guYWx0ZXJuYXRpb24rMTtsb2NOZHg8dGFyZ2V0TWF0Y2gubG9jYXRvci5sZW5ndGg7bG9jTmR4KyspaWYodGFyZ2V0TWF0Y2gubG9jYXRvcltsb2NOZHhdIT09YWx0TWF0Y2gubG9jYXRvcltsb2NOZHhdKXJldHVybiExO3JldHVybiEwfWlmKHRlc3RQb3M+cG9zK29wdHMuX21heFRlc3RQb3MpdGhyb3dcIklucHV0bWFzazogVGhlcmUgaXMgcHJvYmFibHkgYW4gZXJyb3IgaW4geW91ciBtYXNrIGRlZmluaXRpb24gb3IgaW4gdGhlIGNvZGUuIENyZWF0ZSBhbiBpc3N1ZSBvbiBnaXRodWIgd2l0aCBhbiBleGFtcGxlIG9mIHRoZSBtYXNrIHlvdSBhcmUgdXNpbmcuIFwiK21hc2tzZXQubWFzaztpZih0ZXN0UG9zPT09cG9zJiZ2b2lkIDA9PT1tYXRjaC5tYXRjaGVzKXJldHVybiBtYXRjaGVzLnB1c2goe21hdGNoOm1hdGNoLGxvY2F0b3I6bG9vcE5keC5yZXZlcnNlKCksY2Q6Y2FjaGVEZXBlbmRlbmN5LG1sb2M6e319KSwhMDtpZih2b2lkIDAhPT1tYXRjaC5tYXRjaGVzKXtpZihtYXRjaC5pc0dyb3VwJiZxdWFudGlmaWVyUmVjdXJzZSE9PW1hdGNoKXtpZihtYXRjaD1oYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1ttYXNrVG9rZW4ubWF0Y2hlcy5pbmRleE9mKG1hdGNoKSsxXSxsb29wTmR4LHF1YW50aWZpZXJSZWN1cnNlKSxtYXRjaClyZXR1cm4hMH1lbHNlIGlmKG1hdGNoLmlzT3B0aW9uYWwpe3ZhciBvcHRpb25hbFRva2VuPW1hdGNoLG10Y2hzTmR4PW1hdGNoZXMubGVuZ3RoO2lmKG1hdGNoPXJlc29sdmVUZXN0RnJvbVRva2VuKG1hdGNoLG5keEluaXRpYWxpemVyLGxvb3BOZHgscXVhbnRpZmllclJlY3Vyc2UpLG1hdGNoKXtpZihtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24obXRjaCxuZHgpe210Y2hzTmR4PD1uZHgmJihtdGNoLm1hdGNoLm9wdGlvbmFsaXR5PSEwKX0pLGxhdGVzdE1hdGNoPW1hdGNoZXNbbWF0Y2hlcy5sZW5ndGgtMV0ubWF0Y2gsdm9pZCAwIT09cXVhbnRpZmllclJlY3Vyc2V8fCFpc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsb3B0aW9uYWxUb2tlbikpcmV0dXJuITA7aW5zZXJ0U3RvcD0hMCx0ZXN0UG9zPXBvc319ZWxzZSBpZihtYXRjaC5pc0FsdGVybmF0b3Ipe3ZhciBhbHRlcm5hdGVUb2tlbj1tYXRjaCxtYWx0ZXJuYXRlTWF0Y2hlcz1bXSxtYWx0TWF0Y2hlcyxjdXJyZW50TWF0Y2hlcz1tYXRjaGVzLnNsaWNlKCksbG9vcE5keENudD1sb29wTmR4Lmxlbmd0aCx1bk1hdGNoZWRBbHRlcm5hdGlvbj0hMSxhbHRJbmRleD0wPG5keEluaXRpYWxpemVyLmxlbmd0aD9uZHhJbml0aWFsaXplci5zaGlmdCgpOi0xO2lmKC0xPT09YWx0SW5kZXh8fFwic3RyaW5nXCI9PXR5cGVvZiBhbHRJbmRleCl7dmFyIGN1cnJlbnRQb3M9dGVzdFBvcyxuZHhJbml0aWFsaXplckNsb25lPW5keEluaXRpYWxpemVyLnNsaWNlKCksYWx0SW5kZXhBcnI9W10sYW1uZHg7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGFsdEluZGV4KWFsdEluZGV4QXJyPWFsdEluZGV4LnNwbGl0KFwiLFwiKTtlbHNlIGZvcihhbW5keD0wO2FtbmR4PGFsdGVybmF0ZVRva2VuLm1hdGNoZXMubGVuZ3RoO2FtbmR4KyspYWx0SW5kZXhBcnIucHVzaChhbW5keC50b1N0cmluZygpKTtpZih2b2lkIDAhPT1tYXNrc2V0LmV4Y2x1ZGVzW3Bvc10pe2Zvcih2YXIgYWx0SW5kZXhBcnJDbG9uZT1hbHRJbmRleEFyci5zbGljZSgpLGk9MCxleGw9bWFza3NldC5leGNsdWRlc1twb3NdLmxlbmd0aDtpPGV4bDtpKyspe3ZhciBleGNsdWRlU2V0PW1hc2tzZXQuZXhjbHVkZXNbcG9zXVtpXS50b1N0cmluZygpLnNwbGl0KFwiOlwiKTtsb29wTmR4Lmxlbmd0aD09ZXhjbHVkZVNldFsxXSYmYWx0SW5kZXhBcnIuc3BsaWNlKGFsdEluZGV4QXJyLmluZGV4T2YoZXhjbHVkZVNldFswXSksMSl9MD09PWFsdEluZGV4QXJyLmxlbmd0aCYmKGRlbGV0ZSBtYXNrc2V0LmV4Y2x1ZGVzW3Bvc10sYWx0SW5kZXhBcnI9YWx0SW5kZXhBcnJDbG9uZSl9KCEwPT09b3B0cy5rZWVwU3RhdGljfHxpc0Zpbml0ZShwYXJzZUludChvcHRzLmtlZXBTdGF0aWMpKSYmY3VycmVudFBvcz49b3B0cy5rZWVwU3RhdGljKSYmKGFsdEluZGV4QXJyPWFsdEluZGV4QXJyLnNsaWNlKDAsMSkpO2Zvcih2YXIgbmR4PTA7bmR4PGFsdEluZGV4QXJyLmxlbmd0aDtuZHgrKyl7YW1uZHg9cGFyc2VJbnQoYWx0SW5kZXhBcnJbbmR4XSksbWF0Y2hlcz1bXSxuZHhJbml0aWFsaXplcj1cInN0cmluZ1wiPT10eXBlb2YgYWx0SW5kZXgmJnJlc29sdmVOZHhJbml0aWFsaXplcih0ZXN0UG9zLGFtbmR4LGxvb3BOZHhDbnQpfHxuZHhJbml0aWFsaXplckNsb25lLnNsaWNlKCk7dmFyIHRva2VuTWF0Y2g9YWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbW5keF07aWYodG9rZW5NYXRjaCYmaGFuZGxlTWF0Y2godG9rZW5NYXRjaCxbYW1uZHhdLmNvbmNhdChsb29wTmR4KSxxdWFudGlmaWVyUmVjdXJzZSkpbWF0Y2g9ITA7ZWxzZSBpZigwPT09bmR4JiYodW5NYXRjaGVkQWx0ZXJuYXRpb249ITApLHRva2VuTWF0Y2gmJnRva2VuTWF0Y2gubWF0Y2hlcyYmdG9rZW5NYXRjaC5tYXRjaGVzLmxlbmd0aD5hbHRlcm5hdGVUb2tlbi5tYXRjaGVzWzBdLm1hdGNoZXMubGVuZ3RoKWJyZWFrO21hbHRNYXRjaGVzPW1hdGNoZXMuc2xpY2UoKSx0ZXN0UG9zPWN1cnJlbnRQb3MsbWF0Y2hlcz1bXTtmb3IodmFyIG5keDE9MDtuZHgxPG1hbHRNYXRjaGVzLmxlbmd0aDtuZHgxKyspe3ZhciBhbHRNYXRjaD1tYWx0TWF0Y2hlc1tuZHgxXSxkcm9wTWF0Y2g9ITE7YWx0TWF0Y2gubWF0Y2guaml0PWFsdE1hdGNoLm1hdGNoLmppdHx8dW5NYXRjaGVkQWx0ZXJuYXRpb24sYWx0TWF0Y2guYWx0ZXJuYXRpb249YWx0TWF0Y2guYWx0ZXJuYXRpb258fGxvb3BOZHhDbnQsc2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaCk7Zm9yKHZhciBuZHgyPTA7bmR4MjxtYWx0ZXJuYXRlTWF0Y2hlcy5sZW5ndGg7bmR4MisrKXt2YXIgYWx0TWF0Y2gyPW1hbHRlcm5hdGVNYXRjaGVzW25keDJdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhbHRJbmRleHx8dm9pZCAwIT09YWx0TWF0Y2guYWx0ZXJuYXRpb24mJmFsdEluZGV4QXJyLmluY2x1ZGVzKGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkpKXtpZihhbHRNYXRjaC5tYXRjaC5uYXRpdmVEZWY9PT1hbHRNYXRjaDIubWF0Y2gubmF0aXZlRGVmKXtkcm9wTWF0Y2g9ITAsc2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaDIsYWx0TWF0Y2gpO2JyZWFrfWlmKGlzU3Vic2V0T2YoYWx0TWF0Y2gsYWx0TWF0Y2gyLG9wdHMpKXtzZXRNZXJnZUxvY2F0b3JzKGFsdE1hdGNoLGFsdE1hdGNoMikmJihkcm9wTWF0Y2g9ITAsbWFsdGVybmF0ZU1hdGNoZXMuc3BsaWNlKG1hbHRlcm5hdGVNYXRjaGVzLmluZGV4T2YoYWx0TWF0Y2gyKSwwLGFsdE1hdGNoKSk7YnJlYWt9aWYoaXNTdWJzZXRPZihhbHRNYXRjaDIsYWx0TWF0Y2gsb3B0cykpe3NldE1lcmdlTG9jYXRvcnMoYWx0TWF0Y2gyLGFsdE1hdGNoKTticmVha31pZihzdGF0aWNDYW5NYXRjaERlZmluaXRpb24oYWx0TWF0Y2gsYWx0TWF0Y2gyKSl7aXNTYW1lTGV2ZWwoYWx0TWF0Y2gsYWx0TWF0Y2gyKXx8dm9pZCAwIT09ZWwuaW5wdXRtYXNrLnVzZXJPcHRpb25zLmtlZXBTdGF0aWM/c2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaCxhbHRNYXRjaDIpJiYoZHJvcE1hdGNoPSEwLG1hbHRlcm5hdGVNYXRjaGVzLnNwbGljZShtYWx0ZXJuYXRlTWF0Y2hlcy5pbmRleE9mKGFsdE1hdGNoMiksMCxhbHRNYXRjaCkpOm9wdHMua2VlcFN0YXRpYz0hMDticmVha319fWRyb3BNYXRjaHx8bWFsdGVybmF0ZU1hdGNoZXMucHVzaChhbHRNYXRjaCl9fW1hdGNoZXM9Y3VycmVudE1hdGNoZXMuY29uY2F0KG1hbHRlcm5hdGVNYXRjaGVzKSx0ZXN0UG9zPXBvcyxpbnNlcnRTdG9wPTA8bWF0Y2hlcy5sZW5ndGgsbWF0Y2g9MDxtYWx0ZXJuYXRlTWF0Y2hlcy5sZW5ndGgsbmR4SW5pdGlhbGl6ZXI9bmR4SW5pdGlhbGl6ZXJDbG9uZS5zbGljZSgpfWVsc2UgbWF0Y2g9aGFuZGxlTWF0Y2goYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbHRJbmRleF18fG1hc2tUb2tlbi5tYXRjaGVzW2FsdEluZGV4XSxbYWx0SW5kZXhdLmNvbmNhdChsb29wTmR4KSxxdWFudGlmaWVyUmVjdXJzZSk7aWYobWF0Y2gpcmV0dXJuITB9ZWxzZSBpZihtYXRjaC5pc1F1YW50aWZpZXImJnF1YW50aWZpZXJSZWN1cnNlIT09bWFza1Rva2VuLm1hdGNoZXNbbWFza1Rva2VuLm1hdGNoZXMuaW5kZXhPZihtYXRjaCktMV0pZm9yKHZhciBxdD1tYXRjaCxxbmR4PTA8bmR4SW5pdGlhbGl6ZXIubGVuZ3RoP25keEluaXRpYWxpemVyLnNoaWZ0KCk6MDtxbmR4PChpc05hTihxdC5xdWFudGlmaWVyLm1heCk/cW5keCsxOnF0LnF1YW50aWZpZXIubWF4KSYmdGVzdFBvczw9cG9zO3FuZHgrKyl7dmFyIHRva2VuR3JvdXA9bWFza1Rva2VuLm1hdGNoZXNbbWFza1Rva2VuLm1hdGNoZXMuaW5kZXhPZihxdCktMV07aWYobWF0Y2g9aGFuZGxlTWF0Y2godG9rZW5Hcm91cCxbcW5keF0uY29uY2F0KGxvb3BOZHgpLHRva2VuR3JvdXApLG1hdGNoKXtpZihsYXRlc3RNYXRjaD1tYXRjaGVzW21hdGNoZXMubGVuZ3RoLTFdLm1hdGNoLGxhdGVzdE1hdGNoLm9wdGlvbmFsUXVhbnRpZmllcj1xbmR4Pj1xdC5xdWFudGlmaWVyLm1pbixsYXRlc3RNYXRjaC5qaXQ9KHFuZHh8fDEpKnRva2VuR3JvdXAubWF0Y2hlcy5pbmRleE9mKGxhdGVzdE1hdGNoKT49cXQucXVhbnRpZmllci5qaXQsbGF0ZXN0TWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyJiZpc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsdG9rZW5Hcm91cCkpe2luc2VydFN0b3A9ITAsdGVzdFBvcz1wb3M7YnJlYWt9cmV0dXJuIGxhdGVzdE1hdGNoLmppdCYmKG1hc2tzZXQuaml0T2Zmc2V0W3Bvc109dG9rZW5Hcm91cC5tYXRjaGVzLmxlbmd0aC10b2tlbkdyb3VwLm1hdGNoZXMuaW5kZXhPZihsYXRlc3RNYXRjaCkpLCEwfX1lbHNlIGlmKG1hdGNoPXJlc29sdmVUZXN0RnJvbVRva2VuKG1hdGNoLG5keEluaXRpYWxpemVyLGxvb3BOZHgscXVhbnRpZmllclJlY3Vyc2UpLG1hdGNoKXJldHVybiEwfWVsc2UgdGVzdFBvcysrfWZvcih2YXIgdG5keD0wPG5keEluaXRpYWxpemVyLmxlbmd0aD9uZHhJbml0aWFsaXplci5zaGlmdCgpOjA7dG5keDxtYXNrVG9rZW4ubWF0Y2hlcy5sZW5ndGg7dG5keCsrKWlmKCEwIT09bWFza1Rva2VuLm1hdGNoZXNbdG5keF0uaXNRdWFudGlmaWVyKXt2YXIgbWF0Y2g9aGFuZGxlTWF0Y2gobWFza1Rva2VuLm1hdGNoZXNbdG5keF0sW3RuZHhdLmNvbmNhdChsb29wTmR4KSxxdWFudGlmaWVyUmVjdXJzZSk7aWYobWF0Y2gmJnRlc3RQb3M9PT1wb3MpcmV0dXJuIG1hdGNoO2lmKHBvczx0ZXN0UG9zKWJyZWFrfX1mdW5jdGlvbiBtZXJnZUxvY2F0b3JzKHBvcyx0ZXN0cyl7dmFyIGxvY2F0b3I9W10sYWx0ZXJuYXRpb247cmV0dXJuIEFycmF5LmlzQXJyYXkodGVzdHMpfHwodGVzdHM9W3Rlc3RzXSksMDx0ZXN0cy5sZW5ndGgmJih2b2lkIDA9PT10ZXN0c1swXS5hbHRlcm5hdGlvbnx8ITA9PT1vcHRzLmtlZXBTdGF0aWM/KGxvY2F0b3I9ZGV0ZXJtaW5lVGVzdFRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrLHBvcyx0ZXN0cy5zbGljZSgpKS5sb2NhdG9yLnNsaWNlKCksMD09PWxvY2F0b3IubGVuZ3RoJiYobG9jYXRvcj10ZXN0c1swXS5sb2NhdG9yLnNsaWNlKCkpKTp0ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uKHRzdCl7XCJcIiE9PXRzdC5kZWYmJigwPT09bG9jYXRvci5sZW5ndGg/KGFsdGVybmF0aW9uPXRzdC5hbHRlcm5hdGlvbixsb2NhdG9yPXRzdC5sb2NhdG9yLnNsaWNlKCkpOnRzdC5sb2NhdG9yW2FsdGVybmF0aW9uXSYmLTE9PT1sb2NhdG9yW2FsdGVybmF0aW9uXS50b1N0cmluZygpLmluZGV4T2YodHN0LmxvY2F0b3JbYWx0ZXJuYXRpb25dKSYmKGxvY2F0b3JbYWx0ZXJuYXRpb25dKz1cIixcIit0c3QubG9jYXRvclthbHRlcm5hdGlvbl0pKX0pKSxsb2NhdG9yfWlmKC0xPHBvcyYmKHZvaWQgMD09PWlucHV0bWFzay5tYXhMZW5ndGh8fHBvczxpbnB1dG1hc2subWF4TGVuZ3RoKSl7aWYodm9pZCAwPT09bmR4SW50bHpyKXtmb3IodmFyIHByZXZpb3VzUG9zPXBvcy0xLHRlc3Q7dm9pZCAwPT09KHRlc3Q9bWFza3NldC52YWxpZFBvc2l0aW9uc1twcmV2aW91c1Bvc118fG1hc2tzZXQudGVzdHNbcHJldmlvdXNQb3NdKSYmLTE8cHJldmlvdXNQb3M7KXByZXZpb3VzUG9zLS07dm9pZCAwIT09dGVzdCYmLTE8cHJldmlvdXNQb3MmJihuZHhJbml0aWFsaXplcj1tZXJnZUxvY2F0b3JzKHByZXZpb3VzUG9zLHRlc3QpLGNhY2hlRGVwZW5kZW5jeT1uZHhJbml0aWFsaXplci5qb2luKFwiXCIpLHRlc3RQb3M9cHJldmlvdXNQb3MpfWlmKG1hc2tzZXQudGVzdHNbcG9zXSYmbWFza3NldC50ZXN0c1twb3NdWzBdLmNkPT09Y2FjaGVEZXBlbmRlbmN5KXJldHVybiBtYXNrc2V0LnRlc3RzW3Bvc107Zm9yKHZhciBtdG5keD1uZHhJbml0aWFsaXplci5zaGlmdCgpO210bmR4PG1hc2tUb2tlbnMubGVuZ3RoO210bmR4Kyspe3ZhciBtYXRjaD1yZXNvbHZlVGVzdEZyb21Ub2tlbihtYXNrVG9rZW5zW210bmR4XSxuZHhJbml0aWFsaXplcixbbXRuZHhdKTtpZihtYXRjaCYmdGVzdFBvcz09PXBvc3x8cG9zPHRlc3RQb3MpYnJlYWt9fXJldHVybiAwIT09bWF0Y2hlcy5sZW5ndGgmJiFpbnNlcnRTdG9wfHxtYXRjaGVzLnB1c2goe21hdGNoOntmbjpudWxsLHN0YXRpYzohMCxvcHRpb25hbGl0eTohMSxjYXNpbmc6bnVsbCxkZWY6XCJcIixwbGFjZWhvbGRlcjpcIlwifSxsb2NhdG9yOltdLG1sb2M6e30sY2Q6Y2FjaGVEZXBlbmRlbmN5fSksdm9pZCAwIT09bmR4SW50bHpyJiZtYXNrc2V0LnRlc3RzW3Bvc10/JC5leHRlbmQoITAsW10sbWF0Y2hlcyk6KG1hc2tzZXQudGVzdHNbcG9zXT0kLmV4dGVuZCghMCxbXSxtYXRjaGVzKSxtYXNrc2V0LnRlc3RzW3Bvc10pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGV0ZXJtaW5lVGVzdFRlbXBsYXRlPWRldGVybWluZVRlc3RUZW1wbGF0ZSxleHBvcnRzLmdldERlY2lzaW9uVGFrZXI9Z2V0RGVjaXNpb25UYWtlcixleHBvcnRzLmdldE1hc2tUZW1wbGF0ZT1nZXRNYXNrVGVtcGxhdGUsZXhwb3J0cy5nZXRQbGFjZWhvbGRlcj1nZXRQbGFjZWhvbGRlcixleHBvcnRzLmdldFRlc3Q9Z2V0VGVzdCxleHBvcnRzLmdldFRlc3RzPWdldFRlc3RzLGV4cG9ydHMuZ2V0VGVzdFRlbXBsYXRlPWdldFRlc3RUZW1wbGF0ZSxleHBvcnRzLmlzU3Vic2V0T2Y9aXNTdWJzZXRPZn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5hbHRlcm5hdGU9YWx0ZXJuYXRlLGV4cG9ydHMuY2hlY2tBbHRlcm5hdGlvbk1hdGNoPWNoZWNrQWx0ZXJuYXRpb25NYXRjaCxleHBvcnRzLmlzQ29tcGxldGU9aXNDb21wbGV0ZSxleHBvcnRzLmlzVmFsaWQ9aXNWYWxpZCxleHBvcnRzLnJlZnJlc2hGcm9tQnVmZmVyPXJlZnJlc2hGcm9tQnVmZmVyLGV4cG9ydHMucmV2YWxpZGF0ZU1hc2s9cmV2YWxpZGF0ZU1hc2ssZXhwb3J0cy5oYW5kbGVSZW1vdmU9aGFuZGxlUmVtb3ZlO3ZhciBfdmFsaWRhdGlvblRlc3RzPV9fd2VicGFja19yZXF1aXJlX18oMyksX2tleWNvZGU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfZXZlbnRoYW5kbGVycz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBhbHRlcm5hdGUobWFza1BvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCxyQWx0UG9zLHNlbGVjdGlvbil7dmFyIGlucHV0bWFzaz10aGlzLCQ9dGhpcy5kZXBlbmRlbmN5TGliLG9wdHM9dGhpcy5vcHRzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LHZhbGlkUHNDbG9uZT0kLmV4dGVuZCghMCx7fSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zKSx0c3RDbG9uZT0kLmV4dGVuZCghMCx7fSxtYXNrc2V0LnRlc3RzKSxsYXN0QWx0LGFsdGVybmF0aW9uLGlzVmFsaWRSc2x0PSExLHJldHVyblJzbHQ9ITEsYWx0UG9zLHByZXZBbHRQb3MsaSx2YWxpZFBvcyxkZWNpc2lvblBvcyxsQWx0UG9zPXZvaWQgMCE9PXJBbHRQb3M/ckFsdFBvczpfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzKSxuZXh0UG9zLGlucHV0LGJlZ2luLGVuZDtpZihzZWxlY3Rpb24mJihiZWdpbj1zZWxlY3Rpb24uYmVnaW4sZW5kPXNlbGVjdGlvbi5lbmQsc2VsZWN0aW9uLmJlZ2luPnNlbGVjdGlvbi5lbmQmJihiZWdpbj1zZWxlY3Rpb24uZW5kLGVuZD1zZWxlY3Rpb24uYmVnaW4pKSwtMT09PWxBbHRQb3MmJnZvaWQgMD09PXJBbHRQb3MpbGFzdEFsdD0wLHByZXZBbHRQb3M9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxsYXN0QWx0KSxhbHRlcm5hdGlvbj1wcmV2QWx0UG9zLmFsdGVybmF0aW9uO2Vsc2UgZm9yKDswPD1sQWx0UG9zO2xBbHRQb3MtLSlpZihhbHRQb3M9bWFza3NldC52YWxpZFBvc2l0aW9uc1tsQWx0UG9zXSxhbHRQb3MmJnZvaWQgMCE9PWFsdFBvcy5hbHRlcm5hdGlvbil7aWYocHJldkFsdFBvcyYmcHJldkFsdFBvcy5sb2NhdG9yW2FsdFBvcy5hbHRlcm5hdGlvbl0hPT1hbHRQb3MubG9jYXRvclthbHRQb3MuYWx0ZXJuYXRpb25dKWJyZWFrO2xhc3RBbHQ9bEFsdFBvcyxhbHRlcm5hdGlvbj1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2xhc3RBbHRdLmFsdGVybmF0aW9uLHByZXZBbHRQb3M9YWx0UG9zfWlmKHZvaWQgMCE9PWFsdGVybmF0aW9uKXtkZWNpc2lvblBvcz1wYXJzZUludChsYXN0QWx0KSxtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXT1tYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXXx8W10sITAhPT1tYXNrUG9zJiZtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXS5wdXNoKCgwLF92YWxpZGF0aW9uVGVzdHMuZ2V0RGVjaXNpb25UYWtlcikocHJldkFsdFBvcykrXCI6XCIrcHJldkFsdFBvcy5hbHRlcm5hdGlvbik7dmFyIHZhbGlkSW5wdXRzPVtdLHJlc3VsdFBvcz0tMTtmb3IoaT1kZWNpc2lvblBvcztpPF9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMsdm9pZCAwLCEwKSsxO2krKyktMT09PXJlc3VsdFBvcyYmbWFza1Bvczw9aSYmdm9pZCAwIT09YyYmKHZhbGlkSW5wdXRzLnB1c2goYykscmVzdWx0UG9zPXZhbGlkSW5wdXRzLmxlbmd0aC0xKSx2YWxpZFBvcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2ldLHZhbGlkUG9zJiYhMCE9PXZhbGlkUG9zLmdlbmVyYXRlZElucHV0JiYodm9pZCAwPT09c2VsZWN0aW9ufHxpPGJlZ2lufHxlbmQ8PWkpJiZ2YWxpZElucHV0cy5wdXNoKHZhbGlkUG9zLmlucHV0KSxkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1tpXTtmb3IoLTE9PT1yZXN1bHRQb3MmJnZvaWQgMCE9PWMmJih2YWxpZElucHV0cy5wdXNoKGMpLHJlc3VsdFBvcz12YWxpZElucHV0cy5sZW5ndGgtMSk7dm9pZCAwIT09bWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10mJm1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdLmxlbmd0aDwxMDspe2ZvcihtYXNrc2V0LnRlc3RzPXt9LF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbCh0aGlzLCEwKSxpc1ZhbGlkUnNsdD0hMCxpPTA7aTx2YWxpZElucHV0cy5sZW5ndGgmJihuZXh0UG9zPWlzVmFsaWRSc2x0LmNhcmV0fHxfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0aGlzLHZvaWQgMCwhMCkrMSxpbnB1dD12YWxpZElucHV0c1tpXSxpc1ZhbGlkUnNsdD1pc1ZhbGlkLmNhbGwodGhpcyxuZXh0UG9zLGlucHV0LCExLGZyb21Jc1ZhbGlkLCEwKSk7aSsrKWk9PT1yZXN1bHRQb3MmJihyZXR1cm5Sc2x0PWlzVmFsaWRSc2x0KSwxPT1tYXNrUG9zJiZpc1ZhbGlkUnNsdCYmKHJldHVyblJzbHQ9e2NhcmV0UG9zOml9KTtpZihpc1ZhbGlkUnNsdClicmVhaztpZihfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwodGhpcykscHJldkFsdFBvcz1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLGRlY2lzaW9uUG9zKSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zPSQuZXh0ZW5kKCEwLHt9LHZhbGlkUHNDbG9uZSksbWFza3NldC50ZXN0cz0kLmV4dGVuZCghMCx7fSx0c3RDbG9uZSksIW1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdKXtyZXR1cm5Sc2x0PWFsdGVybmF0ZS5jYWxsKHRoaXMsbWFza1BvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCxkZWNpc2lvblBvcy0xLHNlbGVjdGlvbik7YnJlYWt9dmFyIGRlY2lzaW9uVGFrZXI9KDAsX3ZhbGlkYXRpb25UZXN0cy5nZXREZWNpc2lvblRha2VyKShwcmV2QWx0UG9zKTtpZigtMSE9PW1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdLmluZGV4T2YoZGVjaXNpb25UYWtlcitcIjpcIitwcmV2QWx0UG9zLmFsdGVybmF0aW9uKSl7cmV0dXJuUnNsdD1hbHRlcm5hdGUuY2FsbCh0aGlzLG1hc2tQb3MsYyxzdHJpY3QsZnJvbUlzVmFsaWQsZGVjaXNpb25Qb3MtMSxzZWxlY3Rpb24pO2JyZWFrfWZvcihtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXS5wdXNoKGRlY2lzaW9uVGFrZXIrXCI6XCIrcHJldkFsdFBvcy5hbHRlcm5hdGlvbiksaT1kZWNpc2lvblBvcztpPF9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMsdm9pZCAwLCEwKSsxO2krKylkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1tpXX19cmV0dXJuIHJldHVyblJzbHQmJiExPT09b3B0cy5rZWVwU3RhdGljfHxkZWxldGUgbWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10scmV0dXJuUnNsdH1mdW5jdGlvbiBjYXNpbmcoZWxlbSx0ZXN0LHBvcyl7dmFyIG9wdHM9dGhpcy5vcHRzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0O3N3aXRjaChvcHRzLmNhc2luZ3x8dGVzdC5jYXNpbmcpe2Nhc2VcInVwcGVyXCI6ZWxlbT1lbGVtLnRvVXBwZXJDYXNlKCk7YnJlYWs7Y2FzZVwibG93ZXJcIjplbGVtPWVsZW0udG9Mb3dlckNhc2UoKTticmVhaztjYXNlXCJ0aXRsZVwiOnZhciBwb3NCZWZvcmU9bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MtMV07ZWxlbT0wPT09cG9zfHxwb3NCZWZvcmUmJnBvc0JlZm9yZS5pbnB1dD09PVN0cmluZy5mcm9tQ2hhckNvZGUoX2tleWNvZGUuZGVmYXVsdC5TUEFDRSk/ZWxlbS50b1VwcGVyQ2FzZSgpOmVsZW0udG9Mb3dlckNhc2UoKTticmVhaztkZWZhdWx0OmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMuY2FzaW5nKXt2YXIgYXJncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2FyZ3MucHVzaChtYXNrc2V0LnZhbGlkUG9zaXRpb25zKSxlbGVtPW9wdHMuY2FzaW5nLmFwcGx5KHRoaXMsYXJncyl9fXJldHVybiBlbGVtfWZ1bmN0aW9uIGNoZWNrQWx0ZXJuYXRpb25NYXRjaChhbHRBcnIxLGFsdEFycjIsbmEpe2Zvcih2YXIgb3B0cz10aGlzLm9wdHMsYWx0QXJyQz1vcHRzLmdyZWVkeT9hbHRBcnIyOmFsdEFycjIuc2xpY2UoMCwxKSxpc01hdGNoPSExLG5hQXJyPXZvaWQgMCE9PW5hP25hLnNwbGl0KFwiLFwiKTpbXSxuYU5keCxpPTA7aTxuYUFyci5sZW5ndGg7aSsrKS0xIT09KG5hTmR4PWFsdEFycjEuaW5kZXhPZihuYUFycltpXSkpJiZhbHRBcnIxLnNwbGljZShuYU5keCwxKTtmb3IodmFyIGFsbmR4PTA7YWxuZHg8YWx0QXJyMS5sZW5ndGg7YWxuZHgrKylpZihhbHRBcnJDLmluY2x1ZGVzKGFsdEFycjFbYWxuZHhdKSl7aXNNYXRjaD0hMDticmVha31yZXR1cm4gaXNNYXRjaH1mdW5jdGlvbiBoYW5kbGVSZW1vdmUoaW5wdXQsayxwb3Msc3RyaWN0LGZyb21Jc1ZhbGlkKXt2YXIgaW5wdXRtYXNrPXRoaXMsbWFza3NldD10aGlzLm1hc2tzZXQsb3B0cz10aGlzLm9wdHM7aWYoKG9wdHMubnVtZXJpY0lucHV0fHx0aGlzLmlzUlRMKSYmKGs9PT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRT9rPV9rZXljb2RlLmRlZmF1bHQuREVMRVRFOms9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURSYmKGs9X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0UpLHRoaXMuaXNSVEwpKXt2YXIgcGVuZD1wb3MuZW5kO3Bvcy5lbmQ9cG9zLmJlZ2luLHBvcy5iZWdpbj1wZW5kfXZhciBsdnA9X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyx2b2lkIDAsITApLG9mZnNldDtpZihwb3MuZW5kPj1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwodGhpcykubGVuZ3RoJiZsdnA+PXBvcy5lbmQmJihwb3MuZW5kPWx2cCsxKSxrPT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0U/cG9zLmVuZC1wb3MuYmVnaW48MSYmKHBvcy5iZWdpbj1fcG9zaXRpb25pbmcuc2Vla1ByZXZpb3VzLmNhbGwodGhpcyxwb3MuYmVnaW4pKTprPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEUmJnBvcy5iZWdpbj09PXBvcy5lbmQmJihwb3MuZW5kPV9wb3NpdGlvbmluZy5pc01hc2suY2FsbCh0aGlzLHBvcy5lbmQsITAsITApP3Bvcy5lbmQrMTpfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbCh0aGlzLHBvcy5lbmQpKzEpLCExIT09KG9mZnNldD1yZXZhbGlkYXRlTWFzay5jYWxsKHRoaXMscG9zKSkpe2lmKCEwIT09c3RyaWN0JiYhMSE9PW9wdHMua2VlcFN0YXRpY3x8bnVsbCE9PW9wdHMucmVnZXgmJi0xIT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwodGhpcyxwb3MuYmVnaW4pLm1hdGNoLmRlZi5pbmRleE9mKFwifFwiKSl7dmFyIHJlc3VsdD1hbHRlcm5hdGUuY2FsbCh0aGlzLCEwKTtpZihyZXN1bHQpe3ZhciBuZXdQb3M9dm9pZCAwIT09cmVzdWx0LmNhcmV0P3Jlc3VsdC5jYXJldDpyZXN1bHQucG9zP19wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKHRoaXMscmVzdWx0LnBvcy5iZWdpbj9yZXN1bHQucG9zLmJlZ2luOnJlc3VsdC5wb3MpOl9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMsLTEsITApOyhrIT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEV8fHBvcy5iZWdpbj5uZXdQb3MpJiZwb3MuYmVnaW59fSEwIT09c3RyaWN0JiYobWFza3NldC5wPWs9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURT9wb3MuYmVnaW4rb2Zmc2V0OnBvcy5iZWdpbil9fWZ1bmN0aW9uIGlzQ29tcGxldGUoYnVmZmVyKXt2YXIgaW5wdXRtYXNrPXRoaXMsb3B0cz10aGlzLm9wdHMsbWFza3NldD10aGlzLm1hc2tzZXQ7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5pc0NvbXBsZXRlKXJldHVybiBvcHRzLmlzQ29tcGxldGUoYnVmZmVyLG9wdHMpO2lmKFwiKlwiIT09b3B0cy5yZXBlYXQpe3ZhciBjb21wbGV0ZT0hMSxscnA9X3Bvc2l0aW9uaW5nLmRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uLmNhbGwodGhpcywhMCksYW1sPV9wb3NpdGlvbmluZy5zZWVrUHJldmlvdXMuY2FsbCh0aGlzLGxycC5sKTtpZih2b2lkIDA9PT1scnAuZGVmfHxscnAuZGVmLm5ld0Jsb2NrTWFya2VyfHxscnAuZGVmLm9wdGlvbmFsaXR5fHxscnAuZGVmLm9wdGlvbmFsUXVhbnRpZmllcil7Y29tcGxldGU9ITA7Zm9yKHZhciBpPTA7aTw9YW1sO2krKyl7dmFyIHRlc3Q9X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0VGVtcGxhdGUuY2FsbCh0aGlzLGkpLm1hdGNoO2lmKCEwIT09dGVzdC5zdGF0aWMmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV0mJiEwIT09dGVzdC5vcHRpb25hbGl0eSYmITAhPT10ZXN0Lm9wdGlvbmFsUXVhbnRpZmllcnx8ITA9PT10ZXN0LnN0YXRpYyYmYnVmZmVyW2ldIT09X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKHRoaXMsaSx0ZXN0KSl7Y29tcGxldGU9ITE7YnJlYWt9fX1yZXR1cm4gY29tcGxldGV9fWZ1bmN0aW9uIGlzVmFsaWQocG9zLGMsc3RyaWN0LGZyb21Jc1ZhbGlkLGZyb21BbHRlcm5hdGUsdmFsaWRhdGVPbmx5LGZyb21DaGVja3ZhbCl7dmFyIGlucHV0bWFzaz10aGlzLCQ9dGhpcy5kZXBlbmRlbmN5TGliLG9wdHM9dGhpcy5vcHRzLG1hc2tzZXQ9aW5wdXRtYXNrLm1hc2tzZXQ7ZnVuY3Rpb24gaXNTZWxlY3Rpb24ocG9zT2JqKXtyZXR1cm4gaW5wdXRtYXNrLmlzUlRMPzE8cG9zT2JqLmJlZ2luLXBvc09iai5lbmR8fHBvc09iai5iZWdpbi1wb3NPYmouZW5kPT0xOjE8cG9zT2JqLmVuZC1wb3NPYmouYmVnaW58fHBvc09iai5lbmQtcG9zT2JqLmJlZ2luPT0xfXN0cmljdD0hMD09PXN0cmljdDt2YXIgbWFza1Bvcz1wb3M7ZnVuY3Rpb24gcHJvY2Vzc0NvbW1hbmRPYmplY3QoY29tbWFuZE9iail7aWYodm9pZCAwIT09Y29tbWFuZE9iail7aWYodm9pZCAwIT09Y29tbWFuZE9iai5yZW1vdmUmJihBcnJheS5pc0FycmF5KGNvbW1hbmRPYmoucmVtb3ZlKXx8KGNvbW1hbmRPYmoucmVtb3ZlPVtjb21tYW5kT2JqLnJlbW92ZV0pLGNvbW1hbmRPYmoucmVtb3ZlLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5wb3MtYS5wb3N9KS5mb3JFYWNoKGZ1bmN0aW9uKGxtbnQpe3JldmFsaWRhdGVNYXNrLmNhbGwoaW5wdXRtYXNrLHtiZWdpbjpsbW50LGVuZDpsbW50KzF9KX0pLGNvbW1hbmRPYmoucmVtb3ZlPXZvaWQgMCksdm9pZCAwIT09Y29tbWFuZE9iai5pbnNlcnQmJihBcnJheS5pc0FycmF5KGNvbW1hbmRPYmouaW5zZXJ0KXx8KGNvbW1hbmRPYmouaW5zZXJ0PVtjb21tYW5kT2JqLmluc2VydF0pLGNvbW1hbmRPYmouaW5zZXJ0LnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5wb3MtYi5wb3N9KS5mb3JFYWNoKGZ1bmN0aW9uKGxtbnQpe1wiXCIhPT1sbW50LmMmJmlzVmFsaWQuY2FsbChpbnB1dG1hc2ssbG1udC5wb3MsbG1udC5jLHZvaWQgMD09PWxtbnQuc3RyaWN0fHxsbW50LnN0cmljdCx2b2lkIDAhPT1sbW50LmZyb21Jc1ZhbGlkP2xtbnQuZnJvbUlzVmFsaWQ6ZnJvbUlzVmFsaWQpfSksY29tbWFuZE9iai5pbnNlcnQ9dm9pZCAwKSxjb21tYW5kT2JqLnJlZnJlc2hGcm9tQnVmZmVyJiZjb21tYW5kT2JqLmJ1ZmZlcil7dmFyIHJlZnJlc2g9Y29tbWFuZE9iai5yZWZyZXNoRnJvbUJ1ZmZlcjtyZWZyZXNoRnJvbUJ1ZmZlci5jYWxsKGlucHV0bWFzaywhMD09PXJlZnJlc2g/cmVmcmVzaDpyZWZyZXNoLnN0YXJ0LHJlZnJlc2guZW5kLGNvbW1hbmRPYmouYnVmZmVyKSxjb21tYW5kT2JqLnJlZnJlc2hGcm9tQnVmZmVyPXZvaWQgMH12b2lkIDAhPT1jb21tYW5kT2JqLnJld3JpdGVQb3NpdGlvbiYmKG1hc2tQb3M9Y29tbWFuZE9iai5yZXdyaXRlUG9zaXRpb24sY29tbWFuZE9iaj0hMCl9cmV0dXJuIGNvbW1hbmRPYmp9ZnVuY3Rpb24gX2lzVmFsaWQocG9zaXRpb24sYyxzdHJpY3Qpe3ZhciByc2x0PSExO3JldHVybiBfdmFsaWRhdGlvblRlc3RzLmdldFRlc3RzLmNhbGwoaW5wdXRtYXNrLHBvc2l0aW9uKS5ldmVyeShmdW5jdGlvbih0c3QsbmR4KXt2YXIgdGVzdD10c3QubWF0Y2g7aWYoX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaywhMCkscnNsdD1udWxsIT10ZXN0LmZuP3Rlc3QuZm4udGVzdChjLG1hc2tzZXQscG9zaXRpb24sc3RyaWN0LG9wdHMsaXNTZWxlY3Rpb24ocG9zKSk6KGM9PT10ZXN0LmRlZnx8Yz09PW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcikmJlwiXCIhPT10ZXN0LmRlZiYme2M6X3ZhbGlkYXRpb25UZXN0cy5nZXRQbGFjZWhvbGRlci5jYWxsKGlucHV0bWFzayxwb3NpdGlvbix0ZXN0LCEwKXx8dGVzdC5kZWYscG9zOnBvc2l0aW9ufSwhMT09PXJzbHQpcmV0dXJuITA7dmFyIGVsZW09dm9pZCAwIT09cnNsdC5jP3JzbHQuYzpjLHZhbGlkYXRlZFBvcz1wb3NpdGlvbjtyZXR1cm4gZWxlbT1lbGVtPT09b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyJiYhMD09PXRlc3Quc3RhdGljP192YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbChpbnB1dG1hc2sscG9zaXRpb24sdGVzdCwhMCl8fHRlc3QuZGVmOmVsZW0scnNsdD1wcm9jZXNzQ29tbWFuZE9iamVjdChyc2x0KSwhMCE9PXJzbHQmJnZvaWQgMCE9PXJzbHQucG9zJiZyc2x0LnBvcyE9PXBvc2l0aW9uJiYodmFsaWRhdGVkUG9zPXJzbHQucG9zKSwhMCE9PXJzbHQmJnZvaWQgMD09PXJzbHQucG9zJiZ2b2lkIDA9PT1yc2x0LmN8fCExPT09cmV2YWxpZGF0ZU1hc2suY2FsbChpbnB1dG1hc2sscG9zLCQuZXh0ZW5kKHt9LHRzdCx7aW5wdXQ6Y2FzaW5nLmNhbGwoaW5wdXRtYXNrLGVsZW0sdGVzdCx2YWxpZGF0ZWRQb3MpfSksZnJvbUlzVmFsaWQsdmFsaWRhdGVkUG9zKSYmKHJzbHQ9ITEpLCExfSkscnNsdH12b2lkIDAhPT1wb3MuYmVnaW4mJihtYXNrUG9zPWlucHV0bWFzay5pc1JUTD9wb3MuZW5kOnBvcy5iZWdpbik7dmFyIHJlc3VsdD0hMCxwb3NpdGlvbnNDbG9uZT0kLmV4dGVuZCghMCx7fSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zKTtpZighMT09PW9wdHMua2VlcFN0YXRpYyYmdm9pZCAwIT09bWFza3NldC5leGNsdWRlc1ttYXNrUG9zXSYmITAhPT1mcm9tQWx0ZXJuYXRlJiYhMCE9PWZyb21Jc1ZhbGlkKWZvcih2YXIgaT1tYXNrUG9zO2k8KGlucHV0bWFzay5pc1JUTD9wb3MuYmVnaW46cG9zLmVuZCk7aSsrKXZvaWQgMCE9PW1hc2tzZXQuZXhjbHVkZXNbaV0mJihtYXNrc2V0LmV4Y2x1ZGVzW2ldPXZvaWQgMCxkZWxldGUgbWFza3NldC50ZXN0c1tpXSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5wcmVWYWxpZGF0aW9uJiYhMCE9PWZyb21Jc1ZhbGlkJiYhMCE9PXZhbGlkYXRlT25seSYmKHJlc3VsdD1vcHRzLnByZVZhbGlkYXRpb24uY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzayksbWFza1BvcyxjLGlzU2VsZWN0aW9uKHBvcyksb3B0cyxtYXNrc2V0LHBvcyxzdHJpY3R8fGZyb21BbHRlcm5hdGUpLHJlc3VsdD1wcm9jZXNzQ29tbWFuZE9iamVjdChyZXN1bHQpKSwhMD09PXJlc3VsdCl7aWYodm9pZCAwPT09aW5wdXRtYXNrLm1heExlbmd0aHx8bWFza1BvczxfcG9zaXRpb25pbmcudHJhbnNsYXRlUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssaW5wdXRtYXNrLm1heExlbmd0aCkpe2lmKHJlc3VsdD1faXNWYWxpZChtYXNrUG9zLGMsc3RyaWN0KSwoIXN0cmljdHx8ITA9PT1mcm9tSXNWYWxpZCkmJiExPT09cmVzdWx0JiYhMCE9PXZhbGlkYXRlT25seSl7dmFyIGN1cnJlbnRQb3NWYWxpZD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW21hc2tQb3NdO2lmKCFjdXJyZW50UG9zVmFsaWR8fCEwIT09Y3VycmVudFBvc1ZhbGlkLm1hdGNoLnN0YXRpY3x8Y3VycmVudFBvc1ZhbGlkLm1hdGNoLmRlZiE9PWMmJmMhPT1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpe2lmKG9wdHMuaW5zZXJ0TW9kZXx8dm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssbWFza1BvcyldfHxwb3MuZW5kPm1hc2tQb3Mpe3ZhciBza2lwPSExO2lmKG1hc2tzZXQuaml0T2Zmc2V0W21hc2tQb3NdJiZ2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW19wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxtYXNrUG9zKV0mJihyZXN1bHQ9aXNWYWxpZC5jYWxsKGlucHV0bWFzayxtYXNrUG9zK21hc2tzZXQuaml0T2Zmc2V0W21hc2tQb3NdLGMsITApLCExIT09cmVzdWx0JiYoITAhPT1mcm9tQWx0ZXJuYXRlJiYocmVzdWx0LmNhcmV0PW1hc2tQb3MpLHNraXA9ITApKSxwb3MuZW5kPm1hc2tQb3MmJihtYXNrc2V0LnZhbGlkUG9zaXRpb25zW21hc2tQb3NdPXZvaWQgMCksIXNraXAmJiFfcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwoaW5wdXRtYXNrLG1hc2tQb3Msb3B0cy5rZWVwU3RhdGljJiYwPT09bWFza1BvcykpZm9yKHZhciBuUG9zPW1hc2tQb3MrMSxzblBvcz1fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssbWFza1BvcywhMSwwIT09bWFza1Bvcyk7blBvczw9c25Qb3M7blBvcysrKWlmKHJlc3VsdD1faXNWYWxpZChuUG9zLGMsc3RyaWN0KSwhMSE9PXJlc3VsdCl7cmVzdWx0PXRyYWNrYmFja1Bvc2l0aW9ucy5jYWxsKGlucHV0bWFzayxtYXNrUG9zLHZvaWQgMCE9PXJlc3VsdC5wb3M/cmVzdWx0LnBvczpuUG9zKXx8cmVzdWx0LG1hc2tQb3M9blBvczticmVha319fWVsc2UgcmVzdWx0PXtjYXJldDpfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssbWFza1Bvcyl9fX1lbHNlIHJlc3VsdD0hMTshMSE9PXJlc3VsdHx8IW9wdHMua2VlcFN0YXRpY3x8IWlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpJiYwIT09bWFza1Bvc3x8c3RyaWN0fHwhMD09PWZyb21BbHRlcm5hdGU/aXNTZWxlY3Rpb24ocG9zKSYmbWFza3NldC50ZXN0c1ttYXNrUG9zXSYmMTxtYXNrc2V0LnRlc3RzW21hc2tQb3NdLmxlbmd0aCYmb3B0cy5rZWVwU3RhdGljJiYhc3RyaWN0JiYhMCE9PWZyb21BbHRlcm5hdGUmJihyZXN1bHQ9YWx0ZXJuYXRlLmNhbGwoaW5wdXRtYXNrLCEwKSk6cmVzdWx0PWFsdGVybmF0ZS5jYWxsKGlucHV0bWFzayxtYXNrUG9zLGMsc3RyaWN0LGZyb21Jc1ZhbGlkLHZvaWQgMCxwb3MpLCEwPT09cmVzdWx0JiYocmVzdWx0PXtwb3M6bWFza1Bvc30pfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMucG9zdFZhbGlkYXRpb24mJiEwIT09ZnJvbUlzVmFsaWQmJiEwIT09dmFsaWRhdGVPbmx5KXt2YXIgcG9zdFJlc3VsdD1vcHRzLnBvc3RWYWxpZGF0aW9uLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2ssITApLHZvaWQgMCE9PXBvcy5iZWdpbj9pbnB1dG1hc2suaXNSVEw/cG9zLmVuZDpwb3MuYmVnaW46cG9zLGMscmVzdWx0LG9wdHMsbWFza3NldCxzdHJpY3QsZnJvbUNoZWNrdmFsKTt2b2lkIDAhPT1wb3N0UmVzdWx0JiYocmVzdWx0PSEwPT09cG9zdFJlc3VsdD9yZXN1bHQ6cG9zdFJlc3VsdCl9cmVzdWx0JiZ2b2lkIDA9PT1yZXN1bHQucG9zJiYocmVzdWx0LnBvcz1tYXNrUG9zKSwhMT09PXJlc3VsdHx8ITA9PT12YWxpZGF0ZU9ubHk/KF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbChpbnB1dG1hc2ssITApLG1hc2tzZXQudmFsaWRQb3NpdGlvbnM9JC5leHRlbmQoITAse30scG9zaXRpb25zQ2xvbmUpKTp0cmFja2JhY2tQb3NpdGlvbnMuY2FsbChpbnB1dG1hc2ssdm9pZCAwLG1hc2tQb3MsITApO3ZhciBlbmRSZXN1bHQ9cHJvY2Vzc0NvbW1hbmRPYmplY3QocmVzdWx0KTtyZXR1cm4gZW5kUmVzdWx0fWZ1bmN0aW9uIHBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uKHBvcyx0ZXN0RGVmaW5pdGlvbixvcHRzKXtmb3IodmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LHZhbGlkPSExLHRlc3RzPV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdHMuY2FsbCh0aGlzLHBvcyksdG5keD0wO3RuZHg8dGVzdHMubGVuZ3RoO3RuZHgrKyl7aWYodGVzdHNbdG5keF0ubWF0Y2gmJih0ZXN0c1t0bmR4XS5tYXRjaC5uYXRpdmVEZWY9PT10ZXN0RGVmaW5pdGlvbi5tYXRjaFtvcHRzLnNoaWZ0UG9zaXRpb25zP1wiZGVmXCI6XCJuYXRpdmVEZWZcIl0mJighb3B0cy5zaGlmdFBvc2l0aW9uc3x8IXRlc3REZWZpbml0aW9uLm1hdGNoLnN0YXRpYyl8fHRlc3RzW3RuZHhdLm1hdGNoLm5hdGl2ZURlZj09PXRlc3REZWZpbml0aW9uLm1hdGNoLm5hdGl2ZURlZnx8b3B0cy5yZWdleCYmIXRlc3RzW3RuZHhdLm1hdGNoLnN0YXRpYyYmdGVzdHNbdG5keF0ubWF0Y2guZm4udGVzdCh0ZXN0RGVmaW5pdGlvbi5pbnB1dCkpKXt2YWxpZD0hMDticmVha31pZih0ZXN0c1t0bmR4XS5tYXRjaCYmdGVzdHNbdG5keF0ubWF0Y2guZGVmPT09dGVzdERlZmluaXRpb24ubWF0Y2gubmF0aXZlRGVmKXt2YWxpZD12b2lkIDA7YnJlYWt9fXJldHVybiExPT09dmFsaWQmJnZvaWQgMCE9PW1hc2tzZXQuaml0T2Zmc2V0W3Bvc10mJih2YWxpZD1wb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbi5jYWxsKHRoaXMscG9zK21hc2tzZXQuaml0T2Zmc2V0W3Bvc10sdGVzdERlZmluaXRpb24sb3B0cykpLHZhbGlkfWZ1bmN0aW9uIHJlZnJlc2hGcm9tQnVmZmVyKHN0YXJ0LGVuZCxidWZmZXIpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCxvcHRzPXRoaXMub3B0cywkPXRoaXMuZGVwZW5kZW5jeUxpYixlbD10aGlzLmVsLGkscCxza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcixiZmZyPXRoaXMuaXNSVEw/YnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpOmJ1ZmZlcjtpZihvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9XCJcIiwhMD09PXN0YXJ0KV9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbCh0aGlzKSxtYXNrc2V0LnRlc3RzPXt9LHN0YXJ0PTAsZW5kPWJ1ZmZlci5sZW5ndGgscD1fcG9zaXRpb25pbmcuZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbi5jYWxsKHRoaXMse2JlZ2luOjAsZW5kOjB9LCExKS5iZWdpbjtlbHNle2ZvcihpPXN0YXJ0O2k8ZW5kO2krKylkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1tpXTtwPXN0YXJ0fXZhciBrZXlwcmVzcz1uZXcgJC5FdmVudChcImtleXByZXNzXCIpO2ZvcihpPXN0YXJ0O2k8ZW5kO2krKyl7a2V5cHJlc3Mud2hpY2g9YmZmcltpXS50b1N0cmluZygpLmNoYXJDb2RlQXQoMCksdGhpcy5pZ25vcmFibGU9ITE7dmFyIHZhbFJlc3VsdD1fZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChlbCxrZXlwcmVzcywhMCwhMSwhMSxwKTshMSE9PXZhbFJlc3VsdCYmKHA9dmFsUmVzdWx0LmZvcndhcmRQb3NpdGlvbil9b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPXNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXJ9ZnVuY3Rpb24gdHJhY2tiYWNrUG9zaXRpb25zKG9yaWdpbmFsUG9zLG5ld1BvcyxmaWxsT25seSl7dmFyIGlucHV0bWFzaz10aGlzLG1hc2tzZXQ9dGhpcy5tYXNrc2V0LCQ9dGhpcy5kZXBlbmRlbmN5TGliO2lmKHZvaWQgMD09PW9yaWdpbmFsUG9zKWZvcihvcmlnaW5hbFBvcz1uZXdQb3MtMTswPG9yaWdpbmFsUG9zJiYhbWFza3NldC52YWxpZFBvc2l0aW9uc1tvcmlnaW5hbFBvc107b3JpZ2luYWxQb3MtLSk7Zm9yKHZhciBwcz1vcmlnaW5hbFBvcztwczxuZXdQb3M7cHMrKylpZih2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3BzXSYmIV9wb3NpdGlvbmluZy5pc01hc2suY2FsbCh0aGlzLHBzLCExKSl7dmFyIHZwPTA9PXBzP192YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscHMpOm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcHMtMV07aWYodnApe3ZhciB0ZXN0cz1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3RzLmNhbGwodGhpcyxwcykuc2xpY2UoKTtcIlwiPT09dGVzdHNbdGVzdHMubGVuZ3RoLTFdLm1hdGNoLmRlZiYmdGVzdHMucG9wKCk7dmFyIGJlc3RNYXRjaD1fdmFsaWRhdGlvblRlc3RzLmRldGVybWluZVRlc3RUZW1wbGF0ZS5jYWxsKHRoaXMscHMsdGVzdHMpLG5wO2lmKGJlc3RNYXRjaCYmKCEwIT09YmVzdE1hdGNoLm1hdGNoLmppdHx8XCJtYXN0ZXJcIj09PWJlc3RNYXRjaC5tYXRjaC5uZXdCbG9ja01hcmtlciYmKG5wPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcHMrMV0pJiYhMD09PW5wLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllcikmJihiZXN0TWF0Y2g9JC5leHRlbmQoe30sYmVzdE1hdGNoLHtpbnB1dDpfdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwodGhpcyxwcyxiZXN0TWF0Y2gubWF0Y2gsITApfHxiZXN0TWF0Y2gubWF0Y2guZGVmfSksYmVzdE1hdGNoLmdlbmVyYXRlZElucHV0PSEwLHJldmFsaWRhdGVNYXNrLmNhbGwodGhpcyxwcyxiZXN0TWF0Y2gsITApLCEwIT09ZmlsbE9ubHkpKXt2YXIgY3ZwSW5wdXQ9bWFza3NldC52YWxpZFBvc2l0aW9uc1tuZXdQb3NdLmlucHV0O3JldHVybiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW25ld1Bvc109dm9pZCAwLGlzVmFsaWQuY2FsbCh0aGlzLG5ld1BvcyxjdnBJbnB1dCwhMCwhMCl9fX19ZnVuY3Rpb24gcmV2YWxpZGF0ZU1hc2socG9zLHZhbGlkVGVzdCxmcm9tSXNWYWxpZCx2YWxpZGF0ZWRQb3Mpe3ZhciBpbnB1dG1hc2s9dGhpcyxtYXNrc2V0PXRoaXMubWFza3NldCxvcHRzPXRoaXMub3B0cywkPXRoaXMuZGVwZW5kZW5jeUxpYjtmdW5jdGlvbiBJc0VuY2xvc2VkU3RhdGljKHBvcyx2YWxpZHMsc2VsZWN0aW9uKXt2YXIgcG9zTWF0Y2g9dmFsaWRzW3Bvc107aWYodm9pZCAwPT09cG9zTWF0Y2h8fCEwIT09cG9zTWF0Y2gubWF0Y2guc3RhdGljfHwhMD09PXBvc01hdGNoLm1hdGNoLm9wdGlvbmFsaXR5fHx2b2lkIDAhPT12YWxpZHNbMF0mJnZvaWQgMCE9PXZhbGlkc1swXS5hbHRlcm5hdGlvbilyZXR1cm4hMTt2YXIgcHJldk1hdGNoPXNlbGVjdGlvbi5iZWdpbjw9cG9zLTE/dmFsaWRzW3Bvcy0xXSYmITA9PT12YWxpZHNbcG9zLTFdLm1hdGNoLnN0YXRpYyYmdmFsaWRzW3Bvcy0xXTp2YWxpZHNbcG9zLTFdLG5leHRNYXRjaD1zZWxlY3Rpb24uZW5kPnBvcysxP3ZhbGlkc1twb3MrMV0mJiEwPT09dmFsaWRzW3BvcysxXS5tYXRjaC5zdGF0aWMmJnZhbGlkc1twb3MrMV06dmFsaWRzW3BvcysxXTtyZXR1cm4gcHJldk1hdGNoJiZuZXh0TWF0Y2h9dmFyIG9mZnNldD0wLGJlZ2luPXZvaWQgMCE9PXBvcy5iZWdpbj9wb3MuYmVnaW46cG9zLGVuZD12b2lkIDAhPT1wb3MuZW5kP3Bvcy5lbmQ6cG9zO2lmKHBvcy5iZWdpbj5wb3MuZW5kJiYoYmVnaW49cG9zLmVuZCxlbmQ9cG9zLmJlZ2luKSx2YWxpZGF0ZWRQb3M9dm9pZCAwIT09dmFsaWRhdGVkUG9zP3ZhbGlkYXRlZFBvczpiZWdpbixiZWdpbiE9PWVuZHx8b3B0cy5pbnNlcnRNb2RlJiZ2b2lkIDAhPT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ZhbGlkYXRlZFBvc10mJnZvaWQgMD09PWZyb21Jc1ZhbGlkfHx2b2lkIDA9PT12YWxpZFRlc3Qpe3ZhciBwb3NpdGlvbnNDbG9uZT0kLmV4dGVuZCghMCx7fSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zKSxsdnA9X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyx2b2lkIDAsITApLGk7Zm9yKG1hc2tzZXQucD1iZWdpbixpPWx2cDtiZWdpbjw9aTtpLS0pZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV0sdm9pZCAwPT09dmFsaWRUZXN0JiZkZWxldGUgbWFza3NldC50ZXN0c1tpKzFdO3ZhciB2YWxpZD0hMCxqPXZhbGlkYXRlZFBvcyxwb3NNYXRjaD1qLHQsY2FuTWF0Y2g7Zm9yKHZhbGlkVGVzdCYmKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdmFsaWRhdGVkUG9zXT0kLmV4dGVuZCghMCx7fSx2YWxpZFRlc3QpLHBvc01hdGNoKyssaisrKSxpPXZhbGlkVGVzdD9lbmQ6ZW5kLTE7aTw9bHZwO2krKyl7aWYodm9pZCAwIT09KHQ9cG9zaXRpb25zQ2xvbmVbaV0pJiYhMCE9PXQuZ2VuZXJhdGVkSW5wdXQmJihlbmQ8PWl8fGJlZ2luPD1pJiZJc0VuY2xvc2VkU3RhdGljKGkscG9zaXRpb25zQ2xvbmUse2JlZ2luOmJlZ2luLGVuZDplbmR9KSkpe2Zvcig7XCJcIiE9PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMscG9zTWF0Y2gpLm1hdGNoLmRlZjspe2lmKCExIT09KGNhbk1hdGNoPXBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uLmNhbGwodGhpcyxwb3NNYXRjaCx0LG9wdHMpKXx8XCIrXCI9PT10Lm1hdGNoLmRlZil7XCIrXCI9PT10Lm1hdGNoLmRlZiYmX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKHRoaXMsITApO3ZhciByZXN1bHQ9aXNWYWxpZC5jYWxsKHRoaXMscG9zTWF0Y2gsdC5pbnB1dCxcIitcIiE9PXQubWF0Y2guZGVmLFwiK1wiIT09dC5tYXRjaC5kZWYpO2lmKHZhbGlkPSExIT09cmVzdWx0LGo9KHJlc3VsdC5wb3N8fHBvc01hdGNoKSsxLCF2YWxpZCYmY2FuTWF0Y2gpYnJlYWt9ZWxzZSB2YWxpZD0hMTtpZih2YWxpZCl7dm9pZCAwPT09dmFsaWRUZXN0JiZ0Lm1hdGNoLnN0YXRpYyYmaT09PXBvcy5iZWdpbiYmb2Zmc2V0Kys7YnJlYWt9aWYoIXZhbGlkJiZwb3NNYXRjaD5tYXNrc2V0Lm1hc2tMZW5ndGgpYnJlYWs7cG9zTWF0Y2grK31cIlwiPT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbCh0aGlzLHBvc01hdGNoKS5tYXRjaC5kZWYmJih2YWxpZD0hMSkscG9zTWF0Y2g9an1pZighdmFsaWQpYnJlYWt9aWYoIXZhbGlkKXJldHVybiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zPSQuZXh0ZW5kKCEwLHt9LHBvc2l0aW9uc0Nsb25lKSxfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwodGhpcywhMCksITF9ZWxzZSB2YWxpZFRlc3QmJl92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKHRoaXMsdmFsaWRhdGVkUG9zKS5tYXRjaC5jZD09PXZhbGlkVGVzdC5tYXRjaC5jZCYmKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdmFsaWRhdGVkUG9zXT0kLmV4dGVuZCghMCx7fSx2YWxpZFRlc3QpKTtyZXR1cm4gX3Bvc2l0aW9uaW5nLnJlc2V0TWFza1NldC5jYWxsKHRoaXMsITApLG9mZnNldH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDA7dmFyIF9jYW5Vc2VET009X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIF9kZWZhdWx0PV9jYW5Vc2VET00uZGVmYXVsdD93aW5kb3c6e307ZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBjYW5Vc2VET009IShcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHwhd2luZG93LmRvY3VtZW50fHwhd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLF9kZWZhdWx0PWNhblVzZURPTTtleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuYXBwbHlJbnB1dFZhbHVlPWFwcGx5SW5wdXRWYWx1ZSxleHBvcnRzLmNsZWFyT3B0aW9uYWxUYWlsPWNsZWFyT3B0aW9uYWxUYWlsLGV4cG9ydHMuY2hlY2tWYWw9Y2hlY2tWYWwsZXhwb3J0cy5IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcj1IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcixleHBvcnRzLnVubWFza2VkdmFsdWU9dW5tYXNrZWR2YWx1ZSxleHBvcnRzLndyaXRlQnVmZmVyPXdyaXRlQnVmZmVyO3ZhciBfa2V5Y29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpLF92YWxpZGF0aW9uVGVzdHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxfcG9zaXRpb25pbmc9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfdmFsaWRhdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9lbnZpcm9ubWVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpLF9ldmVudGhhbmRsZXJzPV9fd2VicGFja19yZXF1aXJlX18oOCk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIGFwcGx5SW5wdXRWYWx1ZShpbnB1dCx2YWx1ZSl7dmFyIGlucHV0bWFzaz1pbnB1dD9pbnB1dC5pbnB1dG1hc2s6dGhpcyxvcHRzPWlucHV0bWFzay5vcHRzO2lucHV0LmlucHV0bWFzay5yZWZyZXNoVmFsdWU9ITEsXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5vbkJlZm9yZU1hc2smJih2YWx1ZT1vcHRzLm9uQmVmb3JlTWFzay5jYWxsKGlucHV0bWFzayx2YWx1ZSxvcHRzKXx8dmFsdWUpLHZhbHVlPXZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoXCJcIiksY2hlY2tWYWwoaW5wdXQsITAsITEsdmFsdWUpLGlucHV0bWFzay51bmRvVmFsdWU9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSwob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1c3x8b3B0cy5jbGVhckluY29tcGxldGUpJiZpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk9PT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikmJi0xPT09X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKSYmaW5wdXQuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKX1mdW5jdGlvbiBjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpe3ZhciBpbnB1dG1hc2s9dGhpcztidWZmZXIubGVuZ3RoPTA7Zm9yKHZhciB0ZW1wbGF0ZT1fdmFsaWRhdGlvblRlc3RzLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHRoaXMsITAsMCwhMCx2b2lkIDAsITApLGxtbnQ7dm9pZCAwIT09KGxtbnQ9dGVtcGxhdGUuc2hpZnQoKSk7KWJ1ZmZlci5wdXNoKGxtbnQpO3JldHVybiBidWZmZXJ9ZnVuY3Rpb24gY2hlY2tWYWwoaW5wdXQsd3JpdGVPdXQsc3RyaWN0LG5wdHZsLGluaXRpYXRpbmdFdmVudCl7dmFyIGlucHV0bWFzaz1pbnB1dD9pbnB1dC5pbnB1dG1hc2s6dGhpcyxtYXNrc2V0PWlucHV0bWFzay5tYXNrc2V0LG9wdHM9aW5wdXRtYXNrLm9wdHMsJD1pbnB1dG1hc2suZGVwZW5kZW5jeUxpYixpbnB1dFZhbHVlPW5wdHZsLnNsaWNlKCksY2hhckNvZGVzPVwiXCIsaW5pdGlhbE5keD0tMSxyZXN1bHQ9dm9pZCAwLHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyO2Z1bmN0aW9uIGlzVGVtcGxhdGVNYXRjaChuZHgsY2hhckNvZGVzKXtmb3IodmFyIHRhcmdldFRlbXBsYXRlPV92YWxpZGF0aW9uVGVzdHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwoaW5wdXRtYXNrLCEwLDApLnNsaWNlKG5keCxfcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssbmR4LCExLCExKSkuam9pbihcIlwiKS5yZXBsYWNlKC8nL2csXCJcIiksY2hhckNvZGVOZHg9dGFyZ2V0VGVtcGxhdGUuaW5kZXhPZihjaGFyQ29kZXMpOzA8Y2hhckNvZGVOZHgmJlwiIFwiPT09dGFyZ2V0VGVtcGxhdGVbY2hhckNvZGVOZHgtMV07KWNoYXJDb2RlTmR4LS07dmFyIG1hdGNoPTA9PT1jaGFyQ29kZU5keCYmIV9wb3NpdGlvbmluZy5pc01hc2suY2FsbChpbnB1dG1hc2ssbmR4KSYmKF92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxuZHgpLm1hdGNoLm5hdGl2ZURlZj09PWNoYXJDb2Rlcy5jaGFyQXQoMCl8fCEwPT09X3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLG5keCkubWF0Y2guc3RhdGljJiZfdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2ssbmR4KS5tYXRjaC5uYXRpdmVEZWY9PT1cIidcIitjaGFyQ29kZXMuY2hhckF0KDApfHxcIiBcIj09PV92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxuZHgpLm1hdGNoLm5hdGl2ZURlZiYmKF92YWxpZGF0aW9uVGVzdHMuZ2V0VGVzdC5jYWxsKGlucHV0bWFzayxuZHgrMSkubWF0Y2gubmF0aXZlRGVmPT09Y2hhckNvZGVzLmNoYXJBdCgwKXx8ITA9PT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2ssbmR4KzEpLm1hdGNoLnN0YXRpYyYmX3ZhbGlkYXRpb25UZXN0cy5nZXRUZXN0LmNhbGwoaW5wdXRtYXNrLG5keCsxKS5tYXRjaC5uYXRpdmVEZWY9PT1cIidcIitjaGFyQ29kZXMuY2hhckF0KDApKSk7aWYoIW1hdGNoJiYwPGNoYXJDb2RlTmR4JiYhX3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKGlucHV0bWFzayxuZHgsITEsITApKXt2YXIgbmV4dFBvcz1fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2ssbmR4KTtpbnB1dG1hc2suY2FyZXRQb3MuYmVnaW48bmV4dFBvcyYmKGlucHV0bWFzay5jYXJldFBvcz17YmVnaW46bmV4dFBvc30pfXJldHVybiBtYXRjaH1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9XCJcIixfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwoaW5wdXRtYXNrKSxtYXNrc2V0LnRlc3RzPXt9LGluaXRpYWxOZHg9b3B0cy5yYWRpeFBvaW50P19wb3NpdGlvbmluZy5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLHtiZWdpbjowLGVuZDowfSkuYmVnaW46MCxtYXNrc2V0LnA9aW5pdGlhbE5keCxpbnB1dG1hc2suY2FyZXRQb3M9e2JlZ2luOmluaXRpYWxOZHh9O3ZhciBzdGF0aWNNYXRjaGVzPVtdLHByZXZDYXJldFBvcz1pbnB1dG1hc2suY2FyZXRQb3M7aWYoaW5wdXRWYWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKGNoYXJDb2RlLG5keCl7aWYodm9pZCAwIT09Y2hhckNvZGUpe3ZhciBrZXlwcmVzcz1uZXcgJC5FdmVudChcIl9jaGVja3ZhbFwiKTtrZXlwcmVzcy53aGljaD1jaGFyQ29kZS50b1N0cmluZygpLmNoYXJDb2RlQXQoMCksY2hhckNvZGVzKz1jaGFyQ29kZTt2YXIgbHZwPV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzayx2b2lkIDAsITApO2lzVGVtcGxhdGVNYXRjaChpbml0aWFsTmR4LGNoYXJDb2Rlcyk/cmVzdWx0PV9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGlucHV0bWFzayxrZXlwcmVzcywhMCwhMSxzdHJpY3QsbHZwKzEpOihyZXN1bHQ9X2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXRtYXNrLGtleXByZXNzLCEwLCExLHN0cmljdCxpbnB1dG1hc2suY2FyZXRQb3MuYmVnaW4pLHJlc3VsdCYmKGluaXRpYWxOZHg9aW5wdXRtYXNrLmNhcmV0UG9zLmJlZ2luKzEsY2hhckNvZGVzPVwiXCIpKSxyZXN1bHQ/KHZvaWQgMCE9PXJlc3VsdC5wb3MmJm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10mJiEwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXS5tYXRjaC5zdGF0aWMmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10uYWx0ZXJuYXRpb24mJihzdGF0aWNNYXRjaGVzLnB1c2gocmVzdWx0LnBvcyksaW5wdXRtYXNrLmlzUlRMfHwocmVzdWx0LmZvcndhcmRQb3NpdGlvbj1yZXN1bHQucG9zKzEpKSx3cml0ZUJ1ZmZlci5jYWxsKGlucHV0bWFzayx2b2lkIDAsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykscmVzdWx0LmZvcndhcmRQb3NpdGlvbixrZXlwcmVzcywhMSksaW5wdXRtYXNrLmNhcmV0UG9zPXtiZWdpbjpyZXN1bHQuZm9yd2FyZFBvc2l0aW9uLGVuZDpyZXN1bHQuZm9yd2FyZFBvc2l0aW9ufSxwcmV2Q2FyZXRQb3M9aW5wdXRtYXNrLmNhcmV0UG9zKTp2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW25keF0mJmlucHV0VmFsdWVbbmR4XT09PV92YWxpZGF0aW9uVGVzdHMuZ2V0UGxhY2Vob2xkZXIuY2FsbChpbnB1dG1hc2ssbmR4KSYmX3Bvc2l0aW9uaW5nLmlzTWFzay5jYWxsKGlucHV0bWFzayxuZHgsITApP2lucHV0bWFzay5jYXJldFBvcy5iZWdpbisrOmlucHV0bWFzay5jYXJldFBvcz1wcmV2Q2FyZXRQb3N9fSksMDxzdGF0aWNNYXRjaGVzLmxlbmd0aCl7dmFyIHNuZHgsdmFsaWRQb3MsbmV4dFZhbGlkPV9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzaywtMSx2b2lkIDAsITEpO2lmKCFfdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKSYmc3RhdGljTWF0Y2hlcy5sZW5ndGg8PW5leHRWYWxpZHx8X3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkmJjA8c3RhdGljTWF0Y2hlcy5sZW5ndGgmJnN0YXRpY01hdGNoZXMubGVuZ3RoIT09bmV4dFZhbGlkJiYwPT09c3RhdGljTWF0Y2hlc1swXSlmb3IodmFyIG5leHRTbmR4PW5leHRWYWxpZDt2b2lkIDAhPT0oc25keD1zdGF0aWNNYXRjaGVzLnNoaWZ0KCkpOyl7dmFyIGtleXByZXNzPW5ldyAkLkV2ZW50KFwiX2NoZWNrdmFsXCIpO2lmKHZhbGlkUG9zPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbc25keF0sdmFsaWRQb3MuZ2VuZXJhdGVkSW5wdXQ9ITAsa2V5cHJlc3Mud2hpY2g9dmFsaWRQb3MuaW5wdXQuY2hhckNvZGVBdCgwKSxyZXN1bHQ9X2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXRtYXNrLGtleXByZXNzLCEwLCExLHN0cmljdCxuZXh0U25keCkscmVzdWx0JiZ2b2lkIDAhPT1yZXN1bHQucG9zJiZyZXN1bHQucG9zIT09c25keCYmbWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXSYmITA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Jlc3VsdC5wb3NdLm1hdGNoLnN0YXRpYylzdGF0aWNNYXRjaGVzLnB1c2gocmVzdWx0LnBvcyk7ZWxzZSBpZighcmVzdWx0KWJyZWFrO25leHRTbmR4Kyt9fXdyaXRlT3V0JiZ3cml0ZUJ1ZmZlci5jYWxsKGlucHV0bWFzayxpbnB1dCxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSxyZXN1bHQ/cmVzdWx0LmZvcndhcmRQb3NpdGlvbjppbnB1dG1hc2suY2FyZXRQb3MuYmVnaW4saW5pdGlhdGluZ0V2ZW50fHxuZXcgJC5FdmVudChcImNoZWNrdmFsXCIpLGluaXRpYXRpbmdFdmVudCYmXCJpbnB1dFwiPT09aW5pdGlhdGluZ0V2ZW50LnR5cGUmJmlucHV0bWFzay51bmRvVmFsdWUhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpKSxvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9c2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcn1mdW5jdGlvbiBIYW5kbGVOYXRpdmVQbGFjZWhvbGRlcihucHQsdmFsdWUpe3ZhciBpbnB1dG1hc2s9bnB0P25wdC5pbnB1dG1hc2s6dGhpcztpZihfZW52aXJvbm1lbnQuaWUpe2lmKG5wdC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkhPT12YWx1ZSYmKG5wdC5wbGFjZWhvbGRlciE9PXZhbHVlfHxcIlwiPT09bnB0LnBsYWNlaG9sZGVyKSl7dmFyIGJ1ZmZlcj1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpLG5wdFZhbHVlPW5wdC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7aWYobnB0VmFsdWUhPT12YWx1ZSl7dmFyIGx2cD1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spOy0xPT09bHZwJiZucHRWYWx1ZT09PV9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKT9idWZmZXI9W106LTEhPT1sdnAmJmNsZWFyT3B0aW9uYWxUYWlsLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlciksd3JpdGVCdWZmZXIobnB0LGJ1ZmZlcil9fX1lbHNlIG5wdC5wbGFjZWhvbGRlciE9PXZhbHVlJiYobnB0LnBsYWNlaG9sZGVyPXZhbHVlLFwiXCI9PT1ucHQucGxhY2Vob2xkZXImJm5wdC5yZW1vdmVBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKSl9ZnVuY3Rpb24gdW5tYXNrZWR2YWx1ZShpbnB1dCl7dmFyIGlucHV0bWFzaz1pbnB1dD9pbnB1dC5pbnB1dG1hc2s6dGhpcyxvcHRzPWlucHV0bWFzay5vcHRzLG1hc2tzZXQ9aW5wdXRtYXNrLm1hc2tzZXQ7aWYoaW5wdXQpe2lmKHZvaWQgMD09PWlucHV0LmlucHV0bWFzaylyZXR1cm4gaW5wdXQudmFsdWU7aW5wdXQuaW5wdXRtYXNrJiZpbnB1dC5pbnB1dG1hc2sucmVmcmVzaFZhbHVlJiZhcHBseUlucHV0VmFsdWUoaW5wdXQsaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCghMCkpfXZhciB1bVZhbHVlPVtdLHZwcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zO2Zvcih2YXIgcG5keCBpbiB2cHMpdnBzW3BuZHhdJiZ2cHNbcG5keF0ubWF0Y2gmJigxIT12cHNbcG5keF0ubWF0Y2guc3RhdGljfHxBcnJheS5pc0FycmF5KG1hc2tzZXQubWV0YWRhdGEpJiYhMCE9PXZwc1twbmR4XS5nZW5lcmF0ZWRJbnB1dCkmJnVtVmFsdWUucHVzaCh2cHNbcG5keF0uaW5wdXQpO3ZhciB1bm1hc2tlZFZhbHVlPTA9PT11bVZhbHVlLmxlbmd0aD9cIlwiOihpbnB1dG1hc2suaXNSVEw/dW1WYWx1ZS5yZXZlcnNlKCk6dW1WYWx1ZSkuam9pbihcIlwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRzLm9uVW5NYXNrKXt2YXIgYnVmZmVyVmFsdWU9KGlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpLnJldmVyc2UoKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSkuam9pbihcIlwiKTt1bm1hc2tlZFZhbHVlPW9wdHMub25Vbk1hc2suY2FsbChpbnB1dG1hc2ssYnVmZmVyVmFsdWUsdW5tYXNrZWRWYWx1ZSxvcHRzKX1yZXR1cm4gdW5tYXNrZWRWYWx1ZX1mdW5jdGlvbiB3cml0ZUJ1ZmZlcihpbnB1dCxidWZmZXIsY2FyZXRQb3MsZXZlbnQsdHJpZ2dlckV2ZW50cyl7dmFyIGlucHV0bWFzaz1pbnB1dD9pbnB1dC5pbnB1dG1hc2s6dGhpcyxvcHRzPWlucHV0bWFzay5vcHRzLCQ9aW5wdXRtYXNrLmRlcGVuZGVuY3lMaWI7aWYoZXZlbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMub25CZWZvcmVXcml0ZSl7dmFyIHJlc3VsdD1vcHRzLm9uQmVmb3JlV3JpdGUuY2FsbChpbnB1dG1hc2ssZXZlbnQsYnVmZmVyLGNhcmV0UG9zLG9wdHMpO2lmKHJlc3VsdCl7aWYocmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyKXt2YXIgcmVmcmVzaD1yZXN1bHQucmVmcmVzaEZyb21CdWZmZXI7X3ZhbGlkYXRpb24ucmVmcmVzaEZyb21CdWZmZXIuY2FsbChpbnB1dG1hc2ssITA9PT1yZWZyZXNoP3JlZnJlc2g6cmVmcmVzaC5zdGFydCxyZWZyZXNoLmVuZCxyZXN1bHQuYnVmZmVyfHxidWZmZXIpLGJ1ZmZlcj1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrLCEwKX12b2lkIDAhPT1jYXJldFBvcyYmKGNhcmV0UG9zPXZvaWQgMCE9PXJlc3VsdC5jYXJldD9yZXN1bHQuY2FyZXQ6Y2FyZXRQb3MpfX1pZih2b2lkIDAhPT1pbnB1dCYmKGlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoYnVmZmVyLmpvaW4oXCJcIikpLHZvaWQgMD09PWNhcmV0UG9zfHx2b2lkIDAhPT1ldmVudCYmXCJibHVyXCI9PT1ldmVudC50eXBlfHxfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsY2FyZXRQb3Msdm9pZCAwLHZvaWQgMCx2b2lkIDAhPT1ldmVudCYmXCJrZXlkb3duXCI9PT1ldmVudC50eXBlJiYoZXZlbnQua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFfHxldmVudC5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0UpKSwhMD09PXRyaWdnZXJFdmVudHMpKXt2YXIgJGlucHV0PSQoaW5wdXQpLG5wdFZhbD1pbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7aW5wdXQuaW5wdXRtYXNrLnNraXBJbnB1dEV2ZW50PSEwLCRpbnB1dC50cmlnZ2VyKFwiaW5wdXRcIiksc2V0VGltZW91dChmdW5jdGlvbigpe25wdFZhbD09PV9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKT8kaW5wdXQudHJpZ2dlcihcImNsZWFyZWRcIik6ITA9PT1fdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlcikmJiRpbnB1dC50cmlnZ2VyKFwiY29tcGxldGVcIil9LDApfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuRXZlbnRIYW5kbGVycz12b2lkIDA7dmFyIF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9rZXljb2RlPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygwKSksX2Vudmlyb25tZW50PV9fd2VicGFja19yZXF1aXJlX18oOSksX3ZhbGlkYXRpb249X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfaW5wdXRIYW5kbGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF92YWxpZGF0aW9uVGVzdHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIEV2ZW50SGFuZGxlcnM9e2tleWRvd25FdmVudDpmdW5jdGlvbiBrZXlkb3duRXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzLCQ9aW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsbWFza3NldD1pbnB1dG1hc2subWFza3NldCxpbnB1dD10aGlzLCRpbnB1dD0kKGlucHV0KSxrPWUua2V5Q29kZSxwb3M9X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0KSxrZFJlc3VsdD1vcHRzLm9uS2V5RG93bi5jYWxsKHRoaXMsZSxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKSxwb3Msb3B0cyk7aWYodm9pZCAwIT09a2RSZXN1bHQpcmV0dXJuIGtkUmVzdWx0O2lmKGs9PT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRXx8az09PV9rZXljb2RlLmRlZmF1bHQuREVMRVRFfHxfZW52aXJvbm1lbnQuaXBob25lJiZrPT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0VfU0FGQVJJfHxlLmN0cmxLZXkmJms9PT1fa2V5Y29kZS5kZWZhdWx0LlgmJiEoXCJvbmN1dFwiaW4gaW5wdXQpKWUucHJldmVudERlZmF1bHQoKSxfdmFsaWRhdGlvbi5oYW5kbGVSZW1vdmUuY2FsbChpbnB1dG1hc2ssaW5wdXQsayxwb3MpLCgwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKShpbnB1dCxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrLCEwKSxtYXNrc2V0LnAsZSxpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkhPT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpKTtlbHNlIGlmKGs9PT1fa2V5Y29kZS5kZWZhdWx0LkVORHx8az09PV9rZXljb2RlLmRlZmF1bHQuUEFHRV9ET1dOKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGNhcmV0UG9zPV9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spKTtfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsZS5zaGlmdEtleT9wb3MuYmVnaW46Y2FyZXRQb3MsY2FyZXRQb3MsITApfWVsc2Ugaz09PV9rZXljb2RlLmRlZmF1bHQuSE9NRSYmIWUuc2hpZnRLZXl8fGs9PT1fa2V5Y29kZS5kZWZhdWx0LlBBR0VfVVA/KGUucHJldmVudERlZmF1bHQoKSxfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsMCxlLnNoaWZ0S2V5P3Bvcy5iZWdpbjowLCEwKSk6KG9wdHMudW5kb09uRXNjYXBlJiZrPT09X2tleWNvZGUuZGVmYXVsdC5FU0NBUEV8fDkwPT09ayYmZS5jdHJsS2V5KSYmITAhPT1lLmFsdEtleT8oKDAsX2lucHV0SGFuZGxpbmcuY2hlY2tWYWwpKGlucHV0LCEwLCExLGlucHV0bWFzay51bmRvVmFsdWUuc3BsaXQoXCJcIikpLCRpbnB1dC50cmlnZ2VyKFwiY2xpY2tcIikpOiEwPT09b3B0cy50YWJUaHJvdWdoJiZrPT09X2tleWNvZGUuZGVmYXVsdC5UQUI/ITA9PT1lLnNoaWZ0S2V5Pyhwb3MuZW5kPV9wb3NpdGlvbmluZy5zZWVrUHJldmlvdXMuY2FsbChpbnB1dG1hc2sscG9zLmVuZCwhMCksITA9PT1fdmFsaWRhdGlvblRlc3RzLmdldFRlc3QuY2FsbChpbnB1dG1hc2sscG9zLmVuZC0xKS5tYXRjaC5zdGF0aWMmJnBvcy5lbmQtLSxwb3MuYmVnaW49X3Bvc2l0aW9uaW5nLnNlZWtQcmV2aW91cy5jYWxsKGlucHV0bWFzayxwb3MuZW5kLCEwKSwwPD1wb3MuYmVnaW4mJjA8cG9zLmVuZCYmKGUucHJldmVudERlZmF1bHQoKSxfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQscG9zLmJlZ2luLHBvcy5lbmQpKSk6KHBvcy5iZWdpbj1fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbChpbnB1dG1hc2sscG9zLmJlZ2luLCEwKSxwb3MuZW5kPV9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayxwb3MuYmVnaW4sITApLHBvcy5lbmQ8bWFza3NldC5tYXNrTGVuZ3RoJiZwb3MuZW5kLS0scG9zLmJlZ2luPD1tYXNrc2V0Lm1hc2tMZW5ndGgmJihlLnByZXZlbnREZWZhdWx0KCksX3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LHBvcy5iZWdpbixwb3MuZW5kKSkpOmUuc2hpZnRLZXl8fG9wdHMuaW5zZXJ0TW9kZVZpc3VhbCYmITE9PT1vcHRzLmluc2VydE1vZGUmJihrPT09X2tleWNvZGUuZGVmYXVsdC5SSUdIVD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGNhcmV0UG9zPV9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCk7X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLGlucHV0LGNhcmV0UG9zLmJlZ2luKX0sMCk6az09PV9rZXljb2RlLmRlZmF1bHQuTEVGVCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBjYXJldFBvc19iZWdpbj1fcG9zaXRpb25pbmcudHJhbnNsYXRlUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssaW5wdXQuaW5wdXRtYXNrLmNhcmV0UG9zLmJlZ2luKSxjYXJldFBvc19lbmQ9X3Bvc2l0aW9uaW5nLnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLGlucHV0LmlucHV0bWFzay5jYXJldFBvcy5lbmQpO2lucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQsY2FyZXRQb3NfYmVnaW4rKGNhcmV0UG9zX2JlZ2luPT09bWFza3NldC5tYXNrTGVuZ3RoPzA6MSkpOl9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxjYXJldFBvc19iZWdpbi0oMD09PWNhcmV0UG9zX2JlZ2luPzA6MSkpfSwwKSk7aW5wdXRtYXNrLmlnbm9yYWJsZT1vcHRzLmlnbm9yYWJsZXMuaW5jbHVkZXMoayl9LGtleXByZXNzRXZlbnQ6ZnVuY3Rpb24ga2V5cHJlc3NFdmVudChlLGNoZWNrdmFsLHdyaXRlT3V0LHN0cmljdCxuZHgpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2t8fHRoaXMsb3B0cz1pbnB1dG1hc2sub3B0cywkPWlucHV0bWFzay5kZXBlbmRlbmN5TGliLG1hc2tzZXQ9aW5wdXRtYXNrLm1hc2tzZXQsaW5wdXQ9aW5wdXRtYXNrLmVsLCRpbnB1dD0kKGlucHV0KSxrPWUud2hpY2h8fGUuY2hhckNvZGV8fGUua2V5Q29kZTtpZighKCEwPT09Y2hlY2t2YWx8fGUuY3RybEtleSYmZS5hbHRLZXkpJiYoZS5jdHJsS2V5fHxlLm1ldGFLZXl8fGlucHV0bWFzay5pZ25vcmFibGUpKXJldHVybiBrPT09X2tleWNvZGUuZGVmYXVsdC5FTlRFUiYmaW5wdXRtYXNrLnVuZG9WYWx1ZSE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikmJihpbnB1dG1hc2sudW5kb1ZhbHVlPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIiksc2V0VGltZW91dChmdW5jdGlvbigpeyRpbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpfSwwKSksaW5wdXRtYXNrLnNraXBJbnB1dEV2ZW50PSEwLCEwO2lmKGspezQ0IT09ayYmNDYhPT1rfHwzIT09ZS5sb2NhdGlvbnx8XCJcIj09PW9wdHMucmFkaXhQb2ludHx8KGs9b3B0cy5yYWRpeFBvaW50LmNoYXJDb2RlQXQoMCkpO3ZhciBwb3M9Y2hlY2t2YWw/e2JlZ2luOm5keCxlbmQ6bmR4fTpfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssaW5wdXQpLGZvcndhcmRQb3NpdGlvbixjPVN0cmluZy5mcm9tQ2hhckNvZGUoayk7bWFza3NldC53cml0ZU91dEJ1ZmZlcj0hMDt2YXIgdmFsUmVzdWx0PV92YWxpZGF0aW9uLmlzVmFsaWQuY2FsbChpbnB1dG1hc2sscG9zLGMsc3RyaWN0LHZvaWQgMCx2b2lkIDAsdm9pZCAwLGNoZWNrdmFsKTtpZighMSE9PXZhbFJlc3VsdCYmKF9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbChpbnB1dG1hc2ssITApLGZvcndhcmRQb3NpdGlvbj12b2lkIDAhPT12YWxSZXN1bHQuY2FyZXQ/dmFsUmVzdWx0LmNhcmV0Ol9wb3NpdGlvbmluZy5zZWVrTmV4dC5jYWxsKGlucHV0bWFzayx2YWxSZXN1bHQucG9zLmJlZ2luP3ZhbFJlc3VsdC5wb3MuYmVnaW46dmFsUmVzdWx0LnBvcyksbWFza3NldC5wPWZvcndhcmRQb3NpdGlvbiksZm9yd2FyZFBvc2l0aW9uPW9wdHMubnVtZXJpY0lucHV0JiZ2b2lkIDA9PT12YWxSZXN1bHQuY2FyZXQ/X3Bvc2l0aW9uaW5nLnNlZWtQcmV2aW91cy5jYWxsKGlucHV0bWFzayxmb3J3YXJkUG9zaXRpb24pOmZvcndhcmRQb3NpdGlvbiwhMSE9PXdyaXRlT3V0JiYoc2V0VGltZW91dChmdW5jdGlvbigpe29wdHMub25LZXlWYWxpZGF0aW9uLmNhbGwoaW5wdXQsayx2YWxSZXN1bHQpfSwwKSxtYXNrc2V0LndyaXRlT3V0QnVmZmVyJiYhMSE9PXZhbFJlc3VsdCkpe3ZhciBidWZmZXI9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzayk7KDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKGlucHV0LGJ1ZmZlcixmb3J3YXJkUG9zaXRpb24sZSwhMCE9PWNoZWNrdmFsKX1pZihlLnByZXZlbnREZWZhdWx0KCksY2hlY2t2YWwpcmV0dXJuITEhPT12YWxSZXN1bHQmJih2YWxSZXN1bHQuZm9yd2FyZFBvc2l0aW9uPWZvcndhcmRQb3NpdGlvbiksdmFsUmVzdWx0fX0sa2V5dXBFdmVudDpmdW5jdGlvbiBrZXl1cEV2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2s7IWlucHV0bWFzay5pc0NvbXBvc2luZ3x8ZS5rZXlDb2RlIT09X2tleWNvZGUuZGVmYXVsdC5LRVlfMjI5JiZlLmtleUNvZGUhPT1fa2V5Y29kZS5kZWZhdWx0LkVOVEVSfHxpbnB1dG1hc2suJGVsLnRyaWdnZXIoXCJpbnB1dFwiKX0scGFzdGVFdmVudDpmdW5jdGlvbiBwYXN0ZUV2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cyxpbnB1dD10aGlzLGlucHV0VmFsdWU9aW5wdXRtYXNrLl92YWx1ZUdldCghMCksY2FyZXRQb3M9X3Bvc2l0aW9uaW5nLmNhcmV0LmNhbGwoaW5wdXRtYXNrLHRoaXMpLHRlbXBWYWx1ZTtpbnB1dG1hc2suaXNSVEwmJih0ZW1wVmFsdWU9Y2FyZXRQb3MuZW5kLGNhcmV0UG9zLmVuZD1jYXJldFBvcy5iZWdpbixjYXJldFBvcy5iZWdpbj10ZW1wVmFsdWUpO3ZhciB2YWx1ZUJlZm9yZUNhcmV0PWlucHV0VmFsdWUuc3Vic3RyKDAsY2FyZXRQb3MuYmVnaW4pLHZhbHVlQWZ0ZXJDYXJldD1pbnB1dFZhbHVlLnN1YnN0cihjYXJldFBvcy5lbmQsaW5wdXRWYWx1ZS5sZW5ndGgpO2lmKHZhbHVlQmVmb3JlQ2FyZXQ9PShpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpLnJldmVyc2UoKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spKS5zbGljZSgwLGNhcmV0UG9zLmJlZ2luKS5qb2luKFwiXCIpJiYodmFsdWVCZWZvcmVDYXJldD1cIlwiKSx2YWx1ZUFmdGVyQ2FyZXQ9PShpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpLnJldmVyc2UoKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spKS5zbGljZShjYXJldFBvcy5lbmQpLmpvaW4oXCJcIikmJih2YWx1ZUFmdGVyQ2FyZXQ9XCJcIiksd2luZG93LmNsaXBib2FyZERhdGEmJndpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEpaW5wdXRWYWx1ZT12YWx1ZUJlZm9yZUNhcmV0K3dpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpK3ZhbHVlQWZ0ZXJDYXJldDtlbHNle2lmKCFlLmNsaXBib2FyZERhdGF8fCFlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSlyZXR1cm4hMDtpbnB1dFZhbHVlPXZhbHVlQmVmb3JlQ2FyZXQrZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpK3ZhbHVlQWZ0ZXJDYXJldH12YXIgcGFzdGVWYWx1ZT1pbnB1dFZhbHVlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMub25CZWZvcmVQYXN0ZSl7aWYocGFzdGVWYWx1ZT1vcHRzLm9uQmVmb3JlUGFzdGUuY2FsbChpbnB1dG1hc2ssaW5wdXRWYWx1ZSxvcHRzKSwhMT09PXBhc3RlVmFsdWUpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtwYXN0ZVZhbHVlPXBhc3RlVmFsdWV8fGlucHV0VmFsdWV9cmV0dXJuKDAsX2lucHV0SGFuZGxpbmcuY2hlY2tWYWwpKHRoaXMsITAsITEscGFzdGVWYWx1ZS50b1N0cmluZygpLnNwbGl0KFwiXCIpLGUpLGUucHJldmVudERlZmF1bHQoKX0saW5wdXRGYWxsQmFja0V2ZW50OmZ1bmN0aW9uIGlucHV0RmFsbEJhY2tFdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHMsJD1pbnB1dG1hc2suZGVwZW5kZW5jeUxpYjtmdW5jdGlvbiBpZU1vYmlsZUhhbmRsZXIoaW5wdXQsaW5wdXRWYWx1ZSxjYXJldFBvcyl7aWYoX2Vudmlyb25tZW50LmllbW9iaWxlKXt2YXIgaW5wdXRDaGFyPWlucHV0VmFsdWUucmVwbGFjZShfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5qb2luKFwiXCIpLFwiXCIpO2lmKDE9PT1pbnB1dENoYXIubGVuZ3RoKXt2YXIgaXY9aW5wdXRWYWx1ZS5zcGxpdChcIlwiKTtpdi5zcGxpY2UoY2FyZXRQb3MuYmVnaW4sMCxpbnB1dENoYXIpLGlucHV0VmFsdWU9aXYuam9pbihcIlwiKX19cmV0dXJuIGlucHV0VmFsdWV9ZnVuY3Rpb24gYW5hbHlzZUNoYW5nZXMoaW5wdXRWYWx1ZSxidWZmZXIsY2FyZXRQb3Mpe2Zvcih2YXIgZnJvbnRQYXJ0PWlucHV0VmFsdWUuc3Vic3RyKDAsY2FyZXRQb3MuYmVnaW4pLnNwbGl0KFwiXCIpLGJhY2tQYXJ0PWlucHV0VmFsdWUuc3Vic3RyKGNhcmV0UG9zLmJlZ2luKS5zcGxpdChcIlwiKSxmcm9udEJ1ZmZlclBhcnQ9YnVmZmVyLnN1YnN0cigwLGNhcmV0UG9zLmJlZ2luKS5zcGxpdChcIlwiKSxiYWNrQnVmZmVyUGFydD1idWZmZXIuc3Vic3RyKGNhcmV0UG9zLmJlZ2luKS5zcGxpdChcIlwiKSxmcGw9ZnJvbnRQYXJ0Lmxlbmd0aD49ZnJvbnRCdWZmZXJQYXJ0Lmxlbmd0aD9mcm9udFBhcnQubGVuZ3RoOmZyb250QnVmZmVyUGFydC5sZW5ndGgsYnBsPWJhY2tQYXJ0Lmxlbmd0aD49YmFja0J1ZmZlclBhcnQubGVuZ3RoP2JhY2tQYXJ0Lmxlbmd0aDpiYWNrQnVmZmVyUGFydC5sZW5ndGgsYmwsaSxhY3Rpb249XCJcIixkYXRhPVtdLG1hcmtlcj1cIn5cIixwbGFjZWhvbGRlcjtmcm9udFBhcnQubGVuZ3RoPGZwbDspZnJvbnRQYXJ0LnB1c2goXCJ+XCIpO2Zvcig7ZnJvbnRCdWZmZXJQYXJ0Lmxlbmd0aDxmcGw7KWZyb250QnVmZmVyUGFydC5wdXNoKFwiflwiKTtmb3IoO2JhY2tQYXJ0Lmxlbmd0aDxicGw7KWJhY2tQYXJ0LnVuc2hpZnQoXCJ+XCIpO2Zvcig7YmFja0J1ZmZlclBhcnQubGVuZ3RoPGJwbDspYmFja0J1ZmZlclBhcnQudW5zaGlmdChcIn5cIik7dmFyIG5ld0J1ZmZlcj1mcm9udFBhcnQuY29uY2F0KGJhY2tQYXJ0KSxvbGRCdWZmZXI9ZnJvbnRCdWZmZXJQYXJ0LmNvbmNhdChiYWNrQnVmZmVyUGFydCk7Zm9yKGk9MCxibD1uZXdCdWZmZXIubGVuZ3RoO2k8Ymw7aSsrKXN3aXRjaChwbGFjZWhvbGRlcj1fdmFsaWRhdGlvblRlc3RzLmdldFBsYWNlaG9sZGVyLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKGlucHV0bWFzayxpKSksYWN0aW9uKXtjYXNlXCJpbnNlcnRUZXh0XCI6b2xkQnVmZmVyW2ktMV09PT1uZXdCdWZmZXJbaV0mJmNhcmV0UG9zLmJlZ2luPT1uZXdCdWZmZXIubGVuZ3RoLTEmJmRhdGEucHVzaChuZXdCdWZmZXJbaV0pLGk9Ymw7YnJlYWs7Y2FzZVwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCI6XCJ+XCI9PT1uZXdCdWZmZXJbaV0/Y2FyZXRQb3MuZW5kKys6aT1ibDticmVhaztjYXNlXCJkZWxldGVDb250ZW50QmFja3dhcmRcIjpcIn5cIj09PW5ld0J1ZmZlcltpXT9jYXJldFBvcy5lbmQrKzppPWJsO2JyZWFrO2RlZmF1bHQ6bmV3QnVmZmVyW2ldIT09b2xkQnVmZmVyW2ldJiYoXCJ+XCIhPT1uZXdCdWZmZXJbaSsxXSYmbmV3QnVmZmVyW2krMV0hPT1wbGFjZWhvbGRlciYmdm9pZCAwIT09bmV3QnVmZmVyW2krMV18fChvbGRCdWZmZXJbaV0hPT1wbGFjZWhvbGRlcnx8XCJ+XCIhPT1vbGRCdWZmZXJbaSsxXSkmJlwiflwiIT09b2xkQnVmZmVyW2ldP1wiflwiPT09b2xkQnVmZmVyW2krMV0mJm9sZEJ1ZmZlcltpXT09PW5ld0J1ZmZlcltpKzFdPyhhY3Rpb249XCJpbnNlcnRUZXh0XCIsZGF0YS5wdXNoKG5ld0J1ZmZlcltpXSksY2FyZXRQb3MuYmVnaW4tLSxjYXJldFBvcy5lbmQtLSk6bmV3QnVmZmVyW2ldIT09cGxhY2Vob2xkZXImJlwiflwiIT09bmV3QnVmZmVyW2ldJiYoXCJ+XCI9PT1uZXdCdWZmZXJbaSsxXXx8b2xkQnVmZmVyW2ldIT09bmV3QnVmZmVyW2ldJiZvbGRCdWZmZXJbaSsxXT09PW5ld0J1ZmZlcltpKzFdKT8oYWN0aW9uPVwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCIsZGF0YS5wdXNoKG5ld0J1ZmZlcltpXSksY2FyZXRQb3MuYmVnaW4tLSk6XCJ+XCI9PT1uZXdCdWZmZXJbaV0/KGFjdGlvbj1cImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiLCFfcG9zaXRpb25pbmcuaXNNYXNrLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKGlucHV0bWFzayxpKSwhMCkmJm9sZEJ1ZmZlcltpXSE9PW9wdHMucmFkaXhQb2ludHx8Y2FyZXRQb3MuZW5kKyspOmk9Ymw6KGFjdGlvbj1cImluc2VydFRleHRcIixkYXRhLnB1c2gobmV3QnVmZmVyW2ldKSxjYXJldFBvcy5iZWdpbi0tLGNhcmV0UG9zLmVuZC0tKSk7YnJlYWt9cmV0dXJue2FjdGlvbjphY3Rpb24sZGF0YTpkYXRhLGNhcmV0OmNhcmV0UG9zfX12YXIgaW5wdXQ9dGhpcyxpbnB1dFZhbHVlPWlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoITApLGJ1ZmZlcj0oaW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkucmV2ZXJzZSgpOl9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKS5qb2luKFwiXCIpLGNhcmV0UG9zPV9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCx2b2lkIDAsdm9pZCAwLCEwKTtpZihidWZmZXIhPT1pbnB1dFZhbHVlKXtpbnB1dFZhbHVlPWllTW9iaWxlSGFuZGxlcihpbnB1dCxpbnB1dFZhbHVlLGNhcmV0UG9zKTt2YXIgY2hhbmdlcz1hbmFseXNlQ2hhbmdlcyhpbnB1dFZhbHVlLGJ1ZmZlcixjYXJldFBvcyk7c3dpdGNoKChpbnB1dC5pbnB1dG1hc2suc2hhZG93Um9vdHx8ZG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQhPT1pbnB1dCYmaW5wdXQuZm9jdXMoKSwoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikoaW5wdXQsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpLF9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayxpbnB1dCxjYXJldFBvcy5iZWdpbixjYXJldFBvcy5lbmQsITApLGNoYW5nZXMuYWN0aW9uKXtjYXNlXCJpbnNlcnRUZXh0XCI6Y2FzZVwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCI6Y2hhbmdlcy5kYXRhLmZvckVhY2goZnVuY3Rpb24oZW50cnksbmR4KXt2YXIga2V5cHJlc3M9bmV3ICQuRXZlbnQoXCJrZXlwcmVzc1wiKTtrZXlwcmVzcy53aGljaD1lbnRyeS5jaGFyQ29kZUF0KDApLGlucHV0bWFzay5pZ25vcmFibGU9ITEsRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXQsa2V5cHJlc3MpfSksc2V0VGltZW91dChmdW5jdGlvbigpe2lucHV0bWFzay4kZWwudHJpZ2dlcihcImtleXVwXCIpfSwwKTticmVhaztjYXNlXCJkZWxldGVDb250ZW50QmFja3dhcmRcIjp2YXIga2V5ZG93bj1uZXcgJC5FdmVudChcImtleWRvd25cIik7a2V5ZG93bi5rZXlDb2RlPV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFLEV2ZW50SGFuZGxlcnMua2V5ZG93bkV2ZW50LmNhbGwoaW5wdXQsa2V5ZG93bik7YnJlYWs7ZGVmYXVsdDooMCxfaW5wdXRIYW5kbGluZy5hcHBseUlucHV0VmFsdWUpKGlucHV0LGlucHV0VmFsdWUpO2JyZWFrfWUucHJldmVudERlZmF1bHQoKX19LGNvbXBvc2l0aW9uZW5kRXZlbnQ6ZnVuY3Rpb24gY29tcG9zaXRpb25lbmRFdmVudChlKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrO2lucHV0bWFzay5pc0NvbXBvc2luZz0hMSxpbnB1dG1hc2suJGVsLnRyaWdnZXIoXCJpbnB1dFwiKX0sc2V0VmFsdWVFdmVudDpmdW5jdGlvbiBzZXRWYWx1ZUV2ZW50KGUsYXJndW1lbnRfMSxhcmd1bWVudF8yKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLGlucHV0PXRoaXMsdmFsdWU9ZSYmZS5kZXRhaWw/ZS5kZXRhaWxbMF06YXJndW1lbnRfMTt2b2lkIDA9PT12YWx1ZSYmKHZhbHVlPXRoaXMuaW5wdXRtYXNrLl92YWx1ZUdldCghMCkpLCgwLF9pbnB1dEhhbmRsaW5nLmFwcGx5SW5wdXRWYWx1ZSkodGhpcyx2YWx1ZSksKGUuZGV0YWlsJiZ2b2lkIDAhPT1lLmRldGFpbFsxXXx8dm9pZCAwIT09YXJndW1lbnRfMikmJl9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayx0aGlzLGUuZGV0YWlsP2UuZGV0YWlsWzFdOmFyZ3VtZW50XzIpfSxmb2N1c0V2ZW50OmZ1bmN0aW9uIGZvY3VzRXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzLGlucHV0PXRoaXMsbnB0VmFsdWU9dGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7b3B0cy5zaG93TWFza09uRm9jdXMmJm5wdFZhbHVlIT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSYmKDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKHRoaXMsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzayksX3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzaykpKSwhMCE9PW9wdHMucG9zaXRpb25DYXJldE9uVGFifHwhMSE9PWlucHV0bWFzay5tb3VzZUVudGVyfHxfdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKSYmLTEhPT1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2spfHxFdmVudEhhbmRsZXJzLmNsaWNrRXZlbnQuYXBwbHkodGhpcyxbZSwhMF0pLGlucHV0bWFzay51bmRvVmFsdWU9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKX0saW52YWxpZEV2ZW50OmZ1bmN0aW9uIGludmFsaWRFdmVudChlKXt0aGlzLmlucHV0bWFzay52YWxpZGF0aW9uRXZlbnQ9ITB9LG1vdXNlbGVhdmVFdmVudDpmdW5jdGlvbiBtb3VzZWxlYXZlRXZlbnQoKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHMsaW5wdXQ9dGhpcztpbnB1dG1hc2subW91c2VFbnRlcj0hMSxvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzJiYodGhpcy5pbnB1dG1hc2suc2hhZG93Um9vdHx8ZG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQhPT10aGlzJiYoMCxfaW5wdXRIYW5kbGluZy5IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcikodGhpcyxpbnB1dG1hc2sub3JpZ2luYWxQbGFjZWhvbGRlcil9LGNsaWNrRXZlbnQ6ZnVuY3Rpb24gY2xpY2tFdmVudChlLHRhYmJlZCl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxpbnB1dD10aGlzO2lmKCh0aGlzLmlucHV0bWFzay5zaGFkb3dSb290fHxkb2N1bWVudCkuYWN0aXZlRWxlbWVudD09PXRoaXMpe3ZhciBuZXdDYXJldFBvc2l0aW9uPV9wb3NpdGlvbmluZy5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayx0aGlzKSx0YWJiZWQpO3ZvaWQgMCE9PW5ld0NhcmV0UG9zaXRpb24mJl9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayx0aGlzLG5ld0NhcmV0UG9zaXRpb24pfX0sY3V0RXZlbnQ6ZnVuY3Rpb24gY3V0RXZlbnQoZSl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxtYXNrc2V0PWlucHV0bWFzay5tYXNrc2V0LGlucHV0PXRoaXMscG9zPV9wb3NpdGlvbmluZy5jYXJldC5jYWxsKGlucHV0bWFzayx0aGlzKSxjbGlwYm9hcmREYXRhPXdpbmRvdy5jbGlwYm9hcmREYXRhfHxlLmNsaXBib2FyZERhdGEsY2xpcERhdGE9aW5wdXRtYXNrLmlzUlRMP19wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKHBvcy5lbmQscG9zLmJlZ2luKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZShwb3MuYmVnaW4scG9zLmVuZCk7Y2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dFwiLGlucHV0bWFzay5pc1JUTD9jbGlwRGF0YS5yZXZlcnNlKCkuam9pbihcIlwiKTpjbGlwRGF0YS5qb2luKFwiXCIpKSxkb2N1bWVudC5leGVjQ29tbWFuZCYmZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpLF92YWxpZGF0aW9uLmhhbmRsZVJlbW92ZS5jYWxsKGlucHV0bWFzayx0aGlzLF9rZXljb2RlLmRlZmF1bHQuREVMRVRFLHBvcyksKDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKHRoaXMsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzayksbWFza3NldC5wLGUsaW5wdXRtYXNrLnVuZG9WYWx1ZSE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikpfSxibHVyRXZlbnQ6ZnVuY3Rpb24gYmx1ckV2ZW50KGUpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2ssb3B0cz1pbnB1dG1hc2sub3B0cywkPWlucHV0bWFzay5kZXBlbmRlbmN5TGliLCRpbnB1dD0kKHRoaXMpLGlucHV0PXRoaXM7aWYodGhpcy5pbnB1dG1hc2speygwLF9pbnB1dEhhbmRsaW5nLkhhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyKSh0aGlzLGlucHV0bWFzay5vcmlnaW5hbFBsYWNlaG9sZGVyKTt2YXIgbnB0VmFsdWU9dGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCksYnVmZmVyPV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLnNsaWNlKCk7XCJcIiE9PW5wdFZhbHVlJiYob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyYmKC0xPT09X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKSYmbnB0VmFsdWU9PT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIik/YnVmZmVyPVtdOl9pbnB1dEhhbmRsaW5nLmNsZWFyT3B0aW9uYWxUYWlsLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlcikpLCExPT09X3ZhbGlkYXRpb24uaXNDb21wbGV0ZS5jYWxsKGlucHV0bWFzayxidWZmZXIpJiYoc2V0VGltZW91dChmdW5jdGlvbigpeyRpbnB1dC50cmlnZ2VyKFwiaW5jb21wbGV0ZVwiKX0sMCksb3B0cy5jbGVhckluY29tcGxldGUmJihfcG9zaXRpb25pbmcucmVzZXRNYXNrU2V0LmNhbGwoaW5wdXRtYXNrKSxidWZmZXI9b3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cz9bXTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLnNsaWNlKCkpKSwoMCxfaW5wdXRIYW5kbGluZy53cml0ZUJ1ZmZlcikodGhpcyxidWZmZXIsdm9pZCAwLGUpKSxpbnB1dG1hc2sudW5kb1ZhbHVlIT09X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSYmKGlucHV0bWFzay51bmRvVmFsdWU9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSwkaW5wdXQudHJpZ2dlcihcImNoYW5nZVwiKSl9fSxtb3VzZWVudGVyRXZlbnQ6ZnVuY3Rpb24gbW91c2VlbnRlckV2ZW50KCl7dmFyIGlucHV0bWFzaz10aGlzLmlucHV0bWFzayxvcHRzPWlucHV0bWFzay5vcHRzLGlucHV0PXRoaXM7aWYoaW5wdXRtYXNrLm1vdXNlRW50ZXI9ITAsKHRoaXMuaW5wdXRtYXNrLnNoYWRvd1Jvb3R8fGRvY3VtZW50KS5hY3RpdmVFbGVtZW50IT09dGhpcyl7dmFyIGJ1ZmZlclRlbXBsYXRlPShpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpLnJldmVyc2UoKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spKS5qb2luKFwiXCIpO2lucHV0bWFzay5wbGFjZWhvbGRlciE9PWJ1ZmZlclRlbXBsYXRlJiZ0aGlzLnBsYWNlaG9sZGVyIT09aW5wdXRtYXNrLm9yaWdpbmFsUGxhY2Vob2xkZXImJihpbnB1dG1hc2sub3JpZ2luYWxQbGFjZWhvbGRlcj10aGlzLnBsYWNlaG9sZGVyKSxvcHRzLnNob3dNYXNrT25Ib3ZlciYmKDAsX2lucHV0SGFuZGxpbmcuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIpKHRoaXMsYnVmZmVyVGVtcGxhdGUpfX0sc3VibWl0RXZlbnQ6ZnVuY3Rpb24gc3VibWl0RXZlbnQoKXt2YXIgaW5wdXRtYXNrPXRoaXMuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrLm9wdHM7aW5wdXRtYXNrLnVuZG9WYWx1ZSE9PV9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIikmJmlucHV0bWFzay4kZWwudHJpZ2dlcihcImNoYW5nZVwiKSxvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzJiYtMT09PV9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzaykmJmlucHV0bWFzay5fdmFsdWVHZXQmJmlucHV0bWFzay5fdmFsdWVHZXQoKT09PV9wb3NpdGlvbmluZy5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGlucHV0bWFzaykuam9pbihcIlwiKSYmaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKSxvcHRzLmNsZWFySW5jb21wbGV0ZSYmITE9PT1fdmFsaWRhdGlvbi5pc0NvbXBsZXRlLmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRCdWZmZXIuY2FsbChpbnB1dG1hc2spKSYmaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKSxvcHRzLnJlbW92ZU1hc2tPblN1Ym1pdCYmKGlucHV0bWFzay5fdmFsdWVTZXQoaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSwhMCksc2V0VGltZW91dChmdW5jdGlvbigpeygwLF9pbnB1dEhhbmRsaW5nLndyaXRlQnVmZmVyKShpbnB1dG1hc2suZWwsX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpfSwwKSl9LHJlc2V0RXZlbnQ6ZnVuY3Rpb24gcmVzZXRFdmVudCgpe3ZhciBpbnB1dG1hc2s9dGhpcy5pbnB1dG1hc2s7aW5wdXRtYXNrLnJlZnJlc2hWYWx1ZT0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7KDAsX2lucHV0SGFuZGxpbmcuYXBwbHlJbnB1dFZhbHVlKShpbnB1dG1hc2suZWwsaW5wdXRtYXNrLl92YWx1ZUdldCghMCkpfSwwKX19O2V4cG9ydHMuRXZlbnRIYW5kbGVycz1FdmVudEhhbmRsZXJzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmlwaG9uZT1leHBvcnRzLmllbW9iaWxlPWV4cG9ydHMubW9iaWxlPWV4cG9ydHMuaWU9ZXhwb3J0cy51YT12b2lkIDA7dmFyIF93aW5kb3c9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIHVhPV93aW5kb3cuZGVmYXVsdC5uYXZpZ2F0b3ImJl93aW5kb3cuZGVmYXVsdC5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiLGllPTA8dWEuaW5kZXhPZihcIk1TSUUgXCIpfHwwPHVhLmluZGV4T2YoXCJUcmlkZW50L1wiKSxtb2JpbGU9XCJvbnRvdWNoc3RhcnRcImluIF93aW5kb3cuZGVmYXVsdCxpZW1vYmlsZT0vaWVtb2JpbGUvaS50ZXN0KHVhKSxpcGhvbmU9L2lwaG9uZS9pLnRlc3QodWEpJiYhaWVtb2JpbGU7ZXhwb3J0cy5pcGhvbmU9aXBob25lLGV4cG9ydHMuaWVtb2JpbGU9aWVtb2JpbGUsZXhwb3J0cy5tb2JpbGU9bW9iaWxlLGV4cG9ydHMuaWU9aWUsZXhwb3J0cy51YT11YX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMDt2YXIgX2V4dGVuZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTIpKSxfd2luZG93PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1KSksX2RhdGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSksX2V2ZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIGRvY3VtZW50PV93aW5kb3cuZGVmYXVsdC5kb2N1bWVudDtmdW5jdGlvbiBEZXBlbmRlbmN5TGliKGVsZW0pe3JldHVybiBlbGVtIGluc3RhbmNlb2YgRGVwZW5kZW5jeUxpYj9lbGVtOnRoaXMgaW5zdGFuY2VvZiBEZXBlbmRlbmN5TGliP3ZvaWQobnVsbCE9ZWxlbSYmZWxlbSE9PV93aW5kb3cuZGVmYXVsdCYmKHRoaXNbMF09ZWxlbS5ub2RlTmFtZT9lbGVtOnZvaWQgMCE9PWVsZW1bMF0mJmVsZW1bMF0ubm9kZU5hbWU/ZWxlbVswXTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pLHZvaWQgMCE9PXRoaXNbMF0mJm51bGwhPT10aGlzWzBdJiYodGhpc1swXS5ldmVudFJlZ2lzdHJ5PXRoaXNbMF0uZXZlbnRSZWdpc3RyeXx8e30pKSk6bmV3IERlcGVuZGVuY3lMaWIoZWxlbSl9RGVwZW5kZW5jeUxpYi5wcm90b3R5cGU9e29uOl9ldmVudHMub24sb2ZmOl9ldmVudHMub2ZmLHRyaWdnZXI6X2V2ZW50cy50cmlnZ2VyfSxEZXBlbmRlbmN5TGliLmV4dGVuZD1fZXh0ZW5kLmRlZmF1bHQsRGVwZW5kZW5jeUxpYi5kYXRhPV9kYXRhLmRlZmF1bHQsRGVwZW5kZW5jeUxpYi5FdmVudD1fZXZlbnRzLkV2ZW50O3ZhciBfZGVmYXVsdD1EZXBlbmRlbmN5TGliO2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5FdmVudFJ1bGVyPXZvaWQgMDt2YXIgX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMikpLF9rZXljb2RlPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygwKSksX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSksX2lucHV0SGFuZGxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyIEV2ZW50UnVsZXI9e29uOmZ1bmN0aW9uIG9uKGlucHV0LGV2ZW50TmFtZSxldmVudEhhbmRsZXIpe3ZhciAkPWlucHV0LmlucHV0bWFzay5kZXBlbmRlbmN5TGliLGV2PWZ1bmN0aW9uIGV2KGUpe2Uub3JpZ2luYWxFdmVudCYmKGU9ZS5vcmlnaW5hbEV2ZW50fHxlLGFyZ3VtZW50c1swXT1lKTt2YXIgdGhhdD10aGlzLGFyZ3MsaW5wdXRtYXNrPXRoYXQuaW5wdXRtYXNrLG9wdHM9aW5wdXRtYXNrP2lucHV0bWFzay5vcHRzOnZvaWQgMDtpZih2b2lkIDA9PT1pbnB1dG1hc2smJlwiRk9STVwiIT09dGhpcy5ub2RlTmFtZSl7dmFyIGltT3B0cz0kLmRhdGEodGhhdCxcIl9pbnB1dG1hc2tfb3B0c1wiKTskKHRoYXQpLm9mZigpLGltT3B0cyYmbmV3IF9pbnB1dG1hc2suZGVmYXVsdChpbU9wdHMpLm1hc2sodGhhdCl9ZWxzZXtpZihbXCJzdWJtaXRcIixcInJlc2V0XCIsXCJzZXR2YWx1ZVwiXS5pbmNsdWRlcyhlLnR5cGUpfHxcIkZPUk1cIj09PXRoaXMubm9kZU5hbWV8fCEodGhhdC5kaXNhYmxlZHx8dGhhdC5yZWFkT25seSYmIShcImtleWRvd25cIj09PWUudHlwZSYmZS5jdHJsS2V5JiY2Nz09PWUua2V5Q29kZXx8ITE9PT1vcHRzLnRhYlRocm91Z2gmJmUua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuVEFCKSkpe3N3aXRjaChlLnR5cGUpe2Nhc2VcImlucHV0XCI6aWYoITA9PT1pbnB1dG1hc2suc2tpcElucHV0RXZlbnR8fGUuaW5wdXRUeXBlJiZcImluc2VydENvbXBvc2l0aW9uVGV4dFwiPT09ZS5pbnB1dFR5cGUpcmV0dXJuIGlucHV0bWFzay5za2lwSW5wdXRFdmVudD0hMSxlLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZVwia2V5ZG93blwiOmlucHV0bWFzay5za2lwS2V5UHJlc3NFdmVudD0hMSxpbnB1dG1hc2suc2tpcElucHV0RXZlbnQ9aW5wdXRtYXNrLmlzQ29tcG9zaW5nPWUua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuS0VZXzIyOTticmVhaztjYXNlXCJrZXl1cFwiOmNhc2VcImNvbXBvc2l0aW9uZW5kXCI6aW5wdXRtYXNrLmlzQ29tcG9zaW5nJiYoaW5wdXRtYXNrLnNraXBJbnB1dEV2ZW50PSExKTticmVhaztjYXNlXCJrZXlwcmVzc1wiOmlmKCEwPT09aW5wdXRtYXNrLnNraXBLZXlQcmVzc0V2ZW50KXJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7aW5wdXRtYXNrLnNraXBLZXlQcmVzc0V2ZW50PSEwO2JyZWFrO2Nhc2VcImNsaWNrXCI6Y2FzZVwiZm9jdXNcIjpyZXR1cm4gaW5wdXRtYXNrLnZhbGlkYXRpb25FdmVudD8oaW5wdXRtYXNrLnZhbGlkYXRpb25FdmVudD0hMSxpbnB1dC5ibHVyKCksKDAsX2lucHV0SGFuZGxpbmcuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIpKGlucHV0LChpbnB1dG1hc2suaXNSVEw/X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpLnJldmVyc2UoKTpfcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spKS5qb2luKFwiXCIpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aW5wdXQuZm9jdXMoKX0sM2UzKSk6KGFyZ3M9YXJndW1lbnRzLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnB1dC5pbnB1dG1hc2smJmV2ZW50SGFuZGxlci5hcHBseSh0aGF0LGFyZ3MpfSwwKSksITF9dmFyIHJldHVyblZhbD1ldmVudEhhbmRsZXIuYXBwbHkodGhhdCxhcmd1bWVudHMpO3JldHVybiExPT09cmV0dXJuVmFsJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpLHJldHVyblZhbH1lLnByZXZlbnREZWZhdWx0KCl9fTtbXCJzdWJtaXRcIixcInJlc2V0XCJdLmluY2x1ZGVzKGV2ZW50TmFtZSk/KGV2PWV2LmJpbmQoaW5wdXQpLG51bGwhPT1pbnB1dC5mb3JtJiYkKGlucHV0LmZvcm0pLm9uKGV2ZW50TmFtZSxldikpOiQoaW5wdXQpLm9uKGV2ZW50TmFtZSxldiksaW5wdXQuaW5wdXRtYXNrLmV2ZW50c1tldmVudE5hbWVdPWlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnROYW1lXXx8W10saW5wdXQuaW5wdXRtYXNrLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZXYpfSxvZmY6ZnVuY3Rpb24gb2ZmKGlucHV0LGV2ZW50KXtpZihpbnB1dC5pbnB1dG1hc2smJmlucHV0LmlucHV0bWFzay5ldmVudHMpe3ZhciAkPWlucHV0LmlucHV0bWFzay5kZXBlbmRlbmN5TGliLGV2ZW50cz1pbnB1dC5pbnB1dG1hc2suZXZlbnRzO2Zvcih2YXIgZXZlbnROYW1lIGluIGV2ZW50JiYoZXZlbnRzPVtdLGV2ZW50c1tldmVudF09aW5wdXQuaW5wdXRtYXNrLmV2ZW50c1tldmVudF0pLGV2ZW50cyl7Zm9yKHZhciBldkFycj1ldmVudHNbZXZlbnROYW1lXTswPGV2QXJyLmxlbmd0aDspe3ZhciBldj1ldkFyci5wb3AoKTtbXCJzdWJtaXRcIixcInJlc2V0XCJdLmluY2x1ZGVzKGV2ZW50TmFtZSk/bnVsbCE9PWlucHV0LmZvcm0mJiQoaW5wdXQuZm9ybSkub2ZmKGV2ZW50TmFtZSxldik6JChpbnB1dCkub2ZmKGV2ZW50TmFtZSxldil9ZGVsZXRlIGlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnROYW1lXX19fX07ZXhwb3J0cy5FdmVudFJ1bGVyPUV2ZW50UnVsZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfdHlwZW9mKG9iail9ZnVuY3Rpb24gZXh0ZW5kKCl7dmFyIG9wdGlvbnMsbmFtZSxzcmMsY29weSxjb3B5SXNBcnJheSxjbG9uZSx0YXJnZXQ9YXJndW1lbnRzWzBdfHx7fSxpPTEsbGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGgsZGVlcD0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiB0YXJnZXQmJihkZWVwPXRhcmdldCx0YXJnZXQ9YXJndW1lbnRzW2ldfHx7fSxpKyspLFwib2JqZWN0XCIhPT1fdHlwZW9mKHRhcmdldCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHRhcmdldCYmKHRhcmdldD17fSk7aTxsZW5ndGg7aSsrKWlmKG51bGwhPShvcHRpb25zPWFyZ3VtZW50c1tpXSkpZm9yKG5hbWUgaW4gb3B0aW9ucylzcmM9dGFyZ2V0W25hbWVdLGNvcHk9b3B0aW9uc1tuYW1lXSx0YXJnZXQhPT1jb3B5JiYoZGVlcCYmY29weSYmKFwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY29weSl8fChjb3B5SXNBcnJheT1BcnJheS5pc0FycmF5KGNvcHkpKSk/KGNsb25lPWNvcHlJc0FycmF5Pyhjb3B5SXNBcnJheT0hMSxzcmMmJkFycmF5LmlzQXJyYXkoc3JjKT9zcmM6W10pOnNyYyYmXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpP3NyYzp7fSx0YXJnZXRbbmFtZV09ZXh0ZW5kKGRlZXAsY2xvbmUsY29weSkpOnZvaWQgMCE9PWNvcHkmJih0YXJnZXRbbmFtZV09Y29weSkpO3JldHVybiB0YXJnZXR9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PWV4dGVuZH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0O3ZhciBlc2NhcGVSZWdleFJlZ2V4PW5ldyBSZWdFeHAoXCIoXFxcXFwiK1tcIi9cIixcIi5cIixcIipcIixcIitcIixcIj9cIixcInxcIixcIihcIixcIilcIixcIltcIixcIl1cIixcIntcIixcIn1cIixcIlxcXFxcIixcIiRcIixcIl5cIl0uam9pbihcInxcXFxcXCIpK1wiKVwiLFwiZ2ltXCIpO2Z1bmN0aW9uIF9kZWZhdWx0KHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKGVzY2FwZVJlZ2V4UmVnZXgsXCJcXFxcJDFcIil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwLF9fd2VicGFja19yZXF1aXJlX18oMTUpLF9fd2VicGFja19yZXF1aXJlX18oMjQpLF9fd2VicGFja19yZXF1aXJlX18oMjUpLF9fd2VicGFja19yZXF1aXJlX18oMjYpO3ZhciBfaW5wdXRtYXNrMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMikpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgX2RlZmF1bHQ9X2lucHV0bWFzazIuZGVmYXVsdDtleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyKSksX3Bvc2l0aW9uaW5nPV9fd2VicGFja19yZXF1aXJlX18oMSksX3ZhbGlkYXRpb25UZXN0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kRGVmaW5pdGlvbnMoe0E6e3ZhbGlkYXRvcjpcIltBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsY2FzaW5nOlwidXBwZXJcIn0sXCImXCI6e3ZhbGlkYXRvcjpcIlswLTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsY2FzaW5nOlwidXBwZXJcIn0sXCIjXCI6e3ZhbGlkYXRvcjpcIlswLTlBLUZhLWZdXCIsY2FzaW5nOlwidXBwZXJcIn19KTt2YXIgaXBWYWxpZGF0b3JSZWdleD1uZXcgUmVnRXhwKFwiMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdWzAtOV1bMC05XVwiKTtmdW5jdGlvbiBpcFZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXtyZXR1cm4gY2hycz0tMTxwb3MtMSYmXCIuXCIhPT1tYXNrc2V0LmJ1ZmZlcltwb3MtMV0/KGNocnM9bWFza3NldC5idWZmZXJbcG9zLTFdK2NocnMsLTE8cG9zLTImJlwiLlwiIT09bWFza3NldC5idWZmZXJbcG9zLTJdP21hc2tzZXQuYnVmZmVyW3Bvcy0yXStjaHJzOlwiMFwiK2NocnMpOlwiMDBcIitjaHJzLGlwVmFsaWRhdG9yUmVnZXgudGVzdChjaHJzKX1faW5wdXRtYXNrLmRlZmF1bHQuZXh0ZW5kQWxpYXNlcyh7Y3NzdW5pdDp7cmVnZXg6XCJbKy1dP1swLTldK1xcXFwuPyhbMC05XSspPyhweHxlbXxyZW18ZXh8JXxpbnxjbXxtbXxwdHxwYylcIn0sdXJsOntyZWdleDpcIihodHRwcz98ZnRwKTovLy4qXCIsYXV0b1VubWFzazohMSxrZWVwU3RhdGljOiExLHRhYlRocm91Z2g6ITB9LGlwOnttYXNrOlwiaVtpW2ldXS5qW2pbal1dLmtba1trXV0ubFtsW2xdXVwiLGRlZmluaXRpb25zOntpOnt2YWxpZGF0b3I6aXBWYWxpZGF0b3J9LGo6e3ZhbGlkYXRvcjppcFZhbGlkYXRvcn0sazp7dmFsaWRhdG9yOmlwVmFsaWRhdG9yfSxsOnt2YWxpZGF0b3I6aXBWYWxpZGF0b3J9fSxvblVuTWFzazpmdW5jdGlvbiBvblVuTWFzayhtYXNrZWRWYWx1ZSx1bm1hc2tlZFZhbHVlLG9wdHMpe3JldHVybiBtYXNrZWRWYWx1ZX0saW5wdXRtb2RlOlwibnVtZXJpY1wifSxlbWFpbDp7bWFzazpcIip7MSw2NH1bLip7MSw2NH1dWy4qezEsNjR9XVsuKnsxLDYzfV1ALXsxLDYzfS4tezEsNjN9Wy4tezEsNjN9XVsuLXsxLDYzfV1cIixncmVlZHk6ITEsY2FzaW5nOlwibG93ZXJcIixvbkJlZm9yZVBhc3RlOmZ1bmN0aW9uIG9uQmVmb3JlUGFzdGUocGFzdGVkVmFsdWUsb3B0cyl7cmV0dXJuIHBhc3RlZFZhbHVlPXBhc3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkscGFzdGVkVmFsdWUucmVwbGFjZShcIm1haWx0bzpcIixcIlwiKX0sZGVmaW5pdGlvbnM6e1wiKlwiOnt2YWxpZGF0b3I6XCJbMC05XFx1ZmYxMS1cXHVmZjE5QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1ISMkJSYnKisvPT9eX2B7fH1+LV1cIn0sXCItXCI6e3ZhbGlkYXRvcjpcIlswLTlBLVphLXotXVwifX0sb25Vbk1hc2s6ZnVuY3Rpb24gb25Vbk1hc2sobWFza2VkVmFsdWUsdW5tYXNrZWRWYWx1ZSxvcHRzKXtyZXR1cm4gbWFza2VkVmFsdWV9LGlucHV0bW9kZTpcImVtYWlsXCJ9LG1hYzp7bWFzazpcIiMjOiMjOiMjOiMjOiMjOiMjXCJ9LHZpbjp7bWFzazpcIlZ7MTN9OXs0fVwiLGRlZmluaXRpb25zOntWOnt2YWxpZGF0b3I6XCJbQS1ISi1OUFItWmEtaGotbnByLXpcXFxcZF1cIixjYXNpbmc6XCJ1cHBlclwifX0sY2xlYXJJbmNvbXBsZXRlOiEwLGF1dG9Vbm1hc2s6ITB9LHNzbjp7bWFzazpcIjk5OS05OS05OTk5XCIscG9zdFZhbGlkYXRpb246ZnVuY3Rpb24gcG9zdFZhbGlkYXRpb24oYnVmZmVyLHBvcyxjLGN1cnJlbnRSZXN1bHQsb3B0cyxtYXNrc2V0LHN0cmljdCl7dmFyIGJmZnI9X3ZhbGlkYXRpb25UZXN0cy5nZXRNYXNrVGVtcGxhdGUuY2FsbCh0aGlzLCEwLF9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHRoaXMpLCEwLCEwKTtyZXR1cm4vXig/ITIxOS0wOS05OTk5fDA3OC0wNS0xMTIwKSg/ITY2NnwwMDB8OS57Mn0pLnszfS0oPyEwMCkuezJ9LSg/ITB7NH0pLns0fSQvLnRlc3QoYmZmci5qb2luKFwiXCIpKX19fSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfdHlwZW9mKG9iail9XCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmdldFByb3RvdHlwZU9mJiYoT2JqZWN0LmdldFByb3RvdHlwZU9mPVwib2JqZWN0XCI9PT1fdHlwZW9mKFwidGVzdFwiLl9fcHJvdG9fXyk/ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0Ll9fcHJvdG9fX306ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtBcnJheS5wcm90b3R5cGUuaW5jbHVkZXN8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsXCJpbmNsdWRlc1wiLHt2YWx1ZTpmdW5jdGlvbiB2YWx1ZShzZWFyY2hFbGVtZW50LGZyb21JbmRleCl7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7dmFyIG89T2JqZWN0KHRoaXMpLGxlbj1vLmxlbmd0aD4+PjA7aWYoMD09bGVuKXJldHVybiExO2Zvcih2YXIgbj0wfGZyb21JbmRleCxrPU1hdGgubWF4KDA8PW4/bjpsZW4tTWF0aC5hYnMobiksMCk7azxsZW47KXtpZihvW2tdPT09c2VhcmNoRWxlbWVudClyZXR1cm4hMDtrKyt9cmV0dXJuITF9fSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMubWFzaz1tYXNrO3ZhciBfa2V5Y29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpLF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9pbnB1dEhhbmRsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNyksX2V2ZW50cnVsZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX2Vudmlyb25tZW50PV9fd2VicGFja19yZXF1aXJlX18oOSksX3ZhbGlkYXRpb249X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfZXZlbnRoYW5kbGVycz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBtYXNrKCl7dmFyIGlucHV0bWFzaz10aGlzLG9wdHM9dGhpcy5vcHRzLGVsPXRoaXMuZWwsJD10aGlzLmRlcGVuZGVuY3lMaWI7ZnVuY3Rpb24gaXNFbGVtZW50VHlwZVN1cHBvcnRlZChpbnB1dCxvcHRzKXtmdW5jdGlvbiBwYXRjaFZhbHVlUHJvcGVydHkobnB0KXt2YXIgdmFsdWVHZXQsdmFsdWVTZXQ7ZnVuY3Rpb24gcGF0Y2hWYWxob29rKHR5cGUpe2lmKCQudmFsSG9va3MmJih2b2lkIDA9PT0kLnZhbEhvb2tzW3R5cGVdfHwhMCE9PSQudmFsSG9va3NbdHlwZV0uaW5wdXRtYXNrcGF0Y2gpKXt2YXIgdmFsaG9va0dldD0kLnZhbEhvb2tzW3R5cGVdJiYkLnZhbEhvb2tzW3R5cGVdLmdldD8kLnZhbEhvb2tzW3R5cGVdLmdldDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS52YWx1ZX0sdmFsaG9va1NldD0kLnZhbEhvb2tzW3R5cGVdJiYkLnZhbEhvb2tzW3R5cGVdLnNldD8kLnZhbEhvb2tzW3R5cGVdLnNldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtyZXR1cm4gZWxlbS52YWx1ZT12YWx1ZSxlbGVtfTskLnZhbEhvb2tzW3R5cGVdPXtnZXQ6ZnVuY3Rpb24gZ2V0KGVsZW0pe2lmKGVsZW0uaW5wdXRtYXNrKXtpZihlbGVtLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2spcmV0dXJuIGVsZW0uaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKTt2YXIgcmVzdWx0PXZhbGhvb2tHZXQoZWxlbSk7cmV0dXJuLTEhPT1fcG9zaXRpb25pbmcuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChpbnB1dG1hc2ssdm9pZCAwLHZvaWQgMCxlbGVtLmlucHV0bWFzay5tYXNrc2V0LnZhbGlkUG9zaXRpb25zKXx8ITAhPT1vcHRzLm51bGxhYmxlP3Jlc3VsdDpcIlwifXJldHVybiB2YWxob29rR2V0KGVsZW0pfSxzZXQ6ZnVuY3Rpb24gc2V0KGVsZW0sdmFsdWUpe3ZhciByZXN1bHQ9dmFsaG9va1NldChlbGVtLHZhbHVlKTtyZXR1cm4gZWxlbS5pbnB1dG1hc2smJigwLF9pbnB1dEhhbmRsaW5nLmFwcGx5SW5wdXRWYWx1ZSkoZWxlbSx2YWx1ZSkscmVzdWx0fSxpbnB1dG1hc2twYXRjaDohMH19fWZ1bmN0aW9uIGdldHRlcigpe3JldHVybiB0aGlzLmlucHV0bWFzaz90aGlzLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2s/dGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpOi0xIT09X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKXx8ITAhPT1vcHRzLm51bGxhYmxlPyh0aGlzLmlucHV0bWFzay5zaGFkb3dSb290fHxkb2N1bWVudC5hY3RpdmVFbGVtZW50KT09PXRoaXMmJm9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXM/KGlucHV0bWFzay5pc1JUTD9faW5wdXRIYW5kbGluZy5jbGVhck9wdGlvbmFsVGFpbC5jYWxsKGlucHV0bWFzayxfcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5zbGljZSgpKS5yZXZlcnNlKCk6X2lucHV0SGFuZGxpbmcuY2xlYXJPcHRpb25hbFRhaWwuY2FsbChpbnB1dG1hc2ssX3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UoKSkpLmpvaW4oXCJcIik6dmFsdWVHZXQuY2FsbCh0aGlzKTpcIlwiOnZhbHVlR2V0LmNhbGwodGhpcyl9ZnVuY3Rpb24gc2V0dGVyKHZhbHVlKXt2YWx1ZVNldC5jYWxsKHRoaXMsdmFsdWUpLHRoaXMuaW5wdXRtYXNrJiYoMCxfaW5wdXRIYW5kbGluZy5hcHBseUlucHV0VmFsdWUpKHRoaXMsdmFsdWUpfWZ1bmN0aW9uIGluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrKG5wdCl7X2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihucHQsXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXt2YXIgaW5wdXQ9dGhpcyx2YWx1ZT10aGlzLmlucHV0bWFzay5fdmFsdWVHZXQoITApO3ZhbHVlIT09KGlucHV0bWFzay5pc1JUTD9fcG9zaXRpb25pbmcuZ2V0QnVmZmVyLmNhbGwoaW5wdXRtYXNrKS5yZXZlcnNlKCk6X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykpLmpvaW4oXCJcIikmJigwLF9pbnB1dEhhbmRsaW5nLmFwcGx5SW5wdXRWYWx1ZSkodGhpcyx2YWx1ZSl9KX1pZighbnB0LmlucHV0bWFzay5fX3ZhbHVlR2V0KXtpZighMCE9PW9wdHMubm9WYWx1ZVBhdGNoaW5nKXtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgdmFsdWVQcm9wZXJ0eT1PYmplY3QuZ2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YobnB0KSxcInZhbHVlXCIpOnZvaWQgMDt2YWx1ZVByb3BlcnR5JiZ2YWx1ZVByb3BlcnR5LmdldCYmdmFsdWVQcm9wZXJ0eS5zZXQ/KHZhbHVlR2V0PXZhbHVlUHJvcGVydHkuZ2V0LHZhbHVlU2V0PXZhbHVlUHJvcGVydHkuc2V0LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucHQsXCJ2YWx1ZVwiLHtnZXQ6Z2V0dGVyLHNldDpzZXR0ZXIsY29uZmlndXJhYmxlOiEwfSkpOlwiaW5wdXRcIiE9PW5wdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJih2YWx1ZUdldD1mdW5jdGlvbiB2YWx1ZUdldCgpe3JldHVybiB0aGlzLnRleHRDb250ZW50fSx2YWx1ZVNldD1mdW5jdGlvbiB2YWx1ZVNldCh2YWx1ZSl7dGhpcy50ZXh0Q29udGVudD12YWx1ZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG5wdCxcInZhbHVlXCIse2dldDpnZXR0ZXIsc2V0OnNldHRlcixjb25maWd1cmFibGU6ITB9KSl9ZWxzZSBkb2N1bWVudC5fX2xvb2t1cEdldHRlcl9fJiZucHQuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpJiYodmFsdWVHZXQ9bnB0Ll9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSx2YWx1ZVNldD1ucHQuX19sb29rdXBTZXR0ZXJfXyhcInZhbHVlXCIpLG5wdC5fX2RlZmluZUdldHRlcl9fKFwidmFsdWVcIixnZXR0ZXIpLG5wdC5fX2RlZmluZVNldHRlcl9fKFwidmFsdWVcIixzZXR0ZXIpKTtucHQuaW5wdXRtYXNrLl9fdmFsdWVHZXQ9dmFsdWVHZXQsbnB0LmlucHV0bWFzay5fX3ZhbHVlU2V0PXZhbHVlU2V0fW5wdC5pbnB1dG1hc2suX3ZhbHVlR2V0PWZ1bmN0aW9uKG92ZXJydWxlUlRMKXtyZXR1cm4gaW5wdXRtYXNrLmlzUlRMJiYhMCE9PW92ZXJydWxlUlRMP3ZhbHVlR2V0LmNhbGwodGhpcy5lbCkuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik6dmFsdWVHZXQuY2FsbCh0aGlzLmVsKX0sbnB0LmlucHV0bWFzay5fdmFsdWVTZXQ9ZnVuY3Rpb24odmFsdWUsb3ZlcnJ1bGVSVEwpe3ZhbHVlU2V0LmNhbGwodGhpcy5lbCxudWxsPT12YWx1ZT9cIlwiOiEwIT09b3ZlcnJ1bGVSVEwmJmlucHV0bWFzay5pc1JUTD92YWx1ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTp2YWx1ZSl9LHZvaWQgMD09PXZhbHVlR2V0JiYodmFsdWVHZXQ9ZnVuY3Rpb24gdmFsdWVHZXQoKXtyZXR1cm4gdGhpcy52YWx1ZX0sdmFsdWVTZXQ9ZnVuY3Rpb24gdmFsdWVTZXQodmFsdWUpe3RoaXMudmFsdWU9dmFsdWV9LHBhdGNoVmFsaG9vayhucHQudHlwZSksaW5zdGFsbE5hdGl2ZVZhbHVlU2V0RmFsbGJhY2sobnB0KSl9fVwidGV4dGFyZWFcIiE9PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmb3B0cy5pZ25vcmFibGVzLnB1c2goX2tleWNvZGUuZGVmYXVsdC5FTlRFUik7dmFyIGVsZW1lbnRUeXBlPWlucHV0LmdldEF0dHJpYnV0ZShcInR5cGVcIiksaXNTdXBwb3J0ZWQ9XCJpbnB1dFwiPT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZvcHRzLnN1cHBvcnRzSW5wdXRUeXBlLmluY2x1ZGVzKGVsZW1lbnRUeXBlKXx8aW5wdXQuaXNDb250ZW50RWRpdGFibGV8fFwidGV4dGFyZWFcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZighaXNTdXBwb3J0ZWQpaWYoXCJpbnB1dFwiPT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2VsLnNldEF0dHJpYnV0ZShcInR5cGVcIixlbGVtZW50VHlwZSksaXNTdXBwb3J0ZWQ9XCJ0ZXh0XCI9PT1lbC50eXBlLGVsPW51bGx9ZWxzZSBpc1N1cHBvcnRlZD1cInBhcnRpYWxcIjtyZXR1cm4hMSE9PWlzU3VwcG9ydGVkP3BhdGNoVmFsdWVQcm9wZXJ0eShpbnB1dCk6aW5wdXQuaW5wdXRtYXNrPXZvaWQgMCxpc1N1cHBvcnRlZH1fZXZlbnRydWxlci5FdmVudFJ1bGVyLm9mZihlbCk7dmFyIGlzU3VwcG9ydGVkPWlzRWxlbWVudFR5cGVTdXBwb3J0ZWQoZWwsb3B0cyk7aWYoITEhPT1pc1N1cHBvcnRlZCl7aW5wdXRtYXNrLm9yaWdpbmFsUGxhY2Vob2xkZXI9ZWwucGxhY2Vob2xkZXIsaW5wdXRtYXNrLm1heExlbmd0aD12b2lkIDAhPT1lbD9lbC5tYXhMZW5ndGg6dm9pZCAwLC0xPT09aW5wdXRtYXNrLm1heExlbmd0aCYmKGlucHV0bWFzay5tYXhMZW5ndGg9dm9pZCAwKSxcImlucHV0TW9kZVwiaW4gZWwmJm51bGw9PT1lbC5nZXRBdHRyaWJ1dGUoXCJpbnB1dG1vZGVcIikmJihlbC5pbnB1dE1vZGU9b3B0cy5pbnB1dG1vZGUsZWwuc2V0QXR0cmlidXRlKFwiaW5wdXRtb2RlXCIsb3B0cy5pbnB1dG1vZGUpKSwhMD09PWlzU3VwcG9ydGVkJiYob3B0cy5zaG93TWFza09uRm9jdXM9b3B0cy5zaG93TWFza09uRm9jdXMmJi0xPT09W1wiY2MtbnVtYmVyXCIsXCJjYy1leHBcIl0uaW5kZXhPZihlbC5hdXRvY29tcGxldGUpLF9lbnZpcm9ubWVudC5pcGhvbmUmJihvcHRzLmluc2VydE1vZGVWaXN1YWw9ITEpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJzdWJtaXRcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLnN1Ym1pdEV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwicmVzZXRcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLnJlc2V0RXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJibHVyXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5ibHVyRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJmb2N1c1wiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuZm9jdXNFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImludmFsaWRcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmludmFsaWRFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImNsaWNrXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5jbGlja0V2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwibW91c2VsZWF2ZVwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMubW91c2VsZWF2ZUV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwibW91c2VlbnRlclwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMubW91c2VlbnRlckV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwicGFzdGVcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLnBhc3RlRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJjdXRcIixfZXZlbnRoYW5kbGVycy5FdmVudEhhbmRsZXJzLmN1dEV2ZW50KSxfZXZlbnRydWxlci5FdmVudFJ1bGVyLm9uKGVsLFwiY29tcGxldGVcIixvcHRzLm9uY29tcGxldGUpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJpbmNvbXBsZXRlXCIsb3B0cy5vbmluY29tcGxldGUpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJjbGVhcmVkXCIsb3B0cy5vbmNsZWFyZWQpLCEwIT09b3B0cy5pbnB1dEV2ZW50T25seSYmKF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJrZXlkb3duXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5rZXlkb3duRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJrZXlwcmVzc1wiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudCksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImtleXVwXCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5rZXl1cEV2ZW50KSksKF9lbnZpcm9ubWVudC5tb2JpbGV8fG9wdHMuaW5wdXRFdmVudE9ubHkpJiZlbC5yZW1vdmVBdHRyaWJ1dGUoXCJtYXhMZW5ndGhcIiksX2V2ZW50cnVsZXIuRXZlbnRSdWxlci5vbihlbCxcImlucHV0XCIsX2V2ZW50aGFuZGxlcnMuRXZlbnRIYW5kbGVycy5pbnB1dEZhbGxCYWNrRXZlbnQpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJjb21wb3NpdGlvbmVuZFwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuY29tcG9zaXRpb25lbmRFdmVudCkpLF9ldmVudHJ1bGVyLkV2ZW50UnVsZXIub24oZWwsXCJzZXR2YWx1ZVwiLF9ldmVudGhhbmRsZXJzLkV2ZW50SGFuZGxlcnMuc2V0VmFsdWVFdmVudCksaW5wdXRtYXNrLnVuZG9WYWx1ZT1fcG9zaXRpb25pbmcuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpbnB1dG1hc2spLmpvaW4oXCJcIik7dmFyIGFjdGl2ZUVsZW1lbnQ9KGVsLmlucHV0bWFzay5zaGFkb3dSb290fHxkb2N1bWVudCkuYWN0aXZlRWxlbWVudDtpZihcIlwiIT09ZWwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCl8fCExPT09b3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1c3x8YWN0aXZlRWxlbWVudD09PWVsKXsoMCxfaW5wdXRIYW5kbGluZy5hcHBseUlucHV0VmFsdWUpKGVsLGVsLmlucHV0bWFzay5fdmFsdWVHZXQoITApLG9wdHMpO3ZhciBidWZmZXI9X3Bvc2l0aW9uaW5nLmdldEJ1ZmZlci5jYWxsKGlucHV0bWFzaykuc2xpY2UoKTshMT09PV92YWxpZGF0aW9uLmlzQ29tcGxldGUuY2FsbChpbnB1dG1hc2ssYnVmZmVyKSYmb3B0cy5jbGVhckluY29tcGxldGUmJl9wb3NpdGlvbmluZy5yZXNldE1hc2tTZXQuY2FsbChpbnB1dG1hc2spLG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMmJmFjdGl2ZUVsZW1lbnQhPT1lbCYmKC0xPT09X3Bvc2l0aW9uaW5nLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaW5wdXRtYXNrKT9idWZmZXI9W106X2lucHV0SGFuZGxpbmcuY2xlYXJPcHRpb25hbFRhaWwuY2FsbChpbnB1dG1hc2ssYnVmZmVyKSksKCExPT09b3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1c3x8b3B0cy5zaG93TWFza09uRm9jdXMmJmFjdGl2ZUVsZW1lbnQ9PT1lbHx8XCJcIiE9PWVsLmlucHV0bWFzay5fdmFsdWVHZXQoITApKSYmKDAsX2lucHV0SGFuZGxpbmcud3JpdGVCdWZmZXIpKGVsLGJ1ZmZlciksYWN0aXZlRWxlbWVudD09PWVsJiZfcG9zaXRpb25pbmcuY2FyZXQuY2FsbChpbnB1dG1hc2ssZWwsX3Bvc2l0aW9uaW5nLnNlZWtOZXh0LmNhbGwoaW5wdXRtYXNrLF9wb3NpdGlvbmluZy5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGlucHV0bWFzaykpKX19fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2RlZmF1bHQob3duZXIsa2V5LHZhbHVlKXtpZih2b2lkIDA9PT12YWx1ZSlyZXR1cm4gb3duZXIuX19kYXRhP293bmVyLl9fZGF0YVtrZXldOm51bGw7b3duZXIuX19kYXRhPW93bmVyLl9fZGF0YXx8e30sb3duZXIuX19kYXRhW2tleV09dmFsdWV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLm9uPW9uLGV4cG9ydHMub2ZmPW9mZixleHBvcnRzLnRyaWdnZXI9dHJpZ2dlcixleHBvcnRzLkV2ZW50PXZvaWQgMDt2YXIgX2V4dGVuZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTIpKSxfd2luZG93PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1KSksX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTApKSxfY2FuVXNlRE9NPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2KSksRXZlbnQ7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KGVsZW0pe3JldHVybiBlbGVtIGluc3RhbmNlb2YgRWxlbWVudH1mdW5jdGlvbiBvbihldmVudHMsaGFuZGxlcil7ZnVuY3Rpb24gYWRkRXZlbnQoZXYsbmFtZXNwYWNlKXtlbGVtLmFkZEV2ZW50TGlzdGVuZXI/ZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2LGhhbmRsZXIsITEpOmVsZW0uYXR0YWNoRXZlbnQmJmVsZW0uYXR0YWNoRXZlbnQoXCJvblwiK2V2LGhhbmRsZXIpLGV2ZW50UmVnaXN0cnlbZXZdPWV2ZW50UmVnaXN0cnlbZXZdfHx7fSxldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdPWV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV18fFtdLGV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV0ucHVzaChoYW5kbGVyKX1pZihpc1ZhbGlkRWxlbWVudCh0aGlzWzBdKSlmb3IodmFyIGV2ZW50UmVnaXN0cnk9dGhpc1swXS5ldmVudFJlZ2lzdHJ5LGVsZW09dGhpc1swXSxfZXZlbnRzPWV2ZW50cy5zcGxpdChcIiBcIiksZW5keD0wO2VuZHg8X2V2ZW50cy5sZW5ndGg7ZW5keCsrKXt2YXIgbnNFdmVudD1fZXZlbnRzW2VuZHhdLnNwbGl0KFwiLlwiKSxldj1uc0V2ZW50WzBdLG5hbWVzcGFjZT1uc0V2ZW50WzFdfHxcImdsb2JhbFwiO2FkZEV2ZW50KGV2LG5hbWVzcGFjZSl9cmV0dXJuIHRoaXN9ZnVuY3Rpb24gb2ZmKGV2ZW50cyxoYW5kbGVyKXt2YXIgZXZlbnRSZWdpc3RyeSxlbGVtO2Z1bmN0aW9uIHJlbW92ZUV2ZW50KGV2LG5hbWVzcGFjZSxoYW5kbGVyKXtpZihldiBpbiBldmVudFJlZ2lzdHJ5PT0hMClpZihlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2LGhhbmRsZXIsITEpOmVsZW0uZGV0YWNoRXZlbnQmJmVsZW0uZGV0YWNoRXZlbnQoXCJvblwiK2V2LGhhbmRsZXIpLFwiZ2xvYmFsXCI9PT1uYW1lc3BhY2UpZm9yKHZhciBubXNwIGluIGV2ZW50UmVnaXN0cnlbZXZdKWV2ZW50UmVnaXN0cnlbZXZdW25tc3BdLnNwbGljZShldmVudFJlZ2lzdHJ5W2V2XVtubXNwXS5pbmRleE9mKGhhbmRsZXIpLDEpO2Vsc2UgZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXS5zcGxpY2UoZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXS5pbmRleE9mKGhhbmRsZXIpLDEpfWZ1bmN0aW9uIHJlc29sdmVOYW1lc3BhY2UoZXYsbmFtZXNwYWNlKXt2YXIgZXZ0cz1bXSxobmR4LGhuZEw7aWYoMDxldi5sZW5ndGgpaWYodm9pZCAwPT09aGFuZGxlcilmb3IoaG5keD0wLGhuZEw9ZXZlbnRSZWdpc3RyeVtldl1bbmFtZXNwYWNlXS5sZW5ndGg7aG5keDxobmRMO2huZHgrKylldnRzLnB1c2goe2V2OmV2LG5hbWVzcGFjZTpuYW1lc3BhY2UmJjA8bmFtZXNwYWNlLmxlbmd0aD9uYW1lc3BhY2U6XCJnbG9iYWxcIixoYW5kbGVyOmV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV1baG5keF19KTtlbHNlIGV2dHMucHVzaCh7ZXY6ZXYsbmFtZXNwYWNlOm5hbWVzcGFjZSYmMDxuYW1lc3BhY2UubGVuZ3RoP25hbWVzcGFjZTpcImdsb2JhbFwiLGhhbmRsZXI6aGFuZGxlcn0pO2Vsc2UgaWYoMDxuYW1lc3BhY2UubGVuZ3RoKWZvcih2YXIgZXZOZHggaW4gZXZlbnRSZWdpc3RyeSlmb3IodmFyIG5tc3AgaW4gZXZlbnRSZWdpc3RyeVtldk5keF0paWYobm1zcD09PW5hbWVzcGFjZSlpZih2b2lkIDA9PT1oYW5kbGVyKWZvcihobmR4PTAsaG5kTD1ldmVudFJlZ2lzdHJ5W2V2TmR4XVtubXNwXS5sZW5ndGg7aG5keDxobmRMO2huZHgrKylldnRzLnB1c2goe2V2OmV2TmR4LG5hbWVzcGFjZTpubXNwLGhhbmRsZXI6ZXZlbnRSZWdpc3RyeVtldk5keF1bbm1zcF1baG5keF19KTtlbHNlIGV2dHMucHVzaCh7ZXY6ZXZOZHgsbmFtZXNwYWNlOm5tc3AsaGFuZGxlcjpoYW5kbGVyfSk7cmV0dXJuIGV2dHN9aWYoaXNWYWxpZEVsZW1lbnQodGhpc1swXSkmJmV2ZW50cyl7ZXZlbnRSZWdpc3RyeT10aGlzWzBdLmV2ZW50UmVnaXN0cnksZWxlbT10aGlzWzBdO2Zvcih2YXIgX2V2ZW50cz1ldmVudHMuc3BsaXQoXCIgXCIpLGVuZHg9MDtlbmR4PF9ldmVudHMubGVuZ3RoO2VuZHgrKylmb3IodmFyIG5zRXZlbnQ9X2V2ZW50c1tlbmR4XS5zcGxpdChcIi5cIiksb2ZmRXZlbnRzPXJlc29sdmVOYW1lc3BhY2UobnNFdmVudFswXSxuc0V2ZW50WzFdKSxpPTAsb2ZmRXZlbnRzTD1vZmZFdmVudHMubGVuZ3RoO2k8b2ZmRXZlbnRzTDtpKyspcmVtb3ZlRXZlbnQob2ZmRXZlbnRzW2ldLmV2LG9mZkV2ZW50c1tpXS5uYW1lc3BhY2Usb2ZmRXZlbnRzW2ldLmhhbmRsZXIpfXJldHVybiB0aGlzfWZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRzKXtpZihpc1ZhbGlkRWxlbWVudCh0aGlzWzBdKSlmb3IodmFyIGV2ZW50UmVnaXN0cnk9dGhpc1swXS5ldmVudFJlZ2lzdHJ5LGVsZW09dGhpc1swXSxfZXZlbnRzPVwic3RyaW5nXCI9PXR5cGVvZiBldmVudHM/ZXZlbnRzLnNwbGl0KFwiIFwiKTpbZXZlbnRzLnR5cGVdLGVuZHg9MDtlbmR4PF9ldmVudHMubGVuZ3RoO2VuZHgrKyl7dmFyIG5zRXZlbnQ9X2V2ZW50c1tlbmR4XS5zcGxpdChcIi5cIiksZXY9bnNFdmVudFswXSxuYW1lc3BhY2U9bnNFdmVudFsxXXx8XCJnbG9iYWxcIjtpZih2b2lkIDAhPT1kb2N1bWVudCYmXCJnbG9iYWxcIj09PW5hbWVzcGFjZSl7dmFyIGV2bnQsaSxwYXJhbXM9e2J1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxkZXRhaWw6YXJndW1lbnRzWzFdfTtpZihkb2N1bWVudC5jcmVhdGVFdmVudCl7dHJ5e3N3aXRjaChldil7Y2FzZVwiaW5wdXRcIjpldm50PW5ldyBJbnB1dEV2ZW50KGV2LHBhcmFtcyk7YnJlYWs7ZGVmYXVsdDpldm50PW5ldyBDdXN0b21FdmVudChldixwYXJhbXMpfX1jYXRjaChlKXtldm50PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksZXZudC5pbml0Q3VzdG9tRXZlbnQoZXYscGFyYW1zLmJ1YmJsZXMscGFyYW1zLmNhbmNlbGFibGUscGFyYW1zLmRldGFpbCl9ZXZlbnRzLnR5cGUmJigwLF9leHRlbmQuZGVmYXVsdCkoZXZudCxldmVudHMpLGVsZW0uZGlzcGF0Y2hFdmVudChldm50KX1lbHNlIGV2bnQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKSxldm50LmV2ZW50VHlwZT1ldixldm50LmRldGFpbD1hcmd1bWVudHNbMV0sZXZlbnRzLnR5cGUmJigwLF9leHRlbmQuZGVmYXVsdCkoZXZudCxldmVudHMpLGVsZW0uZmlyZUV2ZW50KFwib25cIitldm50LmV2ZW50VHlwZSxldm50KX1lbHNlIGlmKHZvaWQgMCE9PWV2ZW50UmVnaXN0cnlbZXZdKWlmKGFyZ3VtZW50c1swXT1hcmd1bWVudHNbMF0udHlwZT9hcmd1bWVudHNbMF06X2lucHV0bWFzay5kZWZhdWx0LkV2ZW50KGFyZ3VtZW50c1swXSksYXJndW1lbnRzWzBdLmRldGFpbD1hcmd1bWVudHMuc2xpY2UoMSksXCJnbG9iYWxcIj09PW5hbWVzcGFjZSlmb3IodmFyIG5tc3AgaW4gZXZlbnRSZWdpc3RyeVtldl0pZm9yKGk9MDtpPGV2ZW50UmVnaXN0cnlbZXZdW25tc3BdLmxlbmd0aDtpKyspZXZlbnRSZWdpc3RyeVtldl1bbm1zcF1baV0uYXBwbHkoZWxlbSxhcmd1bWVudHMpO2Vsc2UgZm9yKGk9MDtpPGV2ZW50UmVnaXN0cnlbZXZdW25hbWVzcGFjZV0ubGVuZ3RoO2krKylldmVudFJlZ2lzdHJ5W2V2XVtuYW1lc3BhY2VdW2ldLmFwcGx5KGVsZW0sYXJndW1lbnRzKX1yZXR1cm4gdGhpc31leHBvcnRzLkV2ZW50PUV2ZW50LFwiZnVuY3Rpb25cIj09dHlwZW9mIF93aW5kb3cuZGVmYXVsdC5DdXN0b21FdmVudD9leHBvcnRzLkV2ZW50PUV2ZW50PV93aW5kb3cuZGVmYXVsdC5DdXN0b21FdmVudDpfY2FuVXNlRE9NLmRlZmF1bHQmJihleHBvcnRzLkV2ZW50PUV2ZW50PWZ1bmN0aW9uIEV2ZW50KGV2ZW50LHBhcmFtcyl7cGFyYW1zPXBhcmFtc3x8e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxkZXRhaWw6dm9pZCAwfTt2YXIgZXZ0PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIGV2dC5pbml0Q3VzdG9tRXZlbnQoZXZlbnQscGFyYW1zLmJ1YmJsZXMscGFyYW1zLmNhbmNlbGFibGUscGFyYW1zLmRldGFpbCksZXZ0fSxFdmVudC5wcm90b3R5cGU9X3dpbmRvdy5kZWZhdWx0LkV2ZW50LnByb3RvdHlwZSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZ2VuZXJhdGVNYXNrU2V0PWdlbmVyYXRlTWFza1NldCxleHBvcnRzLmFuYWx5c2VNYXNrPWFuYWx5c2VNYXNrO3ZhciBfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBnZW5lcmF0ZU1hc2tTZXQob3B0cyxub2NhY2hlKXt2YXIgbXM7ZnVuY3Rpb24gZ2VuZXJhdGVNYXNrKG1hc2ssbWV0YWRhdGEsb3B0cyl7dmFyIHJlZ2V4TWFzaz0hMSxtYXNrc2V0RGVmaW5pdGlvbixtYXNrZGVmS2V5O2lmKG51bGwhPT1tYXNrJiZcIlwiIT09bWFza3x8KHJlZ2V4TWFzaz1udWxsIT09b3B0cy5yZWdleCxtYXNrPXJlZ2V4TWFzaz8obWFzaz1vcHRzLnJlZ2V4LG1hc2sucmVwbGFjZSgvXihcXF4pKC4qKShcXCQpJC8sXCIkMlwiKSk6KHJlZ2V4TWFzaz0hMCxcIi4qXCIpKSwxPT09bWFzay5sZW5ndGgmJiExPT09b3B0cy5ncmVlZHkmJjAhPT1vcHRzLnJlcGVhdCYmKG9wdHMucGxhY2Vob2xkZXI9XCJcIiksMDxvcHRzLnJlcGVhdHx8XCIqXCI9PT1vcHRzLnJlcGVhdHx8XCIrXCI9PT1vcHRzLnJlcGVhdCl7dmFyIHJlcGVhdFN0YXJ0PVwiKlwiPT09b3B0cy5yZXBlYXQ/MDpcIitcIj09PW9wdHMucmVwZWF0PzE6b3B0cy5yZXBlYXQ7bWFzaz1vcHRzLmdyb3VwbWFya2VyWzBdK21hc2srb3B0cy5ncm91cG1hcmtlclsxXStvcHRzLnF1YW50aWZpZXJtYXJrZXJbMF0rcmVwZWF0U3RhcnQrXCIsXCIrb3B0cy5yZXBlYXQrb3B0cy5xdWFudGlmaWVybWFya2VyWzFdfXJldHVybiBtYXNrZGVmS2V5PXJlZ2V4TWFzaz9cInJlZ2V4X1wiK29wdHMucmVnZXg6b3B0cy5udW1lcmljSW5wdXQ/bWFzay5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTptYXNrLCExIT09b3B0cy5rZWVwU3RhdGljJiYobWFza2RlZktleT1cImtzX1wiK21hc2tkZWZLZXkpLHZvaWQgMD09PUlucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrZGVmS2V5XXx8ITA9PT1ub2NhY2hlPyhtYXNrc2V0RGVmaW5pdGlvbj17bWFzazptYXNrLG1hc2tUb2tlbjpJbnB1dG1hc2sucHJvdG90eXBlLmFuYWx5c2VNYXNrKG1hc2sscmVnZXhNYXNrLG9wdHMpLHZhbGlkUG9zaXRpb25zOnt9LF9idWZmZXI6dm9pZCAwLGJ1ZmZlcjp2b2lkIDAsdGVzdHM6e30sZXhjbHVkZXM6e30sbWV0YWRhdGE6bWV0YWRhdGEsbWFza0xlbmd0aDp2b2lkIDAsaml0T2Zmc2V0Ont9fSwhMCE9PW5vY2FjaGUmJihJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza2RlZktleV09bWFza3NldERlZmluaXRpb24sbWFza3NldERlZmluaXRpb249X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCx7fSxJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza2RlZktleV0pKSk6bWFza3NldERlZmluaXRpb249X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZCghMCx7fSxJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza2RlZktleV0pLG1hc2tzZXREZWZpbml0aW9ufWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdHMubWFzayYmKG9wdHMubWFzaz1vcHRzLm1hc2sob3B0cykpLEFycmF5LmlzQXJyYXkob3B0cy5tYXNrKSl7aWYoMTxvcHRzLm1hc2subGVuZ3RoKXtudWxsPT09b3B0cy5rZWVwU3RhdGljJiYob3B0cy5rZWVwU3RhdGljPSEwKTt2YXIgYWx0TWFzaz1vcHRzLmdyb3VwbWFya2VyWzBdO3JldHVybihvcHRzLmlzUlRMP29wdHMubWFzay5yZXZlcnNlKCk6b3B0cy5tYXNrKS5mb3JFYWNoKGZ1bmN0aW9uKG1zayl7MTxhbHRNYXNrLmxlbmd0aCYmKGFsdE1hc2srPW9wdHMuZ3JvdXBtYXJrZXJbMV0rb3B0cy5hbHRlcm5hdG9ybWFya2VyK29wdHMuZ3JvdXBtYXJrZXJbMF0pLHZvaWQgMCE9PW1zay5tYXNrJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBtc2subWFzaz9hbHRNYXNrKz1tc2subWFzazphbHRNYXNrKz1tc2t9KSxhbHRNYXNrKz1vcHRzLmdyb3VwbWFya2VyWzFdLGdlbmVyYXRlTWFzayhhbHRNYXNrLG9wdHMubWFzayxvcHRzKX1vcHRzLm1hc2s9b3B0cy5tYXNrLnBvcCgpfXJldHVybiBudWxsPT09b3B0cy5rZWVwU3RhdGljJiYob3B0cy5rZWVwU3RhdGljPSExKSxtcz1vcHRzLm1hc2smJnZvaWQgMCE9PW9wdHMubWFzay5tYXNrJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBvcHRzLm1hc2subWFzaz9nZW5lcmF0ZU1hc2sob3B0cy5tYXNrLm1hc2ssb3B0cy5tYXNrLG9wdHMpOmdlbmVyYXRlTWFzayhvcHRzLm1hc2ssb3B0cy5tYXNrLG9wdHMpLG1zfWZ1bmN0aW9uIGFuYWx5c2VNYXNrKG1hc2sscmVnZXhNYXNrLG9wdHMpe3ZhciB0b2tlbml6ZXI9Lyg/Ols/KitdfFxce1swLTkrKl0rKD86LFswLTkrKl0qKT8oPzpcXHxbMC05KypdKik/XFx9KXxbXi4/KiteJHtbXSgpfFxcXFxdK3wuL2cscmVnZXhUb2tlbml6ZXI9L1xcW1xcXj9dPyg/OlteXFxcXFxcXV0rfFxcXFxbXFxTXFxzXT8pKl0/fFxcXFwoPzowKD86WzAtM11bMC03XXswLDJ9fFs0LTddWzAtN10/KT98WzEtOV1bMC05XSp8eFswLTlBLUZhLWZdezJ9fHVbMC05QS1GYS1mXXs0fXxjW0EtWmEtel18W1xcU1xcc10/KXxcXCgoPzpcXD9bOj0hXT8pP3woPzpbPyorXXxcXHtbMC05XSsoPzosWzAtOV0qKT9cXH0pXFw/P3xbXi4/KiteJHtbKCl8XFxcXF0rfC4vZyxlc2NhcGVkPSExLGN1cnJlbnRUb2tlbj1uZXcgTWFza1Rva2VuLG1hdGNoLG0sb3BlbmVuaW5ncz1bXSxtYXNrVG9rZW5zPVtdLG9wZW5pbmdUb2tlbixjdXJyZW50T3BlbmluZ1Rva2VuLGFsdGVybmF0b3IsbGFzdE1hdGNoLGNsb3NlUmVnZXhHcm91cD0hMTtmdW5jdGlvbiBNYXNrVG9rZW4oaXNHcm91cCxpc09wdGlvbmFsLGlzUXVhbnRpZmllcixpc0FsdGVybmF0b3Ipe3RoaXMubWF0Y2hlcz1bXSx0aGlzLm9wZW5Hcm91cD1pc0dyb3VwfHwhMSx0aGlzLmFsdGVybmF0b3JHcm91cD0hMSx0aGlzLmlzR3JvdXA9aXNHcm91cHx8ITEsdGhpcy5pc09wdGlvbmFsPWlzT3B0aW9uYWx8fCExLHRoaXMuaXNRdWFudGlmaWVyPWlzUXVhbnRpZmllcnx8ITEsdGhpcy5pc0FsdGVybmF0b3I9aXNBbHRlcm5hdG9yfHwhMSx0aGlzLnF1YW50aWZpZXI9e21pbjoxLG1heDoxfX1mdW5jdGlvbiBpbnNlcnRUZXN0RGVmaW5pdGlvbihtdG9rZW4sZWxlbWVudCxwb3NpdGlvbil7cG9zaXRpb249dm9pZCAwIT09cG9zaXRpb24/cG9zaXRpb246bXRva2VuLm1hdGNoZXMubGVuZ3RoO3ZhciBwcmV2TWF0Y2g9bXRva2VuLm1hdGNoZXNbcG9zaXRpb24tMV07aWYocmVnZXhNYXNrKTA9PT1lbGVtZW50LmluZGV4T2YoXCJbXCIpfHxlc2NhcGVkJiYvXFxcXGR8XFxcXHN8XFxcXHddL2kudGVzdChlbGVtZW50KXx8XCIuXCI9PT1lbGVtZW50P210b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLDAse2ZuOm5ldyBSZWdFeHAoZWxlbWVudCxvcHRzLmNhc2luZz9cImlcIjpcIlwiKSxzdGF0aWM6ITEsb3B0aW9uYWxpdHk6ITEsbmV3QmxvY2tNYXJrZXI6dm9pZCAwPT09cHJldk1hdGNoP1wibWFzdGVyXCI6cHJldk1hdGNoLmRlZiE9PWVsZW1lbnQsY2FzaW5nOm51bGwsZGVmOmVsZW1lbnQscGxhY2Vob2xkZXI6dm9pZCAwLG5hdGl2ZURlZjplbGVtZW50fSk6KGVzY2FwZWQmJihlbGVtZW50PWVsZW1lbnRbZWxlbWVudC5sZW5ndGgtMV0pLGVsZW1lbnQuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbihsbW50LG5keCl7cHJldk1hdGNoPW10b2tlbi5tYXRjaGVzW3Bvc2l0aW9uLTFdLG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLDAse2ZuOi9bYS16XS9pLnRlc3Qob3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxsbW50KT9uZXcgUmVnRXhwKFwiW1wiKyhvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGxtbnQpK1wiXVwiLG9wdHMuY2FzaW5nP1wiaVwiOlwiXCIpOm51bGwsc3RhdGljOiEwLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT1sbW50JiYhMCE9PXByZXZNYXRjaC5zdGF0aWMsY2FzaW5nOm51bGwsZGVmOm9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8bG1udCxwbGFjZWhvbGRlcjp2b2lkIDAhPT1vcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2w/bG1udDp2b2lkIDAsbmF0aXZlRGVmOihlc2NhcGVkP1wiJ1wiOlwiXCIpK2xtbnR9KX0pKSxlc2NhcGVkPSExO2Vsc2V7dmFyIG1hc2tkZWY9b3B0cy5kZWZpbml0aW9ucyYmb3B0cy5kZWZpbml0aW9uc1tlbGVtZW50XXx8b3B0cy51c2VQcm90b3R5cGVEZWZpbml0aW9ucyYmSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZpbml0aW9uc1tlbGVtZW50XTttYXNrZGVmJiYhZXNjYXBlZD9tdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywwLHtmbjptYXNrZGVmLnZhbGlkYXRvcj9cInN0cmluZ1wiPT10eXBlb2YgbWFza2RlZi52YWxpZGF0b3I/bmV3IFJlZ0V4cChtYXNrZGVmLnZhbGlkYXRvcixvcHRzLmNhc2luZz9cImlcIjpcIlwiKTpuZXcgZnVuY3Rpb24oKXt0aGlzLnRlc3Q9bWFza2RlZi52YWxpZGF0b3J9Om5ldyBSZWdFeHAoXCIuXCIpLHN0YXRpYzptYXNrZGVmLnN0YXRpY3x8ITEsb3B0aW9uYWxpdHk6ITEsbmV3QmxvY2tNYXJrZXI6dm9pZCAwPT09cHJldk1hdGNoP1wibWFzdGVyXCI6cHJldk1hdGNoLmRlZiE9PShtYXNrZGVmLmRlZmluaXRpb25TeW1ib2x8fGVsZW1lbnQpLGNhc2luZzptYXNrZGVmLmNhc2luZyxkZWY6bWFza2RlZi5kZWZpbml0aW9uU3ltYm9sfHxlbGVtZW50LHBsYWNlaG9sZGVyOm1hc2tkZWYucGxhY2Vob2xkZXIsbmF0aXZlRGVmOmVsZW1lbnQsZ2VuZXJhdGVkOm1hc2tkZWYuZ2VuZXJhdGVkfSk6KG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLDAse2ZuOi9bYS16XS9pLnRlc3Qob3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxlbGVtZW50KT9uZXcgUmVnRXhwKFwiW1wiKyhvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGVsZW1lbnQpK1wiXVwiLG9wdHMuY2FzaW5nP1wiaVwiOlwiXCIpOm51bGwsc3RhdGljOiEwLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT1lbGVtZW50JiYhMCE9PXByZXZNYXRjaC5zdGF0aWMsY2FzaW5nOm51bGwsZGVmOm9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8ZWxlbWVudCxwbGFjZWhvbGRlcjp2b2lkIDAhPT1vcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2w/ZWxlbWVudDp2b2lkIDAsbmF0aXZlRGVmOihlc2NhcGVkP1wiJ1wiOlwiXCIpK2VsZW1lbnR9KSxlc2NhcGVkPSExKX19ZnVuY3Rpb24gdmVyaWZ5R3JvdXBNYXJrZXIobWFza1Rva2VuKXttYXNrVG9rZW4mJm1hc2tUb2tlbi5tYXRjaGVzJiZtYXNrVG9rZW4ubWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKHRva2VuLG5keCl7dmFyIG5leHRUb2tlbj1tYXNrVG9rZW4ubWF0Y2hlc1tuZHgrMV07KHZvaWQgMD09PW5leHRUb2tlbnx8dm9pZCAwPT09bmV4dFRva2VuLm1hdGNoZXN8fCExPT09bmV4dFRva2VuLmlzUXVhbnRpZmllcikmJnRva2VuJiZ0b2tlbi5pc0dyb3VwJiYodG9rZW4uaXNHcm91cD0hMSxyZWdleE1hc2t8fChpbnNlcnRUZXN0RGVmaW5pdGlvbih0b2tlbixvcHRzLmdyb3VwbWFya2VyWzBdLDApLCEwIT09dG9rZW4ub3Blbkdyb3VwJiZpbnNlcnRUZXN0RGVmaW5pdGlvbih0b2tlbixvcHRzLmdyb3VwbWFya2VyWzFdKSkpLHZlcmlmeUdyb3VwTWFya2VyKHRva2VuKX0pfWZ1bmN0aW9uIGRlZmF1bHRDYXNlKCl7aWYoMDxvcGVuZW5pbmdzLmxlbmd0aCl7aWYoY3VycmVudE9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoLTFdLGluc2VydFRlc3REZWZpbml0aW9uKGN1cnJlbnRPcGVuaW5nVG9rZW4sbSksY3VycmVudE9wZW5pbmdUb2tlbi5pc0FsdGVybmF0b3Ipe2FsdGVybmF0b3I9b3BlbmVuaW5ncy5wb3AoKTtmb3IodmFyIG1uZHg9MDttbmR4PGFsdGVybmF0b3IubWF0Y2hlcy5sZW5ndGg7bW5keCsrKWFsdGVybmF0b3IubWF0Y2hlc1ttbmR4XS5pc0dyb3VwJiYoYWx0ZXJuYXRvci5tYXRjaGVzW21uZHhdLmlzR3JvdXA9ITEpOzA8b3BlbmVuaW5ncy5sZW5ndGg/KGN1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXSxjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKSk6Y3VycmVudFRva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKX19ZWxzZSBpbnNlcnRUZXN0RGVmaW5pdGlvbihjdXJyZW50VG9rZW4sbSl9ZnVuY3Rpb24gcmV2ZXJzZVRva2VucyhtYXNrVG9rZW4pe2Z1bmN0aW9uIHJldmVyc2VTdGF0aWMoc3Qpe3JldHVybiBzdD09PW9wdHMub3B0aW9uYWxtYXJrZXJbMF0/c3Q9b3B0cy5vcHRpb25hbG1hcmtlclsxXTpzdD09PW9wdHMub3B0aW9uYWxtYXJrZXJbMV0/c3Q9b3B0cy5vcHRpb25hbG1hcmtlclswXTpzdD09PW9wdHMuZ3JvdXBtYXJrZXJbMF0/c3Q9b3B0cy5ncm91cG1hcmtlclsxXTpzdD09PW9wdHMuZ3JvdXBtYXJrZXJbMV0mJihzdD1vcHRzLmdyb3VwbWFya2VyWzBdKSxzdH1mb3IodmFyIG1hdGNoIGluIG1hc2tUb2tlbi5tYXRjaGVzPW1hc2tUb2tlbi5tYXRjaGVzLnJldmVyc2UoKSxtYXNrVG9rZW4ubWF0Y2hlcylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFza1Rva2VuLm1hdGNoZXMsbWF0Y2gpKXt2YXIgaW50TWF0Y2g9cGFyc2VJbnQobWF0Y2gpO2lmKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXS5pc1F1YW50aWZpZXImJm1hc2tUb2tlbi5tYXRjaGVzW2ludE1hdGNoKzFdJiZtYXNrVG9rZW4ubWF0Y2hlc1tpbnRNYXRjaCsxXS5pc0dyb3VwKXt2YXIgcXQ9bWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdO21hc2tUb2tlbi5tYXRjaGVzLnNwbGljZShtYXRjaCwxKSxtYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UoaW50TWF0Y2grMSwwLHF0KX12b2lkIDAhPT1tYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0ubWF0Y2hlcz9tYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF09cmV2ZXJzZVRva2VucyhtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0pOm1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXT1yZXZlcnNlU3RhdGljKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSl9cmV0dXJuIG1hc2tUb2tlbn1mdW5jdGlvbiBncm91cGlmeShtYXRjaGVzKXt2YXIgZ3JvdXBUb2tlbj1uZXcgTWFza1Rva2VuKCEwKTtyZXR1cm4gZ3JvdXBUb2tlbi5vcGVuR3JvdXA9ITEsZ3JvdXBUb2tlbi5tYXRjaGVzPW1hdGNoZXMsZ3JvdXBUb2tlbn1mdW5jdGlvbiBjbG9zZUdyb3VwKCl7aWYob3BlbmluZ1Rva2VuPW9wZW5lbmluZ3MucG9wKCksb3BlbmluZ1Rva2VuLm9wZW5Hcm91cD0hMSx2b2lkIDAhPT1vcGVuaW5nVG9rZW4paWYoMDxvcGVuZW5pbmdzLmxlbmd0aCl7aWYoY3VycmVudE9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoLTFdLGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbiksY3VycmVudE9wZW5pbmdUb2tlbi5pc0FsdGVybmF0b3Ipe2FsdGVybmF0b3I9b3BlbmVuaW5ncy5wb3AoKTtmb3IodmFyIG1uZHg9MDttbmR4PGFsdGVybmF0b3IubWF0Y2hlcy5sZW5ndGg7bW5keCsrKWFsdGVybmF0b3IubWF0Y2hlc1ttbmR4XS5pc0dyb3VwPSExLGFsdGVybmF0b3IubWF0Y2hlc1ttbmR4XS5hbHRlcm5hdG9yR3JvdXA9ITE7MDxvcGVuZW5pbmdzLmxlbmd0aD8oY3VycmVudE9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoLTFdLGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpKTpjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpfX1lbHNlIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKTtlbHNlIGRlZmF1bHRDYXNlKCl9ZnVuY3Rpb24gZ3JvdXBRdWFudGlmaWVyKG1hdGNoZXMpe3ZhciBsYXN0TWF0Y2g9bWF0Y2hlcy5wb3AoKTtyZXR1cm4gbGFzdE1hdGNoLmlzUXVhbnRpZmllciYmKGxhc3RNYXRjaD1ncm91cGlmeShbbWF0Y2hlcy5wb3AoKSxsYXN0TWF0Y2hdKSksbGFzdE1hdGNofWZvcihyZWdleE1hc2smJihvcHRzLm9wdGlvbmFsbWFya2VyWzBdPXZvaWQgMCxvcHRzLm9wdGlvbmFsbWFya2VyWzFdPXZvaWQgMCk7bWF0Y2g9cmVnZXhNYXNrP3JlZ2V4VG9rZW5pemVyLmV4ZWMobWFzayk6dG9rZW5pemVyLmV4ZWMobWFzayk7KXtpZihtPW1hdGNoWzBdLHJlZ2V4TWFzaylzd2l0Y2gobS5jaGFyQXQoMCkpe2Nhc2VcIj9cIjptPVwiezAsMX1cIjticmVhaztjYXNlXCIrXCI6Y2FzZVwiKlwiOm09XCJ7XCIrbStcIn1cIjticmVhaztjYXNlXCJ8XCI6aWYoMD09PW9wZW5lbmluZ3MubGVuZ3RoKXt2YXIgYWx0UmVnZXhHcm91cD1ncm91cGlmeShjdXJyZW50VG9rZW4ubWF0Y2hlcyk7YWx0UmVnZXhHcm91cC5vcGVuR3JvdXA9ITAsb3BlbmVuaW5ncy5wdXNoKGFsdFJlZ2V4R3JvdXApLGN1cnJlbnRUb2tlbi5tYXRjaGVzPVtdLGNsb3NlUmVnZXhHcm91cD0hMH1icmVha31pZihlc2NhcGVkKWRlZmF1bHRDYXNlKCk7ZWxzZSBzd2l0Y2gobS5jaGFyQXQoMCkpe2Nhc2VcIiRcIjpjYXNlXCJeXCI6cmVnZXhNYXNrfHxkZWZhdWx0Q2FzZSgpO2JyZWFrO2Nhc2VcIig/PVwiOmJyZWFrO2Nhc2VcIig/IVwiOmJyZWFrO2Nhc2VcIig/PD1cIjpicmVhaztjYXNlXCIoPzwhXCI6YnJlYWs7Y2FzZSBvcHRzLmVzY2FwZUNoYXI6ZXNjYXBlZD0hMCxyZWdleE1hc2smJmRlZmF1bHRDYXNlKCk7YnJlYWs7Y2FzZSBvcHRzLm9wdGlvbmFsbWFya2VyWzFdOmNhc2Ugb3B0cy5ncm91cG1hcmtlclsxXTpjbG9zZUdyb3VwKCk7YnJlYWs7Y2FzZSBvcHRzLm9wdGlvbmFsbWFya2VyWzBdOm9wZW5lbmluZ3MucHVzaChuZXcgTWFza1Rva2VuKCExLCEwKSk7YnJlYWs7Y2FzZSBvcHRzLmdyb3VwbWFya2VyWzBdOm9wZW5lbmluZ3MucHVzaChuZXcgTWFza1Rva2VuKCEwKSk7YnJlYWs7Y2FzZSBvcHRzLnF1YW50aWZpZXJtYXJrZXJbMF06dmFyIHF1YW50aWZpZXI9bmV3IE1hc2tUb2tlbighMSwhMSwhMCk7bT1tLnJlcGxhY2UoL1t7fV0vZyxcIlwiKTt2YXIgbXFqPW0uc3BsaXQoXCJ8XCIpLG1xPW1xalswXS5zcGxpdChcIixcIiksbXEwPWlzTmFOKG1xWzBdKT9tcVswXTpwYXJzZUludChtcVswXSksbXExPTE9PT1tcS5sZW5ndGg/bXEwOmlzTmFOKG1xWzFdKT9tcVsxXTpwYXJzZUludChtcVsxXSk7XCIqXCIhPT1tcTAmJlwiK1wiIT09bXEwfHwobXEwPVwiKlwiPT09bXExPzA6MSkscXVhbnRpZmllci5xdWFudGlmaWVyPXttaW46bXEwLG1heDptcTEsaml0Om1xalsxXX07dmFyIG1hdGNoZXM9MDxvcGVuZW5pbmdzLmxlbmd0aD9vcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoLTFdLm1hdGNoZXM6Y3VycmVudFRva2VuLm1hdGNoZXM7aWYobWF0Y2g9bWF0Y2hlcy5wb3AoKSxtYXRjaC5pc0FsdGVybmF0b3Ipe21hdGNoZXMucHVzaChtYXRjaCksbWF0Y2hlcz1tYXRjaC5tYXRjaGVzO3ZhciBncm91cFRva2VuPW5ldyBNYXNrVG9rZW4oITApLHRtcE1hdGNoPW1hdGNoZXMucG9wKCk7bWF0Y2hlcy5wdXNoKGdyb3VwVG9rZW4pLG1hdGNoZXM9Z3JvdXBUb2tlbi5tYXRjaGVzLG1hdGNoPXRtcE1hdGNofW1hdGNoLmlzR3JvdXB8fChtYXRjaD1ncm91cGlmeShbbWF0Y2hdKSksbWF0Y2hlcy5wdXNoKG1hdGNoKSxtYXRjaGVzLnB1c2gocXVhbnRpZmllcik7YnJlYWs7Y2FzZSBvcHRzLmFsdGVybmF0b3JtYXJrZXI6aWYoMDxvcGVuZW5pbmdzLmxlbmd0aCl7Y3VycmVudE9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoLTFdO3ZhciBzdWJUb2tlbj1jdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXNbY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLmxlbmd0aC0xXTtsYXN0TWF0Y2g9Y3VycmVudE9wZW5pbmdUb2tlbi5vcGVuR3JvdXAmJih2b2lkIDA9PT1zdWJUb2tlbi5tYXRjaGVzfHwhMT09PXN1YlRva2VuLmlzR3JvdXAmJiExPT09c3ViVG9rZW4uaXNBbHRlcm5hdG9yKT9vcGVuZW5pbmdzLnBvcCgpOmdyb3VwUXVhbnRpZmllcihjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMpfWVsc2UgbGFzdE1hdGNoPWdyb3VwUXVhbnRpZmllcihjdXJyZW50VG9rZW4ubWF0Y2hlcyk7aWYobGFzdE1hdGNoLmlzQWx0ZXJuYXRvcilvcGVuZW5pbmdzLnB1c2gobGFzdE1hdGNoKTtlbHNlIGlmKGxhc3RNYXRjaC5hbHRlcm5hdG9yR3JvdXA/KGFsdGVybmF0b3I9b3BlbmVuaW5ncy5wb3AoKSxsYXN0TWF0Y2guYWx0ZXJuYXRvckdyb3VwPSExKTphbHRlcm5hdG9yPW5ldyBNYXNrVG9rZW4oITEsITEsITEsITApLGFsdGVybmF0b3IubWF0Y2hlcy5wdXNoKGxhc3RNYXRjaCksb3BlbmVuaW5ncy5wdXNoKGFsdGVybmF0b3IpLGxhc3RNYXRjaC5vcGVuR3JvdXApe2xhc3RNYXRjaC5vcGVuR3JvdXA9ITE7dmFyIGFsdGVybmF0b3JHcm91cD1uZXcgTWFza1Rva2VuKCEwKTthbHRlcm5hdG9yR3JvdXAuYWx0ZXJuYXRvckdyb3VwPSEwLG9wZW5lbmluZ3MucHVzaChhbHRlcm5hdG9yR3JvdXApfWJyZWFrO2RlZmF1bHQ6ZGVmYXVsdENhc2UoKX19Zm9yKGNsb3NlUmVnZXhHcm91cCYmY2xvc2VHcm91cCgpOzA8b3BlbmVuaW5ncy5sZW5ndGg7KW9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzLnBvcCgpLGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKTtyZXR1cm4gMDxjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGgmJih2ZXJpZnlHcm91cE1hcmtlcihjdXJyZW50VG9rZW4pLG1hc2tUb2tlbnMucHVzaChjdXJyZW50VG9rZW4pKSwob3B0cy5udW1lcmljSW5wdXR8fG9wdHMuaXNSVEwpJiZyZXZlcnNlVG9rZW5zKG1hc2tUb2tlbnNbMF0pLG1hc2tUb2tlbnN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBfZGVmYXVsdD17OTp7dmFsaWRhdG9yOlwiWzAtOVxcdWZmMTAtXFx1ZmYxOV1cIixkZWZpbml0aW9uU3ltYm9sOlwiKlwifSxhOnt2YWxpZGF0b3I6XCJbQS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLGRlZmluaXRpb25TeW1ib2w6XCIqXCJ9LFwiKlwiOnt2YWxpZGF0b3I6XCJbMC05XFx1ZmYxMC1cXHVmZjE5QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwifX07ZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBfZGVmYXVsdD17X21heFRlc3RQb3M6NTAwLHBsYWNlaG9sZGVyOlwiX1wiLG9wdGlvbmFsbWFya2VyOltcIltcIixcIl1cIl0scXVhbnRpZmllcm1hcmtlcjpbXCJ7XCIsXCJ9XCJdLGdyb3VwbWFya2VyOltcIihcIixcIilcIl0sYWx0ZXJuYXRvcm1hcmtlcjpcInxcIixlc2NhcGVDaGFyOlwiXFxcXFwiLG1hc2s6bnVsbCxyZWdleDpudWxsLG9uY29tcGxldGU6ZnVuY3Rpb24gb25jb21wbGV0ZSgpe30sb25pbmNvbXBsZXRlOmZ1bmN0aW9uIG9uaW5jb21wbGV0ZSgpe30sb25jbGVhcmVkOmZ1bmN0aW9uIG9uY2xlYXJlZCgpe30scmVwZWF0OjAsZ3JlZWR5OiExLGF1dG9Vbm1hc2s6ITEscmVtb3ZlTWFza09uU3VibWl0OiExLGNsZWFyTWFza09uTG9zdEZvY3VzOiEwLGluc2VydE1vZGU6ITAsaW5zZXJ0TW9kZVZpc3VhbDohMCxjbGVhckluY29tcGxldGU6ITEsYWxpYXM6bnVsbCxvbktleURvd246ZnVuY3Rpb24gb25LZXlEb3duKCl7fSxvbkJlZm9yZU1hc2s6bnVsbCxvbkJlZm9yZVBhc3RlOmZ1bmN0aW9uIG9uQmVmb3JlUGFzdGUocGFzdGVkVmFsdWUsb3B0cyl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0cy5vbkJlZm9yZU1hc2s/b3B0cy5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLHBhc3RlZFZhbHVlLG9wdHMpOnBhc3RlZFZhbHVlfSxvbkJlZm9yZVdyaXRlOm51bGwsb25Vbk1hc2s6bnVsbCxzaG93TWFza09uRm9jdXM6ITAsc2hvd01hc2tPbkhvdmVyOiEwLG9uS2V5VmFsaWRhdGlvbjpmdW5jdGlvbiBvbktleVZhbGlkYXRpb24oKXt9LHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6XCIgXCIsbnVtZXJpY0lucHV0OiExLHJpZ2h0QWxpZ246ITEsdW5kb09uRXNjYXBlOiEwLHJhZGl4UG9pbnQ6XCJcIixfcmFkaXhEYW5jZTohMSxncm91cFNlcGFyYXRvcjpcIlwiLGtlZXBTdGF0aWM6bnVsbCxwb3NpdGlvbkNhcmV0T25UYWI6ITAsdGFiVGhyb3VnaDohMSxzdXBwb3J0c0lucHV0VHlwZTpbXCJ0ZXh0XCIsXCJ0ZWxcIixcInVybFwiLFwicGFzc3dvcmRcIixcInNlYXJjaFwiXSxpZ25vcmFibGVzOls4LDksMTksMjcsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDUsNDYsOTMsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjMsMCwyMjldLGlzQ29tcGxldGU6bnVsbCxwcmVWYWxpZGF0aW9uOm51bGwscG9zdFZhbGlkYXRpb246bnVsbCxzdGF0aWNEZWZpbml0aW9uU3ltYm9sOnZvaWQgMCxqaXRNYXNraW5nOiExLG51bGxhYmxlOiEwLGlucHV0RXZlbnRPbmx5OiExLG5vVmFsdWVQYXRjaGluZzohMSxwb3NpdGlvbkNhcmV0T25DbGljazpcImx2cFwiLGNhc2luZzpudWxsLGlucHV0bW9kZTpcInRleHRcIixpbXBvcnREYXRhQXR0cmlidXRlczohMCxzaGlmdFBvc2l0aW9uczohMCx1c2VQcm90b3R5cGVEZWZpbml0aW9uczohMH07ZXhwb3J0cy5kZWZhdWx0PV9kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX2lucHV0bWFzaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMikpLF9rZXljb2RlPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygwKSksX2VzY2FwZVJlZ2V4PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMykpLF9wb3NpdGlvbmluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfdHlwZW9mKG9iail9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fXZhciAkPV9pbnB1dG1hc2suZGVmYXVsdC5kZXBlbmRlbmN5TGliLGN1cnJlbnRZZWFyPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxmb3JtYXRDb2RlPXtkOltcIlsxLTldfFsxMl1bMC05XXwzWzAxXVwiLERhdGUucHJvdG90eXBlLnNldERhdGUsXCJkYXlcIixEYXRlLnByb3RvdHlwZS5nZXREYXRlXSxkZDpbXCIwWzEtOV18WzEyXVswLTldfDNbMDFdXCIsRGF0ZS5wcm90b3R5cGUuc2V0RGF0ZSxcImRheVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXREYXRlLmNhbGwodGhpcyksMil9XSxkZGQ6W1wiXCJdLGRkZGQ6W1wiXCJdLG06W1wiWzEtOV18MVswMTJdXCIsRGF0ZS5wcm90b3R5cGUuc2V0TW9udGgsXCJtb250aFwiLGZ1bmN0aW9uKCl7cmV0dXJuIERhdGUucHJvdG90eXBlLmdldE1vbnRoLmNhbGwodGhpcykrMX1dLG1tOltcIjBbMS05XXwxWzAxMl1cIixEYXRlLnByb3RvdHlwZS5zZXRNb250aCxcIm1vbnRoXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldE1vbnRoLmNhbGwodGhpcykrMSwyKX1dLG1tbTpbXCJcIl0sbW1tbTpbXCJcIl0seXk6W1wiWzAtOV17Mn1cIixEYXRlLnByb3RvdHlwZS5zZXRGdWxsWWVhcixcInllYXJcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0RnVsbFllYXIuY2FsbCh0aGlzKSwyKX1dLHl5eXk6W1wiWzAtOV17NH1cIixEYXRlLnByb3RvdHlwZS5zZXRGdWxsWWVhcixcInllYXJcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0RnVsbFllYXIuY2FsbCh0aGlzKSw0KX1dLGg6W1wiWzEtOV18MVswLTJdXCIsRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLERhdGUucHJvdG90eXBlLmdldEhvdXJzXSxoaDpbXCIwWzEtOV18MVswLTJdXCIsRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRIb3Vycy5jYWxsKHRoaXMpLDIpfV0saHg6W2Z1bmN0aW9uKHgpe3JldHVyblwiWzAtOV17XCIuY29uY2F0KHgsXCJ9XCIpfSxEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsZnVuY3Rpb24oeCl7cmV0dXJuIERhdGUucHJvdG90eXBlLmdldEhvdXJzfV0sSDpbXCIxP1swLTldfDJbMC0zXVwiLERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixEYXRlLnByb3RvdHlwZS5nZXRIb3Vyc10sSEg6W1wiMFswLTldfDFbMC05XXwyWzAtM11cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEhvdXJzLmNhbGwodGhpcyksMil9XSxIeDpbZnVuY3Rpb24oeCl7cmV0dXJuXCJbMC05XXtcIi5jb25jYXQoeCxcIn1cIil9LERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixmdW5jdGlvbih4KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEhvdXJzLmNhbGwodGhpcykseCl9fV0sTTpbXCJbMS01XT9bMC05XVwiLERhdGUucHJvdG90eXBlLnNldE1pbnV0ZXMsXCJtaW51dGVzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0TWludXRlc10sTU06W1wiMFswLTldfDFbMC05XXwyWzAtOV18M1swLTldfDRbMC05XXw1WzAtOV1cIixEYXRlLnByb3RvdHlwZS5zZXRNaW51dGVzLFwibWludXRlc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRNaW51dGVzLmNhbGwodGhpcyksMil9XSxzOltcIlsxLTVdP1swLTldXCIsRGF0ZS5wcm90b3R5cGUuc2V0U2Vjb25kcyxcInNlY29uZHNcIixEYXRlLnByb3RvdHlwZS5nZXRTZWNvbmRzXSxzczpbXCIwWzAtOV18MVswLTldfDJbMC05XXwzWzAtOV18NFswLTldfDVbMC05XVwiLERhdGUucHJvdG90eXBlLnNldFNlY29uZHMsXCJzZWNvbmRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldFNlY29uZHMuY2FsbCh0aGlzKSwyKX1dLGw6W1wiWzAtOV17M31cIixEYXRlLnByb3RvdHlwZS5zZXRNaWxsaXNlY29uZHMsXCJtaWxsaXNlY29uZHNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TWlsbGlzZWNvbmRzLmNhbGwodGhpcyksMyl9XSxMOltcIlswLTldezJ9XCIsRGF0ZS5wcm90b3R5cGUuc2V0TWlsbGlzZWNvbmRzLFwibWlsbGlzZWNvbmRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldE1pbGxpc2Vjb25kcy5jYWxsKHRoaXMpLDIpfV0sdDpbXCJbYXBdXCJdLHR0OltcIlthcF1tXCJdLFQ6W1wiW0FQXVwiXSxUVDpbXCJbQVBdTVwiXSxaOltcIlwiXSxvOltcIlwiXSxTOltcIlwiXX0sZm9ybWF0QWxpYXM9e2lzb0RhdGU6XCJ5eXl5LW1tLWRkXCIsaXNvVGltZTpcIkhIOk1NOnNzXCIsaXNvRGF0ZVRpbWU6XCJ5eXl5LW1tLWRkJ1QnSEg6TU06c3NcIixpc29VdGNEYXRlVGltZTpcIlVUQzp5eXl5LW1tLWRkJ1QnSEg6TU06c3MnWidcIn07ZnVuY3Rpb24gZm9ybWF0Y29kZShtYXRjaCl7dmFyIGR5bk1hdGNoZXM9bmV3IFJlZ0V4cChcIlxcXFxkKyRcIikuZXhlYyhtYXRjaFswXSk7aWYoZHluTWF0Y2hlcyYmdm9pZCAwIT09ZHluTWF0Y2hlc1swXSl7dmFyIGZjb2RlPWZvcm1hdENvZGVbbWF0Y2hbMF1bMF0rXCJ4XCJdLnNsaWNlKFwiXCIpO3JldHVybiBmY29kZVswXT1mY29kZVswXShkeW5NYXRjaGVzWzBdKSxmY29kZVszXT1mY29kZVszXShkeW5NYXRjaGVzWzBdKSxmY29kZX1pZihmb3JtYXRDb2RlW21hdGNoWzBdXSlyZXR1cm4gZm9ybWF0Q29kZVttYXRjaFswXV19ZnVuY3Rpb24gZ2V0VG9rZW5pemVyKG9wdHMpe2lmKCFvcHRzLnRva2VuaXplcil7dmFyIHRva2Vucz1bXSxkeW50b2tlbnM9W107Zm9yKHZhciBuZHggaW4gZm9ybWF0Q29kZSlpZigvXFwuKngkLy50ZXN0KG5keCkpe3ZhciBkeW5Ub2tlbj1uZHhbMF0rXCJcXFxcZCtcIjstMT09PWR5bnRva2Vucy5pbmRleE9mKGR5blRva2VuKSYmZHludG9rZW5zLnB1c2goZHluVG9rZW4pfWVsc2UtMT09PXRva2Vucy5pbmRleE9mKG5keFswXSkmJnRva2Vucy5wdXNoKG5keFswXSk7b3B0cy50b2tlbml6ZXI9XCIoXCIrKDA8ZHludG9rZW5zLmxlbmd0aD9keW50b2tlbnMuam9pbihcInxcIikrXCJ8XCI6XCJcIikrdG9rZW5zLmpvaW4oXCIrfFwiKStcIikrP3wuXCIsb3B0cy50b2tlbml6ZXI9bmV3IFJlZ0V4cChvcHRzLnRva2VuaXplcixcImdcIil9cmV0dXJuIG9wdHMudG9rZW5pemVyfWZ1bmN0aW9uIHByZWZpbGxZZWFyKGRhdGVQYXJ0cyxjdXJyZW50UmVzdWx0LG9wdHMpe2lmKGRhdGVQYXJ0cy55ZWFyIT09ZGF0ZVBhcnRzLnJhd3llYXIpe3ZhciBjcnJudHllYXI9Y3VycmVudFllYXIudG9TdHJpbmcoKSxlbnRlcmVkUGFydD1kYXRlUGFydHMucmF3eWVhci5yZXBsYWNlKC9bXjAtOV0vZyxcIlwiKSxjdXJyZW50WWVhclBhcnQ9Y3JybnR5ZWFyLnNsaWNlKDAsZW50ZXJlZFBhcnQubGVuZ3RoKSxjdXJyZW50WWVhck5leHRQYXJ0PWNycm50eWVhci5zbGljZShlbnRlcmVkUGFydC5sZW5ndGgpO2lmKDI9PT1lbnRlcmVkUGFydC5sZW5ndGgmJmVudGVyZWRQYXJ0PT09Y3VycmVudFllYXJQYXJ0KXt2YXIgZW50cnlDdXJyZW50WWVhcj1uZXcgRGF0ZShjdXJyZW50WWVhcixkYXRlUGFydHMubW9udGgtMSxkYXRlUGFydHMuZGF5KTtkYXRlUGFydHMuZGF5PT1lbnRyeUN1cnJlbnRZZWFyLmdldERhdGUoKSYmKCFvcHRzLm1heHx8b3B0cy5tYXguZGF0ZS5nZXRUaW1lKCk+PWVudHJ5Q3VycmVudFllYXIuZ2V0VGltZSgpKSYmKGRhdGVQYXJ0cy5kYXRlLnNldEZ1bGxZZWFyKGN1cnJlbnRZZWFyKSxkYXRlUGFydHMueWVhcj1jcnJudHllYXIsY3VycmVudFJlc3VsdC5pbnNlcnQ9W3twb3M6Y3VycmVudFJlc3VsdC5wb3MrMSxjOmN1cnJlbnRZZWFyTmV4dFBhcnRbMF19LHtwb3M6Y3VycmVudFJlc3VsdC5wb3MrMixjOmN1cnJlbnRZZWFyTmV4dFBhcnRbMV19XSl9fXJldHVybiBjdXJyZW50UmVzdWx0fWZ1bmN0aW9uIGlzVmFsaWREYXRlKGRhdGVQYXJ0cyxjdXJyZW50UmVzdWx0LG9wdHMpe2lmKHZvaWQgMD09PWRhdGVQYXJ0cy5yYXdkYXl8fCFpc0Zpbml0ZShkYXRlUGFydHMucmF3ZGF5KSYmbmV3IERhdGUoZGF0ZVBhcnRzLmRhdGUuZ2V0RnVsbFllYXIoKSxpc0Zpbml0ZShkYXRlUGFydHMucmF3bW9udGgpP2RhdGVQYXJ0cy5tb250aDpkYXRlUGFydHMuZGF0ZS5nZXRNb250aCgpKzEsMCkuZ2V0RGF0ZSgpPj1kYXRlUGFydHMuZGF5fHxcIjI5XCI9PWRhdGVQYXJ0cy5kYXkmJiFpc0Zpbml0ZShkYXRlUGFydHMucmF3eWVhcil8fG5ldyBEYXRlKGRhdGVQYXJ0cy5kYXRlLmdldEZ1bGxZZWFyKCksaXNGaW5pdGUoZGF0ZVBhcnRzLnJhd21vbnRoKT9kYXRlUGFydHMubW9udGg6ZGF0ZVBhcnRzLmRhdGUuZ2V0TW9udGgoKSsxLDApLmdldERhdGUoKT49ZGF0ZVBhcnRzLmRheSlyZXR1cm4gY3VycmVudFJlc3VsdDtpZihcIjI5XCI9PWRhdGVQYXJ0cy5kYXkpe3ZhciB0b2tlbk1hdGNoPWdldFRva2VuTWF0Y2goY3VycmVudFJlc3VsdC5wb3Msb3B0cyk7aWYoXCJ5eXl5XCI9PT10b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdJiZjdXJyZW50UmVzdWx0LnBvcy10b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXg9PTIpcmV0dXJuIGN1cnJlbnRSZXN1bHQucmVtb3ZlPWN1cnJlbnRSZXN1bHQucG9zKzEsY3VycmVudFJlc3VsdH1lbHNlIGlmKFwiMDJcIj09ZGF0ZVBhcnRzLm1vbnRoJiZcIjMwXCI9PWRhdGVQYXJ0cy5kYXkpcmV0dXJuIGRhdGVQYXJ0cy5kYXk9XCIwM1wiLGRhdGVQYXJ0cy5kYXRlLnNldERhdGUoMyksZGF0ZVBhcnRzLmRhdGUuc2V0TW9udGgoMSksY3VycmVudFJlc3VsdC5pbnNlcnQ9W3twb3M6Y3VycmVudFJlc3VsdC5wb3MsYzpcIjBcIn0se3BvczpjdXJyZW50UmVzdWx0LnBvcysxLGM6Y3VycmVudFJlc3VsdC5jfV0sY3VycmVudFJlc3VsdC5jYXJldD1fcG9zaXRpb25pbmcuc2Vla05leHQuY2FsbCh0aGlzLGN1cnJlbnRSZXN1bHQucG9zKzEpLGN1cnJlbnRSZXN1bHQ7cmV0dXJuITF9ZnVuY3Rpb24gaXNEYXRlSW5SYW5nZShkYXRlUGFydHMscmVzdWx0LG9wdHMsbWFza3NldCxmcm9tQ2hlY2t2YWwpe2lmKCFyZXN1bHQpcmV0dXJuIHJlc3VsdDtpZihvcHRzLm1pbil7aWYoZGF0ZVBhcnRzLnJhd3llYXIpe3ZhciByYXdZZWFyPWRhdGVQYXJ0cy5yYXd5ZWFyLnJlcGxhY2UoL1teMC05XS9nLFwiXCIpLG1pblllYXI9b3B0cy5taW4ueWVhci5zdWJzdHIoMCxyYXdZZWFyLmxlbmd0aCksbWF4WWVhcjtpZihyYXdZZWFyPG1pblllYXIpe3ZhciB0b2tlbk1hdGNoPWdldFRva2VuTWF0Y2gocmVzdWx0LnBvcyxvcHRzKTtpZihyYXdZZWFyPWRhdGVQYXJ0cy5yYXd5ZWFyLnN1YnN0cigwLHJlc3VsdC5wb3MtdG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4KzEpLnJlcGxhY2UoL1teMC05XS9nLFwiMFwiKSxtaW5ZZWFyPW9wdHMubWluLnllYXIuc3Vic3RyKDAscmF3WWVhci5sZW5ndGgpLG1pblllYXI8PXJhd1llYXIpcmV0dXJuIHJlc3VsdC5yZW1vdmU9dG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4K3Jhd1llYXIubGVuZ3RoLHJlc3VsdDtpZihyYXdZZWFyPVwieXl5eVwiPT09dG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXT9kYXRlUGFydHMucmF3eWVhci5zdWJzdHIoMSwxKTpkYXRlUGFydHMucmF3eWVhci5zdWJzdHIoMCwxKSxtaW5ZZWFyPW9wdHMubWluLnllYXIuc3Vic3RyKDIsMSksbWF4WWVhcj1vcHRzLm1heD9vcHRzLm1heC55ZWFyLnN1YnN0cigyLDEpOnJhd1llYXIsMT09PXJhd1llYXIubGVuZ3RoJiZtaW5ZZWFyPD1yYXdZZWFyJiZyYXdZZWFyPD1tYXhZZWFyJiYhMCE9PWZyb21DaGVja3ZhbClyZXR1cm5cInl5eXlcIj09PXRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0/KHJlc3VsdC5pbnNlcnQ9W3twb3M6cmVzdWx0LnBvcysxLGM6cmF3WWVhcixzdHJpY3Q6ITB9XSxyZXN1bHQuY2FyZXQ9cmVzdWx0LnBvcysyLG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10uaW5wdXQ9b3B0cy5taW4ueWVhclsxXSk6KHJlc3VsdC5pbnNlcnQ9W3twb3M6cmVzdWx0LnBvcysxLGM6b3B0cy5taW4ueWVhclsxXSxzdHJpY3Q6ITB9LHtwb3M6cmVzdWx0LnBvcysyLGM6cmF3WWVhcixzdHJpY3Q6ITB9XSxyZXN1bHQuY2FyZXQ9cmVzdWx0LnBvcyszLG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10uaW5wdXQ9b3B0cy5taW4ueWVhclswXSkscmVzdWx0O3Jlc3VsdD0hMX19cmVzdWx0JiZkYXRlUGFydHMueWVhciYmZGF0ZVBhcnRzLnllYXI9PT1kYXRlUGFydHMucmF3eWVhciYmb3B0cy5taW4uZGF0ZS5nZXRUaW1lKCk9PW9wdHMubWluLmRhdGUuZ2V0VGltZSgpJiYocmVzdWx0PW9wdHMubWluLmRhdGUuZ2V0VGltZSgpPD1kYXRlUGFydHMuZGF0ZS5nZXRUaW1lKCkpfXJldHVybiByZXN1bHQmJm9wdHMubWF4JiZvcHRzLm1heC5kYXRlLmdldFRpbWUoKT09b3B0cy5tYXguZGF0ZS5nZXRUaW1lKCkmJihyZXN1bHQ9b3B0cy5tYXguZGF0ZS5nZXRUaW1lKCk+PWRhdGVQYXJ0cy5kYXRlLmdldFRpbWUoKSkscmVzdWx0fWZ1bmN0aW9uIHBhcnNlKGZvcm1hdCxkYXRlT2JqVmFsdWUsb3B0cyxyYXcpe3ZhciBtYXNrPVwiXCIsbWF0Y2gsZmNvZGU7Zm9yKGdldFRva2VuaXplcihvcHRzKS5sYXN0SW5kZXg9MDttYXRjaD1nZXRUb2tlbml6ZXIob3B0cykuZXhlYyhmb3JtYXQpOylpZih2b2lkIDA9PT1kYXRlT2JqVmFsdWUpaWYoZmNvZGU9Zm9ybWF0Y29kZShtYXRjaCkpbWFzays9XCIoXCIrZmNvZGVbMF0rXCIpXCI7ZWxzZSBzd2l0Y2gobWF0Y2hbMF0pe2Nhc2VcIltcIjptYXNrKz1cIihcIjticmVhaztjYXNlXCJdXCI6bWFzays9XCIpP1wiO2JyZWFrO2RlZmF1bHQ6bWFzays9KDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG1hdGNoWzBdKX1lbHNlIGlmKGZjb2RlPWZvcm1hdGNvZGUobWF0Y2gpKWlmKCEwIT09cmF3JiZmY29kZVszXSl7dmFyIGdldEZuPWZjb2RlWzNdO21hc2srPWdldEZuLmNhbGwoZGF0ZU9ialZhbHVlLmRhdGUpfWVsc2UgZmNvZGVbMl0/bWFzays9ZGF0ZU9ialZhbHVlW1wicmF3XCIrZmNvZGVbMl1dOm1hc2srPW1hdGNoWzBdO2Vsc2UgbWFzays9bWF0Y2hbMF07cmV0dXJuIG1hc2t9ZnVuY3Rpb24gcGFkKHZhbCxsZW4pe2Zvcih2YWw9U3RyaW5nKHZhbCksbGVuPWxlbnx8Mjt2YWwubGVuZ3RoPGxlbjspdmFsPVwiMFwiK3ZhbDtyZXR1cm4gdmFsfWZ1bmN0aW9uIGFuYWx5c2VNYXNrKG1hc2tTdHJpbmcsZm9ybWF0LG9wdHMpe3ZhciBkYXRlT2JqPXtkYXRlOm5ldyBEYXRlKDEsMCwxKX0sdGFyZ2V0UHJvcCxtYXNrPW1hc2tTdHJpbmcsbWF0Y2gsZGF0ZU9wZXJhdGlvbjtmdW5jdGlvbiBzZXRWYWx1ZShkYXRlT2JqLHZhbHVlLG9wdHMpe2lmKGRhdGVPYmpbdGFyZ2V0UHJvcF09dmFsdWUucmVwbGFjZSgvW14wLTldL2csXCIwXCIpLGRhdGVPYmpbXCJyYXdcIit0YXJnZXRQcm9wXT12YWx1ZSx2b2lkIDAhPT1kYXRlT3BlcmF0aW9uKXt2YXIgZGF0YXZhbHVlPWRhdGVPYmpbdGFyZ2V0UHJvcF07XCJkYXlcIj09PXRhcmdldFByb3AmJjA9PT1wYXJzZUludChkYXRhdmFsdWUpJiYoZGF0YXZhbHVlPTEpLFwibW9udGhcIj09PXRhcmdldFByb3AmJihkYXRhdmFsdWU9cGFyc2VJbnQoZGF0YXZhbHVlKSwwPGRhdGF2YWx1ZSkmJihkYXRhdmFsdWUtPTEpLGRhdGVPcGVyYXRpb24uY2FsbChkYXRlT2JqLmRhdGUsZGF0YXZhbHVlKX19aWYoXCJzdHJpbmdcIj09dHlwZW9mIG1hc2spe2ZvcihnZXRUb2tlbml6ZXIob3B0cykubGFzdEluZGV4PTA7bWF0Y2g9Z2V0VG9rZW5pemVyKG9wdHMpLmV4ZWMoZm9ybWF0KTspe3ZhciBkeW5NYXRjaGVzPW5ldyBSZWdFeHAoXCJcXFxcZCskXCIpLmV4ZWMobWF0Y2hbMF0pLGZjb2RlPWR5bk1hdGNoZXM/bWF0Y2hbMF1bMF0rXCJ4XCI6bWF0Y2hbMF0sdmFsdWU9dm9pZCAwO2lmKGR5bk1hdGNoZXMpe3ZhciBsYXN0SW5kZXg9Z2V0VG9rZW5pemVyKG9wdHMpLmxhc3RJbmRleCx0b2thbk1hdGNoPWdldFRva2VuTWF0Y2gobWF0Y2guaW5kZXgsb3B0cyk7Z2V0VG9rZW5pemVyKG9wdHMpLmxhc3RJbmRleD1sYXN0SW5kZXgsdmFsdWU9bWFzay5zbGljZSgwLG1hc2suaW5kZXhPZih0b2thbk1hdGNoLm5leHRNYXRjaFswXSkpfWVsc2UgdmFsdWU9bWFzay5zbGljZSgwLGZjb2RlLmxlbmd0aCk7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGZvcm1hdENvZGUsZmNvZGUpJiYodGFyZ2V0UHJvcD1mb3JtYXRDb2RlW2Zjb2RlXVsyXSxkYXRlT3BlcmF0aW9uPWZvcm1hdENvZGVbZmNvZGVdWzFdLHNldFZhbHVlKGRhdGVPYmosdmFsdWUsb3B0cykpLG1hc2s9bWFzay5zbGljZSh2YWx1ZS5sZW5ndGgpfXJldHVybiBkYXRlT2JqfWlmKG1hc2smJlwib2JqZWN0XCI9PT1fdHlwZW9mKG1hc2spJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFzayxcImRhdGVcIikpcmV0dXJuIG1hc2t9ZnVuY3Rpb24gaW1wb3J0RGF0ZShkYXRlT2JqLG9wdHMpe3JldHVybiBwYXJzZShvcHRzLmlucHV0Rm9ybWF0LHtkYXRlOmRhdGVPYmp9LG9wdHMpfWZ1bmN0aW9uIGdldFRva2VuTWF0Y2gocG9zLG9wdHMpe3ZhciBjYWxjUG9zPTAsdGFyZ2V0TWF0Y2gsbWF0Y2gsbWF0Y2hMZW5ndGg9MDtmb3IoZ2V0VG9rZW5pemVyKG9wdHMpLmxhc3RJbmRleD0wO21hdGNoPWdldFRva2VuaXplcihvcHRzKS5leGVjKG9wdHMuaW5wdXRGb3JtYXQpOyl7dmFyIGR5bk1hdGNoZXM9bmV3IFJlZ0V4cChcIlxcXFxkKyRcIikuZXhlYyhtYXRjaFswXSk7aWYobWF0Y2hMZW5ndGg9ZHluTWF0Y2hlcz9wYXJzZUludChkeW5NYXRjaGVzWzBdKTptYXRjaFswXS5sZW5ndGgsY2FsY1Bvcys9bWF0Y2hMZW5ndGgscG9zPD1jYWxjUG9zKXt0YXJnZXRNYXRjaD1tYXRjaCxtYXRjaD1nZXRUb2tlbml6ZXIob3B0cykuZXhlYyhvcHRzLmlucHV0Rm9ybWF0KTticmVha319cmV0dXJue3RhcmdldE1hdGNoSW5kZXg6Y2FsY1Bvcy1tYXRjaExlbmd0aCxuZXh0TWF0Y2g6bWF0Y2gsdGFyZ2V0TWF0Y2g6dGFyZ2V0TWF0Y2h9fV9pbnB1dG1hc2suZGVmYXVsdC5leHRlbmRBbGlhc2VzKHtkYXRldGltZTp7bWFzazpmdW5jdGlvbiBtYXNrKG9wdHMpe3JldHVybiBvcHRzLm51bWVyaWNJbnB1dD0hMSxmb3JtYXRDb2RlLlM9b3B0cy5pMThuLm9yZGluYWxTdWZmaXguam9pbihcInxcIiksb3B0cy5pbnB1dEZvcm1hdD1mb3JtYXRBbGlhc1tvcHRzLmlucHV0Rm9ybWF0XXx8b3B0cy5pbnB1dEZvcm1hdCxvcHRzLmRpc3BsYXlGb3JtYXQ9Zm9ybWF0QWxpYXNbb3B0cy5kaXNwbGF5Rm9ybWF0XXx8b3B0cy5kaXNwbGF5Rm9ybWF0fHxvcHRzLmlucHV0Rm9ybWF0LG9wdHMub3V0cHV0Rm9ybWF0PWZvcm1hdEFsaWFzW29wdHMub3V0cHV0Rm9ybWF0XXx8b3B0cy5vdXRwdXRGb3JtYXR8fG9wdHMuaW5wdXRGb3JtYXQsb3B0cy5wbGFjZWhvbGRlcj1cIlwiIT09b3B0cy5wbGFjZWhvbGRlcj9vcHRzLnBsYWNlaG9sZGVyOm9wdHMuaW5wdXRGb3JtYXQucmVwbGFjZSgvW1tcXF1dLyxcIlwiKSxvcHRzLnJlZ2V4PXBhcnNlKG9wdHMuaW5wdXRGb3JtYXQsdm9pZCAwLG9wdHMpLG9wdHMubWluPWFuYWx5c2VNYXNrKG9wdHMubWluLG9wdHMuaW5wdXRGb3JtYXQsb3B0cyksb3B0cy5tYXg9YW5hbHlzZU1hc2sob3B0cy5tYXgsb3B0cy5pbnB1dEZvcm1hdCxvcHRzKSxudWxsfSxwbGFjZWhvbGRlcjpcIlwiLGlucHV0Rm9ybWF0OlwiaXNvRGF0ZVRpbWVcIixkaXNwbGF5Rm9ybWF0OnZvaWQgMCxvdXRwdXRGb3JtYXQ6dm9pZCAwLG1pbjpudWxsLG1heDpudWxsLHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6XCJcIixpMThuOntkYXlOYW1lczpbXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCIsXCJTdW5cIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiLFwiU3VuZGF5XCJdLG1vbnRoTmFtZXM6W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiLFwiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLG9yZGluYWxTdWZmaXg6W1wic3RcIixcIm5kXCIsXCJyZFwiLFwidGhcIl19LHByZVZhbGlkYXRpb246ZnVuY3Rpb24gcHJlVmFsaWRhdGlvbihidWZmZXIscG9zLGMsaXNTZWxlY3Rpb24sb3B0cyxtYXNrc2V0LGNhcmV0UG9zLHN0cmljdCl7aWYoc3RyaWN0KXJldHVybiEwO2lmKGlzTmFOKGMpJiZidWZmZXJbcG9zXSE9PWMpe3ZhciB0b2tlbk1hdGNoPWdldFRva2VuTWF0Y2gocG9zLG9wdHMpO2lmKHRva2VuTWF0Y2gubmV4dE1hdGNoJiZ0b2tlbk1hdGNoLm5leHRNYXRjaFswXT09PWMmJjE8dG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXS5sZW5ndGgpe3ZhciB2YWxpZGF0b3I9Zm9ybWF0Q29kZVt0b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdXVswXTtpZihuZXcgUmVnRXhwKHZhbGlkYXRvcikudGVzdChcIjBcIitidWZmZXJbcG9zLTFdKSlyZXR1cm4gYnVmZmVyW3Bvc109YnVmZmVyW3Bvcy0xXSxidWZmZXJbcG9zLTFdPVwiMFwiLHtmdXp6eTohMCxidWZmZXI6YnVmZmVyLHJlZnJlc2hGcm9tQnVmZmVyOntzdGFydDpwb3MtMSxlbmQ6cG9zKzF9LHBvczpwb3MrMX19fXJldHVybiEwfSxwb3N0VmFsaWRhdGlvbjpmdW5jdGlvbiBwb3N0VmFsaWRhdGlvbihidWZmZXIscG9zLGMsY3VycmVudFJlc3VsdCxvcHRzLG1hc2tzZXQsc3RyaWN0LGZyb21DaGVja3ZhbCl7dmFyIGlucHV0bWFzaz10aGlzLHRva2VuTWF0Y2gsdmFsaWRhdG9yO2lmKHN0cmljdClyZXR1cm4hMDtpZighMT09PWN1cnJlbnRSZXN1bHQmJih0b2tlbk1hdGNoPWdldFRva2VuTWF0Y2gocG9zKzEsb3B0cyksdG9rZW5NYXRjaC50YXJnZXRNYXRjaCYmdG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4PT09cG9zJiYxPHRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0ubGVuZ3RoJiZ2b2lkIDAhPT1mb3JtYXRDb2RlW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF1dJiYodmFsaWRhdG9yPWZvcm1hdENvZGVbdG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXV1bMF0sdm9pZCAwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MrMV0mJm5ldyBSZWdFeHAodmFsaWRhdG9yKS50ZXN0KGMrXCIwXCIpPyhidWZmZXJbcG9zXT1jLGJ1ZmZlcltwb3MrMV09XCIwXCIsY3VycmVudFJlc3VsdD17cG9zOnBvcysyLGNhcmV0OnBvc30pOm5ldyBSZWdFeHAodmFsaWRhdG9yKS50ZXN0KFwiMFwiK2MpJiYoYnVmZmVyW3Bvc109XCIwXCIsYnVmZmVyW3BvcysxXT1jLGN1cnJlbnRSZXN1bHQ9e3Bvczpwb3MrMn0pKSwhMT09PWN1cnJlbnRSZXN1bHQpKXJldHVybiBjdXJyZW50UmVzdWx0O2lmKGN1cnJlbnRSZXN1bHQuZnV6enkmJihidWZmZXI9Y3VycmVudFJlc3VsdC5idWZmZXIscG9zPWN1cnJlbnRSZXN1bHQucG9zKSx0b2tlbk1hdGNoPWdldFRva2VuTWF0Y2gocG9zLG9wdHMpLHRva2VuTWF0Y2gudGFyZ2V0TWF0Y2gmJnRva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0mJnZvaWQgMCE9PWZvcm1hdENvZGVbdG9rZW5NYXRjaC50YXJnZXRNYXRjaFswXV0pe3ZhbGlkYXRvcj1mb3JtYXRDb2RlW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF1dWzBdO3ZhciBwYXJ0PWJ1ZmZlci5zbGljZSh0b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXgsdG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4K3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hbMF0ubGVuZ3RoKTshMT09PW5ldyBSZWdFeHAodmFsaWRhdG9yKS50ZXN0KHBhcnQuam9pbihcIlwiKSkmJjI9PT10b2tlbk1hdGNoLnRhcmdldE1hdGNoWzBdLmxlbmd0aCYmbWFza3NldC52YWxpZFBvc2l0aW9uc1t0b2tlbk1hdGNoLnRhcmdldE1hdGNoSW5kZXhdJiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Rva2VuTWF0Y2gudGFyZ2V0TWF0Y2hJbmRleCsxXSYmKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdG9rZW5NYXRjaC50YXJnZXRNYXRjaEluZGV4KzFdLmlucHV0PVwiMFwiKX12YXIgcmVzdWx0PWN1cnJlbnRSZXN1bHQsZGF0ZVBhcnRzPWFuYWx5c2VNYXNrKGJ1ZmZlci5qb2luKFwiXCIpLG9wdHMuaW5wdXRGb3JtYXQsb3B0cyk7cmV0dXJuIHJlc3VsdCYmZGF0ZVBhcnRzLmRhdGUuZ2V0VGltZSgpPT1kYXRlUGFydHMuZGF0ZS5nZXRUaW1lKCkmJihyZXN1bHQ9cHJlZmlsbFllYXIoZGF0ZVBhcnRzLHJlc3VsdCxvcHRzKSxyZXN1bHQ9aXNWYWxpZERhdGUuY2FsbCh0aGlzLGRhdGVQYXJ0cyxyZXN1bHQsb3B0cykscmVzdWx0PWlzRGF0ZUluUmFuZ2UoZGF0ZVBhcnRzLHJlc3VsdCxvcHRzLG1hc2tzZXQsZnJvbUNoZWNrdmFsKSkscG9zJiZyZXN1bHQmJmN1cnJlbnRSZXN1bHQucG9zIT09cG9zP3tidWZmZXI6cGFyc2Uob3B0cy5pbnB1dEZvcm1hdCxkYXRlUGFydHMsb3B0cykuc3BsaXQoXCJcIikscmVmcmVzaEZyb21CdWZmZXI6e3N0YXJ0OnBvcyxlbmQ6Y3VycmVudFJlc3VsdC5wb3N9LHBvczpjdXJyZW50UmVzdWx0LmNhcmV0fHxjdXJyZW50UmVzdWx0LnBvc306cmVzdWx0fSxvbktleURvd246ZnVuY3Rpb24gb25LZXlEb3duKGUsYnVmZmVyLGNhcmV0UG9zLG9wdHMpe3ZhciBpbnB1dD10aGlzO2UuY3RybEtleSYmZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5SSUdIVCYmKHRoaXMuaW5wdXRtYXNrLl92YWx1ZVNldChpbXBvcnREYXRlKG5ldyBEYXRlLG9wdHMpKSwkKHRoaXMpLnRyaWdnZXIoXCJzZXR2YWx1ZVwiKSl9LG9uVW5NYXNrOmZ1bmN0aW9uIG9uVW5NYXNrKG1hc2tlZFZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl7cmV0dXJuIHVubWFza2VkVmFsdWU/cGFyc2Uob3B0cy5vdXRwdXRGb3JtYXQsYW5hbHlzZU1hc2sobWFza2VkVmFsdWUsb3B0cy5pbnB1dEZvcm1hdCxvcHRzKSxvcHRzLCEwKTp1bm1hc2tlZFZhbHVlfSxjYXNpbmc6ZnVuY3Rpb24gY2FzaW5nKGVsZW0sdGVzdCxwb3MsdmFsaWRQb3NpdGlvbnMpe3JldHVybiAwPT10ZXN0Lm5hdGl2ZURlZi5pbmRleE9mKFwiW2FwXVwiKT9lbGVtLnRvTG93ZXJDYXNlKCk6MD09dGVzdC5uYXRpdmVEZWYuaW5kZXhPZihcIltBUF1cIik/ZWxlbS50b1VwcGVyQ2FzZSgpOmVsZW19LG9uQmVmb3JlTWFzazpmdW5jdGlvbiBvbkJlZm9yZU1hc2soaW5pdGlhbFZhbHVlLG9wdHMpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGluaXRpYWxWYWx1ZSkmJihpbml0aWFsVmFsdWU9aW1wb3J0RGF0ZShpbml0aWFsVmFsdWUsb3B0cykpLGluaXRpYWxWYWx1ZX0saW5zZXJ0TW9kZTohMSxzaGlmdFBvc2l0aW9uczohMSxrZWVwU3RhdGljOiExLGlucHV0bW9kZTpcIm51bWVyaWNcIn19KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9pbnB1dG1hc2s9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSxfa2V5Y29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpLF9lc2NhcGVSZWdleD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTMpKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19dmFyICQ9X2lucHV0bWFzay5kZWZhdWx0LmRlcGVuZGVuY3lMaWI7ZnVuY3Rpb24gYXV0b0VzY2FwZSh0eHQsb3B0cyl7Zm9yKHZhciBlc2NhcGVkVHh0PVwiXCIsaT0wO2k8dHh0Lmxlbmd0aDtpKyspX2lucHV0bWFzay5kZWZhdWx0LnByb3RvdHlwZS5kZWZpbml0aW9uc1t0eHQuY2hhckF0KGkpXXx8b3B0cy5kZWZpbml0aW9uc1t0eHQuY2hhckF0KGkpXXx8b3B0cy5vcHRpb25hbG1hcmtlclswXT09PXR4dC5jaGFyQXQoaSl8fG9wdHMub3B0aW9uYWxtYXJrZXJbMV09PT10eHQuY2hhckF0KGkpfHxvcHRzLnF1YW50aWZpZXJtYXJrZXJbMF09PT10eHQuY2hhckF0KGkpfHxvcHRzLnF1YW50aWZpZXJtYXJrZXJbMV09PT10eHQuY2hhckF0KGkpfHxvcHRzLmdyb3VwbWFya2VyWzBdPT09dHh0LmNoYXJBdChpKXx8b3B0cy5ncm91cG1hcmtlclsxXT09PXR4dC5jaGFyQXQoaSl8fG9wdHMuYWx0ZXJuYXRvcm1hcmtlcj09PXR4dC5jaGFyQXQoaSk/ZXNjYXBlZFR4dCs9XCJcXFxcXCIrdHh0LmNoYXJBdChpKTplc2NhcGVkVHh0Kz10eHQuY2hhckF0KGkpO3JldHVybiBlc2NhcGVkVHh0fWZ1bmN0aW9uIGFsaWduRGlnaXRzKGJ1ZmZlcixkaWdpdHMsb3B0cyxmb3JjZSl7aWYoMDxidWZmZXIubGVuZ3RoJiYwPGRpZ2l0cyYmKCFvcHRzLmRpZ2l0c09wdGlvbmFsfHxmb3JjZSkpe3ZhciByYWRpeFBvc2l0aW9uPWJ1ZmZlci5pbmRleE9mKG9wdHMucmFkaXhQb2ludCksbmVnYXRpb25CYWNrPSExO29wdHMubmVnYXRpb25TeW1ib2wuYmFjaz09PWJ1ZmZlcltidWZmZXIubGVuZ3RoLTFdJiYobmVnYXRpb25CYWNrPSEwLGJ1ZmZlci5sZW5ndGgtLSksLTE9PT1yYWRpeFBvc2l0aW9uJiYoYnVmZmVyLnB1c2gob3B0cy5yYWRpeFBvaW50KSxyYWRpeFBvc2l0aW9uPWJ1ZmZlci5sZW5ndGgtMSk7Zm9yKHZhciBpPTE7aTw9ZGlnaXRzO2krKylpc0Zpbml0ZShidWZmZXJbcmFkaXhQb3NpdGlvbitpXSl8fChidWZmZXJbcmFkaXhQb3NpdGlvbitpXT1cIjBcIil9cmV0dXJuIG5lZ2F0aW9uQmFjayYmYnVmZmVyLnB1c2gob3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKSxidWZmZXJ9ZnVuY3Rpb24gZmluZFZhbGlkYXRvcihzeW1ib2wsbWFza3NldCl7dmFyIHBvc05keD0wO2lmKFwiK1wiPT09c3ltYm9sKXtmb3IocG9zTmR4IGluIG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpO3Bvc05keD1wYXJzZUludChwb3NOZHgpfWZvcih2YXIgdHN0TmR4IGluIG1hc2tzZXQudGVzdHMpaWYodHN0TmR4PXBhcnNlSW50KHRzdE5keCkscG9zTmR4PD10c3ROZHgpZm9yKHZhciBuZHg9MCxuZHhsPW1hc2tzZXQudGVzdHNbdHN0TmR4XS5sZW5ndGg7bmR4PG5keGw7bmR4KyspaWYoKHZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdHN0TmR4XXx8XCItXCI9PT1zeW1ib2wpJiZtYXNrc2V0LnRlc3RzW3RzdE5keF1bbmR4XS5tYXRjaC5kZWY9PT1zeW1ib2wpcmV0dXJuIHRzdE5keCsodm9pZCAwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1t0c3ROZHhdJiZcIi1cIiE9PXN5bWJvbD8xOjApO3JldHVybiBwb3NOZHh9ZnVuY3Rpb24gZmluZFZhbGlkKHN5bWJvbCxtYXNrc2V0KXt2YXIgcmV0PS0xO2Zvcih2YXIgbmR4IGluIG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpe3ZhciB0c3Q9bWFza3NldC52YWxpZFBvc2l0aW9uc1tuZHhdO2lmKHRzdCYmdHN0Lm1hdGNoLmRlZj09PXN5bWJvbCl7cmV0PXBhcnNlSW50KG5keCk7YnJlYWt9fXJldHVybiByZXR9ZnVuY3Rpb24gcGFyc2VNaW5NYXhPcHRpb25zKG9wdHMpe3ZvaWQgMD09PW9wdHMucGFyc2VNaW5NYXhPcHRpb25zJiYobnVsbCE9PW9wdHMubWluJiYob3B0cy5taW49b3B0cy5taW4udG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMuZ3JvdXBTZXBhcmF0b3IpLFwiZ1wiKSxcIlwiKSxcIixcIj09PW9wdHMucmFkaXhQb2ludCYmKG9wdHMubWluPW9wdHMubWluLnJlcGxhY2Uob3B0cy5yYWRpeFBvaW50LFwiLlwiKSksb3B0cy5taW49aXNGaW5pdGUob3B0cy5taW4pP3BhcnNlRmxvYXQob3B0cy5taW4pOk5hTixpc05hTihvcHRzLm1pbikmJihvcHRzLm1pbj1OdW1iZXIuTUlOX1ZBTFVFKSksbnVsbCE9PW9wdHMubWF4JiYob3B0cy5tYXg9b3B0cy5tYXgudG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMuZ3JvdXBTZXBhcmF0b3IpLFwiZ1wiKSxcIlwiKSxcIixcIj09PW9wdHMucmFkaXhQb2ludCYmKG9wdHMubWF4PW9wdHMubWF4LnJlcGxhY2Uob3B0cy5yYWRpeFBvaW50LFwiLlwiKSksb3B0cy5tYXg9aXNGaW5pdGUob3B0cy5tYXgpP3BhcnNlRmxvYXQob3B0cy5tYXgpOk5hTixpc05hTihvcHRzLm1heCkmJihvcHRzLm1heD1OdW1iZXIuTUFYX1ZBTFVFKSksb3B0cy5wYXJzZU1pbk1heE9wdGlvbnM9XCJkb25lXCIpfWZ1bmN0aW9uIGdlbk1hc2sob3B0cyl7b3B0cy5yZXBlYXQ9MCxvcHRzLmdyb3VwU2VwYXJhdG9yPT09b3B0cy5yYWRpeFBvaW50JiZvcHRzLmRpZ2l0cyYmXCIwXCIhPT1vcHRzLmRpZ2l0cyYmKFwiLlwiPT09b3B0cy5yYWRpeFBvaW50P29wdHMuZ3JvdXBTZXBhcmF0b3I9XCIsXCI6XCIsXCI9PT1vcHRzLnJhZGl4UG9pbnQ/b3B0cy5ncm91cFNlcGFyYXRvcj1cIi5cIjpvcHRzLmdyb3VwU2VwYXJhdG9yPVwiXCIpLFwiIFwiPT09b3B0cy5ncm91cFNlcGFyYXRvciYmKG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcj12b2lkIDApLDE8b3B0cy5wbGFjZWhvbGRlci5sZW5ndGgmJihvcHRzLnBsYWNlaG9sZGVyPW9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApKSxcInJhZGl4Rm9jdXNcIj09PW9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2smJlwiXCI9PT1vcHRzLnBsYWNlaG9sZGVyJiYob3B0cy5wb3NpdGlvbkNhcmV0T25DbGljaz1cImx2cFwiKTt2YXIgZGVjaW1hbERlZj1cIjBcIixyYWRpeFBvaW50RGVmPW9wdHMucmFkaXhQb2ludDshMD09PW9wdHMubnVtZXJpY0lucHV0JiZ2b2lkIDA9PT1vcHRzLl9fZmluYW5jZUlucHV0PyhkZWNpbWFsRGVmPVwiMVwiLG9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2s9XCJyYWRpeEZvY3VzXCI9PT1vcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrP1wibHZwXCI6b3B0cy5wb3NpdGlvbkNhcmV0T25DbGljayxvcHRzLmRpZ2l0c09wdGlvbmFsPSExLGlzTmFOKG9wdHMuZGlnaXRzKSYmKG9wdHMuZGlnaXRzPTIpLG9wdHMuX3JhZGl4RGFuY2U9ITEscmFkaXhQb2ludERlZj1cIixcIj09PW9wdHMucmFkaXhQb2ludD9cIj9cIjpcIiFcIixcIlwiIT09b3B0cy5yYWRpeFBvaW50JiZ2b2lkIDA9PT1vcHRzLmRlZmluaXRpb25zW3JhZGl4UG9pbnREZWZdJiYob3B0cy5kZWZpbml0aW9uc1tyYWRpeFBvaW50RGVmXT17fSxvcHRzLmRlZmluaXRpb25zW3JhZGl4UG9pbnREZWZdLnZhbGlkYXRvcj1cIltcIitvcHRzLnJhZGl4UG9pbnQrXCJdXCIsb3B0cy5kZWZpbml0aW9uc1tyYWRpeFBvaW50RGVmXS5wbGFjZWhvbGRlcj1vcHRzLnJhZGl4UG9pbnQsb3B0cy5kZWZpbml0aW9uc1tyYWRpeFBvaW50RGVmXS5zdGF0aWM9ITAsb3B0cy5kZWZpbml0aW9uc1tyYWRpeFBvaW50RGVmXS5nZW5lcmF0ZWQ9ITApKToob3B0cy5fX2ZpbmFuY2VJbnB1dD0hMSxvcHRzLm51bWVyaWNJbnB1dD0hMCk7dmFyIG1hc2s9XCJbK11cIixhbHRNYXNrO2lmKG1hc2srPWF1dG9Fc2NhcGUob3B0cy5wcmVmaXgsb3B0cyksXCJcIiE9PW9wdHMuZ3JvdXBTZXBhcmF0b3I/KHZvaWQgMD09PW9wdHMuZGVmaW5pdGlvbnNbb3B0cy5ncm91cFNlcGFyYXRvcl0mJihvcHRzLmRlZmluaXRpb25zW29wdHMuZ3JvdXBTZXBhcmF0b3JdPXt9LG9wdHMuZGVmaW5pdGlvbnNbb3B0cy5ncm91cFNlcGFyYXRvcl0udmFsaWRhdG9yPVwiW1wiK29wdHMuZ3JvdXBTZXBhcmF0b3IrXCJdXCIsb3B0cy5kZWZpbml0aW9uc1tvcHRzLmdyb3VwU2VwYXJhdG9yXS5wbGFjZWhvbGRlcj1vcHRzLmdyb3VwU2VwYXJhdG9yLG9wdHMuZGVmaW5pdGlvbnNbb3B0cy5ncm91cFNlcGFyYXRvcl0uc3RhdGljPSEwLG9wdHMuZGVmaW5pdGlvbnNbb3B0cy5ncm91cFNlcGFyYXRvcl0uZ2VuZXJhdGVkPSEwKSxtYXNrKz1vcHRzLl9tYXNrKG9wdHMpKTptYXNrKz1cIjl7K31cIix2b2lkIDAhPT1vcHRzLmRpZ2l0cyYmMCE9PW9wdHMuZGlnaXRzKXt2YXIgZHE9b3B0cy5kaWdpdHMudG9TdHJpbmcoKS5zcGxpdChcIixcIik7aXNGaW5pdGUoZHFbMF0pJiZkcVsxXSYmaXNGaW5pdGUoZHFbMV0pP21hc2srPXJhZGl4UG9pbnREZWYrZGVjaW1hbERlZitcIntcIitvcHRzLmRpZ2l0cytcIn1cIjooaXNOYU4ob3B0cy5kaWdpdHMpfHwwPHBhcnNlSW50KG9wdHMuZGlnaXRzKSkmJihvcHRzLmRpZ2l0c09wdGlvbmFsPyhhbHRNYXNrPW1hc2srcmFkaXhQb2ludERlZitkZWNpbWFsRGVmK1wiezAsXCIrb3B0cy5kaWdpdHMrXCJ9XCIsb3B0cy5rZWVwU3RhdGljPSEwKTptYXNrKz1yYWRpeFBvaW50RGVmK2RlY2ltYWxEZWYrXCJ7XCIrb3B0cy5kaWdpdHMrXCJ9XCIpfXJldHVybiBtYXNrKz1hdXRvRXNjYXBlKG9wdHMuc3VmZml4LG9wdHMpLG1hc2srPVwiWy1dXCIsYWx0TWFzayYmKG1hc2s9W2FsdE1hc2srYXV0b0VzY2FwZShvcHRzLnN1ZmZpeCxvcHRzKStcIlstXVwiLG1hc2tdKSxvcHRzLmdyZWVkeT0hMSxwYXJzZU1pbk1heE9wdGlvbnMob3B0cyksbWFza31mdW5jdGlvbiBoYW5uZGxlUmFkaXhEYW5jZShwb3MsYyxyYWRpeFBvcyxtYXNrc2V0LG9wdHMpe3JldHVybiBvcHRzLl9yYWRpeERhbmNlJiZvcHRzLm51bWVyaWNJbnB1dCYmYyE9PW9wdHMubmVnYXRpb25TeW1ib2wuYmFjayYmcG9zPD1yYWRpeFBvcyYmKDA8cmFkaXhQb3N8fGM9PW9wdHMucmFkaXhQb2ludCkmJih2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvcy0xXXx8bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MtMV0uaW5wdXQhPT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spJiYocG9zLT0xKSxwb3N9ZnVuY3Rpb24gZGVjaW1hbFZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXt2YXIgcmFkaXhQb3M9bWFza3NldC5idWZmZXI/bWFza3NldC5idWZmZXIuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpOi0xLHJlc3VsdD0tMSE9PXJhZGl4UG9zJiZuZXcgUmVnRXhwKFwiWzAtOVxcdWZmMTEtXFx1ZmYxOV1cIikudGVzdChjaHJzKTtyZXR1cm4gb3B0cy5fcmFkaXhEYW5jZSYmcmVzdWx0JiZudWxsPT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3JhZGl4UG9zXT97aW5zZXJ0Ontwb3M6cmFkaXhQb3M9PT1wb3M/cmFkaXhQb3MrMTpyYWRpeFBvcyxjOm9wdHMucmFkaXhQb2ludH0scG9zOnBvc306cmVzdWx0fWZ1bmN0aW9uIGNoZWNrRm9yTGVhZGluZ1plcm9lcyhidWZmZXIsb3B0cyl7dmFyIG51bWJlck1hdGNoZXM9bmV3IFJlZ0V4cChcIiheXCIrKFwiXCIhPT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250PygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KStcIj9cIjpcIlwiKSsoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5wcmVmaXgpK1wiKSguKikoXCIrKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMuc3VmZml4KSsoXCJcIiE9b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrPygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spK1wiP1wiOlwiXCIpK1wiJClcIikuZXhlYyhidWZmZXIuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSksbnVtYmVyPW51bWJlck1hdGNoZXM/bnVtYmVyTWF0Y2hlc1syXTpcIlwiLGxlYWRpbmd6ZXJvZXM9ITE7cmV0dXJuIG51bWJlciYmKG51bWJlcj1udW1iZXIuc3BsaXQob3B0cy5yYWRpeFBvaW50LmNoYXJBdCgwKSlbMF0sbGVhZGluZ3plcm9lcz1uZXcgUmVnRXhwKFwiXlswXCIrb3B0cy5ncm91cFNlcGFyYXRvcitcIl0qXCIpLmV4ZWMobnVtYmVyKSksISghbGVhZGluZ3plcm9lc3x8ISgxPGxlYWRpbmd6ZXJvZXNbMF0ubGVuZ3RofHwwPGxlYWRpbmd6ZXJvZXNbMF0ubGVuZ3RoJiZsZWFkaW5nemVyb2VzWzBdLmxlbmd0aDxudW1iZXIubGVuZ3RoKSkmJmxlYWRpbmd6ZXJvZXN9X2lucHV0bWFzay5kZWZhdWx0LmV4dGVuZEFsaWFzZXMoe251bWVyaWM6e21hc2s6Z2VuTWFzayxfbWFzazpmdW5jdGlvbiBfbWFzayhvcHRzKXtyZXR1cm5cIihcIitvcHRzLmdyb3VwU2VwYXJhdG9yK1wiOTk5KXsrfDF9XCJ9LGRpZ2l0czpcIipcIixkaWdpdHNPcHRpb25hbDohMCxlbmZvcmNlRGlnaXRzT25CbHVyOiExLHJhZGl4UG9pbnQ6XCIuXCIscG9zaXRpb25DYXJldE9uQ2xpY2s6XCJyYWRpeEZvY3VzXCIsX3JhZGl4RGFuY2U6ITAsZ3JvdXBTZXBhcmF0b3I6XCJcIixhbGxvd01pbnVzOiEwLG5lZ2F0aW9uU3ltYm9sOntmcm9udDpcIi1cIixiYWNrOlwiXCJ9LHByZWZpeDpcIlwiLHN1ZmZpeDpcIlwiLG1pbjpudWxsLG1heDpudWxsLFNldE1heE9uT3ZlcmZsb3c6ITEsc3RlcDoxLGlucHV0VHlwZTpcInRleHRcIix1bm1hc2tBc051bWJlcjohMSxyb3VuZGluZ0ZOOk1hdGgucm91bmQsaW5wdXRtb2RlOlwibnVtZXJpY1wiLHNob3J0Y3V0czp7azpcIjAwMFwiLG06XCIwMDAwMDBcIn0scGxhY2Vob2xkZXI6XCIwXCIsZ3JlZWR5OiExLHJpZ2h0QWxpZ246ITAsaW5zZXJ0TW9kZTohMCxhdXRvVW5tYXNrOiExLHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6XCJcIixkZWZpbml0aW9uczp7MDp7dmFsaWRhdG9yOmRlY2ltYWxWYWxpZGF0b3J9LDE6e3ZhbGlkYXRvcjpkZWNpbWFsVmFsaWRhdG9yLGRlZmluaXRpb25TeW1ib2w6XCI5XCJ9LFwiK1wiOnt2YWxpZGF0b3I6ZnVuY3Rpb24gdmFsaWRhdG9yKGNocnMsbWFza3NldCxwb3Msc3RyaWN0LG9wdHMpe3JldHVybiBvcHRzLmFsbG93TWludXMmJihcIi1cIj09PWNocnN8fGNocnM9PT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KX19LFwiLVwiOnt2YWxpZGF0b3I6ZnVuY3Rpb24gdmFsaWRhdG9yKGNocnMsbWFza3NldCxwb3Msc3RyaWN0LG9wdHMpe3JldHVybiBvcHRzLmFsbG93TWludXMmJmNocnM9PT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2t9fX0scHJlVmFsaWRhdGlvbjpmdW5jdGlvbiBwcmVWYWxpZGF0aW9uKGJ1ZmZlcixwb3MsYyxpc1NlbGVjdGlvbixvcHRzLG1hc2tzZXQsY2FyZXRQb3Msc3RyaWN0KXtpZighMSE9PW9wdHMuX19maW5hbmNlSW5wdXQmJmM9PT1vcHRzLnJhZGl4UG9pbnQpcmV0dXJuITE7dmFyIHBhdHRlcm47aWYocGF0dGVybj1vcHRzLnNob3J0Y3V0cyYmb3B0cy5zaG9ydGN1dHNbY10pe2lmKDE8cGF0dGVybi5sZW5ndGgpZm9yKHZhciBpbnNlcnRzPVtdLGk9MDtpPHBhdHRlcm4ubGVuZ3RoO2krKylpbnNlcnRzLnB1c2goe3Bvczpwb3MraSxjOnBhdHRlcm5baV0sc3RyaWN0OiExfSk7cmV0dXJue2luc2VydDppbnNlcnRzfX12YXIgcmFkaXhQb3M9YnVmZmVyLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KSxpbml0UG9zPXBvcztpZihwb3M9aGFubmRsZVJhZGl4RGFuY2UocG9zLGMscmFkaXhQb3MsbWFza3NldCxvcHRzKSxcIi1cIj09PWN8fGM9PT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KXtpZighMCE9PW9wdHMuYWxsb3dNaW51cylyZXR1cm4hMTt2YXIgaXNOZWdhdGl2ZT0hMSxmcm9udD1maW5kVmFsaWQoXCIrXCIsbWFza3NldCksYmFjaz1maW5kVmFsaWQoXCItXCIsbWFza3NldCk7cmV0dXJuLTEhPT1mcm9udCYmKGlzTmVnYXRpdmU9W2Zyb250LGJhY2tdKSwhMSE9PWlzTmVnYXRpdmU/e3JlbW92ZTppc05lZ2F0aXZlLGNhcmV0OmluaXRQb3Mtb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udC5sZW5ndGh9OntpbnNlcnQ6W3twb3M6ZmluZFZhbGlkYXRvcihcIitcIixtYXNrc2V0KSxjOm9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQsZnJvbUlzVmFsaWQ6ITB9LHtwb3M6ZmluZFZhbGlkYXRvcihcIi1cIixtYXNrc2V0KSxjOm9wdHMubmVnYXRpb25TeW1ib2wuYmFjayxmcm9tSXNWYWxpZDp2b2lkIDB9XSxjYXJldDppbml0UG9zK29wdHMubmVnYXRpb25TeW1ib2wuYmFjay5sZW5ndGh9fWlmKGM9PT1vcHRzLmdyb3VwU2VwYXJhdG9yKXJldHVybntjYXJldDppbml0UG9zfTtpZihzdHJpY3QpcmV0dXJuITA7aWYoLTEhPT1yYWRpeFBvcyYmITA9PT1vcHRzLl9yYWRpeERhbmNlJiYhMT09PWlzU2VsZWN0aW9uJiZjPT09b3B0cy5yYWRpeFBvaW50JiZ2b2lkIDAhPT1vcHRzLmRpZ2l0cyYmKGlzTmFOKG9wdHMuZGlnaXRzKXx8MDxwYXJzZUludChvcHRzLmRpZ2l0cykpJiZyYWRpeFBvcyE9PXBvcylyZXR1cm57Y2FyZXQ6b3B0cy5fcmFkaXhEYW5jZSYmcG9zPT09cmFkaXhQb3MtMT9yYWRpeFBvcysxOnJhZGl4UG9zfTtpZighMT09PW9wdHMuX19maW5hbmNlSW5wdXQpaWYoaXNTZWxlY3Rpb24pe2lmKG9wdHMuZGlnaXRzT3B0aW9uYWwpcmV0dXJue3Jld3JpdGVQb3NpdGlvbjpjYXJldFBvcy5lbmR9O2lmKCFvcHRzLmRpZ2l0c09wdGlvbmFsKXtpZihjYXJldFBvcy5iZWdpbj5yYWRpeFBvcyYmY2FyZXRQb3MuZW5kPD1yYWRpeFBvcylyZXR1cm4gYz09PW9wdHMucmFkaXhQb2ludD97aW5zZXJ0Ontwb3M6cmFkaXhQb3MrMSxjOlwiMFwiLGZyb21Jc1ZhbGlkOiEwfSxyZXdyaXRlUG9zaXRpb246cmFkaXhQb3N9OntyZXdyaXRlUG9zaXRpb246cmFkaXhQb3MrMX07aWYoY2FyZXRQb3MuYmVnaW48cmFkaXhQb3MpcmV0dXJue3Jld3JpdGVQb3NpdGlvbjpjYXJldFBvcy5iZWdpbi0xfX19ZWxzZSBpZighb3B0cy5zaG93TWFza09uSG92ZXImJiFvcHRzLnNob3dNYXNrT25Gb2N1cyYmIW9wdHMuZGlnaXRzT3B0aW9uYWwmJjA8b3B0cy5kaWdpdHMmJlwiXCI9PT10aGlzLl9fdmFsdWVHZXQuY2FsbCh0aGlzLmVsKSlyZXR1cm57cmV3cml0ZVBvc2l0aW9uOnJhZGl4UG9zfTtyZXR1cm57cmV3cml0ZVBvc2l0aW9uOnBvc319LHBvc3RWYWxpZGF0aW9uOmZ1bmN0aW9uIHBvc3RWYWxpZGF0aW9uKGJ1ZmZlcixwb3MsYyxjdXJyZW50UmVzdWx0LG9wdHMsbWFza3NldCxzdHJpY3Qpe2lmKCExPT09Y3VycmVudFJlc3VsdClyZXR1cm4gY3VycmVudFJlc3VsdDtpZihzdHJpY3QpcmV0dXJuITA7aWYobnVsbCE9PW9wdHMubWlufHxudWxsIT09b3B0cy5tYXgpe3ZhciB1bm1hc2tlZD1vcHRzLm9uVW5NYXNrKGJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpLHZvaWQgMCwkLmV4dGVuZCh7fSxvcHRzLHt1bm1hc2tBc051bWJlcjohMH0pKTtpZihudWxsIT09b3B0cy5taW4mJnVubWFza2VkPG9wdHMubWluJiYodW5tYXNrZWQudG9TdHJpbmcoKS5sZW5ndGg+b3B0cy5taW4udG9TdHJpbmcoKS5sZW5ndGh8fHVubWFza2VkPDApKXJldHVybiExO2lmKG51bGwhPT1vcHRzLm1heCYmdW5tYXNrZWQ+b3B0cy5tYXgpcmV0dXJuISFvcHRzLlNldE1heE9uT3ZlcmZsb3cmJntyZWZyZXNoRnJvbUJ1ZmZlcjohMCxidWZmZXI6YWxpZ25EaWdpdHMob3B0cy5tYXgudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLG9wdHMucmFkaXhQb2ludCkuc3BsaXQoXCJcIiksb3B0cy5kaWdpdHMsb3B0cykucmV2ZXJzZSgpfX1yZXR1cm4gY3VycmVudFJlc3VsdH0sb25Vbk1hc2s6ZnVuY3Rpb24gb25Vbk1hc2sobWFza2VkVmFsdWUsdW5tYXNrZWRWYWx1ZSxvcHRzKXtpZihcIlwiPT09dW5tYXNrZWRWYWx1ZSYmITA9PT1vcHRzLm51bGxhYmxlKXJldHVybiB1bm1hc2tlZFZhbHVlO3ZhciBwcm9jZXNzVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnByZWZpeCxcIlwiKTtyZXR1cm4gcHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG9wdHMuc3VmZml4LFwiXCIpLHByb2Nlc3NWYWx1ZT1wcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLmdyb3VwU2VwYXJhdG9yKSxcImdcIiksXCJcIiksXCJcIiE9PW9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApJiYocHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAob3B0cy5wbGFjZWhvbGRlci5jaGFyQXQoMCksXCJnXCIpLFwiMFwiKSksb3B0cy51bm1hc2tBc051bWJlcj8oXCJcIiE9PW9wdHMucmFkaXhQb2ludCYmLTEhPT1wcm9jZXNzVmFsdWUuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpJiYocHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKF9lc2NhcGVSZWdleC5kZWZhdWx0LmNhbGwodGhpcyxvcHRzLnJhZGl4UG9pbnQpLFwiLlwiKSkscHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeXCIrKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpKSxcIi1cIikscHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykrXCIkXCIpLFwiXCIpLE51bWJlcihwcm9jZXNzVmFsdWUpKTpwcm9jZXNzVmFsdWV9LGlzQ29tcGxldGU6ZnVuY3Rpb24gaXNDb21wbGV0ZShidWZmZXIsb3B0cyl7dmFyIG1hc2tlZFZhbHVlPShvcHRzLm51bWVyaWNJbnB1dD9idWZmZXIuc2xpY2UoKS5yZXZlcnNlKCk6YnVmZmVyKS5qb2luKFwiXCIpO3JldHVybiBtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeXCIrKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpKSxcIi1cIiksbWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spK1wiJFwiKSxcIlwiKSxtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LFwiXCIpLG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsXCJcIiksbWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKCgwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLmdyb3VwU2VwYXJhdG9yKStcIihbMC05XXszfSlcIixcImdcIiksXCIkMVwiKSxcIixcIj09PW9wdHMucmFkaXhQb2ludCYmKG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2UoKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMucmFkaXhQb2ludCksXCIuXCIpKSxpc0Zpbml0ZShtYXNrZWRWYWx1ZSl9LG9uQmVmb3JlTWFzazpmdW5jdGlvbiBvbkJlZm9yZU1hc2soaW5pdGlhbFZhbHVlLG9wdHMpe3ZhciByYWRpeFBvaW50PW9wdHMucmFkaXhQb2ludHx8XCIsXCI7aXNGaW5pdGUob3B0cy5kaWdpdHMpJiYob3B0cy5kaWdpdHM9cGFyc2VJbnQob3B0cy5kaWdpdHMpKSxcIm51bWJlclwiIT10eXBlb2YgaW5pdGlhbFZhbHVlJiZcIm51bWJlclwiIT09b3B0cy5pbnB1dFR5cGV8fFwiXCI9PT1yYWRpeFBvaW50fHwoaW5pdGlhbFZhbHVlPWluaXRpYWxWYWx1ZS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIscmFkaXhQb2ludCkpO3ZhciBpc05hZ3RpdmU9XCItXCI9PT1pbml0aWFsVmFsdWUuY2hhckF0KDApfHxpbml0aWFsVmFsdWUuY2hhckF0KDApPT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCx2YWx1ZVBhcnRzPWluaXRpYWxWYWx1ZS5zcGxpdChyYWRpeFBvaW50KSxpbnRlZ2VyUGFydD12YWx1ZVBhcnRzWzBdLnJlcGxhY2UoL1teXFwtMC05XS9nLFwiXCIpLGRlY2ltYWxQYXJ0PTE8dmFsdWVQYXJ0cy5sZW5ndGg/dmFsdWVQYXJ0c1sxXS5yZXBsYWNlKC9bXjAtOV0vZyxcIlwiKTpcIlwiLGZvcmNlRGlnaXRzPTE8dmFsdWVQYXJ0cy5sZW5ndGg7aW5pdGlhbFZhbHVlPWludGVnZXJQYXJ0KyhcIlwiIT09ZGVjaW1hbFBhcnQ/cmFkaXhQb2ludCtkZWNpbWFsUGFydDpkZWNpbWFsUGFydCk7dmFyIGRpZ2l0cz0wO2lmKFwiXCIhPT1yYWRpeFBvaW50JiYoZGlnaXRzPW9wdHMuZGlnaXRzT3B0aW9uYWw/b3B0cy5kaWdpdHM8ZGVjaW1hbFBhcnQubGVuZ3RoP29wdHMuZGlnaXRzOmRlY2ltYWxQYXJ0Lmxlbmd0aDpvcHRzLmRpZ2l0cyxcIlwiIT09ZGVjaW1hbFBhcnR8fCFvcHRzLmRpZ2l0c09wdGlvbmFsKSl7dmFyIGRpZ2l0c0ZhY3Rvcj1NYXRoLnBvdygxMCxkaWdpdHN8fDEpO2luaXRpYWxWYWx1ZT1pbml0aWFsVmFsdWUucmVwbGFjZSgoMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkocmFkaXhQb2ludCksXCIuXCIpLGlzTmFOKHBhcnNlRmxvYXQoaW5pdGlhbFZhbHVlKSl8fChpbml0aWFsVmFsdWU9KG9wdHMucm91bmRpbmdGTihwYXJzZUZsb2F0KGluaXRpYWxWYWx1ZSkqZGlnaXRzRmFjdG9yKS9kaWdpdHNGYWN0b3IpLnRvRml4ZWQoZGlnaXRzKSksaW5pdGlhbFZhbHVlPWluaXRpYWxWYWx1ZS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIscmFkaXhQb2ludCl9aWYoMD09PW9wdHMuZGlnaXRzJiYtMSE9PWluaXRpYWxWYWx1ZS5pbmRleE9mKHJhZGl4UG9pbnQpJiYoaW5pdGlhbFZhbHVlPWluaXRpYWxWYWx1ZS5zdWJzdHJpbmcoMCxpbml0aWFsVmFsdWUuaW5kZXhPZihyYWRpeFBvaW50KSkpLG51bGwhPT1vcHRzLm1pbnx8bnVsbCE9PW9wdHMubWF4KXt2YXIgbnVtYmVyVmFsdWU9aW5pdGlhbFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZShyYWRpeFBvaW50LFwiLlwiKTtudWxsIT09b3B0cy5taW4mJm51bWJlclZhbHVlPG9wdHMubWluP2luaXRpYWxWYWx1ZT1vcHRzLm1pbi50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIscmFkaXhQb2ludCk6bnVsbCE9PW9wdHMubWF4JiZudW1iZXJWYWx1ZT5vcHRzLm1heCYmKGluaXRpYWxWYWx1ZT1vcHRzLm1heC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIscmFkaXhQb2ludCkpfXJldHVybiBpc05hZ3RpdmUmJlwiLVwiIT09aW5pdGlhbFZhbHVlLmNoYXJBdCgwKSYmKGluaXRpYWxWYWx1ZT1cIi1cIitpbml0aWFsVmFsdWUpLGFsaWduRGlnaXRzKGluaXRpYWxWYWx1ZS50b1N0cmluZygpLnNwbGl0KFwiXCIpLGRpZ2l0cyxvcHRzLGZvcmNlRGlnaXRzKS5qb2luKFwiXCIpfSxvbkJlZm9yZVdyaXRlOmZ1bmN0aW9uIG9uQmVmb3JlV3JpdGUoZSxidWZmZXIsY2FyZXRQb3Msb3B0cyl7ZnVuY3Rpb24gc3RyaXBCdWZmZXIoYnVmZmVyLHN0cmlwUmFkaXgpe2lmKCExIT09b3B0cy5fX2ZpbmFuY2VJbnB1dHx8c3RyaXBSYWRpeCl7dmFyIHBvc2l0aW9uPWJ1ZmZlci5pbmRleE9mKG9wdHMucmFkaXhQb2ludCk7LTEhPT1wb3NpdGlvbiYmYnVmZmVyLnNwbGljZShwb3NpdGlvbiwxKX1pZihcIlwiIT09b3B0cy5ncm91cFNlcGFyYXRvcilmb3IoOy0xIT09KHBvc2l0aW9uPWJ1ZmZlci5pbmRleE9mKG9wdHMuZ3JvdXBTZXBhcmF0b3IpKTspYnVmZmVyLnNwbGljZShwb3NpdGlvbiwxKTtyZXR1cm4gYnVmZmVyfXZhciByZXN1bHQsbGVhZGluZ3plcm9lcz1jaGVja0ZvckxlYWRpbmdaZXJvZXMoYnVmZmVyLG9wdHMpO2lmKGxlYWRpbmd6ZXJvZXMpZm9yKHZhciBjYXJldE5keD1idWZmZXIuam9pbihcIlwiKS5sYXN0SW5kZXhPZihsZWFkaW5nemVyb2VzWzBdLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpKS0obGVhZGluZ3plcm9lc1swXT09bGVhZGluZ3plcm9lcy5pbnB1dD8wOjEpLG9mZnNldD1sZWFkaW5nemVyb2VzWzBdPT1sZWFkaW5nemVyb2VzLmlucHV0PzE6MCxpPWxlYWRpbmd6ZXJvZXNbMF0ubGVuZ3RoLW9mZnNldDswPGk7aS0tKWRlbGV0ZSB0aGlzLm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbY2FyZXROZHgraV0sZGVsZXRlIGJ1ZmZlcltjYXJldE5keCtpXTtpZihlKXN3aXRjaChlLnR5cGUpe2Nhc2VcImJsdXJcIjpjYXNlXCJjaGVja3ZhbFwiOmlmKG51bGwhPT1vcHRzLm1pbil7dmFyIHVubWFza2VkPW9wdHMub25Vbk1hc2soYnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIiksdm9pZCAwLCQuZXh0ZW5kKHt9LG9wdHMse3VubWFza0FzTnVtYmVyOiEwfSkpO2lmKG51bGwhPT1vcHRzLm1pbiYmdW5tYXNrZWQ8b3B0cy5taW4pcmV0dXJue3JlZnJlc2hGcm9tQnVmZmVyOiEwLGJ1ZmZlcjphbGlnbkRpZ2l0cyhvcHRzLm1pbi50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsb3B0cy5yYWRpeFBvaW50KS5zcGxpdChcIlwiKSxvcHRzLmRpZ2l0cyxvcHRzKS5yZXZlcnNlKCl9fWlmKGJ1ZmZlcltidWZmZXIubGVuZ3RoLTFdPT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCl7dmFyIG5tYnJNdGNocz1uZXcgUmVnRXhwKFwiKF5cIisoXCJcIiE9b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udD8oMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkrXCI/XCI6XCJcIikrKDAsX2VzY2FwZVJlZ2V4LmRlZmF1bHQpKG9wdHMucHJlZml4KStcIikoLiopKFwiKygwLF9lc2NhcGVSZWdleC5kZWZhdWx0KShvcHRzLnN1ZmZpeCkrKFwiXCIhPW9wdHMubmVnYXRpb25TeW1ib2wuYmFjaz8oMCxfZXNjYXBlUmVnZXguZGVmYXVsdCkob3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKStcIj9cIjpcIlwiKStcIiQpXCIpLmV4ZWMoc3RyaXBCdWZmZXIoYnVmZmVyLnNsaWNlKCksITApLnJldmVyc2UoKS5qb2luKFwiXCIpKSxudW1iZXI9bm1ick10Y2hzP25tYnJNdGNoc1syXTpcIlwiOzA9PW51bWJlciYmKHJlc3VsdD17cmVmcmVzaEZyb21CdWZmZXI6ITAsYnVmZmVyOlswXX0pfWVsc2VcIlwiIT09b3B0cy5yYWRpeFBvaW50JiZidWZmZXJbMF09PT1vcHRzLnJhZGl4UG9pbnQmJihyZXN1bHQmJnJlc3VsdC5idWZmZXI/cmVzdWx0LmJ1ZmZlci5zaGlmdCgpOihidWZmZXIuc2hpZnQoKSxyZXN1bHQ9e3JlZnJlc2hGcm9tQnVmZmVyOiEwLGJ1ZmZlcjpzdHJpcEJ1ZmZlcihidWZmZXIpfSkpO2lmKG9wdHMuZW5mb3JjZURpZ2l0c09uQmx1cil7cmVzdWx0PXJlc3VsdHx8e307dmFyIGJmZnI9cmVzdWx0JiZyZXN1bHQuYnVmZmVyfHxidWZmZXIuc2xpY2UoKS5yZXZlcnNlKCk7cmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyPSEwLHJlc3VsdC5idWZmZXI9YWxpZ25EaWdpdHMoYmZmcixvcHRzLmRpZ2l0cyxvcHRzLCEwKS5yZXZlcnNlKCl9fXJldHVybiByZXN1bHR9LG9uS2V5RG93bjpmdW5jdGlvbiBvbktleURvd24oZSxidWZmZXIsY2FyZXRQb3Msb3B0cyl7dmFyICRpbnB1dD0kKHRoaXMpLGJmZnI7aWYoZS5jdHJsS2V5KXN3aXRjaChlLmtleUNvZGUpe2Nhc2UgX2tleWNvZGUuZGVmYXVsdC5VUDpyZXR1cm4gdGhpcy5pbnB1dG1hc2suX192YWx1ZVNldC5jYWxsKHRoaXMscGFyc2VGbG9hdCh0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkpK3BhcnNlSW50KG9wdHMuc3RlcCkpLCRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIiksITE7Y2FzZSBfa2V5Y29kZS5kZWZhdWx0LkRPV046cmV0dXJuIHRoaXMuaW5wdXRtYXNrLl9fdmFsdWVTZXQuY2FsbCh0aGlzLHBhcnNlRmxvYXQodGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpKS1wYXJzZUludChvcHRzLnN0ZXApKSwkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlXCIpLCExfWlmKCFlLnNoaWZ0S2V5JiYoZS5rZXlDb2RlPT09X2tleWNvZGUuZGVmYXVsdC5ERUxFVEV8fGUua2V5Q29kZT09PV9rZXljb2RlLmRlZmF1bHQuQkFDS1NQQUNFfHxlLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRV9TQUZBUkkpJiZjYXJldFBvcy5iZWdpbiE9PWJ1ZmZlci5sZW5ndGgpe2lmKGJ1ZmZlcltlLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURT9jYXJldFBvcy5iZWdpbi0xOmNhcmV0UG9zLmVuZF09PT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KXJldHVybiBiZmZyPWJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKSxcIlwiIT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCYmYmZmci5zaGlmdCgpLFwiXCIhPT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2smJmJmZnIucG9wKCksJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiLFtiZmZyLmpvaW4oXCJcIiksY2FyZXRQb3MuYmVnaW5dKSwhMTtpZighMD09PW9wdHMuX3JhZGl4RGFuY2Upe3ZhciByYWRpeFBvcz1idWZmZXIuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpO2lmKG9wdHMuZGlnaXRzT3B0aW9uYWwpe2lmKDA9PT1yYWRpeFBvcylyZXR1cm4gYmZmcj1idWZmZXIuc2xpY2UoKS5yZXZlcnNlKCksYmZmci5wb3AoKSwkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlXCIsW2JmZnIuam9pbihcIlwiKSxjYXJldFBvcy5iZWdpbj49YmZmci5sZW5ndGg/YmZmci5sZW5ndGg6Y2FyZXRQb3MuYmVnaW5dKSwhMX1lbHNlIGlmKC0xIT09cmFkaXhQb3MmJihjYXJldFBvcy5iZWdpbjxyYWRpeFBvc3x8Y2FyZXRQb3MuZW5kPHJhZGl4UG9zfHxlLmtleUNvZGU9PT1fa2V5Y29kZS5kZWZhdWx0LkRFTEVURSYmY2FyZXRQb3MuYmVnaW49PT1yYWRpeFBvcykpcmV0dXJuIGNhcmV0UG9zLmJlZ2luIT09Y2FyZXRQb3MuZW5kfHxlLmtleUNvZGUhPT1fa2V5Y29kZS5kZWZhdWx0LkJBQ0tTUEFDRSYmZS5rZXlDb2RlIT09X2tleWNvZGUuZGVmYXVsdC5CQUNLU1BBQ0VfU0FGQVJJfHxjYXJldFBvcy5iZWdpbisrLGJmZnI9YnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLGJmZnIuc3BsaWNlKGJmZnIubGVuZ3RoLWNhcmV0UG9zLmJlZ2luLGNhcmV0UG9zLmJlZ2luLWNhcmV0UG9zLmVuZCsxKSxiZmZyPWFsaWduRGlnaXRzKGJmZnIsb3B0cy5kaWdpdHMsb3B0cykuam9pbihcIlwiKSwkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlXCIsW2JmZnIsY2FyZXRQb3MuYmVnaW4+PWJmZnIubGVuZ3RoP3JhZGl4UG9zKzE6Y2FyZXRQb3MuYmVnaW5dKSwhMX19fX0sY3VycmVuY3k6e3ByZWZpeDpcIlwiLGdyb3VwU2VwYXJhdG9yOlwiLFwiLGFsaWFzOlwibnVtZXJpY1wiLGRpZ2l0czoyLGRpZ2l0c09wdGlvbmFsOiExfSxkZWNpbWFsOnthbGlhczpcIm51bWVyaWNcIn0saW50ZWdlcjp7YWxpYXM6XCJudW1lcmljXCIsZGlnaXRzOjB9LHBlcmNlbnRhZ2U6e2FsaWFzOlwibnVtZXJpY1wiLG1pbjowLG1heDoxMDAsc3VmZml4OlwiICVcIixkaWdpdHM6MCxhbGxvd01pbnVzOiExfSxpbmRpYW5uczp7YWxpYXM6XCJudW1lcmljXCIsX21hc2s6ZnVuY3Rpb24gX21hc2sob3B0cyl7cmV0dXJuXCIoXCIrb3B0cy5ncm91cFNlcGFyYXRvcitcIjk5KXsqfDF9KFwiK29wdHMuZ3JvdXBTZXBhcmF0b3IrXCI5OTkpezF8MX1cIn0sZ3JvdXBTZXBhcmF0b3I6XCIsXCIscmFkaXhQb2ludDpcIi5cIixwbGFjZWhvbGRlcjpcIjBcIixkaWdpdHM6MixkaWdpdHNPcHRpb25hbDohMX19KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF93aW5kb3c9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSxfaW5wdXRtYXNrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyKSksX2NhblVzZURPTT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNikpO2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfdHlwZW9mKG9iail9ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiZfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyl9ZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpe3ZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0PV9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTtyZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKXt2YXIgU3VwZXI9X2dldFByb3RvdHlwZU9mKERlcml2ZWQpLHJlc3VsdDtpZihoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KXt2YXIgTmV3VGFyZ2V0PV9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtyZXN1bHQ9UmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsYXJndW1lbnRzLE5ld1RhcmdldCl9ZWxzZSByZXN1bHQ9U3VwZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLHJlc3VsdCl9fWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPT1fdHlwZW9mKGNhbGwpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP19hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik6Y2FsbH1mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpe2lmKHZvaWQgMD09PXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBzZWxmfWZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3Mpe3ZhciBfY2FjaGU9XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwP25ldyBNYXA6dm9pZCAwO3JldHVybiBfd3JhcE5hdGl2ZVN1cGVyPWZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3Mpe2lmKG51bGw9PT1DbGFzc3x8IV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSlyZXR1cm4gQ2xhc3M7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBfY2FjaGUpe2lmKF9jYWNoZS5oYXMoQ2xhc3MpKXJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtfY2FjaGUuc2V0KENsYXNzLFdyYXBwZXIpfWZ1bmN0aW9uIFdyYXBwZXIoKXtyZXR1cm4gX2NvbnN0cnVjdChDbGFzcyxhcmd1bWVudHMsX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gV3JhcHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpXcmFwcGVyLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLENsYXNzKX0sX3dyYXBOYXRpdmVTdXBlcihDbGFzcyl9ZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsYXJncyxDbGFzcyl7cmV0dXJuIF9jb25zdHJ1Y3Q9X2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LGFyZ3MsQ2xhc3Mpe3ZhciBhPVtudWxsXTthLnB1c2guYXBwbHkoYSxhcmdzKTt2YXIgQ29uc3RydWN0b3I9RnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsYSksaW5zdGFuY2U9bmV3IENvbnN0cnVjdG9yO3JldHVybiBDbGFzcyYmX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLENsYXNzLnByb3RvdHlwZSksaW5zdGFuY2V9LF9jb25zdHJ1Y3QuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sZnVuY3Rpb24oKXt9KSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKXtyZXR1cm4tMSE9PUZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpfWZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLHApe3JldHVybiBfc2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobyxwKXtyZXR1cm4gby5fX3Byb3RvX189cCxvfSxfc2V0UHJvdG90eXBlT2YobyxwKX1mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobyl7cmV0dXJuIF9nZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKXtyZXR1cm4gby5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihvKX0sX2dldFByb3RvdHlwZU9mKG8pfWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX12YXIgZG9jdW1lbnQ9X3dpbmRvdy5kZWZhdWx0LmRvY3VtZW50O2lmKF9jYW5Vc2VET00uZGVmYXVsdCYmZG9jdW1lbnQmJmRvY3VtZW50LmhlYWQmJmRvY3VtZW50LmhlYWQuYXR0YWNoU2hhZG93JiZfd2luZG93LmRlZmF1bHQuY3VzdG9tRWxlbWVudHMmJnZvaWQgMD09PV93aW5kb3cuZGVmYXVsdC5jdXN0b21FbGVtZW50cy5nZXQoXCJpbnB1dC1tYXNrXCIpKXt2YXIgSW5wdXRtYXNrRWxlbWVudD1mdW5jdGlvbihfSFRNTEVsZW1lbnQpe19pbmhlcml0cyhJbnB1dG1hc2tFbGVtZW50LF9IVE1MRWxlbWVudCk7dmFyIF9zdXBlcj1fY3JlYXRlU3VwZXIoSW5wdXRtYXNrRWxlbWVudCk7ZnVuY3Rpb24gSW5wdXRtYXNrRWxlbWVudCgpe3ZhciBfdGhpcztfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbnB1dG1hc2tFbGVtZW50KSxfdGhpcz1fc3VwZXIuY2FsbCh0aGlzKTt2YXIgYXR0cmlidXRlTmFtZXM9X3RoaXMuZ2V0QXR0cmlidXRlTmFtZXMoKSxzaGFkb3c9X3RoaXMuYXR0YWNoU2hhZG93KHttb2RlOlwiY2xvc2VkXCJ9KSxpbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Zm9yKHZhciBhdHRyIGluIGlucHV0LnR5cGU9XCJ0ZXh0XCIsc2hhZG93LmFwcGVuZENoaWxkKGlucHV0KSxhdHRyaWJ1dGVOYW1lcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cmlidXRlTmFtZXMsYXR0cikmJmlucHV0LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lc1thdHRyXSxfdGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZXNbYXR0cl0pKTt2YXIgaW09bmV3IF9pbnB1dG1hc2suZGVmYXVsdDtyZXR1cm4gaW0uZGF0YUF0dHJpYnV0ZT1cIlwiLGltLm1hc2soaW5wdXQpLGlucHV0LmlucHV0bWFzay5zaGFkb3dSb290PXNoYWRvdyxfdGhpc31yZXR1cm4gSW5wdXRtYXNrRWxlbWVudH0oX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpO193aW5kb3cuZGVmYXVsdC5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJpbnB1dC1tYXNrXCIsSW5wdXRtYXNrRWxlbWVudCl9fV0saW5zdGFsbGVkTW9kdWxlcz17fSxfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLG5hbWUse2VudW1lcmFibGU6ITAsZ2V0OmdldHRlcn0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnI9ZnVuY3Rpb24oZXhwb3J0cyl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy50PWZ1bmN0aW9uKHZhbHVlLG1vZGUpe2lmKDEmbW9kZSYmKHZhbHVlPV9fd2VicGFja19yZXF1aXJlX18odmFsdWUpKSw4Jm1vZGUpcmV0dXJuIHZhbHVlO2lmKDQmbW9kZSYmXCJvYmplY3RcIj09dHlwZW9mIHZhbHVlJiZ2YWx1ZSYmdmFsdWUuX19lc01vZHVsZSlyZXR1cm4gdmFsdWU7dmFyIG5zPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dmFsdWV9KSwyJm1vZGUmJlwic3RyaW5nXCIhPXR5cGVvZiB2YWx1ZSlmb3IodmFyIGtleSBpbiB2YWx1ZSlfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsa2V5LGZ1bmN0aW9uKGtleSl7cmV0dXJuIHZhbHVlW2tleV19LmJpbmQobnVsbCxrZXkpKTtyZXR1cm4gbnN9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbihtb2R1bGUpe3ZhciBnZXR0ZXI9bW9kdWxlJiZtb2R1bGUuX19lc01vZHVsZT9mdW5jdGlvbiBnZXREZWZhdWx0KCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCl7cmV0dXJuIG1vZHVsZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsXCJhXCIsZ2V0dGVyKSxnZXR0ZXJ9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPVwiXCIsX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnM9MTQpO2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpe2lmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKXJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO3ZhciBtb2R1bGU9aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF09e2k6bW9kdWxlSWQsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cyxtb2R1bGUsbW9kdWxlLmV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyksbW9kdWxlLmw9ITAsbW9kdWxlLmV4cG9ydHN9dmFyIG1vZHVsZXMsaW5zdGFsbGVkTW9kdWxlc30pOyIsIi8qISBqcy1jb29raWUgdjMuMC4wLXJjLjEgfCBNSVQgKi9cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOihlPWV8fHNlbGYsZnVuY3Rpb24oKXt2YXIgbj1lLkNvb2tpZXMscj1lLkNvb2tpZXM9dCgpO3Iubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBlLkNvb2tpZXM9bixyfX0oKSl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbillW3JdPW5bcl19cmV0dXJuIGV9dmFyIHQ9e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvKCVbXFxkQS1GXXsyfSkrL2dpLGRlY29kZVVSSUNvbXBvbmVudCl9LHdyaXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvJSgyWzM0NkJGXXwzW0FDLUZdfDQwfDVbQkRFXXw2MHw3W0JDRF0pL2csZGVjb2RlVVJJQ29tcG9uZW50KX19O3JldHVybiBmdW5jdGlvbiBuKHIsbyl7ZnVuY3Rpb24gaSh0LG4saSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KXtcIm51bWJlclwiPT10eXBlb2YoaT1lKHt9LG8saSkpLmV4cGlyZXMmJihpLmV4cGlyZXM9bmV3IERhdGUoRGF0ZS5ub3coKSs4NjRlNSppLmV4cGlyZXMpKSxpLmV4cGlyZXMmJihpLmV4cGlyZXM9aS5leHBpcmVzLnRvVVRDU3RyaW5nKCkpLHQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyUoMlszNDZCXXw1RXw2MHw3QykvZyxkZWNvZGVVUklDb21wb25lbnQpLnJlcGxhY2UoL1soKV0vZyxlc2NhcGUpLG49ci53cml0ZShuLHQpO3ZhciBjPVwiXCI7Zm9yKHZhciB1IGluIGkpaVt1XSYmKGMrPVwiOyBcIit1LCEwIT09aVt1XSYmKGMrPVwiPVwiK2lbdV0uc3BsaXQoXCI7XCIpWzBdKSk7cmV0dXJuIGRvY3VtZW50LmNvb2tpZT10K1wiPVwiK24rY319cmV0dXJuIE9iamVjdC5jcmVhdGUoe3NldDppLGdldDpmdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJighYXJndW1lbnRzLmxlbmd0aHx8ZSkpe2Zvcih2YXIgbj1kb2N1bWVudC5jb29raWU/ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIik6W10sbz17fSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBjPW5baV0uc3BsaXQoXCI9XCIpLHU9Yy5zbGljZSgxKS5qb2luKFwiPVwiKTsnXCInPT09dVswXSYmKHU9dS5zbGljZSgxLC0xKSk7dHJ5e3ZhciBmPXQucmVhZChjWzBdKTtpZihvW2ZdPXIucmVhZCh1LGYpLGU9PT1mKWJyZWFrfWNhdGNoKGUpe319cmV0dXJuIGU/b1tlXTpvfX0scmVtb3ZlOmZ1bmN0aW9uKHQsbil7aSh0LFwiXCIsZSh7fSxuLHtleHBpcmVzOi0xfSkpfSx3aXRoQXR0cmlidXRlczpmdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLmNvbnZlcnRlcixlKHt9LHRoaXMuYXR0cmlidXRlcyx0KSl9LHdpdGhDb252ZXJ0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG4oZSh7fSx0aGlzLmNvbnZlcnRlcix0KSx0aGlzLmF0dHJpYnV0ZXMpfX0se2F0dHJpYnV0ZXM6e3ZhbHVlOk9iamVjdC5mcmVlemUobyl9LGNvbnZlcnRlcjp7dmFsdWU6T2JqZWN0LmZyZWV6ZShyKX19KX0odCx7cGF0aDpcIi9cIn0pfSk7XG4iLCIvKlxyXG4gMEJTRFxyXG4qL1xyXG4oZnVuY3Rpb24oRix5KXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh5KTpcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9eSgpOkYucGlja21ldXA9eSgpfSkodGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIEYoYSxjLGIpe2I9Ynx8W107aWYoYSBpbnN0YW5jZW9mIEVsZW1lbnQpYy5hcHBseShjLFthXS5jb25jYXQoYikpO2Vsc2V7dmFyIGQ7dmFyIGU9YS5sZW5ndGg7Zm9yKGQ9MDtkPGU7KytkKWMuYXBwbHkoYyxbYVtkXV0uY29uY2F0KGIpKX19ZnVuY3Rpb24geShhKXtGKGEsZnVuY3Rpb24oYSl7YS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGEpfSl9ZnVuY3Rpb24gSihhLGMpe2RvIGE9YS5wYXJlbnRFbGVtZW50O3doaWxlKGEmJiFCKGEsYykpO3JldHVybiBhfWZ1bmN0aW9uIEIoYSxjKXtyZXR1cm4oYS5tYXRjaGVzfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcikuY2FsbChhLFxyXG5jKX1mdW5jdGlvbiBrKGEsYyl7cmV0dXJuIGEmJmEuY2xhc3NMaXN0LmNvbnRhaW5zKGMpfWZ1bmN0aW9uIGwoYSxjKXthLmNsYXNzTGlzdC5hZGQoYyl9ZnVuY3Rpb24gcShhLGMsYixkKXtpZigtMSE9PWIuaW5kZXhPZihcIiBcIikpe2I9Yi5zcGxpdChcIiBcIik7dmFyIGU9Yi5sZW5ndGgsaDtmb3IoaD0wO2g8ZTsrK2gpcShhLGMsYltoXSxkKX1lbHNlIGEuX19waWNrbWV1cC5ldmVudHMucHVzaChbYyxiLGRdKSxjLmFkZEV2ZW50TGlzdGVuZXIoYixkKX1mdW5jdGlvbiB6KGEsYyxiLGQpe3ZhciBlO2lmKGImJi0xIT09Yi5pbmRleE9mKFwiIFwiKSl7dmFyIGg9Yi5zcGxpdChcIiBcIik7dmFyIGw9aC5sZW5ndGg7Zm9yKGU9MDtlPGw7KytlKXooYSxjLGhbZV0sZCl9ZWxzZSBmb3IoaD1hLl9fcGlja21ldXAuZXZlbnRzLGw9aC5sZW5ndGgsZT0wO2U8bDsrK2UpYyYmYyE9PWhbZV1bMF18fGImJmIhPT1oW2VdWzFdfHxkJiZkIT09aFtlXVsyXXx8aFtlXVswXS5yZW1vdmVFdmVudExpc3RlbmVyKGhbZV1bMV0sXHJcbmhbZV1bMl0pfWZ1bmN0aW9uIE0oYSl7YT1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt0b3A6YS50b3Ard2luZG93LnBhZ2VZT2Zmc2V0LWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AsbGVmdDphLmxlZnQrd2luZG93LnBhZ2VYT2Zmc2V0LWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0fX1mdW5jdGlvbiBDKGEsYyxiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO2ImJihkLmRldGFpbD1iKTtkLmluaXRFdmVudChcInBpY2ttZXVwLVwiK2MsITEsITApO3JldHVybiBhLmRpc3BhdGNoRXZlbnQoZCl9ZnVuY3Rpb24gSyhhKXthPW5ldyBEYXRlKGEpO2Zvcih2YXIgYz0yOCxiPWEuZ2V0TW9udGgoKTthLmdldE1vbnRoKCk9PT1iOykrK2MsYS5zZXREYXRlKGMpO3JldHVybiBjLTF9ZnVuY3Rpb24gQShhLGMpe2Euc2V0RGF0ZShhLmdldERhdGUoKStjKX1mdW5jdGlvbiBwKGEsYyl7dmFyIGI9YS5nZXREYXRlKCk7YS5zZXREYXRlKDEpO1xyXG5hLnNldE1vbnRoKGEuZ2V0TW9udGgoKStjKTthLnNldERhdGUoTWF0aC5taW4oYixLKGEpKSl9ZnVuY3Rpb24gdShhLGMpe3ZhciBiPWEuZ2V0RGF0ZSgpO2Euc2V0RGF0ZSgxKTthLnNldEZ1bGxZZWFyKGEuZ2V0RnVsbFllYXIoKStjKTthLnNldERhdGUoTWF0aC5taW4oYixLKGEpKSl9ZnVuY3Rpb24gTihhKXt2YXIgYz1hLl9fcGlja21ldXAuZWxlbWVudCxiPWEuX19waWNrbWV1cC5vcHRpb25zLGQ9TWF0aC5mbG9vcihiLmNhbGVuZGFycy8yKSxlPWIuZGF0ZSxoPWIuY3VycmVudCxtPWIubWluP25ldyBEYXRlKGIubWluKTpudWxsLHY9Yi5tYXg/bmV3IERhdGUoYi5tYXgpOm51bGw7bSYmKG0uc2V0RGF0ZSgxKSxwKG0sMSksQShtLC0xKSk7diYmKHYuc2V0RGF0ZSgxKSxwKHYsMSksQSh2LC0xKSk7eShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG11LWluc3RhbmNlID4gOm5vdChuYXYpXCIpKSk7Zm9yKHZhciB3PTA7dzxiLmNhbGVuZGFyczt3Kyspe3ZhciBmPVxyXG5uZXcgRGF0ZShoKTt4KGYpO3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGMucXVlcnlTZWxlY3RvckFsbChcIi5wbXUtaW5zdGFuY2VcIikpW3ddO2lmKGsoYyxcInBtdS12aWV3LXllYXJzXCIpKXt1KGYsMTIqKHctZCkpO3ZhciBHPWYuZ2V0RnVsbFllYXIoKS02K1wiIC0gXCIrKGYuZ2V0RnVsbFllYXIoKSs1KX1lbHNlIGsoYyxcInBtdS12aWV3LW1vbnRoc1wiKT8odShmLHctZCksRz1mLmdldEZ1bGxZZWFyKCkpOmsoYyxcInBtdS12aWV3LWRheXNcIikmJihwKGYsdy1kKSxHPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBiLnRpdGxlX2Zvcm1hdD9iLnRpdGxlX2Zvcm1hdChmLGIubG9jYWxlc1tiLmxvY2FsZV0pOkQoZixiLnRpdGxlX2Zvcm1hdCxiLmxvY2FsZXNbYi5sb2NhbGVdKSk7aWYoIXImJnYpe3ZhciByPW5ldyBEYXRlKGYpO2Iuc2VsZWN0X2RheT9wKHIsYi5jYWxlbmRhcnMtMSk6Yi5zZWxlY3RfbW9udGg/dShyLGIuY2FsZW5kYXJzLTEpOnUociwxMiooYi5jYWxlbmRhcnMtMSkpO1xyXG5pZihyPnYpey0tdztwKGgsLTEpO3I9dm9pZCAwO2NvbnRpbnVlfX1yPW5ldyBEYXRlKGYpO2lmKCFnKXt2YXIgZz1uZXcgRGF0ZShmKTtnLnNldERhdGUoMSk7cChnLDEpO0EoZywtMSk7aWYobSYmbT5nKXstLXc7cChoLDEpO2c9dm9pZCAwO2NvbnRpbnVlfX1uLnF1ZXJ5U2VsZWN0b3IoXCIucG11LW1vbnRoXCIpLmlubmVySFRNTD1HO3ZhciBxPWZ1bmN0aW9uKGEpe3JldHVyblwicmFuZ2VcIj09PWIubW9kZSYmYT49KG5ldyBEYXRlKGVbMF0pKS5nZXRGdWxsWWVhcigpJiZhPD0obmV3IERhdGUoZVsxXSkpLmdldEZ1bGxZZWFyKCl8fFwibXVsdGlwbGVcIj09PWIubW9kZSYmLTEhPT1lLnJlZHVjZShmdW5jdGlvbihhLGIpe2EucHVzaCgobmV3IERhdGUoYikpLmdldEZ1bGxZZWFyKCkpO3JldHVybiBhfSxbXSkuaW5kZXhPZihhKXx8KG5ldyBEYXRlKGUpKS5nZXRGdWxsWWVhcigpPT09YX0sdD1mdW5jdGlvbihhLGMpe3ZhciBkPShuZXcgRGF0ZShlWzBdKSkuZ2V0RnVsbFllYXIoKSxmPShuZXcgRGF0ZShlWzFdKSkuZ2V0RnVsbFllYXIoKSxcclxuaD0obmV3IERhdGUoZVswXSkpLmdldE1vbnRoKCksZz0obmV3IERhdGUoZVsxXSkpLmdldE1vbnRoKCk7cmV0dXJuXCJyYW5nZVwiPT09Yi5tb2RlJiYoYT5kJiZhPGZ8fGE+ZCYmYT09PWYmJmM8PWd8fGE9PT1kJiZhPGYmJmM+PWh8fGE9PT1kJiZhPT09ZiYmYz49aCYmYzw9Zyl8fFwibXVsdGlwbGVcIj09PWIubW9kZSYmLTEhPT1lLnJlZHVjZShmdW5jdGlvbihhLGIpe2I9bmV3IERhdGUoYik7YS5wdXNoKGIuZ2V0RnVsbFllYXIoKStcIi1cIitiLmdldE1vbnRoKCkpO3JldHVybiBhfSxbXSkuaW5kZXhPZihhK1wiLVwiK2MpfHwobmV3IERhdGUoZSkpLmdldEZ1bGxZZWFyKCk9PT1hJiYobmV3IERhdGUoZSkpLmdldE1vbnRoKCk9PT1jfTsoZnVuY3Rpb24oKXt2YXIgYT1bXSxjPWYuZ2V0RnVsbFllYXIoKS02LGQ9KG5ldyBEYXRlKGIubWluKSkuZ2V0RnVsbFllYXIoKSxlPShuZXcgRGF0ZShiLm1heCkpLmdldEZ1bGxZZWFyKCksaDtmb3IoaD0wOzEyPmg7KytoKXt2YXIgZz1jK2g7dmFyIG09XHJcbmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bS50ZXh0Q29udGVudD1nO20uX19waWNrbWV1cF95ZWFyPWc7Yi5taW4mJmc8ZHx8Yi5tYXgmJmc+ZT9sKG0sXCJwbXUtZGlzYWJsZWRcIik6cShnKSYmbChtLFwicG11LXNlbGVjdGVkXCIpO2EucHVzaChtKX1uLmFwcGVuZENoaWxkKGIuaW5zdGFuY2VfY29udGVudF90ZW1wbGF0ZShhLFwicG11LXllYXJzXCIpKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9W10sYz1mLmdldEZ1bGxZZWFyKCksZD0obmV3IERhdGUoYi5taW4pKS5nZXRGdWxsWWVhcigpLGU9KG5ldyBEYXRlKGIubWluKSkuZ2V0TW9udGgoKSxnPShuZXcgRGF0ZShiLm1heCkpLmdldEZ1bGxZZWFyKCksaD0obmV3IERhdGUoYi5tYXgpKS5nZXRNb250aCgpLG07Zm9yKG09MDsxMj5tOysrbSl7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtrLnRleHRDb250ZW50PWIubG9jYWxlc1tiLmxvY2FsZV0ubW9udGhzU2hvcnRbbV07ay5fX3BpY2ttZXVwX21vbnRoPW07XHJcbmsuX19waWNrbWV1cF95ZWFyPWM7Yi5taW4mJihjPGR8fG08ZSYmYz09PWQpfHxiLm1heCYmKGM+Z3x8bT5oJiZjPj1nKT9sKGssXCJwbXUtZGlzYWJsZWRcIik6dChjLG0pJiZsKGssXCJwbXUtc2VsZWN0ZWRcIik7YS5wdXNoKGspfW4uYXBwZW5kQ2hpbGQoYi5pbnN0YW5jZV9jb250ZW50X3RlbXBsYXRlKGEsXCJwbXUtbW9udGhzXCIpKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9W10sYz1mLmdldE1vbnRoKCksZD14KG5ldyBEYXRlKS52YWx1ZU9mKCksZTsoZnVuY3Rpb24oKXtmLnNldERhdGUoMSk7dmFyIGE9KGYuZ2V0RGF5KCktYi5maXJzdF9kYXkpJTc7QShmLC0oYSsoMD5hPzc6MCkpKX0pKCk7Zm9yKGU9MDs0Mj5lOysrZSl7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtnLnRleHRDb250ZW50PWYuZ2V0RGF0ZSgpO2cuX19waWNrbWV1cF9kYXk9Zi5nZXREYXRlKCk7Zy5fX3BpY2ttZXVwX21vbnRoPWYuZ2V0TW9udGgoKTtnLl9fcGlja21ldXBfeWVhcj1mLmdldEZ1bGxZZWFyKCk7XHJcbmMhPT1mLmdldE1vbnRoKCkmJmwoZyxcInBtdS1ub3QtaW4tbW9udGhcIik7MD09PWYuZ2V0RGF5KCk/bChnLFwicG11LXN1bmRheVwiKTo2PT09Zi5nZXREYXkoKSYmbChnLFwicG11LXNhdHVyZGF5XCIpO3ZhciBoPWIucmVuZGVyKG5ldyBEYXRlKGYpKXx8e307dmFyIG09eChuZXcgRGF0ZShmKSkudmFsdWVPZigpO3ZhciBrPWIubWluJiZiLm1pbj5mfHxiLm1heCYmYi5tYXg8Zjt2YXIgdj1iLmRhdGUudmFsdWVPZigpPT09bXx8Yi5kYXRlIGluc3RhbmNlb2YgQXJyYXkmJmIuZGF0ZS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXx8bT09PWIudmFsdWVPZigpfSwhMSl8fFwicmFuZ2VcIj09PWIubW9kZSYmbT49Yi5kYXRlWzBdJiZtPD1iLmRhdGVbMV07aC5kaXNhYmxlZHx8IShcImRpc2FibGVkXCJpbiBoKSYmaz9sKGcsXCJwbXUtZGlzYWJsZWRcIik6KGguc2VsZWN0ZWR8fCEoXCJzZWxlY3RlZFwiaW4gaCkmJnYpJiZsKGcsXCJwbXUtc2VsZWN0ZWRcIik7bT09PWQmJmwoZyxcInBtdS10b2RheVwiKTtcclxuaC5jbGFzc19uYW1lJiZoLmNsYXNzX25hbWUuc3BsaXQoXCIgXCIpLmZvckVhY2gobC5iaW5kKGcsZykpO2EucHVzaChnKTtBKGYsMSl9bi5hcHBlbmRDaGlsZChiLmluc3RhbmNlX2NvbnRlbnRfdGVtcGxhdGUoYSxcInBtdS1kYXlzXCIpKX0pKCl9Zy5zZXREYXRlKDEpO3Iuc2V0RGF0ZSgxKTtwKHIsMSk7QShyLC0xKTtkPWMucXVlcnlTZWxlY3RvcihcIi5wbXUtcHJldlwiKTtjPWMucXVlcnlTZWxlY3RvcihcIi5wbXUtbmV4dFwiKTtkJiYoZC5zdHlsZS52aXNpYmlsaXR5PWIubWluJiZiLm1pbj49Zz9cImhpZGRlblwiOlwidmlzaWJsZVwiKTtjJiYoYy5zdHlsZS52aXNpYmlsaXR5PWIubWF4JiZiLm1heDw9cj9cImhpZGRlblwiOlwidmlzaWJsZVwiKTtDKGEsXCJmaWxsXCIpfWZ1bmN0aW9uIHQoYSxjKXt2YXIgYj1jLmZvcm1hdCxkPWMuc2VwYXJhdG9yLGU9Yy5sb2NhbGVzW2MubG9jYWxlXTtpZihhIGluc3RhbmNlb2YgRGF0ZXx8XCJudW1iZXJcIj09PXR5cGVvZiBhKXJldHVybiB4KG5ldyBEYXRlKGEpKTtcclxuaWYoIWEpcmV0dXJuIHgobmV3IERhdGUpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7YT1hLnNsaWNlKCk7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYilhW2JdPXQoYVtiXSxjKTtyZXR1cm4gYX1kPWEuc3BsaXQoZCk7aWYoMTxkLmxlbmd0aClyZXR1cm4gZC5mb3JFYWNoKGZ1bmN0aW9uKGEsYixkKXtkW2JdPXQoYS50cmltKCksYyl9KSxkO2Q9W10uY29uY2F0KGUuZGF5c1Nob3J0LGUuZGF5c01pbixlLmRheXMsZS5tb250aHNTaG9ydCxlLm1vbnRocyk7ZD1kLm1hcChmdW5jdGlvbihhKXtyZXR1cm5cIihcIithK1wiKVwifSk7ZD1uZXcgUmVnRXhwKFwiW14wLTlhLXpBLVpcIitkLmpvaW4oXCJcIikrXCJdK1wiKTthPWEuc3BsaXQoZCk7ZD1iLnNwbGl0KGQpO3ZhciBoPW5ldyBEYXRlO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspc3dpdGNoKGRbYl0pe2Nhc2UgXCJiXCI6dmFyIG09ZS5tb250aHNTaG9ydC5pbmRleE9mKGFbYl0pO2JyZWFrO2Nhc2UgXCJCXCI6bT1lLm1vbnRocy5pbmRleE9mKGFbYl0pO2JyZWFrO1xyXG5jYXNlIFwiZFwiOmNhc2UgXCJlXCI6dmFyIGw9cGFyc2VJbnQoYVtiXSwxMCk7YnJlYWs7Y2FzZSBcIm1cIjptPXBhcnNlSW50KGFbYl0sMTApLTE7YnJlYWs7Y2FzZSBcIllcIjpjYXNlIFwieVwiOnZhciBrPXBhcnNlSW50KGFbYl0sMTApO2srPTEwMDxrPzA6Mjk+az8yRTM6MTkwMDticmVhaztjYXNlIFwiSFwiOmNhc2UgXCJJXCI6Y2FzZSBcImtcIjpjYXNlIFwibFwiOnZhciBmPXBhcnNlSW50KGFbYl0sMTApO2JyZWFrO2Nhc2UgXCJQXCI6Y2FzZSBcInBcIjovcG0vaS50ZXN0KGFbYl0pJiYxMj5mP2YrPTEyOi9hbS9pLnRlc3QoYVtiXSkmJjEyPD1mJiYoZi09MTIpO2JyZWFrO2Nhc2UgXCJNXCI6dmFyIG49cGFyc2VJbnQoYVtiXSwxMCl9ZT1uZXcgRGF0ZSh2b2lkIDA9PT1rP2guZ2V0RnVsbFllYXIoKTprLHZvaWQgMD09PW0/aC5nZXRNb250aCgpOm0sdm9pZCAwPT09bD9oLmdldERhdGUoKTpsLHZvaWQgMD09PWY/aC5nZXRIb3VycygpOmYsdm9pZCAwPT09bj9oLmdldE1pbnV0ZXMoKTpuLDApO2lzTmFOKDEqZSkmJlxyXG4oZT1uZXcgRGF0ZSk7cmV0dXJuIHgoZSl9ZnVuY3Rpb24geChhKXthLnNldEhvdXJzKDAsMCwwLDApO3JldHVybiBhfWZ1bmN0aW9uIEQoYSxjLGIpe3ZhciBkPWEuZ2V0TW9udGgoKSxlPWEuZ2V0RGF0ZSgpLGg9YS5nZXRGdWxsWWVhcigpLG09YS5nZXREYXkoKSxrPWEuZ2V0SG91cnMoKSxsPTEyPD1rLGY9bD9rLTEyOms7dmFyIG49bmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLGEuZ2V0TW9udGgoKSxhLmdldERhdGUoKSwwLDAsMCk7dmFyIHA9bmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLDAsMCwwLDAsMCk7bj1NYXRoLmZsb29yKChuLXApLzg2NEU1KTswPT09ZiYmKGY9MTIpO3A9YS5nZXRNaW51dGVzKCk7dmFyIHI9YS5nZXRTZWNvbmRzKCk7Yz1jLnNwbGl0KFwiXCIpO2Zvcih2YXIgZyxxPTA7cTxjLmxlbmd0aDtxKyspe2c9Y1txXTtzd2l0Y2goZyl7Y2FzZSBcImFcIjpnPWIuZGF5c1Nob3J0W21dO2JyZWFrO2Nhc2UgXCJBXCI6Zz1iLmRheXNbbV07YnJlYWs7Y2FzZSBcImJcIjpnPWIubW9udGhzU2hvcnRbZF07XHJcbmJyZWFrO2Nhc2UgXCJCXCI6Zz1iLm1vbnRoc1tkXTticmVhaztjYXNlIFwiQ1wiOmc9MStNYXRoLmZsb29yKGgvMTAwKTticmVhaztjYXNlIFwiZFwiOmc9MTA+ZT9cIjBcIitlOmU7YnJlYWs7Y2FzZSBcImVcIjpnPWU7YnJlYWs7Y2FzZSBcIkhcIjpnPTEwPms/XCIwXCIrazprO2JyZWFrO2Nhc2UgXCJJXCI6Zz0xMD5mP1wiMFwiK2Y6ZjticmVhaztjYXNlIFwialwiOmc9MTAwPm4/MTA+bj9cIjAwXCIrbjpcIjBcIituOm47YnJlYWs7Y2FzZSBcImtcIjpnPWs7YnJlYWs7Y2FzZSBcImxcIjpnPWY7YnJlYWs7Y2FzZSBcIm1cIjpnPTk+ZD9cIjBcIisoMStkKToxK2Q7YnJlYWs7Y2FzZSBcIk1cIjpnPTEwPnA/XCIwXCIrcDpwO2JyZWFrO2Nhc2UgXCJwXCI6Y2FzZSBcIlBcIjpnPWw/XCJQTVwiOlwiQU1cIjticmVhaztjYXNlIFwic1wiOmc9TWF0aC5mbG9vcihhLmdldFRpbWUoKS8xRTMpO2JyZWFrO2Nhc2UgXCJTXCI6Zz0xMD5yP1wiMFwiK3I6cjticmVhaztjYXNlIFwidVwiOmc9bSsxO2JyZWFrO2Nhc2UgXCJ3XCI6Zz1tO2JyZWFrO2Nhc2UgXCJ5XCI6Zz0oXCJcIitoKS5zdWJzdHIoMixcclxuMik7YnJlYWs7Y2FzZSBcIllcIjpnPWh9Y1txXT1nfXJldHVybiBjLmpvaW4oXCJcIil9ZnVuY3Rpb24gTyhhLGMpe3ZhciBiPWEuX19waWNrbWV1cC5vcHRpb25zLGQ7eChjKTthOnN3aXRjaChiLm1vZGUpe2Nhc2UgXCJtdWx0aXBsZVwiOnZhciBlPWMudmFsdWVPZigpO2ZvcihkPTA7ZDxiLmRhdGUubGVuZ3RoOysrZClpZihiLmRhdGVbZF0udmFsdWVPZigpPT09ZSl7Yi5kYXRlLnNwbGljZShkLDEpO2JyZWFrIGF9Yi5kYXRlLnB1c2goYyk7YnJlYWs7Y2FzZSBcInJhbmdlXCI6Yi5sYXN0U2VsfHwoYi5kYXRlWzBdPWMpO2M8PWIuZGF0ZVswXT8oYi5kYXRlWzFdPWIuZGF0ZVswXSxiLmRhdGVbMF09Yyk6Yi5kYXRlWzFdPWM7Yi5sYXN0U2VsPSFiLmxhc3RTZWw7YnJlYWs7ZGVmYXVsdDpiLmRhdGU9Yy52YWx1ZU9mKCl9Yz1IKGIpO0IoYSxcImlucHV0XCIpJiYoYS52YWx1ZT1cInNpbmdsZVwiPT09Yi5tb2RlP2MuZm9ybWF0dGVkX2RhdGU6Yy5mb3JtYXR0ZWRfZGF0ZS5qb2luKGIuc2VwYXJhdG9yKSk7XHJcbkMoYSxcImNoYW5nZVwiLGMpO2IuZmxhdHx8IWIuaGlkZV9vbl9zZWxlY3R8fFwicmFuZ2VcIj09PWIubW9kZSYmYi5sYXN0U2VsfHxiLmJvdW5kLmhpZGUoKX1mdW5jdGlvbiBQKGEsYyl7dmFyIGI9Yy50YXJnZXQ7ayhiLFwicG11LWJ1dHRvblwiKXx8KGI9SihiLFwiLnBtdS1idXR0b25cIikpO2lmKCFrKGIsXCJwbXUtYnV0dG9uXCIpfHxrKGIsXCJwbXUtZGlzYWJsZWRcIikpcmV0dXJuITE7Yy5wcmV2ZW50RGVmYXVsdCgpO2Muc3RvcFByb3BhZ2F0aW9uKCk7YT1hLl9fcGlja21ldXAub3B0aW9uczt2YXIgZD1KKGIsXCIucG11LWluc3RhbmNlXCIpO2M9ZC5wYXJlbnRFbGVtZW50O2Q9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYy5xdWVyeVNlbGVjdG9yQWxsKFwiLnBtdS1pbnN0YW5jZVwiKSkuaW5kZXhPZihkKTtCKGIucGFyZW50RWxlbWVudCxcIm5hdlwiKT9rKGIsXCJwbXUtbW9udGhcIik/KHAoYS5jdXJyZW50LGQtTWF0aC5mbG9vcihhLmNhbGVuZGFycy8yKSksayhjLFwicG11LXZpZXcteWVhcnNcIik/XHJcbihhLmN1cnJlbnQ9XCJzaW5nbGVcIiE9PWEubW9kZT9uZXcgRGF0ZShhLmRhdGVbYS5kYXRlLmxlbmd0aC0xXSk6bmV3IERhdGUoYS5kYXRlKSxhLnNlbGVjdF9kYXk/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LXllYXJzXCIpLGwoYyxcInBtdS12aWV3LWRheXNcIikpOmEuc2VsZWN0X21vbnRoJiYoYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXcteWVhcnNcIiksbChjLFwicG11LXZpZXctbW9udGhzXCIpKSk6ayhjLFwicG11LXZpZXctbW9udGhzXCIpP2Euc2VsZWN0X3llYXI/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LW1vbnRoc1wiKSxsKGMsXCJwbXUtdmlldy15ZWFyc1wiKSk6YS5zZWxlY3RfZGF5JiYoYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXctbW9udGhzXCIpLGwoYyxcInBtdS12aWV3LWRheXNcIikpOmsoYyxcInBtdS12aWV3LWRheXNcIikmJihhLnNlbGVjdF9tb250aD8oYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXctZGF5c1wiKSxsKGMsXCJwbXUtdmlldy1tb250aHNcIikpOlxyXG5hLnNlbGVjdF95ZWFyJiYoYy5jbGFzc0xpc3QucmVtb3ZlKFwicG11LXZpZXctZGF5c1wiKSxsKGMsXCJwbXUtdmlldy15ZWFyc1wiKSkpKTprKGIsXCJwbXUtcHJldlwiKT9hLmJvdW5kLnByZXYoITEpOmEuYm91bmQubmV4dCghMSk6ayhjLFwicG11LXZpZXcteWVhcnNcIik/KGEuY3VycmVudC5zZXRGdWxsWWVhcihiLl9fcGlja21ldXBfeWVhciksYS5zZWxlY3RfbW9udGg/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LXllYXJzXCIpLGwoYyxcInBtdS12aWV3LW1vbnRoc1wiKSk6YS5zZWxlY3RfZGF5PyhjLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtdmlldy15ZWFyc1wiKSxsKGMsXCJwbXUtdmlldy1kYXlzXCIpKTphLmJvdW5kLnVwZGF0ZV9kYXRlKGEuY3VycmVudCkpOmsoYyxcInBtdS12aWV3LW1vbnRoc1wiKT8oYS5jdXJyZW50LnNldE1vbnRoKGIuX19waWNrbWV1cF9tb250aCksYS5jdXJyZW50LnNldEZ1bGxZZWFyKGIuX19waWNrbWV1cF95ZWFyKSxhLnNlbGVjdF9kYXk/KGMuY2xhc3NMaXN0LnJlbW92ZShcInBtdS12aWV3LW1vbnRoc1wiKSxcclxubChjLFwicG11LXZpZXctZGF5c1wiKSk6YS5ib3VuZC51cGRhdGVfZGF0ZShhLmN1cnJlbnQpLHAoYS5jdXJyZW50LE1hdGguZmxvb3IoYS5jYWxlbmRhcnMvMiktZCkpOihjPW5ldyBEYXRlKGEuY3VycmVudCksYy5zZXRZZWFyKGIuX19waWNrbWV1cF95ZWFyKSxjLnNldE1vbnRoKGIuX19waWNrbWV1cF9tb250aCksYy5zZXREYXRlKGIuX19waWNrbWV1cF9kYXkpLGEuYm91bmQudXBkYXRlX2RhdGUoYykpO2EuYm91bmQuZmlsbCgpO3JldHVybiEwfWZ1bmN0aW9uIEgoYSl7aWYoXCJzaW5nbGVcIj09PWEubW9kZSl7dmFyIGM9bmV3IERhdGUoYS5kYXRlKTtyZXR1cm57Zm9ybWF0dGVkX2RhdGU6RChjLGEuZm9ybWF0LGEubG9jYWxlc1thLmxvY2FsZV0pLGRhdGU6Y319Yz17Zm9ybWF0dGVkX2RhdGU6W10sZGF0ZTpbXX07YS5kYXRlLmZvckVhY2goZnVuY3Rpb24oYil7Yj1uZXcgRGF0ZShiKTtjLmZvcm1hdHRlZF9kYXRlLnB1c2goRChiLGEuZm9ybWF0LGEubG9jYWxlc1thLmxvY2FsZV0pKTtcclxuYy5kYXRlLnB1c2goYil9KTtyZXR1cm4gY31mdW5jdGlvbiBJKGEsYyl7dmFyIGI9YS5fX3BpY2ttZXVwLmVsZW1lbnQ7aWYoY3x8ayhiLFwicG11LWhpZGRlblwiKSl7dmFyIGQ9YS5fX3BpY2ttZXVwLm9wdGlvbnMsZT1NKGEpLGg9d2luZG93LnBhZ2VYT2Zmc2V0LG09d2luZG93LnBhZ2VZT2Zmc2V0LGw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHA9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxmPWUudG9wLG49ZS5sZWZ0O2QuYm91bmQuZmlsbCgpO0IoYSxcImlucHV0XCIpJiYoKGM9YS52YWx1ZSkmJmQuYm91bmQuc2V0X2RhdGUoYykscShhLGEsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7OT09PWEud2hpY2gmJmQuYm91bmQuaGlkZSgpfSksZC5sYXN0U2VsPSExKTtpZihDKGEsXCJzaG93XCIpJiYhZC5mbGF0KXtiLmNsYXNzTGlzdC5yZW1vdmUoXCJwbXUtaGlkZGVuXCIpO2lmKGQucG9zaXRpb24gaW5zdGFuY2VvZiBGdW5jdGlvbillPWQucG9zaXRpb24uY2FsbChhKSxcclxubj1lLmxlZnQsZj1lLnRvcDtlbHNle3N3aXRjaChkLnBvc2l0aW9uKXtjYXNlIFwidG9wXCI6Zi09Yi5vZmZzZXRIZWlnaHQ7YnJlYWs7Y2FzZSBcImxlZnRcIjpuLT1iLm9mZnNldFdpZHRoO2JyZWFrO2Nhc2UgXCJyaWdodFwiOm4rPWEub2Zmc2V0V2lkdGg7YnJlYWs7Y2FzZSBcImJvdHRvbVwiOmYrPWEub2Zmc2V0SGVpZ2h0fWYrYi5vZmZzZXRIZWlnaHQ+bStwJiYoZj1lLnRvcC1iLm9mZnNldEhlaWdodCk7ZjxtJiYoZj1lLnRvcCthLm9mZnNldEhlaWdodCk7bitiLm9mZnNldFdpZHRoPmgrbCYmKG49ZS5sZWZ0LWIub2Zmc2V0V2lkdGgpO248aCYmKG49ZS5sZWZ0K2Eub2Zmc2V0V2lkdGgpO24rPVwicHhcIjtmKz1cInB4XCJ9Yi5zdHlsZS5sZWZ0PW47Yi5zdHlsZS50b3A9ZjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cShhLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcImNsaWNrXCIsZC5ib3VuZC5oaWRlKTtxKGEsd2luZG93LFwicmVzaXplXCIsZC5ib3VuZC5mb3JjZWRfc2hvdyl9KX19fWZ1bmN0aW9uIFEoYSxcclxuYyl7dmFyIGI9YS5fX3BpY2ttZXVwLmVsZW1lbnQsZD1hLl9fcGlja21ldXAub3B0aW9ucztjJiZjLnRhcmdldCYmKGMudGFyZ2V0PT09YXx8Yi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihjLnRhcmdldCkmMTYpfHwhQyhhLFwiaGlkZVwiKXx8KGwoYixcInBtdS1oaWRkZW5cIikseihhLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcImNsaWNrXCIsZC5ib3VuZC5oaWRlKSx6KGEsd2luZG93LFwicmVzaXplXCIsZC5ib3VuZC5mb3JjZWRfc2hvdyksZC5sYXN0U2VsPSExKX1mdW5jdGlvbiBSKGEpe3ZhciBjPWEuX19waWNrbWV1cC5vcHRpb25zO3ooYSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXCJjbGlja1wiLGMuYm91bmQuaGlkZSk7eihhLHdpbmRvdyxcInJlc2l6ZVwiLGMuYm91bmQuZm9yY2VkX3Nob3cpO2MuYm91bmQuZm9yY2VkX3Nob3coKX1mdW5jdGlvbiBTKGEpe2E9YS5fX3BpY2ttZXVwLm9wdGlvbnM7XCJzaW5nbGVcIiE9PWEubW9kZSYmKGEuZGF0ZT1bXSxhLmxhc3RTZWw9ITEsYS5ib3VuZC5maWxsKCkpfVxyXG5mdW5jdGlvbiBUKGEsYyl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGMmJihjPSEwKTt2YXIgYj1hLl9fcGlja21ldXAuZWxlbWVudDthPWEuX19waWNrbWV1cC5vcHRpb25zO2soYixcInBtdS12aWV3LXllYXJzXCIpP3UoYS5jdXJyZW50LC0xMik6ayhiLFwicG11LXZpZXctbW9udGhzXCIpP3UoYS5jdXJyZW50LC0xKTprKGIsXCJwbXUtdmlldy1kYXlzXCIpJiZwKGEuY3VycmVudCwtMSk7YyYmYS5ib3VuZC5maWxsKCl9ZnVuY3Rpb24gVShhLGMpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBjJiYoYz0hMCk7dmFyIGI9YS5fX3BpY2ttZXVwLmVsZW1lbnQ7YT1hLl9fcGlja21ldXAub3B0aW9ucztrKGIsXCJwbXUtdmlldy15ZWFyc1wiKT91KGEuY3VycmVudCwxMik6ayhiLFwicG11LXZpZXctbW9udGhzXCIpP3UoYS5jdXJyZW50LDEpOmsoYixcInBtdS12aWV3LWRheXNcIikmJnAoYS5jdXJyZW50LDEpO2MmJmEuYm91bmQuZmlsbCgpfWZ1bmN0aW9uIFYoYSxjKXt2YXIgYj1hLl9fcGlja21ldXAub3B0aW9uczthPVxyXG5IKGIpO3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYz8oYT1hLmRhdGUsYSBpbnN0YW5jZW9mIERhdGU/RChhLGMsYi5sb2NhbGVzW2IubG9jYWxlXSk6YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSxjLGIubG9jYWxlc1tiLmxvY2FsZV0pfSkpOmFbYz9cImZvcm1hdHRlZF9kYXRlXCI6XCJkYXRlXCJdfWZ1bmN0aW9uIFcoYSxjLGIpe3ZhciBkPWEuX19waWNrbWV1cC5vcHRpb25zO2lmKCEoYyBpbnN0YW5jZW9mIEFycmF5KXx8MDxjLmxlbmd0aClpZihkLmRhdGU9dChjLGQpLFwic2luZ2xlXCIhPT1kLm1vZGUpZm9yKGQuZGF0ZSBpbnN0YW5jZW9mIEFycmF5PyhkLmRhdGVbMF09ZC5kYXRlWzBdfHx0KG5ldyBEYXRlLGQpLFwicmFuZ2VcIj09PWQubW9kZSYmKGQuZGF0ZVsxXT1kLmRhdGVbMV18fHQoZC5kYXRlWzBdLGQpKSk6KGQuZGF0ZT1bZC5kYXRlXSxcInJhbmdlXCI9PT1kLm1vZGUmJmQuZGF0ZS5wdXNoKHQoZC5kYXRlWzBdLGQpKSksYz0wO2M8ZC5kYXRlLmxlbmd0aDsrK2MpZC5kYXRlW2NdPVxyXG5MKGQuZGF0ZVtjXSxkLm1pbixkLm1heCk7ZWxzZSBkLmRhdGUgaW5zdGFuY2VvZiBBcnJheSYmKGQuZGF0ZT1kLmRhdGVbMF0pLGQuZGF0ZT1MKGQuZGF0ZSxkLm1pbixkLm1heCk7ZWxzZSBkLmRhdGU9W107aWYoIWQuc2VsZWN0X2RheSlpZihkLmRhdGUgaW5zdGFuY2VvZiBBcnJheSlmb3IoYz0wO2M8ZC5kYXRlLmxlbmd0aDsrK2MpZC5kYXRlW2NdLnNldERhdGUoMSk7ZWxzZSBkLmRhdGUuc2V0RGF0ZSgxKTtpZihcIm11bHRpcGxlXCI9PT1kLm1vZGUpZm9yKGM9MDtjPGQuZGF0ZS5sZW5ndGg7KytjKWQuZGF0ZS5pbmRleE9mKGQuZGF0ZVtjXSkhPT1jJiYoZC5kYXRlLnNwbGljZShjLDEpLC0tYyk7Yj9kLmN1cnJlbnQ9dChiLGQpOihiPVwic2luZ2xlXCI9PT1kLm1vZGU/ZC5kYXRlOmQuZGF0ZVtkLmRhdGUubGVuZ3RoLTFdLGQuY3VycmVudD1iP25ldyBEYXRlKGIpOm5ldyBEYXRlKTtkLmN1cnJlbnQuc2V0RGF0ZSgxKTtkLmJvdW5kLmZpbGwoKTtCKGEsXCJpbnB1dFwiKSYmITEhPT1cclxuZC5kZWZhdWx0X2RhdGUmJihiPUgoZCksYz1hLnZhbHVlLGQ9XCJzaW5nbGVcIj09PWQubW9kZT9iLmZvcm1hdHRlZF9kYXRlOmIuZm9ybWF0dGVkX2RhdGUuam9pbihkLnNlcGFyYXRvciksY3x8QyhhLFwiY2hhbmdlXCIsYiksYyE9PWQmJihhLnZhbHVlPWQpKX1mdW5jdGlvbiBYKGEpe3ZhciBjPWEuX19waWNrbWV1cC5lbGVtZW50O3ooYSk7eShjKTtkZWxldGUgYS5fX3BpY2ttZXVwfWZ1bmN0aW9uIEwoYSxjLGIpe3JldHVybiBjJiZjPmE/bmV3IERhdGUoYyk6YiYmYjxhP25ldyBEYXRlKGIpOmF9ZnVuY3Rpb24gRShhLGMpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpKTtpZighYSlyZXR1cm4gbnVsbDtpZighYS5fX3BpY2ttZXVwKXt2YXIgYixkPXt9O2M9Y3x8e307Zm9yKGIgaW4gRS5kZWZhdWx0cylkW2JdPWIgaW4gYz9jW2JdOkUuZGVmYXVsdHNbYl07Zm9yKGIgaW4gZCljPWEuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbXUtXCIrYiksbnVsbCE9PVxyXG5jJiYoZFtiXT1jKTtcImRheXNcIiE9PWQudmlld3x8ZC5zZWxlY3RfZGF5fHwoZC52aWV3PVwibW9udGhzXCIpO1wibW9udGhzXCIhPT1kLnZpZXd8fGQuc2VsZWN0X21vbnRofHwoZC52aWV3PVwieWVhcnNcIik7XCJ5ZWFyc1wiIT09ZC52aWV3fHxkLnNlbGVjdF95ZWFyfHwoZC52aWV3PVwiZGF5c1wiKTtcImRheXNcIiE9PWQudmlld3x8ZC5zZWxlY3RfZGF5fHwoZC52aWV3PVwibW9udGhzXCIpO2QuY2FsZW5kYXJzPU1hdGgubWF4KDEscGFyc2VJbnQoZC5jYWxlbmRhcnMsMTApfHwxKTtkLm1vZGU9L3NpbmdsZXxtdWx0aXBsZXxyYW5nZS8udGVzdChkLm1vZGUpP2QubW9kZTpcInNpbmdsZVwiO2QubWluJiYoZC5taW49dChkLm1pbixkKSxkLnNlbGVjdF9kYXl8fGQubWluLnNldERhdGUoMSkpO2QubWF4JiYoZC5tYXg9dChkLm1heCxkKSxkLnNlbGVjdF9kYXl8fGQubWF4LnNldERhdGUoMSkpO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLl9fcGlja21ldXA9e29wdGlvbnM6ZCxldmVudHM6W10sXHJcbmVsZW1lbnQ6Y307Yy5fX3BpY2ttZXVwX3RhcmdldD1hO2woYyxcInBpY2ttZXVwXCIpO2QuY2xhc3NfbmFtZSYmbChjLGQuY2xhc3NfbmFtZSk7ZC5ib3VuZD17ZmlsbDpOLmJpbmQoYSxhKSx1cGRhdGVfZGF0ZTpPLmJpbmQoYSxhKSxjbGljazpQLmJpbmQoYSxhKSxzaG93OkkuYmluZChhLGEpLGZvcmNlZF9zaG93OkkuYmluZChhLGEsITApLGhpZGU6US5iaW5kKGEsYSksdXBkYXRlOlIuYmluZChhLGEpLGNsZWFyOlMuYmluZChhLGEpLHByZXY6VC5iaW5kKGEsYSksbmV4dDpVLmJpbmQoYSxhKSxnZXRfZGF0ZTpWLmJpbmQoYSxhKSxzZXRfZGF0ZTpXLmJpbmQoYSxhKSxkZXN0cm95OlguYmluZChhLGEpfTtsKGMsXCJwbXUtdmlldy1cIitkLnZpZXcpO3ZhciBlPWQuaW5zdGFuY2VfdGVtcGxhdGUoZCksaD1cIlwiO2ZvcihiPTA7YjxkLmNhbGVuZGFyczsrK2IpaCs9ZTtjLmlubmVySFRNTD1oO3EoYSxjLFwiY2xpY2tcIixkLmJvdW5kLmNsaWNrKTtxKGEsYyxcIm9uc2VsZWN0c3RhcnRcImluIEVsZW1lbnQucHJvdG90eXBlP1xyXG5cInNlbGVjdHN0YXJ0XCI6XCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KTtkLmZsYXQ/KGwoYyxcInBtdS1mbGF0XCIpLGEuYXBwZW5kQ2hpbGQoYykpOihsKGMsXCJwbXUtaGlkZGVuXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYykscShhLGEsXCJjbGlja1wiLEkuYmluZChhLGEsITEpKSxxKGEsYSxcImlucHV0XCIsZC5ib3VuZC51cGRhdGUpLHEoYSxhLFwiY2hhbmdlXCIsZC5ib3VuZC51cGRhdGUpKTtkLmJvdW5kLnNldF9kYXRlKGQuZGF0ZSxkLmN1cnJlbnQpfWQ9YS5fX3BpY2ttZXVwLm9wdGlvbnM7cmV0dXJue2hpZGU6ZC5ib3VuZC5oaWRlLHNob3c6ZC5ib3VuZC5zaG93LGNsZWFyOmQuYm91bmQuY2xlYXIsdXBkYXRlOmQuYm91bmQudXBkYXRlLHByZXY6ZC5ib3VuZC5wcmV2LG5leHQ6ZC5ib3VuZC5uZXh0LGdldF9kYXRlOmQuYm91bmQuZ2V0X2RhdGUsc2V0X2RhdGU6ZC5ib3VuZC5zZXRfZGF0ZSxkZXN0cm95OmQuYm91bmQuZGVzdHJveX19RS5kZWZhdWx0cz1cclxue2N1cnJlbnQ6bnVsbCxkYXRlOm5ldyBEYXRlLGRlZmF1bHRfZGF0ZTpuZXcgRGF0ZSxmbGF0OiExLGZpcnN0X2RheToxLHByZXY6XCImIzk2NjQ7XCIsbmV4dDpcIiYjOTY1NDtcIixtb2RlOlwic2luZ2xlXCIsc2VsZWN0X3llYXI6ITAsc2VsZWN0X21vbnRoOiEwLHNlbGVjdF9kYXk6ITAsdmlldzpcImRheXNcIixjYWxlbmRhcnM6MSxmb3JtYXQ6XCJkLW0tWVwiLHRpdGxlX2Zvcm1hdDpcIkIsIFlcIixwb3NpdGlvbjpcImJvdHRvbVwiLGNsYXNzX25hbWU6XCJcIixzZXBhcmF0b3I6XCIgLSBcIixoaWRlX29uX3NlbGVjdDohMSxtaW46bnVsbCxtYXg6bnVsbCxyZW5kZXI6ZnVuY3Rpb24oKXt9LGxvY2FsZTpcImVuXCIsbG9jYWxlczp7ZW46e2RheXM6XCJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheVwiLnNwbGl0KFwiIFwiKSxkYXlzU2hvcnQ6XCJTdW4gTW9uIFR1ZSBXZWQgVGh1IEZyaSBTYXRcIi5zcGxpdChcIiBcIiksZGF5c01pbjpcIlN1IE1vIFR1IFdlIFRoIEZyIFNhXCIuc3BsaXQoXCIgXCIpLFxyXG5tb250aHM6XCJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyXCIuc3BsaXQoXCIgXCIpLG1vbnRoc1Nob3J0OlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIil9fSxpbnN0YW5jZV90ZW1wbGF0ZTpmdW5jdGlvbihhKXt2YXIgYz1hLmxvY2FsZXNbYS5sb2NhbGVdLmRheXNNaW4uc2xpY2UoKTthLmZpcnN0X2RheSYmYy5wdXNoKGMuc2hpZnQoKSk7cmV0dXJuJzxkaXYgY2xhc3M9XCJwbXUtaW5zdGFuY2VcIj48bmF2PjxkaXYgY2xhc3M9XCJwbXUtcHJldiBwbXUtYnV0dG9uXCI+JythLnByZXYrJzwvZGl2PjxkaXYgY2xhc3M9XCJwbXUtbW9udGggcG11LWJ1dHRvblwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwbXUtbmV4dCBwbXUtYnV0dG9uXCI+JythLm5leHQrJzwvZGl2PjwvbmF2PjxuYXYgY2xhc3M9XCJwbXUtZGF5LW9mLXdlZWtcIj48ZGl2PicrXHJcbmMuam9pbihcIjwvZGl2PjxkaXY+XCIpK1wiPC9kaXY+PC9uYXY+PC9kaXY+XCJ9LGluc3RhbmNlX2NvbnRlbnRfdGVtcGxhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2woYixjKTtmb3IoYz0wO2M8YS5sZW5ndGg7KytjKWwoYVtjXSxcInBtdS1idXR0b25cIiksYi5hcHBlbmRDaGlsZChhW2NdKTtyZXR1cm4gYn19O3JldHVybiBFfSk7XHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsMjAxMSwyMDEyLDIwMTMsMjAxNCBNb3JnYW4gUm9kZXJpY2sgaHR0cDovL3JvZGVyaWNrLmRrXHJcbiAqIExpY2Vuc2U6IE1JVCAtIGh0dHA6Ly9tcmducmRyY2subWl0LWxpY2Vuc2Uub3JnXHJcbiAqXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tcm9kZXJpY2svUHViU3ViSlNcclxuICovXHJcbiFmdW5jdGlvbihuLHQpe1widXNlIHN0cmljdFwiO3ZhciByPXt9O24uUHViU3ViPXI7dmFyIGU9bi5kZWZpbmU7IWZ1bmN0aW9uKG4pe3ZhciB0PXt9LHI9LTE7ZnVuY3Rpb24gZShuKXt2YXIgdDtmb3IodCBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkodCkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbyhuLHQscil7dHJ5e24odCxyKX1jYXRjaChuKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3Rocm93IG59fShuKSwwKX19ZnVuY3Rpb24gaShuLHQscil7bih0LHIpfWZ1bmN0aW9uIHUobixyLGUsdSl7dmFyIGYscz10W3JdLGM9dT9pOm87aWYodC5oYXNPd25Qcm9wZXJ0eShyKSlmb3IoZiBpbiBzKXMuaGFzT3duUHJvcGVydHkoZikmJmMoc1tmXSxuLGUpfWZ1bmN0aW9uIGYobixyLG8saSl7dmFyIGY9ZnVuY3Rpb24obix0LHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPVN0cmluZyhuKSxvPWUubGFzdEluZGV4T2YoXCIuXCIpO2Zvcih1KG4sbix0LHIpOy0xIT09bzspZT1lLnN1YnN0cigwLG8pLG89ZS5sYXN0SW5kZXhPZihcIi5cIiksdShuLGUsdCxyKX19KG49XCJzeW1ib2xcIj09dHlwZW9mIG4/bi50b1N0cmluZygpOm4scixpKSxzPWZ1bmN0aW9uKG4pe3ZhciByPVN0cmluZyhuKSxvPUJvb2xlYW4odC5oYXNPd25Qcm9wZXJ0eShyKSYmZSh0W3JdKSksaT1yLmxhc3RJbmRleE9mKFwiLlwiKTtmb3IoOyFvJiYtMSE9PWk7KXI9ci5zdWJzdHIoMCxpKSxpPXIubGFzdEluZGV4T2YoXCIuXCIpLG89Qm9vbGVhbih0Lmhhc093blByb3BlcnR5KHIpJiZlKHRbcl0pKTtyZXR1cm4gb30obik7cmV0dXJuISFzJiYoITA9PT1vP2YoKTpzZXRUaW1lb3V0KGYsMCksITApfW4ucHVibGlzaD1mdW5jdGlvbih0LHIpe3JldHVybiBmKHQsciwhMSxuLmltbWVkaWF0ZUV4Y2VwdGlvbnMpfSxuLnB1Ymxpc2hTeW5jPWZ1bmN0aW9uKHQscil7cmV0dXJuIGYodCxyLCEwLG4uaW1tZWRpYXRlRXhjZXB0aW9ucyl9LG4uc3Vic2NyaWJlPWZ1bmN0aW9uKG4sZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4hMTtuPVwic3ltYm9sXCI9PXR5cGVvZiBuP24udG9TdHJpbmcoKTpuLHQuaGFzT3duUHJvcGVydHkobil8fCh0W25dPXt9KTt2YXIgbz1cInVpZF9cIitTdHJpbmcoKytyKTtyZXR1cm4gdFtuXVtvXT1lLG99LG4uc3Vic2NyaWJlT25jZT1mdW5jdGlvbih0LHIpe3ZhciBlPW4uc3Vic2NyaWJlKHQsZnVuY3Rpb24oKXtuLnVuc3Vic2NyaWJlKGUpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7cmV0dXJuIG59LG4uY2xlYXJBbGxTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKCl7dD17fX0sbi5jbGVhclN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24obil7dmFyIHI7Zm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYwPT09ci5pbmRleE9mKG4pJiZkZWxldGUgdFtyXX0sbi51bnN1YnNjcmliZT1mdW5jdGlvbihyKXt2YXIgZSxvLGksdT1cInN0cmluZ1wiPT10eXBlb2YgciYmKHQuaGFzT3duUHJvcGVydHkocil8fGZ1bmN0aW9uKG4pe3ZhciByO2ZvcihyIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShyKSYmMD09PXIuaW5kZXhPZihuKSlyZXR1cm4hMDtyZXR1cm4hMX0ocikpLGY9IXUmJlwic3RyaW5nXCI9PXR5cGVvZiByLHM9XCJmdW5jdGlvblwiPT10eXBlb2YgcixjPSExO2lmKCF1KXtmb3IoZSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoZSkpe2lmKG89dFtlXSxmJiZvW3JdKXtkZWxldGUgb1tyXSxjPXI7YnJlYWt9aWYocylmb3IoaSBpbiBvKW8uaGFzT3duUHJvcGVydHkoaSkmJm9baV09PT1yJiYoZGVsZXRlIG9baV0sYz0hMCl9cmV0dXJuIGN9bi5jbGVhclN1YnNjcmlwdGlvbnMocil9fShyKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLmFtZD9lKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmKHZvaWQgMCE9PW1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPXIpLGV4cG9ydHMuUHViU3ViPXIsbW9kdWxlLmV4cG9ydHM9ZXhwb3J0cz1yKX0oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93fHx0aGlzKTsiLCIvKiEgVVRGLThcclxuXHJcbsKpIGtvdnJpZ2luXHJcbtCS0YHQtSDQv9GA0LDQstCwINGA0LDQt9GA0LXRiNC10L3Ri1xyXG7QutGA0LDRgdC40LLRi9C5INC00LjQt9Cw0LnQvSDQtNC+0LvQttC10L0g0LjQvNC10YLRjCDQutGA0LDRgdC40LLRi9C5INC60L7QtMKuXHJcblxyXG5odHRwczovL2dpdGh1Yi5jb20vaHRtbHBsdXNjc3MvXHJcblxyXG4qL1xyXG5cclxuKCAoKSA9PiB7XHJcblxyXG5cdHdpbmRvdy5JTlRJID0ge307XHJcblx0SU5USS5yZXNpemVUaW1lb3V0ID0gbnVsbDtcclxuXHRJTlRJLndpbmRvd1dpZHRoT0xkID0gd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuXHJcblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuXHJcblx0XHRcdGlmICghSU5USS5yZXNpemVUaW1lb3V0KSB7XHJcblxyXG5cdFx0XHRcdElOVEkucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gIHtcclxuXHJcblx0XHRcdFx0XHRJTlRJLnJlc2l6ZVRpbWVvdXQgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRcdGlmKElOVEkud2luZG93V2lkdGhPTGQgIT09IHdpbmRvdy5pbm5lcldpZHRoKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRJTlRJLndpbmRvd1dpZHRoT0xkID0gd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG5cdFx0XHRcdFx0XHRQdWJTdWIucHVibGlzaCgnd2luZG93V2lkdGhSZXNpemUnKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0sIDEwMCk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcblxyXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcblxyXG5cdFx0XHRQdWJTdWIucHVibGlzaCgnd2luZG93U2Nyb2xsJyk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG5cclxuXHRcdFB1YlN1Yi5wdWJsaXNoKCdET01Db250ZW50TG9hZGVkJyk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xyXG5cclxuXHRcdFB1YlN1Yi5wdWJsaXNoKCdwYWdlTG9hZCcpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0Ly8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LDQvdC40LzQsNGG0LjQuVxyXG5cdElOVEkuY3NzQW5pbWF0aW9uID0gYT0+e2xldCBiLGMsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY3NzYW5pbWF0aW9uXCIpO3N3aXRjaChhKXtjYXNlJ2FuaW1hdGlvbic6Yj17XCJhbmltYXRpb25cIjpcImFuaW1hdGlvbmVuZFwiLFwiT0FuaW1hdGlvblwiOlwib0FuaW1hdGlvbkVuZFwiLFwiTW96QW5pbWF0aW9uXCI6XCJhbmltYXRpb25lbmRcIixcIldlYmtpdEFuaW1hdGlvblwiOlwid2Via2l0QW5pbWF0aW9uRW5kXCJ9O2JyZWFrO2Nhc2UndHJhbnNpdGlvbic6Yj17XCJ0cmFuc2l0aW9uXCI6XCJ0cmFuc2l0aW9uZW5kXCIsXCJPVHJhbnNpdGlvblwiOlwib1RyYW5zaXRpb25FbmRcIixcIk1velRyYW5zaXRpb25cIjpcInRyYW5zaXRpb25lbmRcIixcIldlYmtpdFRyYW5zaXRpb25cIjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn19Zm9yKGMgaW4gYilpZihkLnN0eWxlW2NdIT09dW5kZWZpbmVkKXJldHVybiBiW2NdfVxyXG5cclxuXHQvLyBEZXRlcm1pbmUgaWYgYW4gZWxlbWVudCBpcyBpbiB0aGUgdmlzaWJsZSB2aWV3cG9ydFxyXG5cdElOVEkuaXNJblZpZXdwb3J0ID0gZWwgPT4ge1xyXG5cdFx0Y29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdFx0cmV0dXJuIChyZWN0LnRvcCA+PSAwICYmIHJlY3QuYm90dG9tIDw9IHdpbmRvdy5pbm5lckhlaWdodCk7XHJcblx0fVxyXG5cclxufSkoKTsiLCIoIGl0ZW1zID0+IHtcclxuXHJcblx0aWYoIWl0ZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRBcnJheS5mcm9tKGl0ZW1zLCBhY2NvcmRpb24gPT4ge1xyXG5cclxuXHRcdGxldCBhbmltYXRlT24gPSBmYWxzZTtcclxuXHJcblx0XHRjb25zdCBidG5zID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2J0bicpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oYnRucywgYnRuID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW0gPSBidG4uY2xvc2VzdCgnLmFjY29yZGlvbl9faXRlbScpLFxyXG5cdFx0XHRcdCAgaGVhZCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9faGVhZCcpLFxyXG5cdFx0XHRcdCAgYm9keSA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9fYm9keScpO1xyXG5cclxuXHRcdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRhbmltYXRlT24gPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2FjY29yZGlvbl9faXRlbS0tb3BlbicpO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRib2R5LmFkZEV2ZW50TGlzdGVuZXIoSU5USS5jc3NBbmltYXRpb24oJ3RyYW5zaXRpb24nKSwgKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRpZihhbmltYXRlT24gJiYgIUlOVEkuaXNJblZpZXdwb3J0KGhlYWQpKXtcclxuXHJcblx0XHRcdFx0XHRoZWFkLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFuaW1hdGVPbiA9IGZhbHNlO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbicpKTsiLCIoIGJsb2NrID0+IHtcclxuXHJcblx0aWYoYmxvY2sgJiYgYmxvY2sucXVlcnlTZWxlY3RvckFsbCgnLmNlcnRpZmljYXRpb24tY2hhbmdlLWRhdGUtdGltZV9faW5wdXQnKS5sZW5ndGgpIHtcclxuXHJcblx0XHRjb25zdCBpbnB1dCA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZXJ0aWZpY2F0aW9uLWNoYW5nZS1kYXRlLXRpbWVfX2lucHV0JyksXHJcblx0XHRcdCAgZGF0ZSA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLWNoYW5nZS1kYXRlLXRpbWVfX2lucHV0LS1kYXRlJyksXHJcblx0XHRcdCAgdGltZSA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLWNoYW5nZS1kYXRlLXRpbWVfX2lucHV0LS10aW1lJyksXHJcblx0XHRcdCAgZGF0ZURlZmF1bHQgPSBkYXRlLnZhbHVlLFxyXG5cdFx0XHQgIHRpbWVEZWZhdWx0ID0gdGltZS52YWx1ZSxcclxuXHRcdFx0ICByZXNldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faXRlbS0tY2VydGlmaWNhdGlvbi1kYXRlLWNoYW5nZScpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oaW5wdXQsIGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG5cclxuXHRcdFx0YmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kYWw9XCJjZXJ0aWZpY2F0aW9uLWRhdGVcIl0nKS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcblx0XHRcdGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZGFsPVwiY2VydGlmaWNhdGlvbi1kYXRlLWNoYW5nZVwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcclxuXHJcblx0XHR9KSk7XHJcblxyXG5cdFx0cmVzZXQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsICgpID0+IHtcclxuXHJcblx0XHRcdGRhdGUudmFsdWUgPSBkYXRlRGVmYXVsdDtcclxuXHRcdFx0dGltZS52YWx1ZSA9IHRpbWVEZWZhdWx0O1xyXG5cclxuXHRcdFx0ZGF0ZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiKSk7XHJcblx0XHRcdHRpbWUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIikpO1xyXG5cclxuXHRcdFx0bW9kYWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJoaWRlXCIpKTtcclxuXHJcblx0XHRcdGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZGFsPVwiY2VydGlmaWNhdGlvbi1kYXRlXCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG5cdFx0XHRibG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2RhbD1cImNlcnRpZmljYXRpb24tZGF0ZS1jaGFuZ2VcIl0nKS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLWNoYW5nZS1kYXRlLXRpbWUnKSk7IiwiKCBzZWxlY3QgPT4ge1xyXG5cclxuXHRpZighc2VsZWN0KSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuXHJcblx0XHRpZihzZWxlY3QudmFsdWUgPT09ICdzaGlwcGluZycpIHtcclxuXHJcblx0XHRcdGNvbnN0IGV2ZW50TW9kYWxTaG93ID0gbmV3IEN1c3RvbUV2ZW50KFwibW9kYWxTaG93XCIsIHtcclxuXHRcdFx0XHRkZXRhaWw6IHtcclxuXHRcdFx0XHRcdHNlbGVjdG9yOiBcImNlcnRpZmljYXRpb24tZGVsaXZlcnktaW50aVwiXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHdpbmRvdy5tb2RhbC5kaXNwYXRjaEV2ZW50KGV2ZW50TW9kYWxTaG93KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0c2VsZWN0LmNsb3Nlc3QoJy5mb3JtJykuc2V0QXR0cmlidXRlKCdub3ZhbGlkYXRlJywnbm92YWxpZGF0ZScpO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLWRlbGl2ZXJ5LXNlbGVjdCcpKTsiLCIoIGZvcm0gPT4ge1xyXG5cclxuXHRpZighZm9ybSkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBidG4gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLW1vZGFsLWRhdGUtY2FuY2VsZWRfX2J0bi1zaG93JyksXHJcblx0XHQgIGJsb2NrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuY2VydGlmaWNhdGlvbi1tb2RhbC1kYXRlLWNhbmNlbGVkX19ib3gtZGF0ZS10aW1lJyksXHJcblx0XHQgIGlucHV0ID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuY2VydGlmaWNhdGlvbi1tb2RhbC1kYXRlLWNhbmNlbGVkX19pbnB1dCcpO1xyXG5cclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHJcblx0XHRidG4uY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xyXG5cdFx0YmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0QXJyYXkuZnJvbShpbnB1dCwgZWwgPT5cclxuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT5cclxuXHRcdFx0Zm9ybS5zZXRBdHRyaWJ1dGUoJ2FjdGlvbicsIGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbi1jaGFuZ2UnKSkpKTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZXJ0aWZpY2F0aW9uLW1vZGFsLWRhdGUtY2FuY2VsZWQnKSk7XHJcbiIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdEFycmF5LmZyb20oaXRlbXMsIGZvcm0gPT4ge1xyXG5cclxuXHRcdGNvbnN0IGZvcm1FbmFibGVkID0gKCkgPT4ge1xyXG5cclxuXHRcdFx0Zm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZm9ybUVuYWJsZWQpO1xyXG5cclxuXHRcdFx0QXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYW55LWZvcm1fX2Rpc2FibGVkJyksIGVsID0+IGVsLmRpc2FibGVkID0gZmFsc2UpO1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZm9ybUVuYWJsZWQpO1xyXG5cclxuXHRcdC8vINC+0YLQv9GA0LDQstC60LAg0YTQvtGA0LzRi1xyXG5cdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0ZmV0Y2goZm9ybS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpLCB7XHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0Ym9keTogbmV3IEZvcm1EYXRhKGZvcm0pXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIGRhdGEtcmFkaW8tdG9nZ2xlXHJcblx0XHRjb25zdCBidG5SYWRpbyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcmFkaW8tdG9nZ2xlXScpLFxyXG5cdFx0XHQgIGl0ZW1zID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFueS1mb3JtX19yYWRpby10b2dnbGUtaXRlbScpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oYnRuUmFkaW8sIGJ0biA9PlxyXG5cdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PlxyXG5cdFx0XHRcdEFycmF5LmZyb20oaXRlbXMsIGVsID0+XHJcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJywgYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1yYWRpby10b2dnbGUnKSA9PT0gJ2hpZGUnKSkpKTtcclxuXHJcblx0XHQvLyByZW1vdmVcclxuXHRcdGNvbnN0IGJ0blJlbW92ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmNvbXBhbnktZm9ybV9fcmVtb3ZlJyk7XHJcblxyXG5cdFx0YnRuUmVtb3ZlICYmIGJ0blJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW0gPSBidG5SZW1vdmUuY2xvc2VzdCgnLmFjY29yZGlvbl9faXRlbScpO1xyXG5cclxuXHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKElOVEkuY3NzQW5pbWF0aW9uKCd0cmFuc2l0aW9uJyksICgpID0+IHtcclxuXHJcblx0XHRcdFx0aXRlbS5yZW1vdmUoKTtcclxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcGFueV9fYWRkJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjY29yZGlvbl9faXRlbS0tb3BlbicpO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCggKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRpdGVtLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG5cclxuXHRcdFx0fSwgMTAwMCk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHQvLyBDT0RFIHNtc1xyXG5cdGNvbnN0IGZvcm1Db2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbXBhbnktZm9ybS0tY29kZScpO1xyXG5cclxuXHQvLyDQvtGC0L/RgNCw0LLQutCwINGE0L7RgNC80YsgY29kZVxyXG5cdGZvcm1Db2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdGZldGNoKGZvcm1Db2RlLmdldEF0dHJpYnV0ZSgnYWN0aW9uJyksIHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGJvZHk6IG5ldyBGb3JtRGF0YShmb3JtQ29kZSlcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHN0YXRlIHNtcyDQvtGC0L/RgNCw0LLQu9C10L3QvlxyXG5cclxuXHRcdGZvcm1Db2RlLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwic2VuZC1jb2RlXCJdJykudmFsdWUgPSAxO1xyXG5cclxuXHRcdEFycmF5LmZyb20oZm9ybUNvZGUucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybV9fY29kZS1oaWRlJyksIGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKSk7XHJcblx0XHRBcnJheS5mcm9tKGZvcm1Db2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYW55LWZvcm1fX2NvZGUtc2hvdycpLCBlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJykpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0Ly8gcmVzZXQg0YTQvtGA0LzRiyBjb2RlXHJcblx0Zm9ybUNvZGUuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCBldmVudCA9PiB7XHJcblxyXG5cdFx0Ly8gc3RhdGUgc21zINC+0YLQv9GA0LDQstC70LXQvdC+XHJcblxyXG5cdFx0Zm9ybUNvZGUucXVlcnlTZWxlY3RvcignW25hbWU9XCJzZW5kLWNvZGVcIl0nKS52YWx1ZSA9IDA7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShmb3JtQ29kZS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFueS1mb3JtX19jb2RlLWhpZGUnKSwgZWwgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpKTtcclxuXHRcdEFycmF5LmZyb20oZm9ybUNvZGUucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybV9fY29kZS1zaG93JyksIGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKSk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhbnktZm9ybScpKTsiLCIoIGl0ZW1zID0+IHtcclxuXHJcblx0aWYoIWl0ZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCBoYW5kbGVyID0gKGVsLCBjbG9uZSA9IGVsLmNsb25lTm9kZSh0cnVlKSkgPT4ge1xyXG5cclxuXHRcdGNvbnN0IGJ0biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5maWxlLWlucHV0X19idG4nKSxcclxuXHRcdFx0ICBpbnB1dCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJyk7XHJcblxyXG5cdFx0bGV0IGdyb3VwID0gZWwuY2xvc2VzdCgnLmZpbGUtaW5wdXQtZ3JvdXAnKTtcclxuXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRcdGJ0bi50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlO1xyXG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKCdmaWxlLWlucHV0LS12YWx1ZScpO1xyXG5cclxuXHRcdFx0aWYoZ3JvdXApIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgX2Nsb25lID0gY2xvbmUuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuXHRcdFx0XHRncm91cC5hcHBlbmRDaGlsZChfY2xvbmUpO1xyXG5cclxuXHRcdFx0XHRfY2xvbmUucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImZpbGVcIl0nKS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBfY2xvbmUucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImZpbGVcIl0nKS5nZXRBdHRyaWJ1dGUoJ25hbWUnKSArICctJyArIGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlLWlucHV0JykubGVuZ3RoKTtcclxuXHJcblx0XHRcdFx0aGFuZGxlcihfY2xvbmUsIGNsb25lKTtcclxuXHJcblx0XHRcdFx0Z3JvdXAgPSBudWxsO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9O1xyXG5cclxuXHRBcnJheS5mcm9tKGl0ZW1zLCBlbCA9PiBoYW5kbGVyKGVsKSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZS1pbnB1dCcpKTsiLCIoIGl0ZW1zID0+IHtcclxuXHJcblx0aWYoIWl0ZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRBcnJheS5mcm9tKGl0ZW1zLCBmb3JtID0+IHtcclxuXHJcblx0XHRjb25zdCBpdGVtID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1yZXF1aXJlZF9faXRlbScpLFxyXG5cdFx0XHQgIHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmZvcm0tcmVxdWlyZWRfX3N1Ym1pdCcpO1xyXG5cclxuXHRcdGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcblxyXG5cdFx0XHRsZXQgZmFsaWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0QXJyYXkuZnJvbShpdGVtLCBlbCA9PiB7XHJcblxyXG5cdFx0XHRcdGlmKGVsLnZhbHVlID09PSAnbm9uZScpIHtcclxuXHJcblx0XHRcdFx0XHRmYWxpZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmKGZhbGlkKSB7XHJcblxyXG5cdFx0XHRcdHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLXJlcXVpcmVkJykpOyIsIiggZm9ybXMgPT4ge1xyXG5cclxuXHRpZighZm9ybXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdEFycmF5LmZyb20oZm9ybXMsIGZvcm0gPT4ge1xyXG5cclxuXHRcdGNvbnN0IGlucHV0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcubGl2ZS1zZWFyY2hfX2lucHV0JyksXHJcblx0XHRcdCAgcmVzdWx0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcubGl2ZS1zZWFyY2hfX3Jlc3VsdCcpO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0aWYoaW5wdXQudmFsdWUubGVuZ3RoID4gMiAmJiBldmVudC5rZXkgIT09ICdlbnRlcicpe1xyXG5cclxuXHRcdFx0XHRmb3JtLmNsYXNzTGlzdC5hZGQoJ2xpdmUtc2VhcmNoLS1sb2FkaW5nJywgJ2xpdmUtc2VhcmNoLS1vcGVuJyk7XHJcblxyXG5cdFx0XHRcdGZldGNoKGZvcm0uZ2V0QXR0cmlidXRlKCdhY3Rpb24nKSwge1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRib2R5OiBuZXcgRm9ybURhdGEoZm9ybSlcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcclxuXHRcdFx0XHQudGhlbihodG1sID0+IHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhodG1sKTtcclxuXHJcblx0XHRcdFx0XHRyZXN1bHQuaW5uZXJIVE1MID0gaHRtbDtcclxuXHRcdFx0XHRcdGZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnbGl2ZS1zZWFyY2gtLWxvYWRpbmcnKTtcclxuXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRjb25zdCBpc0Zvcm0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLmxpdmUtc2VhcmNoJyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShmb3JtcywgZm9ybSA9PiB7XHJcblxyXG5cdFx0XHRpZihpc0Zvcm0gIT09IGZvcm0pIHtcclxuXHJcblx0XHRcdFx0Zm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdsaXZlLXNlYXJjaC0tb3BlbicpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saXZlLXNlYXJjaCcpKTsiLCIoIGVsZW1zID0+IHtcclxuXHJcblx0aWYoIWVsZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRBcnJheS5mcm9tKGVsZW1zLCBlbCA9PiB7XHJcblxyXG5cdFx0bGV0IG1hc2tJbnB1dDtcclxuXHJcblx0XHRjb25zdCBwbGFjZWhvbGRlciA9IGVsLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSA/IGVsLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSA6IG51bGw7XHJcblxyXG5cdFx0aWYoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dG1hc2stLXBob25lJykpIHtcclxuXHJcblx0XHRcdG1hc2tJbnB1dCA9IG5ldyBJbnB1dG1hc2soe1xyXG5cdFx0XHRcdG1hc2s6IFwiKzcgOTk5IDk5OSA5OSA5OVwiLFxyXG5cdFx0XHRcdHNob3dNYXNrT25Ib3ZlcjogZmFsc2UsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyID8gcGxhY2Vob2xkZXIgOiBcIis3IF9fXyBfX18gX18gX19cIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0XHRlbHNlIGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRtYXNrLS1kYXRlJykpIHtcclxuXHJcblx0XHRcdG1hc2tJbnB1dCA9IG5ldyBJbnB1dG1hc2soe1xyXG5cdFx0XHRcdGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcblx0XHRcdFx0c2hvd01hc2tPbkhvdmVyOiBmYWxzZSxcclxuXHRcdFx0XHRpbnB1dEZvcm1hdDogXCJkZC9tbS95eXl5XCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyID8gcGxhY2Vob2xkZXIgOiBcIl9fL19fL19fX19cIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0XHRlbHNlIGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRtYXNrLS10aW1lJykpIHtcclxuXHJcblx0XHRcdG1hc2tJbnB1dCA9IG5ldyBJbnB1dG1hc2soe1xyXG5cdFx0XHRcdG1hc2s6IFwiOTk6OTlcIixcclxuXHRcdFx0XHRzaG93TWFza09uSG92ZXI6IGZhbHNlLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciA/IHBsYWNlaG9sZGVyIDogXCJfXzpfX1wiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRtYXNrSW5wdXQubWFzayhlbCk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0bWFzaycpKTsiLCIvLyBidG4gdG9nZ2xlXHJcblxyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tbWVudS10b2dnbGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1zaG93JykpO1xyXG5cclxuKCBtZW51SXRlbXMgPT4ge1xyXG5cclxuXHRpZighbWVudUl0ZW1zLmxlbmd0aCkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRBcnJheS5mcm9tKG1lbnVJdGVtcywgaXRlbSA9PiB7XHJcblxyXG5cdFx0Y29uc3QgYnRuID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcubWVudS1tYWluX19hcnJvdycpO1xyXG5cclxuXHRcdGJ0biAmJiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtbWFpbl9faXRlbS0tb3BlbicpKTtcclxuXHJcblx0fSk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVudS1tYWluX19pdGVtJykpOyIsIiggbW9kYWwgPT4ge1xyXG5cclxuXHRpZighbW9kYWwpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0Y29uc3QgaXRlbXMgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2l0ZW0nKSxcclxuXHRcdCAgYnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZGFsXScpLFxyXG5cdFx0ICB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXInKTtcclxuXHJcblx0bGV0IGFjdGl2ZU1vZGFsID0gbnVsbCxcclxuXHRcdHdpbmRvd1Njcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuXHJcblx0bW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignaGlkZScsICgpID0+IHtcclxuXHJcblx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLXNob3cnKTtcclxuXHRcdHdyYXBwZXIuc3R5bGUudG9wID0gMDtcclxuXHRcdHdpbmRvdy5zY3JvbGxUbygwLHdpbmRvd1Njcm9sbCk7XHJcblx0XHRhY3RpdmVNb2RhbCA9IGZhbHNlO1xyXG5cclxuXHR9KTtcclxuXHJcblx0Y29uc3QgbW9kYWxTaG93ID0gc2VsZWN0b3IgPT4ge1xyXG5cclxuXHRcdGlmKCFhY3RpdmVNb2RhbCl7XHJcblxyXG5cdFx0XHR3aW5kb3dTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGFjdGl2ZU1vZGFsID0gbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19pdGVtLS0nICsgc2VsZWN0b3IpO1xyXG5cclxuXHRcdEFycmF5LmZyb20oaXRlbXMsIGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3Zpc3VhbGx5aGlkZGVuJywgZWwgIT09IGFjdGl2ZU1vZGFsKSk7XHJcblxyXG5cdFx0d3JhcHBlci5zdHlsZS50b3AgPSAtd2luZG93U2Nyb2xsICsgJ3B4JztcclxuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbW9kYWwtc2hvdycpO1xyXG5cdFx0d2luZG93LnNjcm9sbFRvKDAsMCk7XHJcblxyXG5cdFx0YWN0aXZlTW9kYWwuZm9jdXMoKTtcclxuXHJcblx0fTtcclxuXHJcblx0bW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcblxyXG5cdFx0aWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwnKSB8fCBldmVudC50YXJnZXQuY2xvc2VzdCgnLm1vZGFsX19jbG9zZScpKXtcclxuXHJcblx0XHRcdG1vZGFsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiaGlkZVwiKSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcblx0QXJyYXkuZnJvbShidG5zLCBidG4gPT5cclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XHJcblx0XHRcdG1vZGFsU2hvdyhidG4uZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGFsJykpKSk7XHJcblxyXG5cdG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ21vZGFsU2hvdycsIGV2ZW50ID0+IG1vZGFsU2hvdyhldmVudC5kZXRhaWwuc2VsZWN0b3IpKTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpKTsiLCIoIGJsb2NrID0+IHtcclxuXHJcblx0aWYoYmxvY2spIHtcclxuXHJcblx0XHRjb25zdCBpbm5lciA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5vbmUtbW9yZS1leHBlcnRfX2lubmVyJyksXHJcblx0XHRcdCAgYnRuID0gYmxvY2sucXVlcnlTZWxlY3RvcignLm9uZS1tb3JlLWV4cGVydF9fYWRkJyksXHJcblx0XHRcdCAgdGVtcGxhdGUgPSBibG9jay5xdWVyeVNlbGVjdG9yKCcub25lLW1vcmUtZXhwZXJ0X190ZW1wbGF0ZScpO1xyXG5cclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgbmV3U2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdFx0XHRuZXdTZWxlY3QuaW5uZXJIVE1MID0gdGVtcGxhdGUuaW5uZXJIVE1MO1xyXG5cclxuXHRcdFx0d2luZG93LnNlbGVjdHMobmV3U2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3QnKSk7XHJcblxyXG5cdFx0XHRpbm5lci5hcHBlbmRDaGlsZChuZXdTZWxlY3QpO1xyXG5cclxuXHRcdFx0d2luZG93LnNlbGVjdHNDb2xsZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdCcpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub25lLW1vcmUtZXhwZXJ0JykpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdHBpY2ttZXVwLmRlZmF1bHRzLmxvY2FsZXNbJ3J1J10gPSB7XHJcblx0XHRkYXlzOiBbJ9CS0L7RgdC60YDQtdGB0LXQvdGM0LUnLCAn0J/QvtC90LXQtNC10LvRjNC90LjQuicsICfQktGC0L7RgNC90LjQuicsICfQodGA0LXQtNCwJywgJ9Cn0LXRgtCy0LXRgNCzJywgJ9Cf0Y/RgtC90LjRhtCwJywgJ9Ch0YPQsdCx0L7RgtCwJ10sXHJcblx0XHRkYXlzU2hvcnQ6IFsn0JLRgScsICfQn9C9JywgJ9CS0YInLCAn0KHRgCcsICfQp9GCJywgJ9Cf0YInLCAn0KHQsSddLFxyXG5cdFx0ZGF5c01pbjogWyfQktGBJywgJ9Cf0L0nLCAn0JLRgicsICfQodGAJywgJ9Cn0YInLCAn0J/RgicsICfQodCxJ10sXHJcblx0XHRtb250aHM6IFsn0K/QvdCy0LDRgNGMJywgJ9Ck0LXQstGA0LDQu9GMJywgJ9Cc0LDRgNGCJywgJ9CQ0L/RgNC10LvRjCcsICfQnNCw0LknLCAn0JjRjtC90YwnLCAn0JjRjtC70YwnLCAn0JDQstCz0YPRgdGCJywgJ9Ch0LXQvdGC0Y/QsdGA0YwnLCAn0J7QutGC0Y/QsdGA0YwnLCAn0J3QvtGP0LHRgNGMJywgJ9CU0LXQutCw0LHRgNGMJ10sXHJcblx0XHRtb250aHNTaG9ydDogWyfQr9C90LInLCAn0KTQtdCyJywgJ9Cc0LDRgCcsICfQkNC/0YAnLCAn0JzQsNC5JywgJ9CY0Y7QvScsICfQmNGO0LsnLCAn0JDQstCzJywgJ9Ch0LXQvScsICfQntC60YInLCAn0J3QvtGPJywgJ9CU0LXQuiddXHJcblx0fTtcclxuXHJcblx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4ge1xyXG5cclxuXHRcdGxldCBidG5JbnB1dCxcclxuXHRcdFx0aW5wdXRGb2N1cyA9IGZhbHNlO1xyXG5cclxuXHRcdGNvbnN0IGJ0biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1kYXRlX19idG4nKSxcclxuXHRcdFx0ICBpbnB1dCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1kYXRlX19pbnB1dCcpO1xyXG5cclxuXHRcdGlmKGlucHV0LmRpc2FibGVkKSB7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGJ0bklucHV0ID0gcGlja21ldXAoYnRuLCB7XHJcblxyXG5cdFx0XHRwb3NpdGlvbjogKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcblx0XHRcdFx0XHQgIHRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCArIHJlY3QuYm90dG9tICsgJ3B4JztcclxuXHRcdFx0XHRcdCAgbGVmdCA9IHJlY3QubGVmdCArICdweCc7XHJcblxyXG5cdFx0XHRcdHJldHVybiB7dG9wOiB0b3AsIGxlZnQ6IGxlZnR9XHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkYXRlOiBpbnB1dC52YWx1ZSxcclxuXHRcdFx0aGlkZV9vbl9zZWxlY3QgOiB0cnVlLFxyXG5cdFx0XHR0aXRsZV9mb3JtYXQ6ICdCIFknLFxyXG5cdFx0XHRmb3JtYXQ6ICdkL20vWScsXHJcblx0XHRcdGxvY2FsZTogJ3J1JyxcclxuXHRcdFx0cHJldjogJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNOSAxMWw0LjYtNC42QS45OS45OSAwIDExMTUgNy44bC0zLjkgMy45IDMuOSAzLjlhLjk5Ljk5IDAgMDEtMS40IDEuNEw5IDEyLjQxQTEgMSAwIDAxOSAxMXpcIi8+PC9zdmc+JyxcclxuXHRcdFx0bmV4dDogJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTUgMTFhMSAxIDAgMDEwIDEuNEwxMC40IDE3QS45OS45OSAwIDAxOSAxNS42bDMuOS0zLjlMOSA3LjhhLjk5Ljk5IDAgMDExLjQtMS40TDE1IDExelwiLz48L3N2Zz4nXHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3BpY2ttZXVwLWNoYW5nZScsICgpID0+IHtcclxuXHJcblx0XHRcdGlucHV0LmJsdXIoKTtcclxuXHJcblx0XHRcdGlmKGlucHV0LnZhbHVlICE9PSBidG5JbnB1dC5nZXRfZGF0ZSh0cnVlKSl7XHJcblxyXG5cdFx0XHRcdGlucHV0LnZhbHVlID0gYnRuSW5wdXQuZ2V0X2RhdGUodHJ1ZSk7XHJcblx0XHRcdFx0aW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIikpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdwaWNrbWV1cC1oaWRlJywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0aWYoaW5wdXRGb2N1cykge1xyXG5cclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XHJcblxyXG5cdFx0XHRpZihldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAyNykge1xyXG5cclxuXHRcdFx0XHRpbnB1dC5ibHVyKCk7XHJcblx0XHRcdFx0YnRuSW5wdXQuaGlkZSgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xyXG5cclxuXHRcdFx0aW5wdXRGb2N1cyA9IHRydWU7XHJcblxyXG5cdFx0XHRidG5JbnB1dC5zaG93KCk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHJcblx0XHRcdGlucHV0Rm9jdXMgPSBmYWxzZTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHJcblx0XHRcdGJ0bklucHV0LnNob3coKTtcclxuXHRcdFx0YnRuSW5wdXQuc2V0X2RhdGUoaW5wdXQudmFsdWUpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC1kYXRlJykpOyIsIndpbmRvdy5zZWxlY3RzID0gc2VsZWN0ID0+IHtcclxuXHJcblx0aWYoc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RfX2xpc3QnKSkge1xyXG5cclxuXHRcdHJldHVybjtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCB2YWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG5cdFx0ICBhcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSxcclxuXHRcdCAgY29sb3IgPSBzZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3QtLWNvbG9yJyk7XHJcblxyXG5cdGFycm93LmlubmVySFRNTCA9ICc8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTguMyAxMC4zYTEgMSAwIDAwMCAxLjQxbDIuOTMgMi45N2MuMjIuMjEuNS4zMi43OC4zMnMuNTYtLjEuNzctLjMybDIuOTMtMi45NmExLjAxIDEuMDEgMCAwMC0uMzItMS42My45OS45OSAwIDAwLTEuMDkuMjFMMTIgMTIuNjJsLTIuMy0yLjMzYTEgMSAwIDAwLTEuNCAwelwiLz48L3N2Zz4nO1xyXG5cclxuXHR2YWx1ZS5jbGFzc05hbWUgPSAnc2VsZWN0X192YWx1ZSc7XHJcblx0dmFsdWUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwic2VsZWN0X192YWx1ZS1pbm5lclwiPjwvc3Bhbj4nO1xyXG5cclxuXHR2YWx1ZS5hcHBlbmRDaGlsZChhcnJvdyk7XHJcblx0c2VsZWN0LmFwcGVuZENoaWxkKHZhbHVlKTtcclxuXHJcblx0Y29uc3QgZm9ybSA9IHNlbGVjdC5jbG9zZXN0KCdmb3JtJyksXHJcblx0XHRjb250cm9sID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpLFxyXG5cdFx0b3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpLFxyXG5cdFx0dmFsdWVUZXh0ID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RfX3ZhbHVlLWlubmVyJyksXHJcblx0XHRsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdGxpc3QuY2xhc3NOYW1lID0gJ3NlbGVjdF9fbGlzdCc7XHJcblxyXG5cdGxldCBzZWxlY3RlZCA9IGNvbnRyb2wucXVlcnlTZWxlY3RvcignW3ZhbHVlPVwiJyArIGNvbnRyb2wudmFsdWUgKyAnXCJdJyk7XHJcblxyXG5cdGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcblxyXG5cdFx0c2VsZWN0ZWQgPSBjb250cm9sLnF1ZXJ5U2VsZWN0b3IoJ1t2YWx1ZT1cIicgKyBjb250cm9sLnZhbHVlICsgJ1wiXScpO1xyXG5cclxuXHRcdHZhbHVlVGV4dC50ZXh0Q29udGVudCA9IHNlbGVjdGVkLnRleHRDb250ZW50O1xyXG5cclxuXHRcdHNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3QtLWRlZmF1bHQnKTtcclxuXHJcblx0XHRpZiAoY29sb3IpIHtcclxuXHJcblx0XHRcdHZhbHVlLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicsIHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHRpZihjb250cm9sLmRpc2FibGVkKXtcclxuXHJcblx0XHRzZWxlY3QuY2xhc3NMaXN0LmFkZCgnc2VsZWN0LS1kaXNhYmxlZCcpO1xyXG5cclxuXHR9XHJcblxyXG5cdGlmKGNvbnRyb2wudmFsdWUgPT09ICdub25lJyl7XHJcblxyXG5cdFx0c2VsZWN0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdC0tZGVmYXVsdCcpO1xyXG5cclxuXHR9XHJcblxyXG5cdHZhbHVlVGV4dC50ZXh0Q29udGVudCA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCdvcHRpb25bdmFsdWU9XCInICsgY29udHJvbC52YWx1ZSArICdcIl0nKS50ZXh0Q29udGVudDtcclxuXHJcblx0QXJyYXkuZnJvbShvcHRpb24sIGVsID0+IHtcclxuXHJcblx0XHRjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG5cdFx0by5jbGFzc05hbWUgPSAnYnV0dG9uIHNlbGVjdF9fbGlzdC1pdGVtJztcclxuXHJcblx0XHRvLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuXHRcdG8uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGVsLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XHJcblxyXG5cdFx0by50ZXh0Q29udGVudCA9IGVsLnRleHRDb250ZW50O1xyXG5cclxuXHRcdGxpc3QuYXBwZW5kQ2hpbGQobyk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHRzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RfX2xpc3QtaXRlbScpKXtcclxuXHJcblx0XHRcdGNvbnRyb2wudmFsdWUgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xyXG5cclxuXHRcdFx0Y29udHJvbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiKSk7XHJcblxyXG5cdFx0XHRpZihmb3JtKSB7XHJcblxyXG5cdFx0XHRcdGZvcm0uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIikpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG5cdHNlbGVjdC5hcHBlbmRDaGlsZChsaXN0KTtcclxuXHJcblx0Ly8gY29sb3JcclxuXHRpZiAoY29sb3IpIHtcclxuXHJcblx0XHR2YWx1ZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InLCBzZWxlY3RlZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKSk7XHJcblxyXG5cdH1cclxuXHJcbn07XHJcblxyXG4oICgpID0+IHtcclxuXHJcblx0d2luZG93LnNlbGVjdHNDb2xsZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdCcpO1xyXG5cclxuXHRpZih3aW5kb3cuc2VsZWN0c0NvbGxlY3Rpb24ubGVuZ3RoKSB7XHJcblxyXG5cdFx0QXJyYXkuZnJvbSh3aW5kb3cuc2VsZWN0c0NvbGxlY3Rpb24sIHNlbGVjdCA9PiB3aW5kb3cuc2VsZWN0cyhzZWxlY3QpKTtcclxuXHJcblx0fVxyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRjb25zdCBpc1NlbGVjdCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuc2VsZWN0Jyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbSh3aW5kb3cuc2VsZWN0c0NvbGxlY3Rpb24sIHNlbGVjdCA9PiB7XHJcblxyXG5cdFx0XHRzZWxlY3QuY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0LS1vcGVuJywgc2VsZWN0ID09PSBpc1NlbGVjdCAmJiAhaXNTZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3QtLW9wZW4nKSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxufSkoKTsiLCIoIHRhYnMgPT4ge1xyXG5cclxuXHRpZighdGFicy5sZW5ndGgpIHtcclxuXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH1cclxuXHJcblx0Ly8g0L/RgNC+0LLQtdGA0Y/QtdC8IGhhc2hcclxuXHRjb25zdCBoYXNoID0gbG9jYXRpb24uaGFzaDtcclxuXHJcblx0Y29uc3QgYnRuSGFzaCA9IChidG5zLGl0ZW1zKSA9PiB7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShidG5zLCAoX2J0biwgaW5kZXgpID0+IHNldEFjdGl2ZShfYnRuLCBpdGVtc1tpbmRleF0sIF9idG4uaHJlZiA9PT0gbG9jYXRpb24uaHJlZikpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRjb25zdCBzZXRBY3RpdmUgPSAoYnRuLCBpdGVtLCB0b2dnbGUpID0+IHtcclxuXHJcblx0XHRidG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJywgdG9nZ2xlKTtcclxuXHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJywgdG9nZ2xlKTtcclxuXHJcblx0fVxyXG5cclxuXHRBcnJheS5mcm9tKHRhYnMsIHRhYiA9PiB7XHJcblxyXG5cdFx0Y29uc3QgYnRucyA9IHRhYi5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19fYnRuJyksXHJcblx0XHRcdCAgaXRlbXMgPSB0YWIucXVlcnlTZWxlY3RvckFsbCgnLnRhYnNfX2l0ZW0nKTtcclxuXHJcblx0XHRBcnJheS5mcm9tKGJ0bnMsIGJ0biA9PlxyXG5cdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PlxyXG5cdFx0XHRcdEFycmF5LmZyb20oYnRucywgKF9idG4sIGluZGV4KSA9PlxyXG5cdFx0XHRcdFx0c2V0QWN0aXZlKF9idG4sIGl0ZW1zW2luZGV4XSwgX2J0biA9PT0gYnRuKSkpKTtcclxuXHJcblx0XHRpZihoYXNoKSB7XHJcblxyXG5cdFx0XHRidG5IYXNoKGJ0bnMsaXRlbXMpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsICgpID0+IGJ0bkhhc2goYnRucyxpdGVtcykpO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzJykpOyIsIiggaXRlbXMgPT4ge1xyXG5cclxuXHRpZighaXRlbXMubGVuZ3RoKSB7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9XHJcblxyXG5cdEFycmF5LmZyb20oaXRlbXMsIGVsID0+IHtcclxuXHJcblx0XHRjb25zdCBidG4gPSBlbC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQtdGltZV9fYnRuJyksXHJcblx0XHRcdCAgaW5wdXQgPSBlbC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQtdGltZV9faW5wdXQnKSxcclxuXHRcdFx0ICBkYXRhbGlzdCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC10aW1lX19kYXRhbGlzdCcpO1xyXG5cclxuXHRcdGlmKGlucHV0LmRpc2FibGVkKSB7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdEFycmF5LmZyb20oZGF0YWxpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdmFsdWVdJyksIGVsID0+IHtcclxuXHJcblx0XHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LXRpbWUtLW9wZW4nKTtcclxuXHJcblx0XHRcdFx0aWYoaW5wdXQudmFsdWUgIT09IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpKXtcclxuXHJcblx0XHRcdFx0XHRpbnB1dC52YWx1ZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpO1xyXG5cdFx0XHRcdFx0aW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIikpO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdFx0aWYoZXZlbnQua2V5Q29kZSA9PT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PT0gMjcpIHtcclxuXHJcblx0XHRcdFx0aW5wdXQuYmx1cigpO1xyXG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LXRpbWUtLW9wZW4nKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xyXG5cclxuXHRcdGNvbnN0IGlzSW5wdXRUaW1lID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5pbnB1dC10aW1lJyk7XHJcblxyXG5cdFx0QXJyYXkuZnJvbShpdGVtcywgZWwgPT4ge1xyXG5cclxuXHRcdFx0ZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaW5wdXQtdGltZS0tb3BlbicsIGVsID09PSBpc0lucHV0VGltZSAmJiAhaXNJbnB1dFRpbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC10aW1lLS1vcGVuJykpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9KTtcclxuXHJcbn0pKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC10aW1lJykpOyIsIiggdG9vbHRpcHMgPT4ge1xyXG5cclxuXHRpZih0b29sdGlwcy5sZW5ndGgpe1xyXG5cclxuXHRcdEFycmF5LmZyb20odG9vbHRpcHMsIHRvb2x0aXAgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG5cdFx0XHR0aXRsZS5jbGFzc05hbWUgPSAndG9vbHRpcC10aXRsZV9faW5uZXInO1xyXG5cclxuXHRcdFx0dGl0bGUudGV4dENvbnRlbnQgPSB0b29sdGlwLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcclxuXHRcdFx0dG9vbHRpcC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblx0XHRcdHRvb2x0aXAucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcC10aXRsZScpKTtcclxuXHJcbiggdG9vbHRpcHMgPT4ge1xyXG5cclxuXHRpZih0b29sdGlwcy5sZW5ndGgpe1xyXG5cclxuXHRcdGNvbnN0IGljbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSxcclxuXHRcdFx0ICBpY29DaGF0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cclxuXHRcdGljby5pbm5lckhUTUwgPSAnPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTIwIDEyYTggOCAwIDExLTE2IDAgOCA4IDAgMDExNiAwem0tNS43NC0zLjg3YTMuMTggMy4xOCAwIDAxLjU2IDMuNzhjLS4zOC43LTEgMS4yMi0xLjc0IDEuNDlhLjQuNCAwIDAwLS4yOC4zOHYuNjJhLjguOCAwIDAxLTEuNiAwVjEyLjhBLjguOCAwIDAxMTIgMTJjLjg4IDAgMS42LS43MiAxLjYtMS42YTEuNiAxLjYgMCAwMC0zLjIgMCAuOC44IDAgMDEtMS41OS4wOGwtLjAxLS4xMmMuMDEtMiAxLjg2LTMuNTUgMy45NS0zLjA3LjU3LjEzIDEuMS40MiAxLjUxLjg0ek0xMi44IDE2LjhhLjguOCAwIDExLTEuNiAwIC44LjggMCAwMTEuNiAwelwiLz48L3N2Zz4nO1xyXG5cclxuXHRcdGljb0NoYXQuaW5uZXJIVE1MID0gJzxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTUgMTZoNFY2SDV2MTBoNy4zM0wxNSAxOHYtMnptMiAydjJhMSAxIDAgMDEtMS42LjhMMTEuNjcgMThINWEyIDIgMCAwMS0yLTJWNmEyIDIgMCAwMTItMmgxNGEyIDIgMCAwMTIgMnYxMGEyIDIgMCAwMS0yIDJoLTJ6XCIvPjxwYXRoIGQ9XCJNNyAxMGgxMFY4SDd2MnptMCA0aDZ2LTJIN3YyelwiLz48L3N2Zz4nO1xyXG5cclxuXHRcdGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uUmVjb3JkcyA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCB0ID0gbXV0YXRpb25SZWNvcmRzWzBdLnRhcmdldCxcclxuXHRcdFx0XHQgIHJlY3QgPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2cocmVjdC5sZWZ0ID4gd2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0KTtcclxuLypcclxuXHRcdFx0aWYodC5vcGVuKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGlubmVyID0gdC5xdWVyeVNlbGVjdG9yKCcuYXNrX19pbm5lcicpO1xyXG5cclxuXHRcdFx0XHRpZihyZWN0LmxlZnQgPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHJlY3QucmlnaHQpIHtcclxuXHJcblx0XHRcdFx0XHQvLyDQv9GA0LDQstC10LVcclxuXHJcblx0XHRcdFx0XHRpbm5lci5zdHlsZS5sZWZ0ID0gJ2F1dG8nO1xyXG5cdFx0XHRcdFx0aW5uZXIuc3R5bGUucmlnaHQgPSAwO1xyXG5cdFx0XHRcdFx0aW5uZXIuc3R5bGUud2lkdGggPSByZWN0LmxlZnQgKyAncHgnO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8g0LvQtdCy0LXQtVxyXG5cclxuXHRcdFx0XHRcdGlubmVyLnN0eWxlLnJpZ2h0ID0gJ2F1dG8nO1xyXG5cdFx0XHRcdFx0aW5uZXIuc3R5bGUubGVmdCA9IDA7XHJcblx0XHRcdFx0XHRpbm5lci5zdHlsZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCArICdweCc7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcbiovXHRcdH0pO1xyXG5cclxuXHRcdEFycmF5LmZyb20odG9vbHRpcHMsIHRvb2x0aXAgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgYnRuID0gdG9vbHRpcC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcC1oZWxwX19idG4nKTtcclxuXHJcblx0XHRcdGlmKHRvb2x0aXAuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b29sdGlwLWhlbHAtLWNoYXQnKSkge1xyXG5cclxuXHRcdFx0XHRidG4uYXBwZW5kQ2hpbGQoaWNvQ2hhdC5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHJcblx0XHRcdFx0YnRuLmFwcGVuZENoaWxkKGljby5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwLCB7XHJcblxyXG5cdFx0XHRcdGF0dHJpYnV0ZXMgOiB0cnVlXHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcudG9vbHRpcC1oZWxwJyk7XHJcblxyXG5cdFx0XHRBcnJheS5mcm9tKHRvb2x0aXBzLCB0b29sdGlwID0+IHtcclxuXHJcblx0XHRcdFx0aWYodGFyZ2V0ICE9PSB0b29sdGlwKSB7XHJcblxyXG5cdFx0XHRcdFx0dG9vbHRpcC5vcGVuID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcC1oZWxwJykpOyJdfQ==
